//>>built
require({cache:{"Sage/TaskPane/_BaseTaskPaneTasklet":function(){define("Sage/TaskPane/_BaseTaskPaneTasklet",["Sage/UI/Dialogs","dojo/i18n!./nls/_BaseTaskPaneTasklet","dojo/_base/declare"],function(_1,_2,_3){var _4=_3("Sage.TaskPane._BaseTaskPaneTasklet",null,{currentEntityId:"",currentEntityTableName:"",currentEntityType:"",contextService:null,selectedRecordActionCallback:"",selectionContainer:"_hfSelections",constructor:function(_5){dojo.mixin(this,_5);dojo.mixin(this,_2);},getSelectionInfo:function(){try{var _6=Sage.Utility.getSelectionInfo();if(!_6){this.getCurrentEntity();if(this.currentEntityId){_6={};_6.key=this.currentEntityId;_6.mode="selection";_6.ranges=[];_6.recordCount=1;_6.selectedIds=[];_6.selectedIds.push(this.currentEntityId);_6.selectionCount=1;_6.selections=[];var _7={};_7.id=this.currentEntityId;_7.rn=0;_6.selections.push(_7);}}return _6;}catch(e){_1.alert(this.errorNoData);return null;}},prepareSelectedRecords:function(_8){this.selectedRecordActionCallback=_8;var _9=this;try{this.selectionInfo=this.getSelectionInfo();}catch(e){_1.showInfo(this.errorNoData);}if(this.selectionInfo.selectionCount===0&&this.selectionInfo.recordCount>0){var _a=dojo.string.substitute(this.noRecordsSelectedProcessAll,[this.selectionInfo.recordCount]);_1.raiseQueryDialog(this.salesLogixPageTitle,_a,function(_b){_9.storeAllSelectionsOrCancel(_b,_9.selectionInfo);},this.yesButtonText,this.noButtonText);}else{if(this.selectionInfo.recordCount>0){this.saveSelections(this.selectedRecordActionCallback,this.selectionInfo);}else{_1.showInfo(this.errorNoData);}}},storeAllSelectionsOrCancel:function(_c,_d){if(_c){_d.mode="selectAll";this.saveSelections(this.selectedRecordActionCallback,_d);}else{var _e=dojo.byId([this.clientId,this.selectionContainer].join(""));if(_e){_e.value="cancel";}}},saveSelections:function(_f,_10){if(_10!==null){var svc=Sage.Services.getService("SelectionContextService");svc.setSelectionContext(_10.key,_10,_f);var _11=dojo.byId([this.clientId,this.selectionContainer].join(""));if(_11){_11.value=_10.key;}}},verifySelection:function(_12){if(_12!==null){return (_12.selectionCount!==0);}return false;},verifySingleSelection:function(_13){if(_13!==null){return (_13.selectionCount===1);}return false;},getCurrentEntity:function(){if(Sage.Services.hasService("ClientEntityContext")){this.contextService=Sage.Services.getService("ClientEntityContext");this.context=this.contextService.getContext();this.currentEntityId=this.context.EntityId;this.currentEntityType=this.context.EntityType;this.currentEntityTableName=this.context.EntityTableName;}},setSelectionCount:function(){try{var _14=dijit.byId("list");if(_14){dojo.byId("selectionCount").text(_14.getTotalSelectionCount());}}catch(e){}},getSelectionCount:function(){return Sage.Services.getService("ClientGroupContext").getContext().CurrentGroupCount;},getCurrentGroupId:function(){var _15=Sage.Services.getService("ClientGroupContext");if(_15){var _16=_15.getContext();return _16.CurrentGroupID;}return "";},getCurrentGroupName:function(){var _17=Sage.Services.getService("ClientGroupContext");if(_17){var _18=_17.getContext();return _18.CurrentDisplayName;}return "";}});return _4;});},"Sage/UI/Columns/OwnerType":function(){define("Sage/UI/Columns/OwnerType",["dojo/i18n","dojo/i18n!../nls/OwnerType","dojo/_base/declare"],function(_19,_1a,_1b){var _1c=_1b("Sage.UI.Columns.OwnerType",dojox.grid.cells._Base,{constructor:function(){var _1d=_19.getLocalization("Sage.UI","OwnerType");dojo.mixin(this,_1d);this.inherited(arguments);},formatter:function(val,_1e){var _1f={"G":this.teamText,"D":this.departmentText,"S":this.systemText,"U":this.userText};return _1f[val]?Sage.Utility.htmlEncode(_1f[val]):val;},styles:"text-align: right;"});return _1c;});},"url:Sage/UI/templates/EditCalendarUsers.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\"  data-dojo-attach-point=\"dialogNode\" >\r\n        <div class=\"filter-items-search\" style=\"border-bottom: 1px solid #cccccc;\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>     \r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\" style=\"height:238px;\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>","Sage/Utility/File/nls/FallbackFilePicker":function(){define("Sage/Utility/File/nls/FallbackFilePicker",["Sage/LanguageList","dojo/_base/lang"],function(_20,_21){var nls={root:{addLibraryFileText:"Add Library File",attachFileText:"Attach File",descriptionText:"Description",uploadFileText:"Attachment",okText:"OK",cancelText:"Cancel",invalidContext:"The file(s) cannot be uploaded outside of the Sales Library.",fileTooLargeError:"The file upload attempt was aborted because the file was too large.",pleaseSelectFile:"Please select a file first.",slxErrorIdInfo:"Saleslogix Error Id: "}};return _21.mixin(_20,nls);});},"Sage/UI/nls/Boolean":function(){define("Sage/UI/nls/Boolean",["Sage/LanguageList","dojo/_base/lang"],function(_22,_23){var nls={root:{yesText:"Yes",noText:"No"}};return _23.mixin(_22,nls);});},"Sage/Utility/Dashboard":function(){define("Sage/Utility/Dashboard",["dojo/i18n","dojox/grid/DataGrid","Sage/Groups/GroupManager","Sage/UI/Dialogs","dojo/data/ItemFileReadStore","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Dashboard","dojo/i18n!../UI/Dashboard/nls/WidgetDefinition","dojo/i18n!dijit/nls/common"],function(_24,_25,_26,_27,_28,_29,_2a,_2b,_2c){Sage.namespace("Utility.Dashboard");dojo.mixin(Sage.Utility.Dashboard,{promoteGroupToDashboard:function(){var _2d="<Widget name=\"Group List\" family=\"System\"><options><name>Group List</name><title>{0}</title><entity>{1}</entity><resource>{7}</resource><groupname>{2}</groupname><limit>{3}</limit><visiblerows>{6}</visiblerows><datasource>slxdata.ashx/slx/crm/-/analytics?entity=Sage.Entity.Interfaces.I{4}&amp;groupname={5}</datasource></options></Widget>";var _2e=new Simplate(["<div>","<div\">{%= $.headerText %}</div>","<div id=\"{%= $.id %}-grid\" style=\"width:auto;height:150px;\"></div>","<div align=\"right\"><button data-dojo-type=\"dijit.form.Button\" type=\"submit\" class=\"okButton\" ","style=\"margin-top:5px;\" data-dojo-props=\"onClick:function(){dijit.byId('promoteDialog').promote();}\"",">{%= $.okText %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" class=\"cancelButton\" ","style=\"margin-top:5px; margin-left:10px;\" data-dojo-props=\"onClick:function(){dijit.byId('promoteDialog').hide();}\"",">{%= $.cancelText %}</button></div>","</div> "]);var _2f=null;if(dijit.byId("promoteDialog")){_2f=dijit.byId("promoteDialog");}else{_2f=new dijit.Dialog({id:"promoteDialog",title:window.MasterPageLinks.PromoteTitle,promote:function(a,b,c){var cgi=_26.GetCurrentGroupInfo();var _30=dijit.byId("promoteDialog-grid");var _31=_30.selection.getSelected();if(_31.length===0){_27.showInfo(window.MasterPageLinks.PromotePageNoneSelected,window.MasterPageLinks.PromoteTitle);return;}else{var _32=[],_33=_31[0].Name,_34=dijit.byId(cgi.Id);if(_2b.My_Dashboard==_31[0].Name){_33="My Dashboard";}else{if(_2b.Sales==_31[0].Name){_33="Sales";}}var _35=String.format(_2d,_34?_34.title:cgi.Name,"Sage.Entity.Interfaces.I"+cgi.Entity,cgi.Name,10,$("<div/>").text(cgi.Entity).html(),$("<div/>").text(cgi.Name).html(),10,cgi.Entity);dojo.xhrPost({url:String.format("slxdata.ashx/slx/crm/-/dashboard/page?action=addwidget&name={0}&family={1}",encodeURIComponent(_33),encodeURIComponent(_31[0].Family)),headers:{"Content-Type":"application/json"},postData:_35,error:function(_36,_37,_38){_27.showInfo(window.MasterPageLinks.Warning,_36.responseText);},load:function(_39,_3a){_27.showInfo(String.format(window.MasterPageLinks.PromotionNotification,_31[0].Name,_34?_34.title:cgi.Name));if(typeof window.callback==="function"){window.callback(_39,_3a);}}});}this.destroyRecursive();}});dojo.mixin(_2f,new _29());_2f.createHelpIconByTopic("PromoteGroup");}var _3b=null;_3b=new _25({id:"promoteDialog-grid",structure:[{field:"Name",name:_2a.pageText,width:"200px"}],selectionMode:"single",height:"100px"},document.createElement("div"));var _3c=function(){dojo.disconnect(_3d);setTimeout((function(_3e){return function(){_3e.destroyDescendants();_3e.destroy(false);};})(_2f),1);};var _3d=dojo.connect(_2f,"hide",this,_3c);dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/dashboard/page",cache:false,preventCache:true,handleAs:"json",load:function(_3f,xhr){var _40={items:_3f};var _41=new _28({data:_40});_2f.set("content",_2e.apply({id:_2f.id,okText:_2c.buttonOk,cancelText:_2c.buttonCancel,headerText:window.MasterPageLinks.PromoteDescription}));_2f.show();dojo.place(_3b.domNode,"promoteDialog-grid","replace");_3b.setStore(_41);},error:function(e){alert(window.MasterPageLinks.Warning+e.responseText);if(console.log){}}});}});return Sage.Utility.Dashboard;});},"Sage/Services/nls/ActivityService":function(){define("Sage/Services/nls/ActivityService",["Sage/LanguageList","dojo/_base/lang"],function(_42,_43){var nls={root:{txtErrorActionMsg:"I'm sorry, the action was not successful an error occurred.",txtActivity:"activity",txtActivities:"activities",txtActionDeleteActivites:"Delete Activities",txtActionDeleteActivitiesQuestion:"Only activities that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?",txtAlarm:"alarm",txtAlarms:"alarms",txtActionSnoozeAlarm:"Snooze Alarm",txtActionSnoozeQuestion:"Are you sure you want to snooze the {0} selected {1} for {2} ?",txtActionSnoozeAllQuestion:"Are you sure you want to snooze all {0} for {1} ?",txtActionDismissAlarms:"Dismiss Alarms",txtActionDismissAlarmsQuestion:"Are you sure you want to dismiss the {0} selected {1}?",txtEvent:"event",txtEvents:"events",txtActionDeleteEvents:"Delete Events",txtActionDeleteEventsQuestion:"Only events that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?",txtConfirmation:"confirmation",txtConfirmations:"confirmations",txtActionAcceptConfirmations:"Accept Confirmations",txtActionAcceptConfirmQuestion:"Are you sure you want to accept the {0} selected {1}? This action can only be performed on New or Chnaged confirmations. All others will be ignored.",txtDeclineConfirmations:"Decline Confirmations",txtActionDeclineConfrimQuestion:"Are you sure you want to decline the {0} selected {1}? This action can only be performed on New or Chnaged confirmations. All others will be ignored.",txtActionRemoveConfirmations:"Delete Confirmations",txtActionRemoveConfirmationsQuestion:"Are you sure you want to delete the {0} selected {1}? This action can only be performed on Leader, Declined or Deleted confirmations. All others will be ignored.",txtLiteratureRequest:"literature request",txtLiteratureRequests:"literature requests",txtActionDeleteLiteratureRequests:"Delete Literature Requests",txtActionDeleteLiteratureRequestsQuestion:"Only literature request that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?"}};return _43.mixin(_42,nls);});},"Sage/UI/Controls/nls/CopyToClipboard":function(){define("Sage/UI/Controls/nls/CopyToClipboard",["Sage/LanguageList","dojo/_base/lang"],function(_44,_45){var nls={root:{closeText:"Close",dialogTitle:"Copy Text To Clipboard",helpText:"Select desired text and press Control-C (Command-C on Mac) to copy to your clipboard.",textTab:"Text",sourceTab:"Source"}};return _45.mixin(_44,nls);});},"Sage/UI/Dashboard/WidgetDefinition":function(){define("Sage/UI/Dashboard/WidgetDefinition",["Sage/UI/widgetEditorLookup","Sage/UI/EditorContainer","dijit/form/ValidationTextBox","dijit/form/NumberTextBox","dijit/form/FilteringSelect","dojo/data/ItemFileReadStore","dojo/data/ItemFileWriteStore","dojox/grid/DataGrid","dojo/i18n","dojo/i18n!./nls/WidgetDefinition"],function(_46,_47,_48,_49,_4a,_4b,_4c,_4d,_4e){return function(def,_4f){if(!def.type){def.type="BaseWidget";}require(["Sage/UI/Dashboard/"+def.type],function(T){_4f(new T(def));});};});},"url:Sage/UI/Controls/templates/DropDownSelectPickList.html":"<div>\r\n    <select id=\"${id}-Select\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" value=\"${value}\" dojoAttachEvent=\"onBlur: _onBlur,onChange:_onChange\">\r\n    </select>\r\n</div>\r\n","Sage/Services/ReportingService":function(){define("Sage/Services/ReportingService",["dojo/_base/declare","dojo/string","dojo/i18n!./nls/ReportingService","Sage/Utility/Jobs","Sage/Reporting/Enumerations","dojo/json","dojo/_base/array","Sage/MainView/ReportMgr/ReportWizardController","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/UI/Dialogs"],function(_50,_51,_52,_53,_54,_55,_56,_57,_58,_59){var _5a=_50("Sage.Services.ReportingService",null,{startWizard:function(_5b){_57.startWizard(_5b);},runReport:function(_5c){_5c.key=this._getJobId(_5c.reportType);_53.triggerJobAndDisplayProgressDialog(_5c);},scheduleReport:function(_5d){_5d.key=this._getJobId(_5d.reportType);var _5e=Sage.Services.getService("JobService");_5e.scheduleJob(_5d);},getSchedule:function(_5f){var _60=Sage.Services.getService("JobService");_60.getTrigger(_5f);},updateSchedule:function(_61){var _62=Sage.Services.getService("JobService");_62.updateTrigger(_61);},getReportMetadata:function(_63){if(!_63||typeof _63.reportId!=="string"){console.error("getReportMetadata: Missing parameters");return;}var _64,_65,_66,_67;if(_63.reportId.indexOf(":")!==-1){_64=_63.reportId.split(":")[0];_66=_63.reportId.split(":")[1];}else{_65=_63.reportId;}var _68=Sage.Data.SDataServiceRegistry.getSDataService("system");if(_64&&_66){_67=new Sage.SData.Client.SDataResourceCollectionRequest(_68);_67.setResourceKind("reports");_67.setQueryArg("where","family eq '"+_64+"' and name eq '"+_66+"'");_67.setQueryArg("count","1");_67.read({success:function(_69){if(_69&&_69.$resources&&_69.$resources.length===1){if(_63.success){_63.success(_69.$resources[0]);}}},failure:function(xhr){var _6a="ReportingService.getReportMetadata: "+_51.substitute(_52.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_6a);if(_63.failure){_63.failure(xhr);}}});return;}else{_67=new Sage.SData.Client.SDataSingleResourceRequest(_68);_67.setResourceKind("reports");_67.setResourceSelector("'"+_65+"'");_67.read({success:function(_6b){if(_63.success){_63.success(_6b);}},failure:function(xhr){var _6c="ReportingService.getReport: "+_51.substitute(_52.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_6c);if(_63.failure){_63.failure(xhr);}}});}},_getJobId:function(_6d){switch(_6d){case _54.ReportTypes.CrystalReport:return "Saleslogix.Reporting.Jobs.CrystalReportsJob";default:throw _51.substitute(_52.txtUnsupportedReportType,[_6d]);}},defaultDetailReports:null,defaultReport:null,reportJob:null,showReport:function(_6e,_6f,_70){if(!this.isValidString(_6e)){_59.showError(this.getDisplayError(_52.invalidReportPluginError));return;}if(!this.isValidString(_6f)){_59.showError(this.getDisplayError(_52.invalidTableNameError));return;}if(!this.isValidString(_70)&&!(_70 instanceof Array)){_59.showError(this.getDisplayError(_52.invalidEntityError));return;}this.showReportViewer(_6e,_6f,_70);},showDefaultReport:function(){var _71=this.getCurrentReport();if(this.isValidString(_71)){var _72=_58.getCurrentEntityCondition();var _73={reportId:_71,reportOptions:{wizardOptions:{hiddenSteps:[_54.CrystalReportWizardStep.Conditions,_54.CrystalReportWizardStep.ExportOptions]},scheduleOptions:{executionType:_54.ExecutionType.OnDemand},exportOptions:{outputFormat:_54.ReportExportFormat.Pdf},conditionOptions:{conditions:[_72],conditionsConnector:_54.ReportConditionConnector.And}}};this.startWizard(_73);}else{_59.showError(this.getDisplayError(_52.noDefaultReportError));}},showReportById:function(_74){this.showReportViewerInContext(_74);},showReportByName:function(_75){this.showReportViewerInContext(_75);},showReportViewerInContext:function(_76){if(!this.isValidString(_76)){_59.showError(this.getDisplayError(_52.invalidReportPluginError));return;}var _77=this.getCurrentContext();if(typeof console!=="undefined"){}this.showReportViewer(_76,_77.tablename,_77.entityid);},showReportViewer:function(_78,_79,_7a){if(!this.isValidString(_78)){_59.showError(this.getDisplayError(_52.invalidReportPluginError));return;}if(!this.isValidString(_79)){_59.showError(this.getDisplayError(_52.invalidTableNameError));return;}if(!this.isValidString(_7a)&&!(_7a instanceof Array)){_59.showError(this.getDisplayError(_52.invalidEntityError));return;}this.setReportJob(_78,_79,_7a);this._showReport();},setReportJob:function(_7b,_7c,_7d){if(typeof _7b!=="string"){console.error("setReportJob: Invalid parameter 'reportId'.");return;}if(typeof _7c!=="string"){console.error("setReportJob: Invalid parameter 'tableName'.");return;}if((typeof _7d!=="string")&&!(_7d instanceof Array)){console.error("setReportJob: Invalid parameter 'entityIds'.");return;}var _7e=this._getRecordSelectionFormula(_7c,_7d);this.reportJob=this.newReportJob();this.reportJob.pluginid=_7b;this.reportJob.rsf=_7e;},_getRecordSelectionFormula:function(_7f,_80){if(this.isValidString(_80)){if(_80.indexOf(",")!==-1){_80=_80.split(",");}else{_80=[_80];}}if(_80.length===0){console.error("showReport: At least one entity id must be passed as argument.");return;}if(typeof _7f!=="string"){console.error("_getRecordSelectionFormula: Invalid parameter 'tableName'.");return;}if(!(_80 instanceof Array)){console.error("_getRecordSelectionFormula: Invalid parameter 'entityIds'.");return;}var _81=_7f.toUpperCase()+"."+_7f.toUpperCase()+"ID";var _82;if(_80.length===1){_82="({"+_81+"} = \""+_80[0]+"\")";}else{var _83=[];_56.forEach(_80,function(_84,i){_84="\""+_84+"\"";_83.push(_84);});_82="({"+_81+"} in ["+_83.join(",")+"])";}return _82;},newReportJob:function(){var _85={pluginid:"",rsf:"",sortdirections:"",sortfields:""};return _85;},showReportEx:function(_86){this.reportJob=_86;this._showReport();},_showReport:function(){var _87=this.getReportId(this.reportJob.pluginid);var _88={reportId:_87,reportOptions:{wizardOptions:{hiddenSteps:[_54.CrystalReportWizardStep.Conditions,_54.CrystalReportWizardStep.ExportOptions]},scheduleOptions:{executionType:_54.ExecutionType.OnDemand},exportOptions:{outputFormat:_54.ReportExportFormat.Pdf},conditionOptions:{conditionsConnector:_54.ReportConditionConnector.And,recordSelectionFormula:this.reportJob.rsf}}};this.startWizard(_88);},getCurrentReport:function(){var _89=this.getCurrentContext();if(_89.tablename===""||_89.entityid===""){return null;}switch(_89.tablename){case "ACCOUNT":return this.getAccountReport();case "CONTACT":return this.getContactReport();case "OPPORTUNITY":return this.getOpportunityReport();case "DEFECT":return this.getDefectReport();case "SALESORDER":return this.getSalesOrderReport();case "TICKET":return this.getTicketReport();default:return this.getDefaultReport();}},getDefaultReport:function(){return this.defaultReport;},setDefaultReport:function(_8a){this.defaultReport=_8a;},getReport:function(_8b){this._initReports();var _8c=null;if(this.isValidString(_8b)&&dojo.isObject(this.defaultDetailReports)){dojo.some(this.defaultDetailReports,function(_8d){if(_8d.maintable.toUpperCase()==_8b.toUpperCase()){var _8e=_51.substitute("${0}:${1}",[_8d.family,_8d.name]);_8c=_8e;return true;}else{return false;}});}return _8c;},setReport:function(_8f,_90){var _91=this.parseReport(_8f);if(_91!==null){var _92=_90||_91.family.toUpperCase();this.setReportEx(_92,_91.family,_91.name);}},setReportEx:function(_93,_94,_95){this._initReports();if(this.isValidString(_93)&&this.isValidString(_94)&&this.isValidString(_95)&&dojo.isObject(this.defaultDetailReports)){var _96=dojo.some(this.defaultDetailReports,function(_97){if(_97.maintable.toUpperCase()==_93.toUpperCase()){_97.family=_94;_97.name=_95;return true;}else{return false;}});if(!_96){var _98={"maintable":_93,"family":_94,"name":_95};this.defaultDetailReports.push(_98);}}},getAccountReport:function(){return this.getReport("ACCOUNT");},setAccountReport:function(_99){this.setReport(_99,"ACCOUNT");},getContactReport:function(){return this.getReport("CONTACT");},setContactReport:function(_9a){this.setReport(_9a,"CONTACT");},getOpportunityReport:function(){return this.getReport("OPPORTUNITY");},setOpportunityReport:function(_9b){this.setReport(_9b,"OPPORTUNITY");},getDefectReport:function(){return this.getReport("DEFECT");},setDefectReport:function(_9c){this.setReport(_9c,"DEFECT");},getSalesOrderReport:function(){return this.getReport("SALESORDER");},setSalesOrderReport:function(_9d){this.setReport(_9d,"SALESORDER");},getTicketReport:function(){return this.getReport("TICKET");},setTicketReport:function(_9e){this.setReport(_9e,"TICKET");},saveDefaultReports:function(_9f,_a0){if(dojo.isObject(this.defaultDetailReports)){var _a1=Sage.Services.getService("UserOptions");if(_a1){var _a2=function(_a3){if(typeof _9f==="function"){_9f(_a3);}};var _a4=function(_a5){if(typeof console!=="undefined"){console.error("saveDefaultReports: %o",_a5);}if(typeof _a0==="function"){_a0(_a5);}};var _a6={"defaultDetailReports":this.defaultDetailReports};var _a7=dojo.toJson(_a6);if(typeof console!=="undefined"){}_a1.set("DefaultDetailReports","Reporting",_a7,_a2,_a4);}}},getReportId:function(_a8){var _a9=null;if(this.isValidString(_a8)){if(_a8.indexOf(":")!=-1){dojo.xhrGet({url:"SLXReportsHelper.ashx?method=GetReportId&report="+encodeURIComponent(_a8),handleAs:"text",preventCache:true,sync:true,load:function(_aa,_ab){_a9=_aa;},error:function(_ac,_ad){if(typeof console!=="undefined"){console.error(_ad);}}});}else{if(_a8.length==12){_a9=_a8;}}}return _a9;},getCurrentContext:function(){var _ae={"tablename":"","entityid":""};if(Sage.Services.hasService("ClientEntityContext")){var _af=Sage.Services.getService("ClientEntityContext");if(!_af){return _ae;}var _b0=_af.getContext();if(!_b0||typeof _b0.EntityTableName==="undefined"){return _ae;}_ae.tablename=_b0.EntityTableName.toUpperCase();_ae.entityid=_b0.EntityId;}return _ae;},parseReport:function(_b1){if(this.isValidString(_b1)){var _b2=_b1.split(":");if(dojo.isArray(_b2)&&_b2.length==2){return {"family":_b2[0],"name":_b2[1]};}}return null;},isValidString:function(s){return (s&&(typeof s==="string"));},_initReports:function(){if(this.defaultDetailReports===null){var _b3=this;dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/useroptions/Reporting/DefaultDetailReports",handleAs:"json",preventCache:true,sync:true,load:function(_b4,_b5){if(dojo.isObject(_b4)&&typeof _b4.optionValue!=="undefined"&&_b4.optionValue!==""){var obj=dojo.fromJson(_b4.optionValue);if(obj&&typeof obj.defaultDetailReports!=="undefined"&&dojo.isArray(obj.defaultDetailReports)){dojo.mixin(_b3,obj);}}},error:function(_b6,_b7){if(typeof console!=="undefined"){console.error(_b7);}}});}if(this.defaultDetailReports===null){this.defaultDetailReports=[{"maintable":"ACCOUNT","family":"Account","name":"Account Detail"},{"maintable":"CONTACT","family":"Contact","name":"Contact Detail"},{"maintable":"OPPORTUNITY","family":"Opportunity","name":"Opportunity Detail"},{"maintable":"DEFECT","family":"Defect","name":"Support Defect"},{"maintable":"TICKET","family":"Ticket","name":"Support Ticket"},{"maintable":"SALESORDER","family":"Sales Order","name":"Sales Order Detail"}];}},getDisplayError:function(msg){return _51.substitute("${0} ${1}",[_52.reportCannotBeShownError,msg]);}});if(!Sage.Services.hasService("ReportingService")){Sage.Services.addService("ReportingService",new Sage.Services.ReportingService());}return _5a;});},"url:Sage/MainView/ReportMgr/Crystal/templates/StringParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div dojoattachpoint=\"divSingleValue\" style=\"padding-top: 5px;\">\r\n            <select data-dojo-type=\"dijit.form.Select\" dojoattachpoint=\"cmbValues\" style=\"width: 150px\">\r\n            </select>                    \r\n        </div>\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px;\">\r\n            <label>{%: $._nlsResources.lblEnterValue_Caption %}</label><br />\r\n            <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" />            \r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","url:Sage/MainView/ActivityMgr/templates/HistoryEditor.html":"\r\n[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"historyDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<select label=\"{%= $.regardingText %}\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_pk_Regarding\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                '<div dojoType=\"Sage.UI.Controls.TextBox\" shouldPublishMarkDirty=\"false\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_CompletetdDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedDateText %}\"></div>',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                 '<div dojoType=\"Sage.UI.Controls.DurationSelect\" shouldPublishMarkDirty=\"false\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    \r\n                '</div>',\r\n            '</div>', //second tablecontainer 2 col\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditHistory\"  dojoAttachPoint=\"tc_EditHistory\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"result_Section\" class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.resultText %}\" id=\"{%= $.id %}_tb_Result\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',                       \r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\"  class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"  style=\"width: {%= 472 - $.labelWidth %}px;\" ></select>', \r\n                         '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                         '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',                          \r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\"  class=\"valigntop\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\" ></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n\r\n              /* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%;\" ></div>',\r\n                '</div>',  //end attachments tab\r\n            '</div>', //end tab container\r\n            '<table class=\"button-bar\">',\r\n                '<col width=\"50%\" /><col width=\"50%\" />',\r\n                 '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        //followUp section\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"followUp_Section\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"{%= $.id %}_followUpSelect\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"atPhoneCall\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"atAppointment\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"atToDo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',//end followUp section                         \r\n                    '</td>',\r\n                    '<td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnDelete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                   '<td class=\"alignleft\">',\r\n                      '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                   '</td>',                 \r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n","Sage/UI/SDataLookup":function(){define("Sage/UI/SDataLookup",["dojo/_base/html","dojox/grid/DataGrid","dijit/Dialog","dijit/form/Button","Sage/UI/ComboBox","Sage/Data/BaseSDataStore","Sage/UI/ConditionManager","Sage/Utility","Sage/_Templated","Sage/UI/Columns/DateTime","Sage/UI/Columns/Phone","Sage/UI/Columns/PickList","dijit/_Widget","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/i18n!./nls/SDataLookup","dojo/_base/declare"],function(_b8,_b9,_ba,_bb,_bc,_bd,_be,_bf,_c0,_c1,_c2,_c3,_c4,_c5,_c6,_c7,_c8){(function(){if(!_bf){Sage.namespace("Utility");}_bf.addToListUnique=function(_c9,_ca){for(var i=0;i<_ca.length;i++){if(_c9===_ca[i]){return;}}_ca.push(_c9);};_bf.SDataLookupChildObjectFormatter=function(_cb){var _cc=_cb.grid.grid._by_idx[_cb.rowIdx].item,res,i;if(!_cc||!_cc[_cb.childentity]||_cc[_cb.childentity].$resources.length===0){return dojo.string.substitute("<div style=\"text-indent:16px\">${0}</div>",[_cb.value||"&nbsp;"]);}_cb.value=_cb.value||"&nbsp;";res=[];if(_cb.includeButton){res.push(dojo.string.substitute(["<input type=button id=\"SOPshow${1}\" style=\"height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:''});dojo.query('#SOPshow${1}').style({display:'none'});dojo.query('#SOPhide${1}').style({display:''})\" value=\"+\">","<input type=button id=\"SOPhide${1}\" style=\"display:none;height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:'none'});dojo.query('#SOPshow${1}').style({display:''});dojo.query('#SOPhide${1}').style({display:'none'})\" value=\"-\"> "].join(""),[_cb.value,_cb.rowIdx]));}res.push(dojo.string.substitute("${0}<div class=SOProw${1} style=\"display:none\">",[_cb.value,_cb.rowIdx]));for(i=0;i<_cc[_cb.childentity].$resources.length;i++){res.push(dojo.string.substitute("<div style=\"text-indent:2em\">${0}</div>",[_cc[_cb.childentity].$resources[i][_cb.fieldName]||"&nbsp;"]));}res.push("</div>");return res.join("");};}());var _cd=_c8("Sage.UI.SDataLookup",[_c4,_c0],{config:null,grid:null,sdataStore:null,conditionMgr:null,structure:null,displayMode:5,lookupDialog:null,dialogTitle:"",dialogWidth:675,dialogHeight:500,seedOnRowEntity:false,seedOnRelatedEntity:"",seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,preFilters:null,initializeLookup:true,rowEntityId:"",relatedEntityId:"",returnObject:true,addEmptyListItem:false,fields:null,query:null,callerId:null,widgetsInTemplate:true,storeOptions:null,gridOptions:null,sortColumn:"",displayModes:{"DropDownList":0,"Dialog":1,"HyperText":2,"Text":3,"ButtonOnly":4,"ButtonOnlyClient":5},btnIcon:"images/icons/plus_16x16.gif",isModal:false,cancelText:"Cancel",closeText:"Close",loadingText:"Loading...",noDataText:"No records returned",_initialized:false,_addCondHandle:null,_removeCondHandle:null,_originalQueryConditions:"",id:"lookupControl",dialogContent:new Simplate(["<div >","<div style=\"padding:5px;\" id=\"{%= $.id %}-Condition-container\"></div>","<div id=\"{%= $.id %}-Grid-container\" style=\"width:auto;height:{%= $.gridHeight %}px;\"></div>","<div class=\"lookupButtonWrapper\">","{% if($.dialogButtonText){ %}","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-GridSelectButton\" ","onClick=\"dijit.byId('{%= $.id %}').getGridSelections(); \">","{%= $.dialogButtonText %} </button>","{% } %}","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-CloseButton\" ","onClick=\"dijit.byId('{%= $.id %}-Dialog').hide();\">{%= $.hideText %}</button>","</div>","</div> "]),constructor:function(){this.gridOptions={};this.storeOptions={pagesize:15,include:[],select:["Id"],orderby:""};this.preFilters=[];this.query={};this.config={};this.fields=[];this.structure=[];this.grid=[];this.sdataStore=[];},postMixInProperties:function(){var _ce,i,_cf,_d0;this._initialized=false;_c6.mixin(this,dojo.i18n.getLocalization("Sage.UI","SDataLookup"));if(typeof this.displayMode==="string"){this.displayMode=this.displayModes[this.displayMode];}if(this.structure&&this.structure[0]&&this.structure[0].cells){_ce=this.structure[0].cells;for(i=0;i<_ce.length;i++){if(_ce[i]&&_ce[i].type&&(typeof _ce[i].type==="string")){switch(_ce[i].type){case "Sage.UI.Columns.DateTime":_ce[i].type=_c1;break;case "Sage.UI.Columns.Phone":_ce[i].type=_c2;break;case "Sage.UI.Columns.PickList":_ce[i].type=_c3;break;default:delete _ce[i].type;break;}}}}_cf={pagesize:15,include:[],orderby:"",select:["Id"]};if(this.displayMode===0){this.initSDataStore();this.buildSDataStoreQueryConditions();}else{if(typeof this.gridOptions.contextualCondition==="function"){this.query={fn:this.gridOptions.contextualCondition,scope:this};}else{if(typeof this.gridOptions.contextualCondition==="object"){if(this.gridOptions.contextualCondition.fn){this.ensureValue(this.gridOptions.contextualCondition,"scope",this);this.query=this.gridOptions.contextualCondition;}}}this.buildSDataStoreQueryForSeeding();}_d0={rowsPerPage:15,loadingMessage:this.loadingText,noDataMessage:this.noDataText,query:this.query};this._originalQueryConditions=this.query.conditions;this.storeOptions=_bf.extend(true,_cf,this.storeOptions);this.gridOptions=_bf.extend(false,_d0,this.gridOptions);this.widgetTemplate=new Simplate(this.setTemplate(this.displayMode));},setTemplate:function(_d1){var _d2=["<div id=\"{%= $.id %}\" style=\"width:inherit;\" > ","<select style=\"width:inherit;\"  id=\"{%= $.id %}_select\" searchAttr=\"{%= $.field %}\" labelAttr=\"{%= $.field %}\" "," dojoAttachPoint=\"focusNode\" autoComplete=\"true\" required=\"{%= $.required %}\" data-dojo-type=\"Sage.UI.ComboBox\" value=\"{%= $.setSelectedValue() %}\" "," store=\"dijit.byId('{%= $.id %}').sdataStore\" name=\"{%= $.field %}\">","</select>","</div>"],_d3=["<img style=\"cursor: pointer; padding-right: 4px;\" "," onclick=\"dijit.byId('{%= $.id %}').showLookup();\" ","src=\"{%= $.btnIcon %}\" alt=\"{%= $.btnToolTip %}\" title=\"{%= $.btnToolTip %}\" >"];switch(_d1){case 0:return _d2;case 5:return _d3;default:return _d3;}},initDialog:function(){this.initConditionManager();this.initSDataStore();this._setQueryForLoad();this.initGrid(this.initializeLookup);},_setQueryForLoad:function(){var _d4=this.conditionMgr.getConditionsAsUrlWhereString(),_d5=this._originalQueryConditions,_d6="",_d7=[];_d7.push(_d4);_d7.push(_d5);_d7=dojo.filter(_d7,function(_d8,_d9,_da){return _d8&&_d8!=="";});_d6=_d7.join(" and ");if(_d6){this.gridOptions.query.conditions=_d6;}},_setQueryForSearch:function(){var _db=this.conditionMgr.getConditionsAsUrlWhereString(),_dc=this._originalQueryConditions,_dd="",_de=[];if(this.isSeeded()&&this.overrideSeedValueOnSearch===false){_de.push(_db);_de.push(_dc);}else{if(this.isSeeded()){_de.push(_db);}else{_de.push(_db);_de.push(_dc);}}_de=dojo.filter(_de,function(_df,_e0,_e1){return _df&&_df!=="";});_dd=_de.join(" and ");this.gridOptions.query.conditions=_dd;},doLookup:function(){this.grid.destroy(false);this._setQueryForSearch();this.initGrid(true);},setSelectedValue:function(){var _e2=(this.value!==null)?this.value:"",_e3,_e4,i;if(this.returnObject&&this.value!==null){_e3=this.field.split(".");_e4=this.value;for(i=0;i<_e3.length;i++){if(_e4){_e4=_e4[_e3[i]];}}_e2=_e4;}return _e2;},getGridSelections:function(){var _e5=this.grid.selection.getSelected();if(_e5.length<=0&&this.grid._by_idx.length===1){_e5.push(this.grid._by_idx[0].item);}if(_e5.length===0){return;}this.doSelected(_e5);this.grid.selection.deselectAll();},initConditionManager:function(){var _e6,_e7,_e8,_e9,_ea,_eb,_ec,i,_ed,_ee,_ef,_f0,_f1,_f2,op,_f3,_f4,_f5;if(this.conditionMgr){return;}_e6=function(_f6,_f7,_f8,_f9,_fa,_fb){var i;for(i=0;i<_fb.length;i++){if(_f6===_fb[i].fieldname){return;}}_fb.push({fieldName:_f6,displayName:_f7,propertyType:_f8,pickListName:_f9,pickListStorageMode:_fa});};_e7=this.structure[0];_e8=this.fields;for(i=0;i<_e7.cells.length;i++){if(_e7.cells[i].excludeFromFilters!==true){if(_e7.cells[i].field){_ed=_e7.cells[i];_e9=_ed.field;_eb=_ed.propertyType;_ea=_ed.displayField||_ed.name;_ec=_ed.pickListName;_f5=_ed.pickListStorageMode;_e6(_e9,_ea,_eb,_ec,_f5,_e8);}}}_ee={fields:_e8,fieldNameProperty:"fieldName",fieldDisplayNameProperty:"displayName",fieldTypeProperty:"propertyType",id:this.id+"-ConditionManager"};this.conditionMgr=new _be(_ee);_ef=this;this._addCondHandle=dojo.subscribe("onAddLookupCondition",_ef,function(mgr){this._increaseDialogHeight();});this._removeCondHandle=dojo.subscribe("onRemoveLookupCondition",_ef,function(mgr){this._decreaseDialogHeight();});if(this.preFilters.length>0){this.conditionMgr.setFirstConditionValue("","=","");}for(_f0=0;_f0<this.preFilters.length;_f0++){_f1=this.preFilters[_f0];_f2=_f1.propertyName.trim();op=_f1.conditionOperator.trim();_f3=_f1.filterValue.trim();_f4=_f1.visible;this.conditionMgr.addCondition(_f2,op,_f3,_f4);if(_f4){this._increaseDialogHeight();}}dojo.place(this.conditionMgr.domNode,dojo.byId(this.id+"-Condition-container"),"only");this._doSearchConnection=dojo.connect(this.conditionMgr,"onDoSearch",this,"doLookup");},_increaseDialogHeight:function(){if(this.dialogHeight){this.dialogHeight+=30;dojo.style([this.id,"-Dialog"].join(""),"height",this.dialogHeight+"px");}},_decreaseDialogHeight:function(){if(this.dialogHeight){this.dialogHeight-=30;dojo.style([this.id,"-Dialog"].join(""),"height",this.dialogHeight+"px");}},onDoubleClick:function(_fc){this.getGridSelections();if(this.lookupDialog){}},initGrid:function(_fd){var _fe=dijit.byId([this.id,"-Grid"].join(""));if(!_fe){this.gridOptions.store=this.sdataStore;this.gridOptions.structure=this.structure;this.gridOptions.id=[this.id,"-Grid"].join("");this.grid=new _b9(this.gridOptions);this.grid.canSort=function(_ff){var cols=this.structure[0];return cols.cells[Math.abs(_ff)-1].sortable;};dojo.connect(this.grid,"onDblClick",this,this.onDoubleClick);dojo.place(this.grid.domNode,[this.id,"-Grid-container"].join(""),"only");if(_fd){this.grid.startup();}else{this.grid.query.conditions="Id like '_hack_'";this.grid.startup();}}else{if(this.query.conditions!==_fe.query.conditions){_fe.destroy();this.initGrid(_fd);}else{this.grid=_fe;}}},resetGrid:function(){var _100=dijit.byId([this.id,"-Grid"].join(""));if(_100){_100.destroy();}},initSDataStore:function(){var cols=this.structure[0],sel=this.storeOptions.select||[],inc=this.storeOptions.include||[],_101,i,_102,_103,p;for(i=0;i<cols.cells.length;i++){if(cols.cells[i].field){_101=cols.cells[i].field;if(cols.cells[i].displayField){_101=_101+"."+cols.cells[i].displayField;}_bf.addToListUnique(_101.replace(/\./g,"/"),sel);if(cols.cells[i].field.indexOf(".")>0){_102=cols.cells[i].field.split(".");_103="";for(p=0;p<_102.length-1;p++){_103+=_102[p];_bf.addToListUnique(_103,inc);_103+="/";}}}}this.storeOptions.include=inc;this.storeOptions.select=sel;this.sdataStore=new _bd(this.storeOptions);},isSeeded:function(){var _104=(this.seedValue&&this.seedValue!==""&&this.seedProperty!=="");return _104;},buildSDataStoreQueryForSeeding:function(){var _105,_106,_107;if(this.isSeeded()){_106=dojo.string.substitute("${0} eq \"${1}\"",[this.seedProperty,this.seedValue]);_107=this.query.conditions;if(_107&&_107!==""){_105=_107+" and "+_106;}else{_105=_106;}this.sdataStore.query={conditions:_105};this.query.conditions=_105;}},buildSDataStoreQueryConditions:function(){var _108;if(this.seedOnRowEntity){this.sdataStore.directQuery=dojo.string.substitute("Id eq \"${0}\"",[this.rowEntityId]);}if(this.seedOnRelatedEntity!==""){this.sdataStore.directQuery={conditions:dojo.string.substitute(" ${0}.Id eq \"${1}\" ",[this.seedOnRelatedEntity,this.relatedEntityId])};}if(typeof this.gridOptions.contextualCondition==="function"){_108={fn:this.gridOptions.contextualCondition,scope:this};this.sdataStore.directQuery=_bf.extend(true,this.sdataStore.directQuery,_108);}},render:function(){dojo.place(this.domNode,this.renderTo);},canShowLookup:function(){if(typeof this.gridOptions.contextualShow==="function"){return this.gridOptions.contextualShow();}return {result:true,reason:""};},showLookup:function(){var _109="The lookup cannot be displayed because one or more conditions have not been met.",_10a=this.canShowLookup(),self=this,_10b,_10c,_10d="";if(typeof _10a!=="object"){Sage.UI.Dialogs.showError("The call to the function canShowLookup() returned an invalid result.");return;}if(typeof _10a.result==="boolean"&&_10a.result){_10b=(self.dialogHeight>0)?self.dialogHeight:450;_10c=(self.dialogWidth>0)?self.dialogWidth:700;self.lookupDialog=dijit.byId([self.id,"-Dialog"].join(""));if(!self.lookupDialog){self.lookupDialog=new _ba({title:self.dialogTitle,id:[self.id,"-Dialog"].join(""),style:["height:",_10b,"px;width:",_10c,"px;"].join(""),refreshOnShow:false,_onKey:this._onKey});self.dialogHeight=_10b;self.dialogWidth=_10c;if(self.isModal){_10d=self.cancelText;}else{_10d=self.closeText;}self.lookupDialog.set("content",self.dialogContent.apply({hideText:_10d,dialogButtonText:self.dialogButtonText,id:self.id,gridHeight:_10b-150}));_c6.mixin(self.lookupDialog,new _c5());self.lookupDialog.createHelpIconByTopic("findlookup");}else{self.dialogHeight=_10b;dojo.style([self.id,"-Dialog"].join(""),"height",_10b+"px");}self.lookupDialog.show();if(!this.isModal){dojo.destroy([self.id,"-Dialog_underlay"].join(""));}dojo.style([self.id,"-Dialog"].join(""),"top","60px");dojo.style([self.id,"-Dialog"].join(""),"left","300px");self.initDialog();}else{if(typeof _10a.reason==="string"&&_10a.reason.length!==0){_109=_10a.reason;}Sage.UI.Dialogs.showError(_109);}},doSelected:function(_10e){},_onKey:function(evt){var self=this,args=arguments;dojo.query("*",this.domNode).forEach(function(node,_10f,arr){if(node===evt.target){self.inherited(args);}});},destroy:function(){var _110=dijit.byId([this.id,"-Dialog"].join(""));if(this.btnIcon){dojo.destroy(this.btnIcon);}dojo.disconnect(this._doSearchConnection);dojo.unsubscribe(this._addCondHandle);dojo.unsubscribe(this._removeCondHandle);if(this.conditionMgr){this.conditionMgr.destroy(false);}if(_110){_110.uninitialize();}this.inherited(arguments);}});return _cd;});},"Sage/UI/EditorContainer":function(){define("Sage/UI/EditorContainer",["dojo/i18n","dijit/form/Button","dojo/_base/declare"],function(i18n,_111,_112){var _113=_112("Sage.UI.EditorContainer",null,{constructor:function(_114){dojo.safeMixin(this,_114);dojo.mixin(this,i18n.getLocalization("dijit","common"));},textCell:new Simplate("<td class=\"editor-text\">{%= $[0] %}</td>"),textCellWithLoading:new Simplate("<td class=\"editor-text\">{%= $.label %}<span style=\"display:none; float:right;\" id=\"{%= $.id %}_loading\">{%= $.loadingLabel %}</span></td>"),ctrlCell:new Simplate("<td class=\"editor-ctrl\">{%= $[0] %}</td>"),rowTpl:new Simplate("<tr>{%= $.cells %}</tr>"),btnRow:new Simplate("<tr><td></td><td id=\"{%= $.id %}_editor_tools\"><table width=\"100%\"><tr><td id=\"{%= $.id %}_custom_tools\" align=\"left\"></td><td align=\"right\">{%= $.btn %}</td></tr></table></td></tr>"),tableTpl:new Simplate(["<table class=\"editor-table\">","<tbody>{%= $.rows %}</tbody></table>"]),btnOk:new Simplate(["<button style=\"align:right;\" data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"{%= $.id %}_btnOK\" title=\"{%= $.buttonOk %}\">{%= $.buttonOk %}</button>"]),btnCancel:new Simplate(["<button style=\"align:right;\" data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"{%= $.id %}_btnCancel\" title=\"{%= $.buttonCancel %}\">{%= $.buttonCancel %}</button>"]),doTemplate:function(){var _115=[];for(var p in this.rows){if(this.rows.hasOwnProperty(p)){var _116=[];if(this.rows[p].loading){_116.push(this.textCellWithLoading.apply({label:this.rows[p].title,id:this._pcid,loadingLabel:this.rows[p].loading}),this.ctrlCell.apply([this.rows[p].control]));}else{_116.push(this.textCell.apply([this.rows[p].title]),this.ctrlCell.apply([this.rows[p].control]));}_115.push(this.rowTpl.apply({cells:_116.join("")}));}}var btns=[this.btnOk.apply({id:this._pcid,buttonOk:this.buttonOk}),this.btnCancel.apply({id:this._pcid,buttonCancel:this.buttonCancel})];_115.push(this.btnRow.apply({btn:btns.join(""),id:this._pcid}));return this.tableTpl.apply({rows:_115.join("")});}});return _113;});},"Sage/QuickForms/Design/FormDesigner":function(){define("Sage/QuickForms/Design/FormDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./ControlDesignerRegistry","./RowDesigner","./ColumnDesigner","./Editors/FormBasicPropertyEditor","./Editors/FormAdvancedPropertyEditor","./Editors/FormUsagesPropertyEditor","dojo/i18n!./nls/FormDesigner"],function(_117,_118,_119,lang,_11a,_11b,_11c,_11d,_11e,_11f,_120,_121,_122){return _119("Sage.QuickForms.Design.FormDesigner",[_11b],{entry:null,editors:[_11f,_120,_121],helpTopicName:"Form_properties",_controls:null,_rows:null,_columns:null,displayNameText:"Form",constructor:function(){lang.mixin(this,_122);},uninitialize:function(){this.inherited(arguments);_11a.forEach(this._controls,function(_123){_123.destroyRecursive();});_11a.forEach(this._rows,function(_124){_124.destroyRecursive();});_11a.forEach(this._columns,function(_125){_125.destroyRecursive();});},set:function(name,_126){var _127=this.inherited(arguments);var _128=this._getAttrNames(name),_129=this[_128.s];if(lang.isFunction(_129)){_118.publish("/quickforms/design/designerModified",this,name,_126,_127,this);}return _127;},_getNameAttr:function(){return lang.getObject("entity.Name",false,this.entry);},_setNameAttr:function(_12a){lang.setObject("entity.Name",_12a,this.entry);},_getDescriptionAttr:function(){return lang.getObject("entity.Description",false,this.entry);},_setDescriptionAttr:function(_12b){lang.setObject("entity.Description",_12b,this.entry);},_getActiveControlAttr:function(){return lang.getObject("entity.ActiveControl",false,this.entry);},_setActiveControlAttr:function(_12c){lang.setObject("entity.ActiveControl",_12c,this.entry);},_getUseEntityNameAsTitleAttr:function(){return lang.getObject("entity.UseEntityNameAsTitle",false,this.entry);},_setUseEntityNameAsTitleAttr:function(_12d){lang.setObject("entity.UseEntityNameAsTitle",_12d,this.entry);},_getEtagAttr:function(){return lang.getObject("etag",false,this.entry);},_setEtagAttr:function(_12e){lang.setObject("etag",_12e,this.entry);},_getRowsAttr:function(){return this._rows||(this._rows=this._createRowDesigners());},_getRowCountAttr:function(){return this.get("rows").length;},_createRowDesigners:function(){var raw=lang.getObject("entity.Rows",false,this.entry),_12f=[];_11a.forEach(raw,function(row,_130){var _131=new _11d({entry:row,form:this,index:_130});_12f.push(_131);},this);return _12f;},_getColumnsAttr:function(){return this._columns||(this._columns=this._createColumnDesigners());},_getColumnCountAttr:function(){return this.get("columns").length;},_createColumnDesigners:function(){var raw=lang.getObject("entity.Columns",false,this.entry),_132=[];_11a.forEach(raw,function(_133,_134){var _135=new _11e({entry:_133,form:this,index:_134});_132.push(_135);},this);return _132;},_getControlsAttr:function(){return this._controls||(this._controls=this._createControlDesigners());},_createControlDesigners:function(){var raw=lang.getObject("entity.Controls",false,this.entry),_136=[];_11a.forEach(raw,function(_137){var ctor=_11c.getDesignerFor(_137);if(ctor){var _138=new ctor({entry:_137,form:this});_136.push(_138);}else{throw new Error("Could not find designer for type: \""+_137["$type"]+"\".");}},this);return _136;},addControl:function(_139){var _13a=this.get("controls"),raw=lang.getObject("entity.Controls",false,this.entry)||[];_13a.push(_139);raw.push(_139.get("entry"));lang.setObject("entity.Controls",raw,this.entry);},addRow:function(_13b,at){var _13c=this.get("rows"),raw=lang.getObject("entity.Rows",false,this.entry)||[];_13b.index=at||_13b.index||_13c.length;for(var i=_13b.index;i<_13c.length;i++){_13c[i].index+=1;}_13c.splice(_13b.index,0,_13b);raw.splice(_13b.index,0,_13b.get("entry"));lang.setObject("entity.Rows",raw,this.entry);},removeRow:function(at){var _13d=this.get("rows"),raw=lang.getObject("entity.Rows",false,this.entry)||[];for(var i=at;i<_13d.length;i++){_13d[i].index-=1;}_13d.splice(at,1);raw.splice(at,1);},addColumn:function(_13e,at){var _13f=this.get("columns"),raw=lang.getObject("entity.Columns",false,this.entry)||[];_13e.index=at||_13e.index||_13f.length;for(var i=_13e.index;i<_13f.length;i++){_13f[i].index+=1;}_13f.splice(_13e.index,0,_13e);raw.splice(_13e.index,0,_13e.get("entry"));lang.setObject("entity.Columns",raw,this.entry);},removeColumn:function(at){var _140=this.get("columns"),raw=lang.getObject("entity.Columns",false,this.entry)||[];for(var i=at;i<_140.length;i++){_140[i].index-=1;}_140.splice(at,1);raw.splice(at,1);},createUniqueId:function(_141){var _142={},next=_141,_143=1;_11a.forEach(this.get("controls"),function(_144){var id=_144.get("controlId");if(next==id){do{next=_141+_143++;}while(_142[next]);}_142[id]=true;});return next;}});});},"Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig",["Sage/MainView/ActivityMgr/AllOpenListPanelConfig","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/AllOpenListPanelConfig"],function(_145,_146,lang,_147){var _148=_146("Sage.Extensions.Activity.ListPanelOverrides.AllOpenListPanelConfig",[_145],{constructor:function(){lang.mixin(this,_147);this._select.push("Details/AttendeeCount");this._structure.push({field:"Details.AttendeeCount",name:this.colNameAssociationCount,width:"90px"});}});return _148;});},"Sage/Utility/nls/Activity":function(){define("Sage/Utility/nls/Activity",["Sage/LanguageList","dojo/_base/lang"],function(_149,lang){var nls={root:{ToDo:"To-Do",PhoneCall:"Phone Call",Meeting:"Meeting",Personal:"Personal Activity",Literature:"Literature",Fax:"Fax",Letter:"Letter",Note:"Note",Email:"E-mail",Document:"Document",DatabaseChange:"Database Change",Event:"Event",ScheduledEvent:"Scheduled Event",Contact:"Contact",Lead:"Lead",New:"New",Change:"Change",Deleted:"Deleted",Confirm:"Confirm",Decline:"Decline",Unknown:"Unknown",Leader:"Leader",Complete:"Complete",confirmTypeChanged:"Changed",confirmTypeConfirmed:"Confirmed",confirmTypeDeleted:"Deleted"}};return lang.mixin(_149,nls);});},"Sage/QuickForms/Design/nls/DesignPanel":function(){define("Sage/QuickForms/Design/nls/DesignPanel",["Sage/LanguageList","dojo/_base/lang"],function(_14a,lang){var nls={root:{cultureListText:{iv:"[invariant]",de_DE:"de-DE",fr_FR:"fr-FR",it_IT:"it-IT",ru_RU:"ru-RU"},helpText:"Help",saveText:"Save",cultureText:"Culture:",loadingText:"Loading...",savingText:"Saving...",saveErrorText:"An error occurred saving the form.",readErrorText:"Could not load the requested form.",cultureReloadConfirmText:"You have unsaved changes.  Are you sure you want to reload the form with a different culture?"}};return lang.mixin(_14a,nls);});},"Sage/UI/Dashboard/ChartingWidget":function(){define("Sage/UI/Dashboard/ChartingWidget",["Sage/UI/Dashboard/BaseWidget","Sage/Utility","dojo/i18n","dojo/_base/declare","dojo/i18n!./nls/WidgetDefinition","dojo/number"],function(_14b,util,i18n,_14c){var _14d=_14c("Sage.UI.Dashboard.ChartingWidget",[_14b],{_chartTpl:new Simplate(["<table border=\"0\" style=\"width:100%; height:100%\">","<tr>","<td id=\"{%= $.id %}_chart\" style=\"width:{%= $.chartWidth %}\"></td>","<td style=\"display:{%= $.legendDisplay %};font-size:10px;\"><div class=\"dojoxGridScrollbox\" style=\"height:{%= $.chartHeight %};overflow-y:auto;\"><span id=\"{%= $.id %}_legend\"></span></div></td>","</tr>","</table>"]),_noDataTable:new Simplate(["<table border=\"0\" style=\"width:100%; height:100%\">","<tr>","<td>{%= $.NoDataMessage %}</td>","</tr>","</table>"]),_baseEditor:function(_14e,_14f){var mkup=this._getEditorString(_14f,_14e.id);var frag=util.fragger(mkup);var _150=util.fragToDijits(frag);_14e.addChild(_150[0],0);if(_14e.isNew){_14e._editorAdded();}},_getPaneSize:function(){return {w:dojo.style(this.pane,"width"),h:dojo.style(this.pane,"height")};},html:function(_151,data){this.paneId=_151.id+"_pane";this.parentCellId=_151.id;this.pane=dojo.byId(this.paneId);this.chartId=_151.id+"_chart";this.legendId=_151.id+"_legend";this.options=_151.widgetOptions;this.showLegend=this.options.showLegend==="true";this.showLabels=this.options.showLabels==="true";var size=this._getPaneSize();var i,_152;this.paneWidth=size.w;var h=Math.floor(size.w*this.prefHeight)+"px";dojo.style(this.pane,"height",h);if(data){this.values=[];this._labels=[];if(this.name==="Pie Chart"){this.cumulativeValues=0;for(i=0;i<data.total_count;i++){data.items[i].value=Math.max(0,data.items[i].value);this.cumulativeValues+=Math.floor(data.items[i].value);}}for(i=0;i<data.total_count;i++){var curr=data.items[i];var fVal=Math.floor(curr.value);var tmp={};var _153;if(this.showLabels){tmp.text=this.options.truncLabels==="true"?this.truncate(curr.displayName,this.options.truncNum||7):curr.displayName;}if(this.name==="Pie Chart"){if(fVal<=0){continue;}tmp.y=fVal;var _154=0;if(this.cumulativeValues>0){_154=fVal/this.cumulativeValues*100;}tmp.tooltip=curr.displayName+", "+dojo.number.format(_154,{places:2})+"%";_153=fVal;if(_153>=1000000){_153=dojo.number.format((_153/1000000),{places:1})+"M";}else{_153=dojo.number.format(fVal);}tmp.legend="<label>"+curr.displayName+"</label><label style=\"float:right; margin-left:10px; margin-top:2px;\">"+_153+"</label>";}else{_153=fVal;if(_153>=1000000){_153=dojo.number.format((_153/1000000),{places:1})+"M";}else{_153=dojo.number.format(fVal);}tmp.value=i+1;tmp.y=fVal;tmp.tooltip=curr.displayName+", "+_153;}this._labels.push(tmp);this.values.push(fVal);}if(data.total_count>0){_151.set("content",this._chartTpl.apply({id:_151.id,chartWidth:_151.chartWidth,legendDisplay:_151.legendDisplay,chartHeight:h}));this._doChart(_151,data);}else{_152=Sage.UI.DataStore.Dashboard.WidgetResources;dojo.style(this.pane,"height","20px");_151.set("content",this._noDataTable.apply({NoDataMessage:_152.noDataToDisplay}));this.editor(_151);}}else{_152=Sage.UI.DataStore.Dashboard.WidgetResources;dojo.style(this.pane,"height","20px");_151.set("content",this._noDataTable.apply({NoDataMessage:_152.noDataToDisplay}));this.editor(_151);}this._addFooter();},_addFooter:function(){var _155=i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition");var _156=["#",this.parentCellId," .dijitTitlePaneContentOuter"].join("");if(this.options.groupname&&this.options.resource){var _157=String.format("<div class=\"dijitTitlePaneTitle\" id=\"{0}\" style=\"border:0;font-weight:normal;\">",this.parentCellId+"_footer");if(this.options.entity!=="Sage.Entity.Interfaces.IHistory"&&this.options.groupname&&this.options.resource){_157+=String.format("<span style=\"float:left; margin-top:3px;\"><a href=\"{0}.aspx?modeid=list&gname={1}\">{2}</a></span>",this.options.resource,this.options.groupname,_155.viewGroupText||"View Group");}_157+="<span style=\"float:right; margin-top:3px;\">"+dojo.date.locale.format(new Date(),{fullYear:true})+"</span>";_157+="</div>";var _158=dojo.byId(this.parentCellId+"_footer");if(!_158){dojo.place(_157,dojo.query(_156)[0],"last");}else{dojo.place(_157,_158,"replace");}}},truncate:function(str,n){return str.length>n?str.slice(0,n)+"...":str;}});return _14d;});},"Sage/Data/WritableSDataStore":function(){define("Sage/Data/WritableSDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/array","dojo/_base/lang"],function(_159,_15a,_15b,_15c,lang){var _15d=_15b("Sage.Data.WritableSDataStore",_159,{newItemParentReferenceProperty:false,constructor:function(o){this.features["dojo.data.api.Write"]=true;this.features["dojo.data.api.Notification"]=true;this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;dojo.connect(this,"clearCache",this,this._clearCache);this.onComplete=o.onComplete;},getSingleResourceRequest:function(key){this.verifyService();if(this.singleResourceRequest===null){this.singleResourceRequest=new Sage.SData.Client.SDataSingleResourceRequest(this.service);this.singleResourceRequest.setResourceKind(this.resourceKind);if(this.select&&this.select.length>0){this.singleResourceRequest.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){this.singleResourceRequest.setQueryArg("include",this.include.join(","));}}if(key){this.singleResourceRequest.setResourceSelector("'"+key+"'");}return this.singleResourceRequest;},onSuccess:function(_15e,feed){if(_15e.onBegin){_15e.onBegin.call(_15e.scope||this,feed.$totalResults,_15e);}if(this.onComplete){this.onComplete.call(_15e.scope||this,feed.$resources,_15e);}if(_15e.onComplete){_15e.onComplete.call(_15e.scope||this,feed.$resources,_15e);}this.addToCache(_15e,feed);},_clearCache:function(){this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_15f){var id=this.getIdentity(_15f);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_160){return this.isItem(_160);},loadItem:function(_161){if(!this.isItem(_161.item)){throw new Error("Unable to load "+_161.item);}},getValues:function(item,_162){if(this.isItem(item)&&(typeof _162==="string")){return (item[_162]||[]).slice(0);}return [];},hasAttribute:function(item,_163){if(this.isItem(item)&&(typeof _163==="string")){return _163 in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,_164){var _165={};_165.scope=_164||this;_165.ignoreETag=true;var _166=this.getSingleResourceRequest(this.getIdentity(item));if(_164&&typeof _164.onResponse==="function"){_165.success=_164.onResponse;_165.aborted=_164.onResponse;_165.failure=_164.onResponse;}_166["delete"](item,_165);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},_checkPageExitWarningMessage:function(){var _167=true;if(this.dirtyDataCache.isDirty){var _168=Sage.Services.getService("ClientBindingManagerService");_167=confirm(_168._PageExitWarningMessage);}return _167;},newItem:function(args){if(!this._checkPageExitWarningMessage()){return;}var _169=this.createTemplateRequest();if(_169){_169.read({success:function(_16a){this._newItemCreated(args,_16a);this.onNew(_16a);},failure:this.requestTemplateFailure,scope:this});}},_newItemCreated:function(_16b,_16c){if(this.newItemParentReferenceProperty){var _16d=Sage.Utility.getCurrentEntityId();if(_16c.hasOwnProperty(this.newItemParentReferenceProperty)&&_16d){_16c[this.newItemParentReferenceProperty]={"$key":_16d};}}if((_16b)&&(_16b.onComplete)&&(typeof _16b.onComplete==="function")){_16b.onComplete.call(_16b.scope||this,_16c);}},createTemplateRequest:function(){var _16e=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_16e.setResourceKind(this.resourceKind);}return _16e;},requestTemplateFailure:function(){},saveNewEntity:function(_16f,_170,_171,_172){var _173=new Sage.SData.Client.SDataSingleResourceRequest(this.service);if(_173){if((this.resourceKind)&&(this.resourceKind!=="")){_173.setResourceKind(this.resourceKind);}_173.create(_16f,{success:_170||function(_174){if(typeof console!=="undefined"){}},failure:_171||function(_175,o){if(typeof console!=="undefined"){}},scope:_172||this});}},createItem:function(item,_176){var _177=new Sage.SData.Client.SDataSingleResourceRequest(this.service);if(_177){if((this.resourceKind)&&(this.resourceKind!=="")){_177.setResourceKind(this.resourceKind);}var _178={};_178.scope=_176||this;_178.scope.store=this;var _179=function(_17a){if(typeof console!=="undefined"){}if(typeof this.onResponse==="function"){this.onResponse.call(this,_17a);}};_178.success=_179;var _17b=function(_17c,o){if(typeof this.onResponse==="function"){this.onResponse.call(this,_17c,o);}else{if(typeof console!=="undefined"&&_17c&&typeof _17c!=="undefined"&&_17c.status){}}};_178.failure=_17b;_178.aborted=_17b;_177.create(item,_178);}},revert:function(){this.clearDirtyDataCache();this.onDataReset();},save:function(_17d){var _17e,_17f;if(!this.dirtyDataCache.isDirty){if(_17d&&typeof _17d.onComplete==="function"){_17d.onComplete.call(_17d);}return;}for(var key in this.dirtyDataCache){if(key!=="isDirty"){_17e=this.dirtyDataCache[key];if(this.isItem(_17e)){_17f=this.getSingleResourceRequest(key);var _180={};_180.scope=_17d||this;_180.scope.store=this;if(!this.isSecurityManager){_180.ignoreETag=true;}var _181=function(_182){if(this.store.dataCache[_182.$key]){this.store.dataCache[_182.$key].$etag=_182.$etag;}if(typeof this.onResponse==="function"){this.onResponse.call(this,_182);}};_180.success=_181;var _183=function(_184,o){if(typeof console!=="undefined"){if(_184&&typeof _184!=="undefined"&&_184.responseText){var _185=dojo.fromJson(_184.responseText);if(_185&&typeof _185!=="undefined"&&_185.$key){var obj=this.store.dataCache[_185.$key];if(obj&&obj.$etag){}}}}if(typeof this.onResponse==="function"){this.onResponse.call(this,_184,o);}};_180.failure=_183;_180.aborted=_183;_17f.update(_17e,_180);}delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;if(_17d&&typeof _17d.onResponse!=="function"&&typeof _17d.onComplete==="function"){_17d.onComplete.call(_17d);}},setValue:function(item,_186,_187){var _188=this.getValue(item,_186,"");_15a.setValue(item,_186,_187);this.onSet(item,_186,_188,_187);if(_188!=_187){this.dirtyDataCache[this.getIdentity(item)]=item;this.dirtyDataCache.isDirty=true;}return true;},setValues:function(item,_189,_18a){_15c.forEach(_18a,lang.hitch(this,function(val){this.setValue(item,_189,val);}));},unsetAttribute:function(item,_18b){alert("not implemented - unsetAttribute");},onSet:function(item,_18c,_18d,_18e){},onNew:function(_18f){},onDelete:function(_190){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_191,_192){},onItemNotSaved:function(_193,_194){}});return _15d;});},"Sage/MainView/Opportunity/OpportunityStatistics":function(){require({cache:{"url:Sage/MainView/Opportunity/templates/OpportunityStatistics.html":" [\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_dlgOpportunityStatistics\" title=\"{%= $.opportunityStatistics_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n            '<div dojoAttachPoint=\"loadingContainer\">',\r\n                '<br />',\r\n                '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingMessge %}</label>',\r\n                '<br />',\r\n                '<br />',\r\n            '</div>',\r\n            '<table cellspacing=\"20\" dojoAttachPoint=\"statisticsContentsContainer\" class=\"display-none\">',\r\n                '<tr>',\r\n                    '<td >',\r\n                        '<label>{%= $.opportunityCount %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"opportunityCount\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.salesPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotential\" dojoAttachPoint=\"salesPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotentialAverage\" dojoAttachPoint=\"salesPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.weightedPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotential\" dojoAttachPoint=\"weightedPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotentialAverage\" dojoAttachPoint=\"weightedPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageCloseProbability %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoType=\"Sage.UI.Controls.Numeric\" constraints=\"{ places: 2, maxPlaces: 2, type: \\'percent\\' }\" dojoAttachPoint=\"closeProbability_Container\" readonly=\"readonly\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.actualAmountTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmount\" dojoAttachPoint=\"actualAmountTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmountAverage\" dojoAttachPoint=\"actualAmountAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageDaysOpen %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"daysOpen_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.rangeEstClose %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"rangeEstClose_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar alignright\">',\r\n                '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" type=\"button\" dojoAttachEvent=\"onClick:_close\">{%= $.btnClose_Caption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/Opportunity/OpportunityStatistics",["dojo/_base/declare","dojo/i18n!./nls/OpportunityStatistics","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Currency","Sage/UI/Controls/Numeric","Sage/Data/SDataServiceRegistry","dojo/date/locale","Sage/Utility","dojo/text!./templates/OpportunityStatistics.html","dojo/html","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer"],function(_195,_196,_197,_198,_199,_19a,_19b,_19c,_19d,_19e,_19f,_1a0,_1a1,_1a2,html){var _1a3=_195("Sage.MainView.Opportunity.OpportunityStatistics",[_19a,_19b],{_dialog:false,_selectionInfo:false,selectedCount:0,resource:"",currencyDecimalDigits:2,currencyCode:"USD",locale:Sys.CultureInfo.CurrentCulture.name,isMultiCurrencyEnabled:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1a2)),constructor:function(_1a4){this._selectionInfo=_1a4;this.currencyDecimalDigits=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalDigits;this.isMultiCurrencyEnabled=window.isMultiCurrencyEnabled();dojo.mixin(this,_196);},show:function(){this._dialog.show();if(!this._dialog.helpIcon){_198.mixin(this._dialog,new _197());this._dialog.createHelpIconByTopic("opportunitystatistics");}var _1a5=_19f.getSDataService("mashups");var _1a6=new Sage.SData.Client.SDataNamedQueryRequest(_1a5);_1a6.setApplicationName("$app");_1a6.setResourceKind("mashups");_1a6.uri.setCollectionPredicate("'OpportunityStatistics'");_1a6.setQueryName("execute");_1a6.setQueryArg("_resultName","OpportunityStatisticsMashup");_1a6.setQueryArg("_selectionKey",this._selectionInfo.key);var self=this;_1a6.read({success:function(data){self.resource=data.$resources[0];self.selectedCount=self.resource.RecordCount;self.currencyCode=self.resource.CurrencyCode;html.set(self.opportunityCount,self.selectedCount);self.createControls();var _1a7=self.resource.DaysOpened;if(self.selectedCount>1){_1a7=Math.round(self.resource.DaysOpened/self.selectedCount);}html.set(self.daysOpen_Container,_1a7.toString());dojo.addClass(self.loadingContainer,"display-none");dojo.removeClass(self.statisticsContentsContainer,"display-none");},failure:function(_1a8,_1a9,_1aa){_19c.showError(self.errorRequestingStatistics);}});},formatCurrency:function(val){val=val.replace(" ","","gi");val=val.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator,".","gi");return val;},createControls:function(){this.createSalesPotential();this.createCloseProbability();this.createWeightedPotential();this.createActualAmount();this.createRangeEstClose();},createSalesPotential:function(){this.salesPotentialTotal=new _19d({id:"cur_SalesPotentialTotal",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.SalesPotential)});dojo.place(this.salesPotentialTotal.domNode,this.salesPotentialTotal_Container,"replace");this.salesPotentialAverage=new _19d({id:"cur_SalesPotentialAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.SalesPotential)/this.selectedCount});dojo.place(this.salesPotentialAverage.domNode,this.salesPotentialAverage_Container,"replace");},createCloseProbability:function(){this.closeProbability=new _19e({id:"num_CloseProbability",constraints:{places:2},formatType:"percent",disabled:true,value:this.resource.CloseProbability/this.selectedCount});dojo.place(this.closeProbability.domNode,this.closeProbability_Container.domNode,"only");this.closeProbability_Container.value=this.resource.CloseProbability/this.selectedCount;},createWeightedPotential:function(){this.weightedPotentialTotal=new _19d({id:"cur_WeightedPotentialTotal",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.resource.CloseProbability});dojo.place(this.weightedPotentialTotal.domNode,this.weightedPotentialTotal_Container,"only");this.weightedPotentialAverage=new _19d({id:"cur_WeightedPotentialAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.resource.CloseProbability/this.selectedCount});dojo.place(this.weightedPotentialAverage.domNode,this.weightedPotentialAverage_Container,"only");},createActualAmount:function(){this.actualAmountTotal=new _19d({id:"cur_ActualAmount",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.ActualAmount)});dojo.place(this.actualAmountTotal.domNode,this.actualAmountTotal_Container,"only");this.actualAmountAverage=new _19d({id:"cur_ActualAmountAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.ActualAmount)/this.selectedCount});dojo.place(this.actualAmountAverage.domNode,this.actualAmountAverage_Container,"only");},createRangeEstClose:function(){var _1ab=_1a0.format(_1a1.Convert.toDateFromString(this.resource.MinDateEstClosed,true),{fullYear:true,selector:"date"});var _1ac=_1a0.format(_1a1.Convert.toDateFromString(this.resource.MaxDateEstClosed,true),{fullYear:true,selector:"date"});html.set(this.rangeEstClose_Container,dojo.string.substitute("${0} - ${1}",[_1ab,_1ac]));},_close:function(){this._dialog.hide();this._dialog.destroyRecursive();this.destroyRecursive();this.salesPotentialTotal.destroy();this.salesPotentialAverage.destroy();this.closeProbability.destroy();this.weightedPotentialTotal.destroy();this.weightedPotentialAverage.destroy();this.actualAmountTotal.destroy();this.actualAmountAverage.destroy();}});return _1a3;});},"Sage/UI/Columns/TextBox":function(){define("Sage/UI/Columns/TextBox",["Sage/UI/Controls/TextBox","Sage/UI/Columns/Cell","dojo/_base/declare"],function(_1ad,Cell,_1ae){var _1af=_1ae("Sage.UI.Columns.TextBox",Cell,{defaultValue:"",widgetClass:_1ad,getWidgetProps:function(_1b0){var _1b1=this._getControlId();this.defaultValue=_1b0;return dojo.mixin({},this.widgetProps||{},{value:"",maxLength:this.maxLength,regExp:this.regExp,shouldPublishMarkDirty:false});},getValue:function(_1b2){var _1b3=this.widget.focusNode.value;var _1b4=dijit.byId(this.widget.focusNode.id);if(!_1b4.isValid()||(typeof _1b3==="undefined")||(_1b3==="")){_1b4.undo();_1b3=this.defaultValue;}else{this.defaultValue=_1b3;}return _1b3;}});return _1af;});},"Sage/UI/widgetEditorLookup":function(){define("Sage/UI/widgetEditorLookup",["dijit/form/ValidationTextBox","dijit/form/RadioButton","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dijit/form/NumberTextBox"],function(_1b5,_1b6,_1b7,_1b8,_1b9){var _1ba={};_1ba.txtField=function(_1bb){var _1bc=new Simplate(["<div data-dojo-type=\"dijit.form.ValidationTextBox\" id=\"{%= $.id %}\""," regExp=\"[^<>;]*\" invalidMessage=\"{%= $.invMess %}\" style=\"width:100%;\"></div>"]);return _1bc.apply(_1bb);};_1ba.rdoGroup=function(_1bd){var _1be=new Simplate(["<table width=\"100%\"><tr><td align=\"left\" width=\"50%\"><input type=\"radio\" id=\"{%= $.idOne %}\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"{%= $.valOne %}\" name=\"{%= $.name %}\"/><label for=\"${idOne}\">{%= $.lblOne %}","</label></td><td align=\"left\" width=\"50%\"><input type=\"radio\" id=\"{%= $.idTwo %}\"data-dojo-type=\"dijit.form.RadioButton\""," value=\"{%= $.valTwo %}\" name=\"{%= $.name %}\"/><label for=\"{%= $.idTwo %}\">{%= $.lblTwo %}","</label></td></tr></table>"]);return _1be.apply(_1bd);};_1ba.comboField=function(_1bf){var _1c0=new Simplate(["<input data-dojo-type=\"dijit.form.ComboBox\" id=\"{%= $.id %}\" style=\"width:100%;\""," required=\"true\" searchAttr=\"{%= $.searchAttr %}\"/>"]);return _1c0.apply(_1bf);};_1ba.numberField=function(_1c1){var _1c2=new Simplate(["<input data-dojo-type=\"dijit.form.NumberTextBox\" id=\"{%= $.id %}\" style=\"width:100%;\""," invalidMessage=\"{%= $.invMess %}\"/>"]);return _1c2.apply(_1c1);};_1ba.wholeNumberField=function(_1c3){var _1c4=new Simplate(["<input data-dojo-type=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}\""," invalidMessage=\"{%= $.invMess %}\" constraints=\"{places:0}\" style=\"width:100%;\" formatType=\"Number\"/>"]);return _1c4.apply(_1c3);};_1ba._myEditRow=function(_1c5){var _1c6=new Simplate(["<div data-dojo-type=\"{%= $.type %}\" id=\"{%= $.id %}\" shouldPublishMarkDirty=\"false\" style=\"height:{%= $.height %};width:100%;\" ></div>"]);return _1c6.apply(_1c5);};Sage.UI.widgetEditorLookup=_1ba;return _1ba;});},"Sage/_Templated":function(){define("Sage/_Templated",["dojo/dom-construct","dojo/_base/declare","dojo/query","dojo/parser","dojo/_base/array","dojo/_base/lang","dijit/registry","dijit/_base/wai"],function(_1c7,_1c8,_1c9,_1ca,_1cb,lang,_1cc,wai){var _1cd=_1c8("Sage._Templated",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){var root,_1ce;if(this.widgetTemplate&&this.contentTemplate){throw new Error("Both \"widgetTemplate\" and \"contentTemplate\" cannot be specified at the same time.");}if(this.contentTemplate){this.inherited(arguments);_1ce=["<div>",this.contentTemplate.apply(this),"</div>"].join("");root=_1c7.toDom(_1ce);this._attachTemplateNodes(root);}else{if(this.widgetTemplate){_1ce=this.widgetTemplate.apply(this);root=_1c7.toDom(_1ce);if(root.nodeType!==1){throw new Error("Invalid template.");}this.domNode=root;this._attachTemplateNodes(root);}else{return;}}if(this.widgetsInTemplate){var _1cf=_1ca.parse(root,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"});this._startupWidgets=this._startupWidgets||[];this._startupWidgets=this._startupWidgets.concat(_1cf);this._supportingWidgets=this._supportingWidgets||[];this._supportingWidgets=this._supportingWidgets.concat(_1cc.findWidgets(root));this._attachTemplateNodes(_1cf,function(n,p){return n[p];});}if(this.contentTemplate){_1c9("> *",root).place(this.domNode);}else{this._fillContent(this.srcNodeRef);}},_fillContent:function(_1d0){var dest,frag,_1d1;dest=this.containerNode;frag=document.createDocumentFragment();_1d1=false;if(_1d0&&dest){while(_1d0.hasChildNodes()){frag.appendChild(_1d0.firstChild);_1d1=true;}if(_1d1){dest.appendChild(frag);}}},_attachTemplateNodes:function(_1d2,_1d3){_1d3=_1d3||function(n,p){return n.getAttribute(p);};var _1d4=(_1d2 instanceof Array)?_1d2:(_1d2.all||_1d2.getElementsByTagName("*"));var x=(_1d2 instanceof Array)?0:-1;for(;x<_1d4.length;x++){var _1d5=(x==-1)?_1d2:_1d4[x];if(this.widgetsInTemplate&&(_1d3(_1d5,"dojoType")||_1d3(_1d5,"data-dojo-type"))){continue;}var _1d6=_1d3(_1d5,"dojoAttachPoint")||_1d3(_1d5,"data-dojo-attach-point");if(_1d6){var _1d7,_1d8=_1d6.split(/\s*,\s*/);while((_1d7=_1d8.shift())){if(this[_1d7] instanceof Array){this[_1d7].push(_1d5);}else{this[_1d7]=_1d5;}this._attachPoints.push(_1d7);}}var _1d9=_1d3(_1d5,"dojoAttachEvent")||_1d3(_1d5,"data-dojo-attach-event");if(_1d9){var _1da,_1db=_1d9.split(/\s*,\s*/);var trim=lang.trim;while((_1da=_1db.shift())){if(_1da){var _1dc=null;if(_1da.indexOf(":")!=-1){var _1dd=_1da.split(":");_1da=trim(_1dd[0]);_1dc=trim(_1dd[1]);}else{_1da=trim(_1da);}if(!_1dc){_1dc=_1da;}this._attachEvents.push(this.connect(_1d5,_1da,_1dc));}}}var role=_1d3(_1d5,"waiRole");if(role){wai.setWaiRole(_1d5,role);}var _1de=_1d3(_1d5,"waiState");if(_1de){_1cb.forEach(_1de.split(/\s*,\s*/),function(_1df){if(_1df.indexOf("-")!=-1){var pair=_1df.split("-");wai.setWaiState(_1d5,pair[0],pair[1]);}});}}},startup:function(){_1cb.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){_1cb.forEach(this._attachPoints,function(_1e0){delete this[_1e0];},this);this._attachPoints=[];_1cb.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});return _1cd;});},"Sage/UI/nls/TimelessActivitiesPane":function(){define("Sage/UI/nls/TimelessActivitiesPane",["Sage/LanguageList","dojo/_base/lang"],function(_1e1,lang){var nls={root:{header_complete:"Complete",header_type:"Type",header_contact:"Name",header_regarding:"Regarding",tooltip_type:"Type",tooltip_contact:"Contact",tooltip_account:"Account",tooltip_lead:"Lead",tooltip_phone:"Phone",tooltip_leader:"Leader",tooltip_regarding:"Regarding",tooltip_location:"Location",tooltip_notes:"Notes",tooltip_company:"Company"}};return lang.mixin(_1e1,nls);});},"Sage/UI/MenuItem":function(){require({cache:{"url:Sage/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n        <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n\n"}});define("Sage/UI/MenuItem",["dijit/MenuItem","dijit/_Widget","dojo/dom-style","dojo/_base/declare","dojo/text!../templates/MenuItem.html"],function(_1e2,_1e3,_1e4,_1e5,_1e6){var _1e7=_1e5("Sage.UI.MenuItem",_1e2,{templateString:_1e6,iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"noIcon",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},ref:"",postMixInProperties:function(){if(this.hasImageClass()&&this.hasIcon()){this.icon=this._blankGif;}else{this.icon=this.icon||this._blankGif;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.hasImageClass()){this.set("icon",this._blankGif);_1e4.set(this.iconNode,"display","none");}else{_1e4.set(this.iconNodeSprite,"display","none");}},hasImageClass:function(){if(this.imageClass&&this.imageClass!=="noIcon"){return true;}return false;},hasIcon:function(){if(this.icon&&this.icon!==this._blankGif){return true;}return false;},destroy:function(){this._setSelected=function(){};this.inherited(arguments);}});return _1e7;});},"Sage/MainView/ActivityMgr/nls/ActivityEditor":function(){define("Sage/MainView/ActivityMgr/nls/ActivityEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1e8,lang){var nls={root:{labelWidth:"100",tabNameGeneralText:"General",tabNameAvailabilityText:"Availability",tabNameAssociationsText:"Associations",tabNameRecurringText:"Recurring",tabNameAttachmentsText:"Attachments",tabNameNotesText:"Notes",scheduleText:"Schedule",startTimeText:"Start Time",timeLessText:"Timeless",alarmText:"Alarm",durationText:"Duration",rolloverText:"Auto rollover to next day",contactText:"Contact",accountText:"Account",leadText:"Lead",opportunityText:"Opportunity",ticketText:"Ticket",companyText:"Company",regardingText:"Regarding",notesText:"Notes",priorityText:"Priority",leaderText:"Leader",categoryText:"Category",locationText:"Location",dialogHeaderFormatText:"${actionText} ${activityType} - ${description}",scheduledByFormatText:"Scheduled by ${user} on ${date}",completeScheduledByFormatText:"Scheduled by ${user} on ${date} originally for ${startDate}",newConfirmationHeaderFormatText:"Confirm ${activityType} Scheduled by ${user}",otherConfimationHeaderFormatText:"${activityType} ${actionText} by ${user}",acceptedText:"Accepted",declinedText:"Declined",scheduledText:"Scheduled",updatedText:"Updated",deletedText:"Deleted",cancelText:"Cancel",okText:"OK",completeText:"Complete",completeBtnText:"Complete...",completedText:"Completed",deleteText:"Delete",lookupActText:"Lookup Account",lookupContactText:"Lookup Contact",lookupOpportunityText:"Lookup Opportunity",lookupTicketText:"Lookup Ticket",lookupLeadText:"Lookup Lead",lookupLeaderText:"Lookup Leader",lookupResourcesText:"Add Members and Resources",addResourceText:"Add Selected",mainPhoneText:"Main Phone",typeText:"Type",subTypeText:"Sub-Type",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",acctMgrText:"Acct Manager",descriptionText:"Description",stageText:"Stage",statusText:"Status",ownerText:"Owner",ticketNumberText:"Ticket Number",phoneText:"Phone",urgencyText:"Urgency",areaText:"Area",recurringText:"Recurring",resultText:"Result",followupText:"Follow-up",noneText:"None",carryOverAttachmentsText:"Carry Over Attachments",carryOverNotesText:"Carry Over Notes",asScheduledText:"As Scheduled",nowText:"Now",responseText:"Response",acceptText:"Accept",declineText:"Decline",deleteConfText:"Delete Confirmation",closeText:"Close",leadFullNameText:"Name",postalText:"Postal Code",failedLoadingDataMsg:"An error occurred loading data.",removeText:"Remove",noText:"No",yesText:"Yes",areYouSureText:"You are about to permanently delete this record.",couldNotSaveErrorText:"We're sorry, the activity could not be saved because an error occurred.",couldNotDeleteErrorText:"We're sorry, the activity could not be deleted because an error occurred.",couldNotCompleteErrorText:"We're sorry, the activity could not be completed because an error occurred.",scheduleFollowUpErrorText:"The follow up could not be scheduled because the HistoryId could not be determined.",tabNameParticipants:"Participants"}};return lang.mixin(_1e8,nls);});},"Sage/QuickForms/Design/DataSourceDesigner":function(){define("Sage/QuickForms/Design/DataSourceDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/NonVisibleAdvancedPropertyEditor","dojo/i18n!./nls/DesignPanel"],function(_1e9,_1ea,lang,_1eb,_1ec,_1ed,_1ee,_1ef,_1f0){return _1e9("Sage.QuickForms.Design.DataSourceDesigner",[_1ec,_1ed,_1eb,_1ee],{designSupport:{visible:false},editors:[_1ef],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div data-dojo-attach-point=\"containerNode\">","<span data-dojo-attach-point=\"designCaptionNode\"></span>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"Data_Source_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFDataSource, Sage.Platform.QuickForms.QFControls",displayNameText:"Data Source",constructor:function(){lang.mixin(this,_1f0);},_setControlIdAttr:function(_1f1){this.inherited(arguments);this.set("designCaption",_1f1);},startup:function(){this.inherited(arguments);this.set("designCaption",this.get("controlId"));}});});},"Sage/Services/main":function(){define("Sage/Services/main",["Sage/Services/_ServiceMixin","Sage/Services/ActivityAction","Sage/Services/UserOptions","Sage/Services/ActivityActionProcessor","Sage/Services/ActivityService","Sage/Services/CalendarSecurityService","Sage/Services/ClientBindingManagerService","Sage/Services/ClientContextService","Sage/Services/ClientEntityContext","Sage/Services/RoleSecurityService","Sage/Services/SelectionContextService","Sage/Services/SystemOptions","Sage/Services/JobService","Sage/Services/ReportingService"],function(){});},"Sage/UI/Columns/Numeric":function(){define("Sage/UI/Columns/Numeric",["Sage/UI/Controls/Numeric","dojox/grid/cells/dijit","dojo/_base/declare","dojo/_base/lang"],function(_1f2,_1f3,_1f4,lang){var _1f5=_1f4("Sage.UI.Columns.Numeric",dojox.grid.cells._Widget,{widgetClass:_1f2,isWholeNumberPercent:false,getWidgetProps:function(_1f6){var _1f7=this.getControlId();return lang.mixin({},this.widgetProps||{},{constraints:this.constraints,value:_1f6,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field,name:this.name,sortable:this.sortable,editable:this.editable,required:this.required,formatType:this.formatType,textAlign:this.getAlignment()});},getAlignment:function(){var _1f8="right";_1f8=(this.cellClasses.indexOf("aligncenter")>-1)?"center":_1f8;_1f8=(this.cellClasses.indexOf("alignleft")>-1)?"left":_1f8;return _1f8;},formatNode:function(_1f9,_1fa,_1fb){if(!this.widgetClass){return _1fa;}var _1fc=dijit.byId(this.getControlId());if(!_1fc){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_1fc;if(_1fc.value!==_1fa||this.widget.focusNode.value!==_1fa){this.widget.focusNode.attr("value",_1fa);}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_1fb);this.grid.scroller.rowHeightChanged(_1fb,true);if(this.formatType=="Percent"){this.widget.focusNode.constraints["type"]="percent";}this.widget.focusNode.focus();return undefined;},formatter:function(_1fd,_1fe){var vals=[];if(_1fd===0||_1fd===null){return "";}if(this.isWholeNumberPercent&&this.formatType==="Percent"){_1fd=Math.round(_1fd*100)/10000;}if((this.displayFormatString)&&(this.displayFormatString!=="")){if(this.displayFields.length<1){vals.push(_1fd);}for(var idx=0;idx<this.displayFields.length;idx++){vals.push(Sage.Utility.getValue(this.grid._by_idx[_1fe].item,this.displayFields[idx]));}_1fd=Sage.Format.stringFromArray(this.displayFormatString,vals);return _1fd;}if(this.formatType==="Percent"){this.constraints["type"]="percent";}_1fd=dojo.number.format(_1fd,lang.mixin(this.constraints,{locale:Sys.CultureInfo.CurrentCulture.name}));if(this.constraints&&this.constraints.places===0&&this.constraints.round===-1&&_1fd.lastIndexOf(Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator)>-1){_1fd=_1fd.slice(0,_1fd.length-1);}if(this.abbreviationLength){var _1ff=Sage.Format.abbreviationFormatter(this.abbreviationLength);_1fd=_1ff(_1fd);}return _1fd;},styles:"text-align: right;",setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},getControlId:function(){this.setCurrentItems();return [this.item.$key,this.editInfo.cell.field,this.index].join("_");},getValue:function(_200){if(this.formatType=="Percent"){this.widget.focusNode._onBlur();}var _201=this.widget.focusNode.valueNode.value;if((typeof _201==="undefined")||(_201==="")){_201=0;}if(this.widget&&this.widget.state==="Error"){var item=this.grid.getItem(_200);var _202=this.grid.store.getValue(item,this.grid.edit.info.cell.field);return _202;}return _201;}});return _1f5;});},"Sage/Services/UserOptions":function(){define("Sage/Services/UserOptions",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_203,_204){var _205=_204("Sage.Services.UserOptions",null,{constructor:function(_206){this.inherited(arguments);dojo.mixin(this,_206);if(!_206||!_206.service){this.service=_203.getSDataService("system",false,true,true);}},get:function(name,_207,_208,_209,_20a,_20b){var req=this._createRequest(name,_207);if(typeof _20b==="undefined"){_20b=true;}if(req){req.read({success:_208,failure:function(_20c){if(typeof _209==="function"){_209(_20c);}},scope:_20a||this,async:_20b});}else{}},set:function(name,_20d,_20e,_20f,_210,_211){var req=this._createRequest(name,_20d);_210=_210||function(_212){};if(req){req.read({success:dojo.hitch(req,function(_213){_213.value=_20e;_203._removeFromLocalStorage("userOptions");this.update(_213,{success:_20f,scope:this});}),failure:_210,scope:_211||this});}},getByCategory:function(_214,_215,_216,_217){var req=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);req.setResourceKind("userOptions");req.setQueryArg("where","category eq '"+_214+"'");req.read({success:_215,failure:function(_218){if(typeof _217==="function"){_217(_218);}},scope:_216||this});},getByCategories:function(_219,_21a,_21b){var req=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);var _21c="";var _21d=",";for(var i=0;i<_219.length;i++){if(i==_219.length-1){_21d="";}_21c+="\""+_219[i]+"\""+_21d;}req.setResourceKind("userOptions");req.setQueryArg("where","category in ("+_21c+")");req.setQueryArg("count","500");req.read({success:_21a,failure:function(_21e){},scope:_21b||this});},_formatPredicate:function(n,c){return dojo.string.substitute("category eq '${0}' and name eq '${1}'",[c,n]);},_createRequest:function(n,c){var req=new Sage.SData.Client.SDataSingleResourceRequest(this.service);req.setResourceSelector(this._formatPredicate(n,c));req.setResourceKind("userOptions");return req;},_virtuald:function(){var _21f=/^\/([^\/]+)\//.exec(location.pathname);return _21f?_21f[1]:"";}});Sage.Services.addService("UserOptions",new Sage.Services.UserOptions());Sage.UserOptionsService={getCommonOption:function(name,_220,_221){if(typeof console!=="undefined"){}var _222=_221;var svc=Sage.Services.getService("UserOptions");if(svc){svc.get(name,_220,function(_223){var _224={category:_223.category,option:_223.name,optionValue:_223.value};if(_222){_222.call(window,_224);}});}},setCommonOption:function(name,_225,data,_226){if(typeof console!=="undefined"){}var svc=Sage.Services.getService("UserOptions");if(svc){svc.set(name,_225,data,_226);}}};return _205;});},"Sage/MainView/IntegrationContract/InvoiceRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/InvoiceRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_invoiceDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\n        '<div dojoAttachPoint=\"invoiceDialogContent\" class=\"display-none\">',\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\">',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"reference\" id=\"{%= $.id%}_reference\" label=\"{%= $.lblInvoiceCaption %}\" readonly=\"true\" />',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"grossTotal\" id=\"{%= $.id%}_grossTotal\" label=\"{%= $.lblNetTotalCaption %}\" readonly=\"readonly\" />',\n            '</div >',\n            '<div style=\"height:350px;width:800px\">',\r\n                '<div id=\"{%= $.id%}_invoiceTabContainer\" dojoAttachPoint=\"invoiceTabContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_invoiceContent\" dojoAttachPoint=\"invoiceContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\">',\r\n                        '<div id=\"{%= $.id%}_divInvoiceDetails\">',\r\n                            '<table cellspacing=\"5\">',\n                                '<col style=\"width:200px\" />',\r\n                                '<col style=\"width:200px\" />',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_date\">{%= $.lblInvoiceDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"invoiceDiscountPercent\">{%= $.lblInvoiceDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_discountPercent\" name=\"invoiceDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_deliveryDate\">{%= $.lblDueDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_deliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_carrierTotalPrice\">{%= $.lblCarrierTotalPriceCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_carrierTotalPrice\" name=\"carrierTotalPrice\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_customerReference\">{%= $.lblCustomerPOCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_customerReference\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_taxTotal\">{%= $.lblTaxCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountPercent\">{%= $.lblSettlementDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountPercent\" name=\"settlementDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_notes\">{%= $.lblNotesCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_notes\" name=\"notes\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountTerms\">{%= $.lblSettlementDiscountTermsCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountTerms\" name=\"settlementDiscountTerms\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_costTotal\">{%= $.lblCostTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_costTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrency\">{%= $.lblOCCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrency\" name=\"operatingCompanyCurrency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_profitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_profitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrencyExchangeRateDate\">{%= $.lblOperatingCompanyCurrencyExchangeRateDateCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrencyExchangeRateDate\" name=\"operatingCompanyCurrencyExchangeRateDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_priceList\">{%= $.lblPriceListCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_priceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_currency\">{%= $.lblCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_salesPerson\">{%= $.lblSalesPersonCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_salesPerson\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_invoiceDiscountAmount\">{%= $.lblInvoiceDiscountAmountCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDiscountAmount\" name=\"invoiceDiscountAmount\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_addressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceAddresses\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceAddresses_Grid\" dojoAttachPoint=\"sdgrdInvoiceAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_invoiceLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.invoiceLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceLines\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceLines_Grid\" dojoAttachPoint=\"sdgrdInvoiceLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_paymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                        '<div id=\"sdgrdPayments\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdPayments_Grid\" dojoAttachPoint=\"sdgrdPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_deliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                        '<div id=\"sdgrdDeliveries\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdDeliveries_Grid\" dojoAttachPoint=\"sdgrdDeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n            '<div class=\"button-bar alignright\">',\r\n                 '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_invoiceBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/InvoiceRTDV",["dojo/_base/declare","dojo/i18n!./nls/InvoiceRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/InvoiceRTDV.html","Sage/UI/DateTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_227,_228,_229,_22a,_22b,_22c,_22d,_22e,_22f){var _230=_227("Sage.MainView.IntegrationContract.InvoiceRTDV",[_229,_22a],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_22f)),constructor:function(){dojo.mixin(this,_228);},loadSalesInvoices:function(){var self=this;var _231={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"reference",name:this.grdInvoice_Name,defaultValue:"",sortable:true,formatter:this.invoiceDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_22e,formatType:"date",dateOnly:true,utc:false,name:this.grdInvoice_Date,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdInvoice_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"settlementDiscountTerms",name:this.grdInvoice_PaymentTerms,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdInvoice_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdInvoice_Tax,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdInvoice_Amount,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesInvoices"}]}),tools:[]};var _232=new _22b.Grid(_231,this.placeHolder);_232.startup();var _233=dijit.byId("tabContent");_233.resize();_233.resize();this.grid=_232;},invoiceDetailsViewRenderer:function(_234){return dojo.string.substitute("<a href=\"javascript:invoiceRTDV.loadDetailsView();\">${0}</a>",[_234]);},destroyFirst:function(id){var _235=dijit.byId(id);if(_235){_235.destroyRecursive();}},loadAddresses:function(data){this.destroyFirst("sdgrdInvoiceAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _236=new dojox.grid.DataGrid({id:"sdgrdInvoiceAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_236.domNode,this.sdgrdInvoiceAddresses_Grid,"single");_236.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdInvoiceLines");if(data&&typeof data.salesInvoiceLines==="undefined"){data.salesInvoiceLines={};data.salesInvoiceLines.$resources=new Array();}var _237=new dojox.grid.DataGrid({id:"sdgrdInvoiceLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdItems_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesInvoiceLines"}});dojo.place(_237.domNode,this.sdgrdInvoiceLines_Grid,"only");_237.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _238=row["$key"];return dojo.string.substitute("'${0}'",[_238]);},resourceKind:"salesInvoices",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _239=new dojox.grid.DataGrid({id:"sdgrdPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_22e,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_22e,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_239.domNode,this.sdgrdPayments_Grid,"only");_239.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _23a=row["$key"];return dojo.string.substitute("'${0}'",[_23a]);},resourceKind:"salesInvoices",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrderDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdDeliveries");if(data&&typeof data.salesOrderDeliveries==="undefined"){data.salesOrderDeliveries={};data.salesOrderDeliveries.$resources=new Array();}var _23b=new dojox.grid.DataGrid({id:"sdgrdDeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_22e,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_22e,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_22e,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_23b.domNode,this.sdgrdDeliveries_Grid,"only");_23b.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.invoiceDialogContent,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _23c=row["$key"];this.dataStore=new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesInvoices",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_23c]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesInvoiceLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,salesInvoiceLines/commodity/name,salesInvoiceLines/unitOfMeasure/name,salesInvoiceLines/commodityVariant/reference,salesInvoiceLines/commodityDimension/reference,salesOrderDeliveries/carrierTradingAccount/name"],includeContent:true});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},loadInvoiceDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadInvoiceDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.invoiceTabContainer!=null){this.invoiceTabContainer.selectChild(this.invoiceContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.invoiceDialogContent,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdDeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdPayments");this.paymentsDataStore=null;this._dialog.hide();}});return _230;});},"Sage/MainView/ReportMgr/ReportWizardController":function(){define("Sage/MainView/ReportMgr/ReportWizardController",["Sage/UI/Dialogs","dojo/string","dojo/json","dojo/_base/array","dojo/i18n!./nls/ReportWizardController","Sage/Reporting/Enumerations","Sage/Utility","Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController"],function(_23d,_23e,_23f,_240,_241,_242,_243,_244){Sage.namespace("Sage.MainView.ReportMgr.ReportWizardController");dojo.mixin(Sage.MainView.ReportMgr.ReportWizardController,{startWizard:function(_245){if(!_245){return;}if(_245.reportId){this._getReportMetadata(_245.reportId,_245.reportOptions,_245.reportDisplayName);}else{if(_245.triggerId){this._getReportSchedule(_245.triggerId);}else{return;}}},_getReportSchedule:function(_246){var self=this;this._showLoadingIndicator(_241.txtLoadingScheduleDetails);var _247={triggerId:_246,success:function(_248){self._closeLoadingIndicator();self._triggerReceived(_248);},failure:function(xhr){self._closeLoadingIndicator();var _249=self._getErrorMessage(xhr);_23d.showError(_249,_241.txtError);}};var _24a=Sage.Services.getService("ReportingService");_24a.getSchedule(_247);},_triggerReceived:function(_24b){var _24c=this._getParameterValue(_24b.parameters,"PluginFamily");var _24d=this._getParameterValue(_24b.parameters,"PluginName");var _24e=this._getParameterValue(_24b.parameters,"ReportConditions");_24e=_24e?"["+_24e+"]":"[]";_24e=_23f.parse(_24e);var _24f=this._getParameterValue(_24b.parameters,"ConditionsConnector");_240.forEach(_24e,function(_250,j){if(_250.dataType===_242.FieldDataTypes.DateTime){if(_243.Convert.isDateString(_250.value)){_250.value=_243.Convert.toDateFromString(_250.value);}if(_243.Convert.isDateString(_250.fromRange)){_250.fromRange=_243.Convert.toDateFromString(_250.fromRange);}if(_243.Convert.isDateString(_250.toRange)){_250.toRange=_243.Convert.toDateFromString(_250.toRange);}}});var _251=this._getParameterValue(_24b.parameters,"ReportParameters");_251=_251?"["+_251+"]":"[]";_251=_23f.parse(_251);var _252=this._getParameterValue(_24b.parameters,"RunAsUserId");var _253=this._getParameterValue(_24b.parameters,"OutputFormat");var _254=this._getParameterValue(_24b.parameters,"ScheduleName");if(_24d&&_24c){var _255=Sage.Services.getService("ReportingService");var _256=_255.getReportId(_24c+":"+_24d);if(_256){var _257={scheduleOptions:{executionType:_242.ExecutionType.Scheduled,trigger:_24b},exportOptions:{outputFormat:_253,runAsUserId:_252},conditionOptions:{conditions:_24e,conditionsConnector:_24f},parameterOptions:{parameters:_251}};this._getReportMetadata(_256,_257);}else{_23d.showError(_241.txtCannotDetermineReportId);}}else{_23d.showError(_241.txtCannotDetermineReportNameOrFamily);}},_getReportMetadata:function(_258,_259,_25a){var self=this;var _25b=_25a?_241.txtLoading+_25a:_241.txtLoadingReport;this._showLoadingIndicator(_25b);var _25c={reportId:_258,success:function(_25d){self._reportMetadataReceived(_25d,_259);},failure:function(xhr){self._closeLoadingIndicator();var _25e=self._getErrorMessage(xhr);_23d.showError(_25e,_241.txtError);}};var _25f=Sage.Services.getService("ReportingService");_25f.getReportMetadata(_25c);},_getErrorMessage:function(xhr){var _260="";if(xhr&&xhr.status&&xhr.statusText){_260=_23e.substitute(_241.txtSorryAnErrorOccuredLoadingReport,[xhr.status,xhr.statusText]);}return _260;},_reportMetadataReceived:function(_261,_262){_240.forEach(_261.reportFilters,function(_263,i){_240.forEach(_263.filterConditions,function(_264,j){if(_264.dataType===_242.FieldDataTypes.DateTime){if(_243.Convert.isDateString(_264.value)){_264.value=_243.Convert.toDateFromString(_264.value);}if(_243.Convert.isDateString(_264.fromRange)){_264.fromRange=_243.Convert.toDateFromString(_264.fromRange);}if(_243.Convert.isDateString(_264.toRange)){_264.toRange=_243.Convert.toDateFromString(_264.toRange);}}});});_240.forEach(_261.parameters,function(_265,i){if(!_265.currentValues){_265.currentValues=[];}});this._closeLoadingIndicator();var _266=this._getControllerInstance(_261,_262);_266.startWizard();},_getControllerInstance:function(_267,_268){switch(_267.reportType){case _242.ReportTypes.CrystalReport:return new _244(_267,_268);}},_showLoadingIndicator:function(_269){var _26a=dijit.byId("dlgReportLoading");if(_26a){_26a.destroyRecursive();}_26a=new dijit.Dialog({id:"progressDialog",title:_269,style:"width: 300px; height: 100px",closable:false});var _26b=new dijit.ProgressBar({id:"reportLoadingProgressBar",style:"margin-top: 10px; margin-bottom: 20px",indeterminate:true});_26a.containerNode.appendChild(_26b.domNode);_26a.show();dojo.style(_26a.closeButtonNode,"display","none");_26a.onCancel=function(){};},_closeLoadingIndicator:function(){var dlg=dijit.byId("progressDialog");if(dlg){dlg.hide();dlg.destroyRecursive();}},_getParameterValue:function(_26c,_26d){var _26e=null;_240.some(_26c,function(_26f,j){if(_26f.name===_26d){_26e=_26f.value;return true;}});return _26e;}});return Sage.MainView.ReportMgr.ReportWizardController;});},"Sage/TaskPane/User/nls/ContactUserAssociationEditor":function(){define("Sage/TaskPane/User/nls/ContactUserAssociationEditor",["Sage/LanguageList","dojo/_base/lang"],function(_270,lang){var nls={root:{btnCancel_Caption:"Cancel",btnOK_Caption:"OK",dialogTitleText:"Associate User with Contact",associateContactText:"Associate the selected user with the following contact",user_Caption:"Contact",lookupContactText:"Lookup Contact",lookupFirstNameColText:"First Name",lookupLastNameColText:"Last Name",lookupTitleColText:"Title",lookupAccountColText:"Account",lookupWorkPhoneColText:"Work Phone",lookupEmailText:"Email",disAssociateTitle:"Disassociate from a Contact",associationExistsMessage:"The contact you selected is already associated to a user. Select another contact.",}};return lang.mixin(_270,nls);});},"Sage/MainView/nls/ActivityManager":function(){define("Sage/MainView/nls/ActivityManager",["Sage/LanguageList","dojo/_base/lang"],function(_271,lang){var nls={root:{titleFmtString:"${0}",tabDisplayNameActivity:"Activities",tabDisplayNameLit:"Literature",tabDisplayNameEvent:"Events",tabDisplayNameConfirm:"Confirmations",activityColNameComplete:"Complete",activityColNameAttachment:"Attachment",activityColNameRecurring:"Recurring",activityColNameAlarm:"Alarm",activityColNameType:"ActivityType",activityColNameStartDate:"StartDate",activityColNameDuration:"Duration",activityColNameContact:"Contact",activityColNameLead:"Lead",activityColNameAccount:"Account",activityColNameRegarding:"Regarding",activityColNamePriority:"Priority",activityColNameUserId:"leader",activityTypePhone:"Phone",activityTypeCall:"Call",activityTypeMeeting:"Meeting",activityTypePersonal:"Personal"}};return lang.mixin(_271,nls);});},"Sage/UI/Alarms/main":function(){define("Sage/UI/Alarms/main",["Sage/UI/Alarms/ActivityAlarm","Sage/UI/Alarms/AlarmButton","Sage/UI/Alarms/AlarmCountDown","Sage/UI/Alarms/AlarmPane","Sage/UI/Alarms/AlarmPopup","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/UnconfirmedAlarm","Sage/UI/Alarms/UnconfirmedPane","Sage/UI/Alarms/JobNotificationButton","Sage/UI/Alarms/JobNotificationPopup"],function(){});},"Sage/UI/Columns/HistoryType":function(){define("Sage/UI/Columns/HistoryType",["dojox/grid/cells/_base","Sage/Utility","Sage/Utility/Activity","dojo/string","dojo/_base/declare"],function(_272,util,_273,_274,_275){var _276=_275("Sage.UI.Columns.HistoryType",_272,{keyField:false,format:function(_277,_278){var type=this.get(_277,_278);if(!type){return this.defaultValue;}var key=util.getValue(_278,this.keyField||"$key");var fmt="<div class=\"Global_Images icon16x16 ${0}\"></div>&nbsp;<a href=\"javascript:Sage.Link.editHistory('${1}')\">${2}</a>";return _274.substitute(fmt,[_273.getActivityImageClass(type,"small"),key,_273.getActivityTypeName(type)]);}});return _276;});},"Sage/UI/SummaryContainer":function(){define("Sage/UI/SummaryContainer",["dijit/_Widget","Sage/_Templated","Sage/UI/SummaryContents","dojo/_base/declare"],function(_279,_27a,_27b,_27c){var _27d=_27c("Sage.UI.SummaryContainer",[_279,_27a],{widgetsInTemplate:false,templateLocation:"",contentNode:null,paneContents:null,entity:null,postProcessCallBack:false,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"EntityCard\">","<div dojoAttachPoint=\"contentNode\">Loading...</div>","</div>"]),_setEntityAttr:function(_27e){this.entity=_27e;var pane=new _27b({templateLocation:this.templateLocation,entity:_27e});dojo.place(pane.domNode,this.contentNode,"only");pane.startup();this.paneContents=pane;if(this.postProcessCallBack){this.postProcessCallBack(this.entity);}},startup:function(){if(this.entity){var pane=new _27b({templateLocation:this.templateLocation,entity:this.entity});dojo.place(pane.domNode,this.contentNode,"only");pane.startup();this.paneContents=pane;if(this.postProcessCallBack){this.postProcessCallBack(this.entity);}}},destroy:function(){if(this.paneContents){this.paneContents.destroy(arguments);}this.inherited(arguments);}});return _27d;});},"Sage/UI/SLXPreviewGrid/Filter/DateRange":function(){define("Sage/UI/SLXPreviewGrid/Filter/DateRange",["dijit/form/DateTextBox","dijit/_Widget","dijit/_Templated","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/_base/declare"],function(_27f,_280,_281,_282,_283){var _284=_283("Sage.UI.SLXPreviewGrid.Filter.DateRange",[_280,_281,_282],{templateString:"<div>"+"<input data-dojo-type='dijit.form.DateTextBox' dojoAttachPoint='dteFrom' style='width:90px'> - "+"<input data-dojo-type='dijit.form.DateTextBox' dojoAttachPoint='dteTo' style='width:90px'>"+"</div>",widgetsInTemplate:true,getQuery:function(){var _285=function(_286,_287){if(!_286){return "";}if(_286.constructor!==Date){_286=Date.parse(_286);}if(_287){_286.setUTCDate(_286.getUTCDate()+1);}var pad=function(n){return n<10?"0"+n:n;};return _286.getUTCFullYear()+"-"+pad(_286.getUTCMonth()+1)+"-"+pad(_286.getUTCDate())+"T"+pad(_286.getUTCHours())+":"+pad(_286.getUTCMinutes())+":"+pad(_286.getUTCSeconds())+"Z";};var _288=_285(this.dteFrom.get("value"));var dTo=_285(this.dteTo.get("value"),true);var qry="";if(_288){qry=this.field+" ge '"+_288+"'";}if(dTo){if(qry){qry+=" and ";}qry+=this.field+" lt '"+dTo+"'";}if(this.params["getTimeless"]){if(qry){var _289=false;qry="(("+qry+" and not Timeless) or (";var _28a=Sage.Utility.Activity.formatTimelessStartDate(this.dteFrom.get("value"));var _28b=Sage.Utility.Activity.formatTimelessEndDate(this.dteTo.get("value"));if(_28a){qry+=this.field+" gt '"+_28a+"'";_289=true;}if(_28b){if(_289){qry+=" and ";}qry+=this.field+" lt '"+_28b+"'";}qry+=" and Timeless))";}}return qry;},reset:function(){this.dteFrom.set("value",0);this.dteTo.set("value",0);},getState:function(){return {"dFrom":this.dteFrom.get("value"),"dTo":this.dteTo.get("value")};},applyState:function(_28c){if(_28c){if(_28c["dFrom"]){this.dteFrom.set("value",_28c["dFrom"]);}if(_28c["dTo"]){this.dteTo.set("value",_28c["dTo"]);}}}});return _284;});},"Sage/UI/Dashboard/DashboardWidget":function(){define("Sage/UI/Dashboard/DashboardWidget",["dojo/_base/declare","Sage/UI/Dashboard/WidgetDefinition","dojo/i18n","dojo/_base/lang","dijit/form/TextBox","dijit/form/CheckBox","dojox/charting/widget/Chart2D","dojox/charting/action2d/Highlight","dojox/charting/action2d/MoveSlice","dojox/charting/action2d/Tooltip","dojox/charting/action2d/Magnify","dojox/charting/widget/Legend","dojox/charting/themes/Julie","dojo/i18n!./nls/DashboardWidget"],function(_28d,_28e,i18n,lang){var _28f=_28d("Sage.UI.Dashboard.DashboardWidget",null,{constructor:function(_290){dojo.safeMixin(this,_290);this._setDefinition();this._winResize=dojo.connect(window,"onresize",this,function(){if(!this.parentCell.open||!this.parentCell._started){return;}if(this.parentCell.refresh){this.parentCell.refresh(true);}});this.dropSub=dojo.subscribe("/ui/widget/dropped",this,function(id,p,c,i){if(id===this.parentCell.id){if(!this.parentCell.open||!this.parentCell._started){return;}if(this.parentCell.refresh){this.parentCell.refresh(true);}}});},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardWidget"));},_getInstanceData:function(){if(this.parentCell.isNew&&this.definition.editor){this.definition.editor(this.parentCell);if(this.parentCell._settingsWidget){this.parentCell._settingsWidget.toggle();}else{this.parentCell._editorAdded();}return;}if(!this.definition.isStatic){var that=this;if(this.options.datasource){dojo.xhrGet({url:this.options.datasource,handleAs:"json",preventCache:true,load:function(data){if(data){that._setInstanceData(data);}else{that.parentCell.set("content",this.noQueryDataText+this.options.datasource);}},error:function(data){that._setInstanceData(null);}});}else{this.parentCell._setContent(this.initializingText||"",true);if(this.definition.isStaticXhr){this._setInstanceData(null);}if(this.definition.editor){this.definition.editor(this.parentCell);}}}else{this._setInstanceData();}},_setDefinition:function(){_28e(Sage.UI.WidgetDefinitions[this.options.name],lang.hitch(this,function(_291){this.definition=_291;this._getInstanceData();}));},_setInstanceData:function(data){if(this.definition.isStatic){this.parentCell.set("content",this.definition.html(this.parentCell));if(this.definition.editor){this.definition.editor(this.parentCell);}}else{this.definition.html(this.parentCell,data);}}});return _28f;});},"Sage/Data/SummaryViewDataManager":function(){define("Sage/Data/SummaryViewDataManager",["Sage/Data/SDataServiceRegistry","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_292,_293,_294,lang){var _295=_294("Sage.Data.SummaryRequestQueue",null,{mashupName:"",queryName:"",fetching:false,service:null,unfetchedIds:null,constructor:function(_296){lang.mixin(this,_296);this.requestHash={};this.fetching=false;this.unfetchedIds=[];this.allFetched=[];this.service=_292.getSDataService("mashups");},add:function(id,_297){this.requestHash[id]=_297;this.allFetched.push({id:id,context:_297});this.unfetchedIds.push(id);},send:function(_298,_299){this.fetching=true;var _29a=[],id,_29b;for(id in this.requestHash){_29a.push("'"+id+"'");_29b=_293.indexOf(this.unfetchedIds,id);if(_29b>-1){this.unfetchedIds.splice(_29b,1);}}var _29c=new Sage.SData.Client.SDataNamedQueryRequest(this.service);_29c.setApplicationName("$app");_29c.setResourceKind("mashups");var _29d=this.mashupName||"SummaryViewQueries";_29c.uri.setCollectionPredicate("'"+_29d+"'");_29c.setQueryName("execute");_29c.setQueryArg("_resultName",this.queryName);_29c.setQueryArg("_ids",_29a.join(","));var _29e=this;_29c.read({success:lang.hitch(_299,_298,_29e),failure:lang.hitch(this,this.requestFailed,_29e)});},requestFailed:function(a,b,c){}});var _29f=_294("Sage.Data.SummaryViewDataManager",null,{oldQueue:null,queue:null,maxQueueLength:100,constructor:function(){this.oldQueue={};this._createNewQueue();},_createNewQueue:function(){this.queue=new _295({});this.requestTimeout=false;},requestData:function(_2a0,_2a1,_2a2){if(this.queue.fetching){this.oldQueue=this.queue;this._createNewQueue();}this.queue.mashupName=_2a2.mashupName;this.queue.queryName=_2a2.queryName;this.queue.add(_2a0,_2a1);if(this.requestTimeout){window.clearTimeout(this.requestTimeout);}var q=this.queue;var self=this;if(q.unfetchedIds.length>=this.maxQueueLength){q.send(self.receiveData,self);}this.requestTimeout=window.setTimeout(function(){q.send(self.receiveData,self);},250);},requestDataNoWait:function(_2a3,_2a4,_2a5){var _2a6=new _295({mashupName:_2a5.mashupName,queryName:_2a5.queryName});_2a6.add(_2a3,_2a4);_2a6.send(this.receiveData,this);},receiveData:function(_2a7,data){for(var i=0;i<data.$resources.length;i++){var _2a8=data.$resources[i];var id=_2a8.id;if(!id){id=_2a8.$key;_2a8.id=_2a8.$key;}(function(_2a9){_293.forEach(_2a7.allFetched,function(item){try{if(_2a9.id===item.id){item.context.set("entity",_2a9);}}catch(err){}});})(_2a8);}}});Sage.Services.addService("SummaryViewDataManager",new _29f());return _29f;});},"Sage/Services/nls/JobService":function(){define("Sage/Services/nls/JobService",["Sage/LanguageList","dojo/_base/lang"],function(_2aa,lang){var nls={root:{txtInvalidParameter:"Invalid parameter: '${0}'.",txtTriggerJobError:"Sorry an error occurred triggering job '${0}': ${1} ${2}.",txtScheduleJobError:"Sorry an error occurred scheduling job '${0}': ${1} ${2}.",txtUnexpectedError:"Sorry an error occurred: ${0} ${1}."}};return lang.mixin(_2aa,nls);});},"Sage/MainView/ActivityMgr/ActivityCalendar":function(){define("Sage/MainView/ActivityMgr/ActivityCalendar",["Sage/Data/WritableSDataStore","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/date/locale","dojo/string","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/ActivityCalendar","Sage/Array"],function(_2ab,_2ac,_2ad,_2ae,_2af,_2b0,lang,_2b1,_2b2){var _2b3=_2b1("Sage.MainView.ActivityMgr.ActivityCalendar",null,{_contentWindow:null,_activitiesData:null,_eventsData:null,_allData:null,_schedulerEvents:[],_schedulerEvents1:[],_schedulerLoaded:false,_loadHistoryOnStart:false,self:this,_calendarUsers:[],_selectedUsers:[],_currentUser:null,_userOptions:{},_userActivityData:[],_reccurring:[],_currentUserId:null,_currentUserColor:[],_dateRangeStart:null,_dateRangeEnd:null,completedText:"(Completed)",meetingIconUrl:"../../images/icons/meeting_14x14.png",toDoIconUrl:"../../images/icons/To_Do_14x14.png",phoneCallIconUrl:"../../images/icons/Call_14x14.png",personalActivityIconUrl:"../../images/icons/personal_14x14.png",_userColors:[],constructor:function(_2b4,_2b5){(function(){this._contentWindow=_2b4;})();this._currentUserId=lang.trim(_2ae.getClientContextByKey("userID"))||"";this._userOptions=_2b5;this._userColors["user1"]="#D5E2BD";this._userColors["user2"]="#CFDEF5";this._userColors["user3"]="#FBDBB5";this._userColors["user4"]="#DFC9F6";this._currentUserColor=[];this._nlsResources=_2b2;var _2b6=function(dt){return dojo.date.locale.format(new Date(dt),{selector:"date",datePattern:"EEE MMM d yyyy 00:00:00 ZZZZ"});};var _2b7=function(dt){return dojo.date.locale.format(new Date(dt),{selector:"date",datePattern:"EEE MMM d yyyy 24:00:00 ZZZZ"});};var _2b8=function(data){var _2b9=[{StartDate:_2b6(Sage.Utility.Convert.toDateFromString(data.StartDate)),EndDate:_2b7(Sage.Utility.Convert.toDateFromString(data.EndDate)),Text:data.Type,Id:data.$key+"-evt"}];return _2b9;};var self=this;dojo.subscribe("/entity/history/create",function(data){if(data!=null){var _2ba=data.HistoryId||data.$key;if(_2ba){self._getHistoryItem(_2ba);}}});dojo.subscribe("/entity/history/delete",function(key){if(key!=null){self._deleteHistoryItem(key);}});dojo.subscribe("/entity/activity/create",function(data){if(data!=null){if(!data.Timeless){var _2bb=data.Leader.$key;_2bb=lang.trim(_2bb);if(self._isUserSelected(_2bb)){if(data.Recurring){self._refreshSchedulerEvents();}else{var _2bc=self._formatActivityObject(data,_2bb);if(!self._userActivityData[_2bb]){self._userActivityData[_2bb]=[];self._userActivityData[_2bb]["activities"]=[];}self._userActivityData[_2bb]["activities"].push(_2bc);dojo.publish("/entity/activity/addToScheduler",[_2bc,this]);}}}}});dojo.subscribe("/entity/userActivity/create",function(data){if(data!=null&&data.Activity){var _2bd=data.Activity.$key;var _2be=data.User.$key;var _2bf=data.Status;if(self._isUserSelected(_2be)){if(self._reccurring[_2bd]){self._removeReccurringFromScheduler(_2bd);window.setTimeout(function(){self._reloadAllActivitiesByActivityId(_2bd);},1);}else{var _2c0=self._getActivityObjectFromCollection(_2bd);if(_2c0){var _2c1=self._getUserActivityFromActivity(_2c0,_2bd,_2be,_2bf);dojo.publish("/entity/activity/addToScheduler",[_2c1,this]);if(!self._userActivityData[_2be]){self._userActivityData[_2be]=[];self._userActivityData[_2be]["activities"]=[];}self._userActivityData[_2be]["activities"].push(_2c1);}}}}});dojo.subscribe("/entity/activity/activityScheduler/reloadActivity",function(_2c2){self._reloadAllActivitiesByActivityId(_2c2);});dojo.subscribe("/entity/userActivity/delete",function(data){if(data!=null){var _2c3=data.split(";")[0];var _2c4=data.split(";")[1];var _2c5=_2c3.split("=")[1];if(self._reccurring[_2c5]){self._removeReccurringFromScheduler(_2c5);window.setTimeout(function(){self._reloadAllActivitiesByActivityId(_2c5);},1);}else{var _2c6=_2c4.split("=")[1];_2c6=_2c6.replace("'","");var _2c7=_2c5+"-"+_2c6+"-act";if(lang.trim(_2ae.getClientContextByKey("userID"))==_2c6){_2c7="0:"+_2c7;}dojo.publish("/entity/activity/deleteFromScheduler",[_2c7,this]);self._removeActivityObjectFromCollection(_2c5,_2c6);}}});dojo.subscribe("/entity/activity/change",function(data){if(data!=null&&!data.Timeless){if(data.Recurring||data.RecurrenceState.toLowerCase()!=="rsnotrecurring"){self._refreshSchedulerEvents();}else{if(data.LeaderChanged){self._deleteFromSchedulerByActivity(data.$key);}var _2c8=null;if(data.Leader&&data.Leader.$key){_2c8=lang.trim(data.Leader.$key);}if(self._isUserSelected(_2c8)){var _2c9=self._formatActivityObject(data,_2c8);dojo.publish("/entity/activity/updateScheduler",[_2c9,this]);self._removeActivityObjectFromCollection(data.$key,_2c8);self._userActivityData[_2c8]["activities"].push(_2c9);}var _2ca=self._getMembersOfActivity(data.$key);if(_2ca){for(var i=0;i<_2ca.length;i++){if(_2ca[i]!==_2c8){_2c9=self._formatActivityObject(data,_2ca[i]);dojo.publish("/entity/activity/updateScheduler",[_2c9,this]);self._removeActivityObjectFromCollection(data.$key,_2ca[i]);if(!self._userActivityData[_2ca[i]]){self._userActivityData[_2ca[i]]=[];self._userActivityData[_2ca[i]]["activities"]=[];}self._userActivityData[_2ca[i]]["activities"].push(_2c9);}}}}}else{if(data!=null&&data.TimelessChanged){self._deleteFromSchedulerByActivity(data.$key);}}});dojo.subscribe("/entity/activity/delete/single",function(_2cb){self._deleteFromSchedulerByActivity(_2cb);});dojo.subscribe("/entity/activity/confirm",function(_2cc){if(_2cc){self._refreshSchedulerByActivity(_2cc.activityId);}});dojo.subscribe("/entity/activity/decline",function(_2cd){if(_2cd){self._refreshSchedulerByActivity(_2cd.activityId);}});dojo.subscribe("/entity/activity/delete/recurrence",function(_2ce){var _2cf;if(_2ce){_2cf=_2ce.substring(0,13);if(self._userActivityData){for(var i in self._userActivityData){if(self._userActivityData[i]!=null){var _2d0=[];if(self._userActivityData[i]["activities"]){for(var k=0;k<self._userActivityData[i]["activities"].length;k++){if(self._userActivityData[i]["activities"][k]){var id=self._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_2cf)>-1){_2d0.push(id);}}}if(_2d0.length>0){dojo.publish("/entity/activity/clearSchedulerEvents",[_2d0,this]);}}}}}}});dojo.subscribe("/entity/activity/delete",function(_2d1){self._deleteFromSchedulerByActivity(_2d1);});dojo.subscribe("/entity/event/create",function(data){if(data!=null){var _2d2=data.UserId;_2d2=lang.trim(_2d2);var _2d3=self._formatEventObject(data,_2d2);dojo.publish("/entity/activity/addToScheduler",[_2d3,this]);}});dojo.subscribe("/entity/event/change",function(data){if(data!=null){var _2d4=data.UserId;_2d4=lang.trim(_2d4);var _2d5=self._formatEventObject(data,_2d4);dojo.publish("/entity/activity/updateScheduler",[_2d5,this]);}});dojo.subscribe("/entity/event/delete/single",function(_2d6){var evId=_2d6+"-evt";dojo.publish("/entity/activity/deleteFromScheduler",[evId,this]);});dojo.subscribe("/entity/calendar/userlist/add",function(data){(function(){dojo.publish("/entity/activity/updateScheduler",[_2b8(data),this]);})();});completedText=this._nlsResources.completedText||"(Completed)";},_deleteHistoryItem:function(_2d7){if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["history"]){for(var k=0;k<this._userActivityData[i]["history"].length;k++){if(this._userActivityData[i]["history"][k]){var id=this._userActivityData[i]["history"][k]["id"];if(id.indexOf(_2d7)>-1){delete this._userActivityData[i]["history"][k];dojo.publish("/entity/activity/deleteFromScheduler",[id,this]);break;}}}}}}}},_deleteFromSchedulerByActivity:function(_2d8){if(_2d8&&_2d8.indexOf("{")==-1){var _2d9=this._getAllActivitiesFromCollectionById(_2d8);for(var i=0;i<_2d9.length;i++){dojo.publish("/entity/activity/deleteFromScheduler",[_2d9[i],this]);this._removeActivityObjectFromCollectionByActivityId(_2d9[i]);}}},_isUserSelected:function(_2da){var _2db=false;for(var i in this._selectedUsers){if(this._selectedUsers[i]["userId"]){if(this._selectedUsers[i]["userId"].toString()==_2da){_2db=true;break;}}}return _2db;},_refreshSchedulerByActivity:function(_2dc){if(_2dc){this._deleteFromSchedulerByActivity(_2dc);this._reloadAllActivitiesByActivityId(_2dc);}},_getUserActivityFromActivity:function(_2dd,_2de,_2df,_2e0){var _2e1=dojo.clone(_2dd);var sd=_2dd.start_date;var ed=_2dd.end_date;var _2e2=false;if(_2e1){_2e1.id=_2de+"-"+_2df+"-act";if(_2e0){switch(_2e0){case "asAccepted":_2e2=true;break;case "asUnconfirmed":_2e2=false;break;}}_2e1.userColor=this._currentUserColor[_2df];_2e1.end_date=ed;_2e1.start_date=sd;_2e1.confirmed=_2e2;}return _2e1;},_getActivityObjectFromCollection:function(_2e3){var _2e4=null;var br=false;if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_2e3)>-1){_2e4=this._userActivityData[i]["activities"][k];br=true;break;}}}}}if(br){break;}}}return _2e4;},_getAllActivitiesFromCollectionById:function(_2e5){var _2e6=[];if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_2e5)>-1){_2e6.push(id);}}}}}}}return _2e6;},_removeActivityObjectFromCollection:function(_2e7,_2e8){if(this._userActivityData){if(this._userActivityData[_2e8]!=null){if(this._userActivityData[_2e8]["activities"]){for(var k=0;k<this._userActivityData[_2e8]["activities"].length;k++){if(this._userActivityData[_2e8]["activities"][k]){var id=this._userActivityData[_2e8]["activities"][k]["id"];if(id.indexOf(_2e7)>-1){delete this._userActivityData[_2e8]["activities"][k];break;}}}}}}},_removeActivityObjectFromCollectionByActivityId:function(_2e9){var br=false;if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id==_2e9){delete this._userActivityData[i]["activities"][k];br=true;break;}}}}}if(br){break;}}}},_getMembersOfActivity:function(_2ea){var _2eb;var _2ec=[];if(this._userActivityData){for(var i in this._selectedUsers){if(this._selectedUsers[i]&&this._selectedUsers[i]["userId"]){var _2ed=this._selectedUsers[i]["userId"].toString();if(this._userActivityData[_2ed]!=null){if(this._userActivityData[_2ed]["activities"]){_2eb=this._userActivityData[_2ed]["activities"].filter(function(_2ee){return _2ee.id.indexOf(_2ea)>-1;});if(_2eb.length>0){_2ec.push(_2ed);}}}}}}return _2ec;},_getWeekStart:function(_2ef,date){if(date==null){date=new Date();}var _2f0=date.getDay();_2f0=_2ef-_2f0;var _2f1=dojo.date.add(date,"day",_2f0);if(_2f1>date){_2f1=dojo.date.add(_2f1,"day",-7);}return _2f1;},_setQueryDates:function(data){var _2f2=data.date.valueOf();switch(data.mode){case "day":case "week":case "workweek":case "month":var _2f3=dojo.date.getDaysInMonth(new Date(_2f2));var _2f4=new Date(new Date(_2f2).setDate(1));_2f4.setHours(0,0,0,0);var _2f5=new Date(new Date(_2f2).setDate(_2f3));_2f5.setHours(0,0,0,0);var _2f6=this._dateAdd(_2f4,"day",-7);var _2f7=this._dateAdd(_2f5,"day",8);this._dateRangeStart=Sage.Utility.Convert.toIsoStringFromDate(_2f6);this._dateRangeEnd=Sage.Utility.Convert.toIsoStringFromDate(_2f7);break;}},_updateDateRange:function(data,_2f8){if(!_2f8&&!this._schedulerLoaded){return;}var _2f9=false;var _2fa=data.date;if(Sage.Utility.Convert.isDateString(_2fa)){_2fa=Sage.Utility.Convert.toDateFromString(_2fa);}_2fa=new Date(_2fa.getFullYear(),_2fa.getMonth(),_2fa.getDate(),_2fa.getHours(),_2fa.getMinutes());if(this._dateRangeStart&&this._dateRangeEnd){var _2fb=this._dateRangeStart;if(Sage.Utility.Convert.isDateString(_2fb)){_2fb=Sage.Utility.Convert.toDateFromString(_2fb);}_2fb=new Date(_2fb.getFullYear(),_2fb.getMonth(),_2fb.getDate(),_2fb.getHours(),_2fb.getMinutes());var _2fc=this._dateRangeEnd;if(Sage.Utility.Convert.isDateString(_2fc)){_2fc=Sage.Utility.Convert.toDateFromString(_2fc);}_2fc=new Date(_2fc.getFullYear(),_2fc.getMonth(),_2fc.getDate(),_2fc.getHours(),_2fc.getMinutes());var _2fd=null;var _2fe=null;switch(data.mode){case "day":if(dojo.date.compare(_2fa,_2fc,"date")>0||(dojo.date.compare(_2fb,_2fa,"date")>0)){_2f9=true;}break;case "week":_2fd=this._formatDateToCompare(data.weekStartDate);_2fe=this._formatDateToCompare(data.weekEndDate);if((dojo.date.compare(_2fd,_2fb,"date")>=0&&dojo.date.compare(_2fc,_2fe,"date")>=0)||(dojo.date.compare(_2fb,_2fd,"date")>=0&&dojo.date.compare(_2fe,_2fc,"date")>=0)){_2f9=false;}else{_2f9=true;}break;case "workweek":_2fd=this._formatDateToCompare(data.workWeekStartDate);_2fe=this._formatDateToCompare(data.workWeekEndDate);if((dojo.date.compare(_2fd,_2fb,"date")>=0&&dojo.date.compare(_2fc,_2fe,"date")>=0)||(dojo.date.compare(_2fb,_2fd,"date")>=0&&dojo.date.compare(_2fe,_2fc,"date")>=0)){_2f9=false;}else{_2f9=true;}break;case "month":_2f9=true;break;}}else{_2f9=true;}if(_2f9){this._setQueryDates(data);this._refreshSchedulerEvents();}},_formatDateToCompare:function(dt){var d=dt;if(Sage.Utility.Convert.isDateString(d)){d=Sage.Utility.Convert.toDateFromString(d);}d=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes());return d;},_updateCalendarUsers:function(_2ff,_300){var idx=dojo.indexOf(this._calendarUsers,_2ff);if(_300==="add"){if(idx!=-1){this._calendarUsers.splice(idx);}this._calendarUsers.push(_2ff);}else{if(_300==="remove"){if(idx!=-1){this._calendarUsers.splice(idx);}}}},_updateReccurring:function(id){if(id){var rId=id.replace("0:","").split(";");var aId=rId[0];if(!this._reccurring[aId]){this._reccurring[aId]=[];}this._reccurring[aId].push(id);}},_dateAdd:function(dt,mode,_301){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _302=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());_302=dojo.date.add(_302,mode,_301);return _302;},_reloadUserCalendars:function(_303){if(this._userActivityData){if(this._userActivityData[_303]!=null){var _304=[];var _305=[];var _306=[];if(this._userActivityData[_303]["activities"]){for(var k=0;k<this._userActivityData[_303]["activities"].length;k++){if(this._userActivityData[_303]["activities"][k]){_304.push(this._userActivityData[_303]["activities"][k]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_304,this]);}if(this._userActivityData[_303]["events"]){for(var l=0;l<this._userActivityData[_303]["events"].length;l++){if(this._userActivityData[_303]["events"][l]){_305.push(this._userActivityData[_303]["events"][l]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_305,this]);}if(this._userActivityData[_303]["history"]){for(var m=0;m<this._userActivityData[_303]["history"].length;m++){if(this._userActivityData[_303]["history"][m]){_306.push(this._userActivityData[_303]["history"][m]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_306,this]);}}}},_updateSelectedUsers:function(_307,_308,_309){if(_307){if(this._selectedUsers==null||this._selectedUsers.length==0){this._selectedUsers=lang.clone(_307);}else{var _30a;if(_308){for(var i in _307){_30a=_307[i]["userId"];if(_30a){delete this._selectedUsers[_30a];}}}else{for(var i in _307){_30a=_307[i]["userId"];userColor=_307[i]["usercolor"];if(_30a){this._selectedUsers[_30a]=_307[i];if(this._currentUserId==_30a){this._updateCalendarUsers(_30a.toString(),"add");this._getActivities(_30a.toString(),userColor.toString());this._getEvents(_30a.toString(),userColor.toString());if(_309){this._getHistory(_30a.toString(),userColor.toString());}}else{var _30b={userId:_30a,userColor:userColor};this._getSecurityAccessData(lang.trim(_2ae.getClientContextByKey("userID")),_30a,_30b,function(_30c){this._updateCalendarUsers(_30c.userId.toString(),"add");this._getActivities(_30c.userId.toString(),_30c.userColor.toString());this._getEvents(_30c.userId.toString(),_30c.userColor.toString());if(_309){this._getHistory(_30c.userId.toString(),_30c.userColor.toString());}},this);}}}}}}},_refreshSchedulerEvents:function(){dojo.publish("/entity/activity/clearScheduler",[null,this]);if(this._selectedUsers){var _30d,_30e;var _30f=lang.trim(_2ae.getClientContextByKey("userID"));var _310=false;if(this._selectedUsers[_30f]){_310=this._selectedUsers[_30f]["loadHistoryOnStart"];}for(var i in this._selectedUsers){_30d=this._selectedUsers[i]["userId"];_30e=this._selectedUsers[i]["usercolor"];var _311={userId:_30d,userColor:_30e};if(_30d==_30f){this._getActivities(_30d,_30e);this._getEvents(_30d,_30e);if(_310){this._getHistory(_30d,_30e);}}else{if(_30d){this._getSecurityAccessData(_30f,_30d,_311,function(_312){this._getActivities(_312.userId,_312.userColor);this._getEvents(_312.userId,_312.userColor);if(_310){this._getHistory(_312.userId,_312.userColor);}},this);}}}}this._schedulerLoaded=true;},_removeReccurringFromScheduler:function(_313){if(this._reccurring){var list=this._reccurring[_313];if(list&&list.length>0){dojo.publish("/entity/activity/clearSchedulerEvents",[list,this]);}}},_checkSecurityAccess:function(_314,_315,_316,_317){this.accessData=false;if(!this._accessStore){this._accessStore=new _2ac({include:["$descriptors"],resourceKind:"activityresourceviews",service:_2ad.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_315+"-"+_314+"'",onComplete:function(_318){_316.call(_317,_318);},onError:function(){_316.call(_317,null);},scope:this});},_getSecurityAccessData:function(_319,_31a,_31b,_31c,_31d){if(this._selectedUsers[_31a]&&this._selectedUsers[_31a]["access"]){_31c.call(_31d,_31b);}else{this._checkSecurityAccess(_319,_31a,function(_31e){if(_31e){this._selectedUsers[_31a]["access"]=[];this._selectedUsers[_31a]["access"].allowAdd=_31e.AllowAdd;this._selectedUsers[_31a]["access"].allowEdit=_31e.AllowEdit;this._selectedUsers[_31a]["access"].allowDelete=_31e.AllowDelete;}_31c.call(_31d,_31b);},this);}},_reloadAllActivitiesByActivityId:function(_31f){if(!this.allActivitiesStore){this.allActivitiesStore=_2ab({service:_2ad.getSDataService("system"),resourceKind:"activities",include:["$descriptors,UserInfo"],select:["$key","Alarm","AlarmTime","Status","AccountId","AccountName","ActivityId","ContactId","ContactName","Description","Duration","LeadId","LeadName","OpportunityId","OpportunityName","TicketId","Recurring","StartDate","Timeless","Type","Priority","Notes","Phonenumber","Location","AllowEdit","Leader/Userinfo/UserName","Useractivities/status","Useractivities/User/$key"],sort:[{attribute:"StartDate",descending:true}]});}this.allActivitiesStore.fetch({query:_2b0.substitute("Id eq '${0}' and not Timeless and UserActivities.Status ne 'asDeclned'",[_31f]),count:80,start:0,onComplete:this._onallActivitiesRequestComplete,scope:this});},_onallActivitiesRequestComplete:function(_320){dojo.require("Sage.Utility");dojo.require("dojo.date.locale");if(_320!=null&&_320!=undefined){this._schedulerEventsx=[];var _321=null;for(var i=0;i<_320.length;i++){var _322={};if(!_320[i].Timeless){if(_320[i]["UserActivities"]){var _323=_320[i]["UserActivities"]["$resources"];if(_323&&_323.length>0){for(var j=0;j<_323.length;j++){_321=_323[j]["User"]["$key"];_321=lang.trim(_321);if(this._isUserSelected(_321)&&_323[j]["Status"]!="asDeclned"){_322=this._formatActivityObject(_320[i],_321,_323[j]["Status"]);if(_322){this._schedulerEventsx.push(_322);this._updateUserActivityDataCollection(_321,_322,true);}}}}}else{if(_320[i]["Leader"]){_321=_320[i]["Leader"]["$key"];_321=lang.trim(_321);_322=this._formatActivityObject(_320[i],_321);this._schedulerEventsx.push(_322);this._updateUserActivityDataCollection(_321,_322,true);}}}}dojo.publish("/entity/activity/loadScheduler",[dojo.clone(this._schedulerEventsx),this]);}},_getActivities:function(_324,_325,_326,_327){if(_324==null){_324=_2ae.getClientContextByKey("userID");}_324=lang.trim(_324);self._currentUser=_324;if(_325==null||_325==undefined){_325="user1";}this._currentUserColor[_324]=_325;if(!this.activitiesStore){this.activitiesStore=_2ab({service:_2ad.getSDataService("system"),resourceKind:"activities",include:["$descriptors"],select:["Alarm","AlarmTime","Attachment","Status","AccountId","AccountName","ActivityId","ContactId","ContactName","Description","Duration","LeadId","LeadName","OpportunityId","OpportunityName","TicketId","Recurring","StartDate","Timeless","Type","Priority","Notes","Phonenumber","Location","AllowEdit","AllowDelete","Leader/Userinfo/UserName","UserActivities","UserActivities/User","UserActivities/Status"],sort:[{attribute:"StartDate"}]});}_327=_327||100;_326=_326||1;var _328={"me":this,"userId":_324,"start":_326,"count":_327,"color":_325};this.activitiesStore.fetch({query:_2b0.substitute("UserActivities.UserId eq '${0}' and not Timeless and UserActivities.Status ne 'asDeclned' and StartDate gt @${1}@ and StartDate lt @${2}@",[_324,this._dateRangeStart,this._dateRangeEnd]),onComplete:this._onActivitiesRequestComplete,onBegin:this._onActivitiesRequestBegin,scope:_328,count:_327,start:_326});},_onActivitiesRequestBegin:function(_329,_32a){var _32b=_32a.scope.me;var _32c=_32a.scope.userId;var _32d=_32a.scope.count;var _32e=_32a.scope.start;var _32f=_32a.scope.color;if(_329>100&&_329>(_32e+_32d)){if(_329<=300&&_32e==1){_32b._getActivities(_32c,_32f,(_32e+_32d)-1,_329);}else{_32e=_32e==1?(_32e+_32d)-1:_32e+_32d;_32b._getActivities(_32c,_32f,_32e,100);}}},_getEvents:function(_330,_331){if(_330==null){_330=_2ae.getClientContextByKey("userID");}_330=lang.trim(_330);this._currentUserColor[_330]=_331;if(!this.eventsStore){this.eventsStore=_2ab({service:_2ad.getSDataService("dynamic"),resourceKind:"events",include:[],select:["Type","StartDate","EndDate","Location","Description","User"],sort:[{attribute:"StartDate",descending:true}]});}this.eventsStore.fetch({query:{conditions:_2b0.substitute("UserId eq '${0}' and StartDate gt @${1}@ and StartDate lt @${2}@",[_330,this._dateRangeStart,this._dateRangeEnd])},onComplete:this._onEventsRequestComplete,scope:this});},_getHistory:function(_332,_333,_334,_335){if(_332==null){_332=_2ae.getClientContextByKey("userID");}this._currentUserColor[_332]=_333;_335=_335||100;_334=_334||1;if(!this.historyActivitiesStore){this.historyActivitiesStore=_2ab({service:_2ad.getSDataService("dynamic"),resourceKind:"history",include:["History"],select:["$key","UserId","ActivityId","AccountName","Category","CompletedDate","ContactId","ContactName","Description","Duration","LeadId","LeadName","LongNotes","Notes","OpportunityId","OpportunityName","Priority","Timeless","Type","Location","StartDate","EndDate"],sort:[{attribute:"StartDate"}]});}var _336={"me":this,"userId":_332,"start":_334,"count":_335,"color":_333};this.historyActivitiesStore.fetch({query:_2b0.substitute("UserId eq '${0}' and not Timeless and StartDate gt @${1}@ and StartDate lt @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[_332,this._dateRangeStart,this._dateRangeEnd]),onComplete:this._onHistoryRequestComplete,onBegin:this._onHistoryRequestBegin,scope:_336,count:_335,start:_334});},_onHistoryRequestBegin:function(_337,_338){var _339=_338.scope.me;var _33a=_338.scope.userId;var _33b=_338.scope.count;var _33c=_338.scope.start;var _33d=_338.scope.color;if(_337>100&&_337>(_33c+_33b)){if(_337<=300&&_33c==1){_339._getHistory(_33a,_33d,(_33c+_33b)-1,_337);}else{_33c=_33c==1?(_33c+_33b)-1:_33c+_33b;_339._getHistory(_33a,_33d,_33c,100);}}},_getHistoryItem:function(_33e){if(!this._historyStore){this._historyStore=new _2ac({include:[],resourceKind:"history",service:_2ad.getSDataService("dynamic")});}this._historyStore.fetch({predicate:"\""+_33e+"\"",onComplete:this._receivedHistoryItem,scope:this});},_receivedHistoryItem:function(_33f){var _340;var _341=lang.trim(_2ae.getClientContextByKey("userID"));if(_33f!=null&&_33f!=undefined){_340=_33f.UserId;if(this._selectedUsers[_340]){var _342=false;if(this._selectedUsers[_340]){_342=this._selectedUsers[_340]["loadHistoryOnStart"];}if(_342){var _343={};_343=this._formatHistoryObject(_340,_33f,_341);if(!this._isEmptyObject(_343)){if(!this._userActivityData[_340]){this._userActivityData[_340]={};}if(!this._userActivityData[_340]["history"]){this._userActivityData[_340]["history"]=[];}this._userActivityData[_340]["history"].push(_343);dojo.publish("/entity/activity/addToScheduler",[dojo.clone(_343),this]);}}}}},iframeRef:function(_344){return _344.contentWindow?_344.contentWindow.document:_344.contentDocument;},_getActivityUserId:function(_345){var uId=null;if(_345){var _346=_345.split(";");if(_346&&_346.length>1){uId=_346[1].split("=")[1];}}return uId;},_getAccessData:function(_347,_348){var _349=false;if(this._selectedUsers&&this._selectedUsers[_347]&&this._selectedUsers[_347]["access"]){switch(_348){case "allowAdd":_349=this._selectedUsers[_347]["access"]["allowAdd"];break;case "allowEdit":_349=this._selectedUsers[_347]["access"]["allowEdit"];break;case "allowDelete":_349=this._selectedUsers[_347]["access"]["allowDelete"];break;}}return _349;},_formatActivityObject:function(_34a,_34b,_34c,_34d){var _34e,_34f,text,_350;var _351={};var _352=false;if(!_34d){_34d=lang.trim(_2ae.getClientContextByKey("userID"));}if(_34b===lang.trim(_34d)){_352=true;}if(_34a!=null){if(_352){_351.id="0:";_351.id+=_34a.$key;}else{_351.id=_34a.$key;}_351.currentUser=_352;_351.id+="-"+_34b;_351.id+="-act";_351.type="userActivity";_351.subType=_34a.Type;_34e=_34a.StartDate;text=_34a.ContactName;_351.text=(text==null)?"":text;_351.timeless=_34a.Timeless;_351.alarm=_34a.Alarm;if(_34a["Leader"]){_351.leaderUserId=_34a["Leader"]["$key"];}_351.alarmTime=Sage.Utility.Convert.toDateFromString(_34a.AlarmTime);_351.duration=_34a.Duration;_351.description=_34a.Description;_351.contactId=_34a.ContactId;_351.contactName=_34a.ContactName;_351.accountId=_34a.AccountId;_351.accountName=_34a.AccountName;_351.leadId=_34a.LeadId;_351.leadName=_34a.LeadName;_351.regarding=_34a.Description;_351.priority=_34a.Priority;_351.notes=_34a.Notes;_351.phoneNumber=_34a.PhoneNumber;_351.opportunityId=_34a.OpportunityId;_351.opportunity=_34a.OpportunityName;_351.recurring=_34a.$key.indexOf(";")>0?true:false;if(_352){_351.allowDelete=true;_351.allowEdit=_34a.AllowEdit;}else{_351.allowDelete=this._getAccessData(_34b,"allowDelete");_351.allowEdit=this._getAccessData(_34b,"allowEdit");}_351.ticketId=_34a.TicketId;if(_351.recurring){this._updateReccurring(_351.id);}_351.attachment=_34a.Attachment;_351.location=_34a.Location;switch(_34a.Type.toUpperCase()){case "ATTODO":_350=this.toDoIconUrl;break;case "ATAPPOINTMENT":_350=this.meetingIconUrl;break;case "ATPHONECALL":_350=this.phoneCallIconUrl;break;case "ATPERSONAL":_350=this.personalActivityIconUrl;break;}_351.iconSrc=_350;_351.userColor=this._currentUserColor[_34b];var _353=true;if(_34c){switch(_34c){case "asAccepted":_353=true;break;case "asUnconfirmed":_353=false;break;}}_351.confirmed=_353;_351.start_date=_2ae.Activity.formatActivityStartDateForCalendar(_34a.StartDate);_351.end_date=_2ae.Activity.formatActivityEndDateForCalendar(_34a.StartDate,_351.duration);if(_351.alarmTime){_351.alarmMinutesBefore=dojo.date.difference(Sage.Utility.Convert.toDateFromString(_34a.StartDate),_351.alarmTime,"minute");}if(Sage.Utility.Convert.isDateString(_34a.StartDate)){_34a.StartDate=Sage.Utility.Convert.toDateFromString(_34a.StartDate);}var _354=new Date(_34a.StartDate.getFullYear(),_34a.StartDate.getMonth(),_34a.StartDate.getDate(),_34a.StartDate.getHours(),_34a.StartDate.getMinutes());var _355=dojo.date.add(_354,"minute",_351.duration);if(dojo.date.compare(_355,_354,"date")>0){_351.endsAfterMidnight=true;_351.actualEndDate=_355;}}return _351;},_formatEventObject:function(_356,_357){var _358={};if(_356!=null){_358.id=_356.$key;_358.id+="-evt";_358.type="event";_358.subType=_356.Type;_358.description=_356.Description;_358.location=_356.Location;_358.text=_356.Type;_358.userColor=this._currentUserColor[_357];_358.start_date=_2ae.Activity.formatActivityStartDateForCalendar(_356.StartDate,"MM/d/yy 0:00",true);_358.end_date=_2ae.Activity.formatActivityStartDateForCalendar(_356.EndDate,"MM/d/yy 24:00",true);}return _358;},_updateUserActivityDataCollection:function(_359,_35a,_35b){if(!this._userActivityData[_359]){this._userActivityData[_359]=[];}if(!this._userActivityData[_359]["activities"]){this._userActivityData[_359]["activities"]=[];}else{if(_35b){try{this._userActivityData[_359]["activities"].removeByAttr("id",_35a.id);}catch(ex){}}}this._userActivityData[_359]["activities"].push(_35a);},_onActivitiesRequestComplete:function(_35c,_35d){var _35e=_35d.scope.userId;var _35f=_35d.scope.me;if(_35c!=null&&_35c!=undefined){_35f._schedulerEvents=[];var _360=null;var _361=null;var _362=_2ae.getClientContextByKey("userID");for(var i=0;i<_35c.length;i++){var _363={};if(!_35c[i].Timeless){if(_35c[i]["UserActivities"]){if(_35c[i]["UserActivities"]["$resources"]){for(var j=0;j<_35c[i]["UserActivities"]["$resources"].length;j++){if(_35c[i]["UserActivities"]["$resources"][j]["User"]){if(_35e==_35c[i]["UserActivities"]["$resources"][j]["User"]["$key"]){_360=_35c[i]["UserActivities"]["$resources"][j]["User"]["$key"];_360=lang.trim(_360);_361=_35c[i]["UserActivities"]["$resources"][j]["Status"];_363=_35f._formatActivityObject(_35c[i],_360,_361,_362);_35f._updateUserActivityDataCollection(_360,_363);}}}}}else{if(_35c[i]["Leader"]){_360=_35c[i]["Leader"]["$key"];_360=lang.trim(_360);_363=_35f._formatActivityObject(_35c[i],_360,null,_362);_35f._updateUserActivityDataCollection(_360,_363);_360=null;}}}if(!_35f._isEmptyObject(_363)){_35f._schedulerEvents.push(_363);}}dojo.publish("/entity/activity/loadScheduler",[dojo.clone(_35f._schedulerEvents),_35f]);}},_onEventsRequestComplete:function(_364){dojo.require("Sage.Utility");dojo.require("dojo.date.locale");if(_364!=null&&_364!=undefined){this._schedulerEvents1=[];var _365=null;for(var i=0;i<_364.length;i++){var _366={};if(!_365){_365=_364[i]["User"]["$key"];}_365=lang.trim(_365);_366=this._formatEventObject(_364[i],_365);if(_366){this._schedulerEvents1.push(_366);}}if(!this._userActivityData[_365]){this._userActivityData[_365]={};}this._userActivityData[_365]["events"]=this._schedulerEvents1;dojo.publish("/entity/activity/loadScheduler",[dojo.clone(this._schedulerEvents1),this]);}},_formatHistoryObject:function(_367,_368,_369){var _36a={};var _36b="";var text;_367=lang.trim(_367);if(!_368.Timeless){if(_367==lang.trim(_369)){_36a.id="0:";_36a.id+=_368.$key;}else{_36a.id=_368.$key;}_36a.id+="-"+_367;_36a.id+="-hist";_36a.type="userHistoryActivity";_36a.activityId=_368.ActivityId;_36a.subType=_368.Type;text=_368.ContactName;_36a.text=(text==null)?"":text;_36a.timeless=_368.Timeless;_36a.duration=_368.Duration;_36a.description=_368.Description;_36a.contactName=_368.ContactName;_36a.accountName=_368.AccountName;_36a.leadName=_368.LeadName;_36a.regarding=_368.Description;_36a.priority=_368.Priority;_36a.notes=_368.Notes;_36a.location=_368.Location;_36a.opportunity=_368.OpportunityName;_36a.userColor=this._currentUserColor[_367];_36a.confirmed=true;switch(_368.Type.toUpperCase()){case "ATTODO":_36b=this.toDoIconUrl;break;case "ATAPPOINTMENT":_36b=this.meetingIconUrl;break;case "ATPHONECALL":_36b=this.phoneCallIconUrl;break;case "ATPERSONALACTIVITY":_36b=this.personalActivityIconUrl;break;}_36a.iconSrc=_36b;_36a.start_date=_2ae.Activity.formatActivityEndDateForCalendar(_368.CompletedDate,_36a.duration*-1);_36a.end_date=_2ae.Activity.formatActivityStartDateForCalendar(_368.CompletedDate);}return _36a;},_onHistoryRequestComplete:function(_36c,_36d){if(_36c!=null&&_36c!=undefined){var _36e=_36d.scope.userId;var _36f=_36d.scope.me;var _370=[];var text;var _371=null;var _372=lang.trim(_2ae.getClientContextByKey("userID"));for(var i=0;i<_36c.length;i++){var _373={};_371=_36c[i].UserId;_373=_36f._formatHistoryObject(_371,_36c[i],_372);if(!_36f._isEmptyObject(_373)){_370.push(_373);}}if(_371!=null){if(!_36f._userActivityData[_371]){_36f._userActivityData[_371]={};}_36f._userActivityData[_371]["history"]=_370;dojo.publish("/entity/activity/loadScheduler",[dojo.clone(_370),_36f]);}}},_getEventColorByUser:function(_374){var _375="#d5e2bd";for(var i=0;i<this._calendarUsers.length;i++){if(this._calendarUsers[i].userId==_374){_375=this._calendarUsers[i].eventColor;}}return _375;},_isEmptyObject:function(obj){for(var i in obj){return false;}return true;}});return _2b3;});},"Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager":function(){define("Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_376,_377,_378,lang){var _379=_378("Sage.MainView.ReportMgr.ReportsSDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_37a){lang.mixin(this,_37a);this.requestHash={};this.fetching=false;this.service=Sage.Data.SDataServiceRegistry.getSDataService("system");},add:function(_37b,_37c){var _37d=this.requestHash[_37b];if((_37d)&&(_37d.id!==_37c.id)){if(!_37d.duplicates){_37d.duplicates=[];}var _37e=false;for(var i=0;i<_37d.duplicates.length;i++){if(_37d.duplicates[i].context.id===_37c.id){_37e=true;}}if(!_37e){_37d.duplicates.push({id:_37c.id,context:_37c});}}else{this.requestHash[_37b]=_37c;}},send:function(_37f,_380){this.fetching=true;var _381=this;var _382=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_382.setResourceKind(this.resourceKind);for(var id in this.requestHash){_382.setResourceSelector("'"+id+"'");}_382.setQueryArg("include",this.include.join(","));_382.read({success:lang.hitch(_380,_37f,_381),failure:lang.hitch(this,this.requestFailed,_381)});},requestFailed:function(a,b,c){console.error("Request failed %o %o %o",a,b,c);}});var _383=_378("Sage.MainView.ReportMgr.ReportsSDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _379();this.requestTimeout=false;},requestDataNoWait:function(_384,_385,_386){var _387=new _379();if(_386.keyField){this.keyField=_386.keyField;}_387.select=_386.select;_387.resourceKind=_386.resourceKind;_387.serviceName=_386.serviceName;_387.include=_386.include;_387.useBatchRequest=_386.useBatchRequest;if(_386.expandRecurrences!==null){_387.expandRecurrences=_386.expandRecurrences;}_387.add(_384,_385);_387.send(this.receiveData,this);},receiveData:function(_388,data){var _389=data;var id=_389.id;if(!id){id=_389[this.keyField];_389.id=id;}var _38a=_388.requestHash[_389.id];if(_38a){try{if(!_38a.applied){_38a.applied=true;_38a.set("entity",_389);}}catch(err){console.error(err);}}}});return _383;});},"Sage/Utility/File/Attachment":function(){define("Sage/Utility/File/Attachment",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility","Sage/Utility/File/DescriptionsForm","dojo/i18n","dojo/i18n!./nls/Attachment"],function(_38b,_38c,_38d,_38e,_38f,_390,_391,_392,i18n){Sage.namespace("Utility.File.Attachment");Sage.Utility.File.Attachment={uploadingAttachments:"Uploading attachments",uploadCompleted:"Completed",uploadingPleaseWait:"Uploading, please wait...",uploadFailed:"Upload failed.",_store:false,_totalProgress:0,_attachmentTemplate:false,_mixinsByName:{},_files:[],_fileCount:0,_filesUploadedCount:0,_isUploading:false,_descriptionsForm:false,_uploadUrl:"slxdata.ashx/slx/system/-/attachments/file",createAttachments:function(_393){var _394="";if(Sage.Services.hasService("ClientEntityContext")){var _395=Sage.Services.getService("ClientEntityContext");var _396=_395.getContext();_394=_396.Description||"";}this._ensureDescriptionsForm();this._descriptionsForm.set("entityDesc",_394);this._descriptionsForm.set("files",_393);this._descriptionsForm.show();},createAttachmentSilent:function(file,_397){if(!_397.hasOwnProperty("description")){_397["description"]=this.getDefaultDescription(file.name);}this._mixinsByName[file.name]=_38f.mixin(_397,{attachDate:_391.Convert.toIsoStringFromDate(new Date()),dataType:"R"});this._files.push(file);if(!this._attachmentTemplate){this.getAttachmentTemplate(this.uploadFiles,this);}else{this.uploadFiles();}},handleDescriptions:function(_398,_399){var _39a="";var id="";this.getKnownRelationships(function(rels){var _39b=_38f.mixin(rels,{attachDate:_391.Convert.toIsoStringFromDate(new Date()),dataType:"R",user:{"$key":_391.getClientContextByKey("userID")||""}});for(var i=0;i<_399.length;i++){_399[i][_39a]=id;this._mixinsByName[_399[i].fileName]=_38f.mixin(_399[i],_39b);}for(i=0;i<_398.length;i++){this._files.push(_398[i]);}if(!this._attachmentTemplate){this.getAttachmentTemplate(this.uploadFiles,this);}else{this.uploadFiles();}},this);},uploadFiles:function(_39c){this._isUploading=true;this._fileCount=this._files.length;if(_39c&&!this._attachmentTemplate){this._attachmentTemplate=_39c;}while(this._files.length>0){var file=this._files.pop();Sage.Utility.File.uploadFile(file,this._uploadUrl,this._updateProgress,this._successUpload,this._failAdd,this);}},_successUpload:function(_39d){var url=_39d.getResponseHeader("Location");var re=/\'\w+\'/g;var _39e=url.match(re);if(_39e){var id=_39e[0].replace(/\'/g,"");var _39f=new _38b({resourceKind:"attachments",service:_38c.getSDataService("system")});_39f.fetch({predicate:"\""+id+"\"",onComplete:function(_3a0){var _3a1=this._mixinsByName[_3a0.fileName];if(_3a1){_3a0=_38f.mixin(_3a0,_3a1);_39f.save({scope:this,success:this._successAddEntity,failure:this._failAdd});}delete (this._mixinsByName[_3a0.fileName]);},beforeRequest:function(req){req.setQueryArg("_includeFile","false");},onError:this._failAdd,scope:this});}this._filesUploadedCount=this._filesUploadedCount+1;this._updateProgress((this._fileCount<1)?100:(this._filesUploadedCount/this._fileCount)*100);},_successAddEntity:function(_3a2){dojo.publish("/entity/attachment/create",_3a2);},getAttachment:function(id){if(id&&id.length===12){window.open("slxdata.ashx/slx/system/-/attachments('"+id+"')/file","file");}},getAttachmentTemplate:function(_3a3,_3a4){_38d.Attachment._createStore();_38d.Attachment._store.newItem({onComplete:_3a3,scope:_3a4||this});},getDefaultDescription:function(_3a5){this._ensureDescriptionsForm();return this._descriptionsForm.getDefaultDescription(_3a5);},_createStore:function(){if(!_38d.Attachment._store){_38d.Attachment._store=new _38b({resourceKind:"attachments",service:_38c.getSDataService("system")});}},_updateProgress:function(_3a6){var self;var pct=this._totalProgress;if(_3a6&&_3a6.lengthComputable){var _3a7=(_3a6.loaded/_3a6.total)*100;pct+=Math.round(_3a7/this._fileCount);}else{if(_3a6){pct=_3a6;}}this._totalProgress=pct;if(pct<99){_38e.showProgressBar({pct:pct,title:this.uploadingAttachments,message:this.uploadingPleaseWait,showmessage:true});}else{_38e.showProgressBar({pct:pct,message:this.uploadCompleted,showmessage:true});self=this;window.setTimeout(function(){_38e.closeProgressBar();},1000);this._resetCounts();}},_resetCounts:function(){this._fileCount=0;this._filesUploadedCount=0;this._isUploading=false;this._totalProgress=0;},_failAdd:function(resp){_38e.showProgressBar({title:this.uploadingAttachments,message:this.uploadFailed,showmessage:true});},_successUpdate:function(_3a8){dojo.publish("/entity/attachment/update",_3a8);},_ensureDescriptionsForm:function(){if(!this._descriptionsForm){this._descriptionsForm=new _392({entityDesc:"",files:this._files||[]});dojo.connect(this._descriptionsForm,"onDescriptionsEntered",this,"handleDescriptions");}},getKnownRelationships:function(_3a9,_3aa,_3ab){var _3ac={};if(Sage.Services.hasService("ClientEntityContext")){var _3ad=Sage.Services.getService("ClientEntityContext");var _3ae=_3ad.getContext();var _3af=_3ae.EntityType.split(".");var _3b0=_3af[_3af.length-1];if(_3ae.EntityId!==""){var id=_3ae.EntityId;switch(_3b0){case "IContact":this._getContactRelationships(id,_3a9,_3aa);return;case "IOpportunity":this._getOpportunityRelationships(id,_3a9,_3aa);return;case "ITicket":this._getTicketRelationships(id,_3a9,_3aa);return;case "ISalesOrder":this._getSalesOrderRelationships(id,_3a9,_3aa);return;case "IActivity":this._getActivityRelationships(id,_3a9,_3aa);return;case "IHistory":this._getHistoryRelationships(id,_3a9,_3aa);return;case "IContract":this._getContractRelationships(id,_3a9,_3aa);return;case "IReturn":this._getReturnRelationships(id,_3a9,_3aa);return;}var _3b1=_3ae.EntityTableName.toLowerCase()+"Id";_3ac[_3b1]=id;_3a9.call(_3aa||this,_3ac);return;}else{if(_3b0==="IActivity"&&_3ab){this._getInsertActivityRelationships(_3a9,_3aa);return;}else{if(_3b0==="IHistory"&&_3ab){this._getInsertHistoryRelationships(_3a9,_3aa);return;}}}}_3a9.call(_3aa||this,{});},_getRequest:function(_3b2,id){var req=new Sage.SData.Client.SDataSingleResourceRequest(_38c.getSDataService("dynamic"));req.setResourceKind(_3b2);req.setResourceSelector("\""+id+"\"");req.setQueryArg("precedence","0");return req;},_getContactRelationships:function(id,_3b3,_3b4){var req=this._getRequest("contacts",id);req.setQueryArg("include","Account");req.read({success:function(_3b5){var obj={accountId:_391.getValue(_3b5,"Account.$key"),contactId:_3b5.$key};_3b3.call(_3b4||this,obj);},failure:function(){_3b3.call(_3b4||this,{"contactId":id});},scope:this});},_getOpportunityRelationships:function(id,_3b6,_3b7){var req=this._getRequest("opportunities",id);req.setQueryArg("include","Account,Contacts");req.setQueryArg("select","Contacts/IsPrimary,Account/Id");req.read({success:function(opp){var obj={accountId:_391.getValue(opp,"Account.$key"),opportunityId:opp.$key};var _3b8="";var _3b9=opp.Contacts.$resources;if(_3b9.length>0){_3b8=_3b9[0].$key;}for(var i=0;i<_3b9.length;i++){if(_3b9[i].IsPrimary){_3b8=_3b9[i].$key;}}obj["contactId"]=_3b8;_3b6.call(_3b7||this,obj);},failure:function(){_3b6.call(_3b7||this,{"opportunityId":id});},scope:this});},_getSalesOrderRelationships:function(id,_3ba,_3bb){var req=this._getRequest("salesorders",id);req.setQueryArg("include","Account");req.read({success:function(so){var obj={accountId:_391.getValue(so,"Account.$key"),salesOrderId:so.$key};_3ba.call(_3bb||this,obj);},failure:function(){_3ba.call(_3bb||this,{"salesOrderId":id});},scope:this});},_getTicketRelationships:function(id,_3bc,_3bd){var req=this._getRequest("tickets",id);req.setQueryArg("include","Account,Contact");req.read({success:function(_3be){var obj={accountId:_391.getValue(_3be,"Account.$key"),ticketId:_3be.$key,contactId:_391.getValue(_3be,"Contact.$key")};_3bc.call(_3bd||this,obj);},failure:function(){_3bc.call(_3bd||this,{"ticketId":id});},scope:this});},_getReturnRelationships:function(id,_3bf,_3c0){var req=this._getRequest("returns",id);req.setQueryArg("include","Account,Contact,Ticket");req.read({success:function(rma){var obj={returnId:rma.$key,accountId:_391.getValue(rma,"Account.$key"),ticketId:_391.getValue(rma,"Ticket.$key"),contactId:_391.getValue(rma,"Contact.$key")};_3bf.call(_3c0||this,obj);},failure:function(){_3bf.call(_3c0||this,{returnId:id});},scope:this});},_getActivityRelationships:function(id,_3c1,_3c2){var req=this._getRequest("activities",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_3c3){var obj={accountId:_391.getValue(_3c3,"AccountId"),activityId:_3c3.$key,contactId:_391.getValue(_3c3,"ContactId"),leadId:_391.getValue(_3c3,"LeadId"),opportunityId:_391.getValue(_3c3,"OpportunityId"),ticketId:_391.getValue(_3c3,"TicketId")};_3c1.call(_3c2||this,obj);},failure:function(){_3c1.call(_3c2||this,{"activityId":id});},scope:this});},_getInsertActivityRelationships:function(_3c4,_3c5){var ed=dijit.byId("activityEditor");if(ed){var obj=ed.getRelationshipsForAttachments();_3c4.call(_3c5||this,obj);return;}_3c4.call(_3c5||this,{"activityId":""});},_getHistoryRelationships:function(id,_3c6,_3c7){var req=this._getRequest("history",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_3c8){var obj={accountId:_391.getValue(_3c8,"AccountId"),historyId:_3c8.$key,contactId:_391.getValue(_3c8,"ContactId"),leadId:_391.getValue(_3c8,"LeadId"),opportunityId:_391.getValue(_3c8,"OpportunityId"),ticketId:_391.getValue(_3c8,"TicketId")};_3c6.call(_3c7||this,obj);},failure:function(){_3c6.call(_3c7||this,{"historyId":id});},scope:this});},_getInsertHistoryRelationships:function(_3c9,_3ca){var ed=dijit.byId("historyEditor");if(ed){var obj=ed.getRelationshipsForAttachments();_3c9.call(_3ca||this,obj);return;}_3c9.call(_3ca||this,{"historyId":""});},_getContractRelationships:function(id,_3cb,_3cc){var req=this._getRequest("contracts",id);req.setQueryArg("include","Account,Contact");req.read({success:function(_3cd){var obj={accountId:_391.getValue(_3cd,"Account.$key"),contractId:_3cd.$key,contactId:_391.getValue(_3cd,"Contact.$key")};_3cb.call(_3cc||this,obj);},failure:function(){_3cb.call(_3cc||this,{"ticketId":id});},scope:this});},remoteRequestAttachment:function(_3ce){var _3cf={"$name":"RequestAttachment","request":{"entity":{"$key":_3ce},AttachmentId:_3ce}};var _3d0=new Sage.SData.Client.SDataServiceOperationRequest(_38c.getSDataService("system")).setResourceKind("attachments").setOperationName("RequestAttachment");_3d0.execute(_3cf,{success:function(_3d1){dojo.publish("/entity/attachment/requested",_3d1);}});}};Sage.Utility.File.Attachment=dojo.mixin(Sage.Utility.File.Attachment,i18n.getLocalization("Sage.Utility.File","Attachment"));return Sage.Utility.File.Attachment;});},"Sage/QuickForms/Design/main":function(){define("Sage/QuickForms/Design/main",["Sage/QuickForms/Design/CheckBoxControlDesigner","Sage/QuickForms/Design/ColumnDesigner","Sage/QuickForms/Design/ComboBoxControlDesigner","Sage/QuickForms/Design/ControlDesigner","Sage/QuickForms/Design/ControlDesignerRegistry","Sage/QuickForms/Design/CurrencyControlDesigner","Sage/QuickForms/Design/DataGridControlDesigner","Sage/QuickForms/Design/DataSourceDesigner","Sage/QuickForms/Design/DataSourcePanel","Sage/QuickForms/Design/DateTimePickerControlDesigner","Sage/QuickForms/Design/DesignPanel","Sage/QuickForms/Design/DesignSurface","Sage/QuickForms/Design/EmailControlDesigner","Sage/QuickForms/Design/FormDesigner","Sage/QuickForms/Design/GenericControlDesigner","Sage/QuickForms/Design/Help","Sage/QuickForms/Design/HiddenControlDesigner","Sage/QuickForms/Design/NonVisibleControlContainer","Sage/QuickForms/Design/NumericControlDesigner","Sage/QuickForms/Design/OwnerControlDesigner","Sage/QuickForms/Design/PhoneControlDesigner","Sage/QuickForms/Design/PickListControlDesigner","Sage/QuickForms/Design/PropertyEditorContainer","Sage/QuickForms/Design/PropertyValueError","Sage/QuickForms/Design/RowDesigner","Sage/QuickForms/Design/TextBoxControlDesigner","Sage/QuickForms/Design/UrlControlDesigner","Sage/QuickForms/Design/UserControlDesigner","Sage/QuickForms/Design/EditableGridControlDesigner"],function(){});},"Sage/MainView/IntegrationContract/SalesQuoteRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/SalesQuoteRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesQuoteDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesQuoteDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesQuote_reference\">{%= $.lblSalesQuoteCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesQuoteContainer\" dojoAttachPoint=\"salesQuoteContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesQuoteContent\" dojoAttachPoint=\"salesQuoteContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_QuoteDate\">{%= $.lblQuoteDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_QuoteDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesQuote_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteAddresses\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesQuoteLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteLines_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/SalesQuoteRTDV",["dojo/_base/declare","dojo/i18n!./nls/SalesQuoteRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/SalesQuoteRTDV.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/DateTextBox","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_3d2,_3d3,_3d4,_3d5,_3d6,_3d7,_3d8,_3d9,_3da,_3db,lang){var _3dc=_3d2("Sage.MainView.IntegrationContract.SalesQuoteRTDV",[_3d4,_3d5],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,salesPersonsDataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_3da)),constructor:function(){dojo.mixin(this,_3d3);},loadSalesQuotes:function(){var self=this;var _3dd={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"$key",name:" ",sortable:false,formatter:this.salesQuotesX3DetailsViewRenderer,style:"text-align:left;",editable:false,hidden:function(){return !accountingSystemHandlesSO();}()},{width:10,field:"reference",name:this.grdSalesQuote_QuoteNumber,sortable:true,formatter:this.salesQuotesDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_3d9,formatType:"date",dateOnly:true,utc:false,name:this.grdSalesQuote_QuoteDate,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"status",name:this.grdSalesQuote_Status,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"statusFlagText",name:this.grdSalesQuote_HoldStatus,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"type",name:this.grdSalesQuote_Type,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdSalesQuote_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdSalesQuote_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"discountTotal",name:this.grdSalesQuote_DiscountTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"chargesTotal",name:this.grdSalesQuote_ChargesTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdSalesQuote_TaxTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdSalesQuote_GrossTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"currency",name:this.grdSalesQuote_Currency,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesQuotations"}]}),tools:[]};var _3de=new _3d6.Grid(_3dd,this.placeHolder);_3de.startup();var _3df=dijit.byId("tabContent");_3df.resize();_3df.resize();this.grid=_3de;},salesQuotesDetailsViewRenderer:function(_3e0){return dojo.string.substitute("<a href=\"javascript:salesQuoteRTDV.loadDetailsView();\">${0}</a>",[_3e0]);},salesQuotesX3DetailsViewRenderer:function(){return dojo.string.substitute("<a href=\"javascript:salesQuoteRTDV.callX3DetailsView();\">${0}</a>",[_3d3.grdSalesQuote_Edit]);},destroyFirst:function(id){var _3e1=dijit.byId(id);if(_3e1){_3e1.destroyRecursive();}},initSalesPersons:function(){if(this.salesPersonsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.salesPersonsDataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _3e2=row["$key"];return dojo.string.substitute("'${0}'",[_3e2||""]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesPersons"}],includeContent:true});dojo.connect(this.salesPersonsDataStore,"onGetSingleResource",this,"loadSalesPersons");this.salesPersonsDataStore.getSingleResource();}},loadSalesPersons:function(data){this.destroyFirst("sdgrdSalesPersons");if(data&&typeof data.salesPersons==="undefined"){data.salesPersons={};data.salesPersons.$resources=new Array();}var _3e3=new dojox.grid.DataGrid({id:"sdgrdSalesPersons",store:this.salesPersonsDataStore,structure:[{width:10,field:"name",name:this.grdSalesPersons_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdSalesPersons_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"extension",name:this.grdSalesPersons_Extension,defaultValue:"",sortable:true,editable:false},{width:10,field:"relationship",name:this.grdSalesPersons_Relationship,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_3e3.domNode,this.sdgrdSalesPersons_Grid,"single");_3e3.startup();},loadAddresses:function(data){this.destroyFirst("sdgrdSalesQuoteAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _3e4=new dojox.grid.DataGrid({id:"sdgrdSalesQuoteAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_Address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_Address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_3e4.domNode,this.sdgrdSalesQuoteAddresses_Grid,"single");_3e4.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdSalesQuoteLines");if(data&&typeof data.salesQuotationLines==="undefined"){data.salesQuotationLines={};data.salesQuotationLines.$resources=new Array();}var _3e5=new dojox.grid.DataGrid({id:"sdgrdSalesQuoteLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"fulfillmentLocation.name",name:this.grdItems_Location,defaultValue:"",sortable:true,editable:false},{width:10,field:"pricelist.name",name:this.grdItems_PriceList,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesQuotationLines"}});dojo.place(_3e5.domNode,this.sdgrdSalesQuoteLines_Grid,"single");_3e5.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _3e6=row["$key"];return dojo.string.substitute("'${0}'",[_3e6||""]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdSOPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _3e7=new dojox.grid.DataGrid({id:"sdgrdSOPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_3d9,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_3d9,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_3e7.domNode,this.sdgrdSOPayments_Grid,"single");_3e7.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _3e8=row["$key"];return dojo.string.substitute("'${0}'",[_3e8]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesQuoteDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdSODeliveries");if(data&&typeof data.salesQuoteDeliveries==="undefined"){data.salesQuoteDeliveries={};data.salesQuoteDeliveries.$resources=new Array();}var _3e9=new dojox.grid.DataGrid({id:"sdgrdSODeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_3d9,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_3d9,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_3d9,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",type:_3d9,formatType:"date",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_3e9.domNode,this.sdgrdSODeliveries_Grid,"single");_3e9.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.salesQuoteDetails,"display-none");dojo.addClass(this.tabContentDetails,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _3ea=row["$key"];this.dataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesQuotations",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_3ea]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesQuotationLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,quotation/reference,salesQuotationLines/commodity/name,salesQuotationLines/unitOfMeasure/name,salesQuotationLines/fulfillmentLocation/name,salesQuotationLines/pricelist/name,salesQuotationLines/commodityVariant/reference,salesQuotationLines/commodityDimension/reference,salesQuotationDeliveries/carrierTradingAccount/name"]});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},callX3DetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){var _3eb=row["$key"];dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesQuote/getediterpsalesquoteurl?salesQuoteKey=${0}&operatingCompany=${1}&_dc=${2}",[_3eb,this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_3ec,_3ed,_3ee){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_3d3.Error_InvalidEndpoint;}});}},loadSalesQuoteDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadSalesQuoteDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.salesQuoteContainer!=null){this.salesQuoteContainer.selectChild(this.salesQuoteContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.salesQuoteDetails,"display-none");dojo.removeClass(this.tabContentDetails,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdSalesPersons");this.salesPersonsDataStore=null;this.destroyFirst("sdgrdSODeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdSOPayments");this.paymentsDataStore=null;this._dialog.hide();},destroy:function(_3ef,args){},launchAccountingSystemView:function(data){if(data.error!=null){_3d8.showError(data.error);}else{try{window.open(data.url);}catch(err){_3d8.showError(this.errorERPRequest);console.error(dojo.string.substitute(this.errorERPRequestDetails,[this.errorERPRequest,err,url]));}}},executeErpInsertView:function(){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesQuote/getinserterpsalesquoteurl?accountId=${0}&operatingCompany=${1}&_dc=${2}",[Sage.Utility.getCurrentEntityId(),this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_3f0,_3f1,_3f2){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_3d3.errorERPRequest;}});}});return _3dc;});},"Sage/QuickForms/Design/Editors/NumericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NumericAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NumericAdvancedPropertyEditor"],function(_3f3,lang,_3f4,_3f5,_3f6,_3f7,_3f8,_3f9,_3fa,_3fb,_3fc){return _3f3("Sage.QuickForms.Design.Editors.NumericAdvancedPropertyEditor",[_3f4,_3fa,_3f9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.formatTypeTooltipText %}\">","<label>{%= $.formatTypeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_formatType\" data-dojo-attach-event=\"onChange:_onFormatTypeChange\">","{% for (var format in $.numberFormatText) { %}","<span value=\"{%= format %}\">{%= $.numberFormatText[format] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_maxLength\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.decimalDigitsTooltipText %}\">","<label>{%= $.decimalDigitsText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_decimalDigits\" data-dojo-props=\"constraints:{min:-1,max:100,places:0}\" data-dojo-attach-event=\"onChange:_onDecimalDigitsChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.strictTooltipText %}\">","<label>{%= $.strictText %}</label>","<div data-dojo-attach-point=\"_strict\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onStrictChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_isReadOnly:null,_defaultDataBinding:null,_formatType:null,_maxLength:null,_required:null,_strict:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",formatTypeText:"Format Type:",formatTypeTooltipText:"Type of format to use when converting number to string.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",strictText:"Strict:",strictTooltipText:"Pads display of number with trailing zeros as necessary.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",numberFormatText:{"Number":"Number","Percent":"Percent","Decimal":"Decimal","Scientific":"Scientific"},labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_3fc);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._decimalDigits.set("value",this._designer.get("decimalDigits"));this._enabled.set("value",this._designer.get("enabled"));this._formatType.set("value",this._designer.get("formatType"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._strict.set("value",this._designer.get("strict"));this._visible.set("value",this._designer.get("visible"));var _3fd=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_3fd&&_3fd["DataItemName"])||"");},_onControlTypeChange:function(_3fe){},_onControlIdChange:function(_3ff){},_onDefaultDataBindingChange:function(_400){},_onEnabledChange:function(_401){if(this.isSuspended()){return;}this._designer.set("enabled",_401);},_onDecimalDigitsChange:function(_402){if(this.isSuspended()||!this._decimalDigits.isValid()){return;}this._designer.set("decimalDigits",_402);},_onFormatTypeChange:function(_403){if(this.isSuspended()){return;}this._designer.set("formatType",_403);},_onControlLabelPlacementChange:function(_404){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_404);},_onMaxLengthChange:function(_405){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",_405);},_onRequiredChange:function(_406){if(this.isSuspended()){return;}this._designer.set("required",_406);},_onStrictChange:function(_407){if(this.isSuspended()){return;}this._designer.set("strict",_407);},_onVisibleChange:function(_408){if(this.isSuspended()){return;}this._designer.set("visible",_408);}});});},"Sage/QuickForms/Design/nls/NumericControlDesigner":function(){define("Sage/QuickForms/Design/nls/NumericControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_409,lang){var nls={root:{displayNameText:"Numeric"}};return lang.mixin(_409,nls);});},"Sage/QuickForms/Design/Editors/nls/_PropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/_PropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_40a,lang){var nls={root:{titleText:"Properties"}};return lang.mixin(_40a,nls);});},"url:Sage/UI/Columns/templates/DndCell.html":"<div>\r\n    <div data-dojo-type=\"dojo.dnd.Source\" dojoAttachPoint=\"sourceNode\" copyOnly=\"true\" accept=\"\">\r\n        <div class=\"dojoDndItem\" dojoAttachPoint=\"dndItem\"></div>\r\n    </div>\r\n</div>\r\n","Sage/Services/nls/ActivityActionProcessor":function(){define("Sage/Services/nls/ActivityActionProcessor",["Sage/LanguageList","dojo/_base/lang"],function(_40b,lang){var nls={root:{btnOkayText:"OK",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",processingText:"Processing request please wait...",failureText:"I'm sorry, the action was not successful an error occurred.",titleText:"Process"}};return lang.mixin(_40b,nls);});},"Sage/UI/Controls/SummaryAggregate":function(){define("Sage/UI/Controls/SummaryAggregate",["dijit/_Widget","Sage/_Templated","dijit/Tooltip","Sage/UI/GridMenuItem","Sage/Data/BaseSDataStore","Sage/UI/Columns/SlxLink","Sage/UI/Columns/Phone","dojo/i18n!../nls/SDataLookup","dojo/_base/declare"],function(_40c,_40d,_40e,_40f,_410,_411,_412,_413,_414){var _415=_414("Sage.UI.Controls.SummaryAggregate",[_40c,_40d],{loadingText:_413.loadingText,noDataText:_413.noDataText,widgetsInTemplate:true,value:"",content:"",valueNode:null,linkTabName:"",entityId:"",linkPage:"",toolTip:false,_button:null,_menu:null,store:false,grid:false,popupStructure:null,resourceKind:"",select:null,where:"",widgetTemplate:new Simplate(["<span>","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_button\" data-dojo-attach-event=\"onClick:_click\" >","<div data-dojo-type=\"dijit.Menu\" data-dojo-attach-point=\"_menu\">","</div>","</button>","</span>"]),constructor:function(){this.select=[];this.popupStructure=[];this.inherited(arguments);},_click:function(){if(!this.linkPage){this._findlinkPage();}var url=this.linkPage+"?entityid="+this.entityId||"";if(this.linkTabName){url=url+"&activetab="+this.linkTabName;}document.location=url;},_setValueAttr:function(_416){this.value=_416;this._button.set("label",_416);},startup:function(){this.inherited(arguments);if(!this.store){if(this.select.length===0){this.select.push("id");for(var i=0;i<this.popupStructure.length;i++){this.select.push(this.popupStructure[i]["field"]);}}this.store=new _410({service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic"),resourceKind:this.resourceKind,select:this.select});}if(!this.grid){this.grid=new _40f({gridOptions:{store:this.store,rowsPerPage:40,structure:this.popupStructure,loadingMessage:this.loadingText,noDataMessage:this.noDataText,selectionMode:"single",query:this.where.replace(/~magicquote~/g,"'"),height:"250px",width:"300px"}});this._menu.addChild(this.grid);this._menu.set("style",{width:"350px"});this.grid.startup();}},_findlinkPage:function(){if(!this.linkPage){var url=document.location.href;if(url.indexOf("?")>-1){this.linkPage=url.substring(0,url.indexOf("?"));}}},destroy:function(){this.inherited(arguments);if(this.grid){this.grid.destroy();}}});Sage.UI.Controls.SummaryAggregate.markupFactory=function(_417,node,ctor){var _418=function(n){var w=d.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_417.popupStructure){var d=dojo;var _419=[];var _41a=window.isMultiCurrencyEnabled();d.query("> span",node).forEach(function(span,_41b){var cell={name:d.trim(d.attr(span,"name")||span.innerHTML),type:d.attr(span,"cellType")||false,field:d.trim(d.attr(span,"field")||""),id:d.trim(d.attr(span,"id")||""),idField:d.trim(d.attr(span,"idField")||""),queryParams:d.trim(d.attr(span,"queryParams")||""),pageName:d.trim(d.attr(span,"pageName")||""),image:d.trim(d.attr(span,"icon")||""),multiCurrency:_41a,exchangeRateType:d.trim(d.attr(span,"exchangeRateType")||"")};if(d.hasAttr(span,"width")){cell["width"]=_418(span);}cell.type=cell.type?dojo.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(span,cell);}if(cell.name==="&nbsp;"||cell.name===""){cell.name=cell.field;}_419.push(cell);});_417.popupStructure=_419;}return new ctor(_417,node);};return _415;});},"Sage/QuickForms/Design/Editors/nls/TextBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/TextBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_41c,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",linesText:"Lines:",linesTooltipText:"Number of lines of text displayed.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_41c,nls);});},"Sage/MainView/ActivityMgr/nls/QuickCompleteEditor":function(){define("Sage/MainView/ActivityMgr/nls/QuickCompleteEditor",["Sage/LanguageList","dojo/_base/lang"],function(_41d,lang){var nls={root:{lblResultText:"Result:",lblNoteText:"Note (append to all items):",btnCompleteIndividuallyText:"Individually",btnAsScheduledText:"As Scheduled",btnCompleteNowText:"Now",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",resultCompletedText:"Complete",titleText:"Quick Complete",actionMessage:"Only activities that you have permission to complete will be completed.",completeMessage:"Complete all {0} selected activities:",processingMessage:"Processing all {0} selected activities please wait..."}};return lang.mixin(_41d,nls);});},"Sage/UI/Filters/CheckBoxFilter":function(){define("Sage/UI/Filters/CheckBoxFilter",["dijit/_Widget","dijit/_Contained","dojo/NodeList-traverse","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/_ActionMixin","dojo/string","dojo/on","dojo/_base/lang","dojo/dom-construct","./EditFilterItems","dojo/_base/array","dojo/query","dojo/dom-attr","dojo/i18n!./nls/CheckBoxFilter","Sage/Utility","Sage/Utility/Filters","dojo/json","dijit/registry","dojo/_base/declare","dojo/_base/Deferred","dojo/dom-class","dojo/_base/connect"],function(_41e,_41f,_420,_421,_422,_423,_424,on,lang,_425,_426,_427,_428,_429,nls,_42a,_42b,json,_42c,_42d,_42e,_42f,_430){var _431=_42d("Sage.UI.Filters.CheckBoxFilter",[_41e,_41f,_422,_423,_421],{attributeMap:{"content":{node:"listNode",type:"innerHTML"}},serviceMap:{"groupContextService":"ClientGroupContext","systemDataService":{type:"sdata",name:"system"}},actionsFrom:"click",widgetsInTemplate:false,widgetTemplate:new Simplate(["<div class=\"filter-type-checkbox filter-collapsed\">","<h3 data-action=\"toggleExpand\" data-dojo-attach-point=\"filterNameNode\">{%: $.filter.displayName || $.filter.filterName %}","</h3>","<ul class=\"filter-loading-indicator\"><li><span>{%: $.loadingText %}</span></li></ul>","<a href=\"#\" class=\"filter-clear\" data-dojo-attach-point=\"clearLinkNode\">{%: $.clearText %}</a>","<span class=\"filter-sep\" data-dojo-attach-point=\"linkSep\"> | </span>","<a href=\"#\" class=\"filter-edit-items\" data-dojo-attach-point=\"moreLinkNode\">{%: $.moreText %}</a>","<ul class=\"filter-list\" data-dojo-attach-point=\"listNode\"></ul>","</div>"]),itemTemplate:new Simplate(["<li data-action=\"toggleSelect\" class=\"{%= $.selected ? \"filter-selected\" : \"\" %}\" data-name=\"{%= $.name %}\" data-selected=\"{%= !!$.selected %}\" ","role=\"checkbox\" aria-checked=\"{%= !!$.selected %}\">","<div>","<span class=\"p-selection\">&nbsp;</span>","<span class=\"p-label\">{%: $$._formatLabelText($.$descriptor, $.name) %}</span>","{% if ($.value > -1) { %}","&nbsp;<span class=\"p-spacer\">(</span>","<span class=\"p-count\">{%: $.value %}</span>","<span class=\"p-spacer\"> {%: $.ofText %} </span>","<span class=\"p-total\">{%: $.value %}</span>","<span class=\"p-spacer\">)</span>","{% } %}","</div>","</li>"]),_activeFilterCount:0,_loaded:false,_selected:null,_ranges:null,_filterGroup:null,_filterSubscriptions:null,appliedValues:null,parent:null,_originalActiveFilter:"",loadingText:"Loading...",moreText:"Add/Remove Items",clearText:"Clear",emptyText:"(empty)",nullText:"(null)",ofText:"of",nullName:"SLX_NULL",emptyName:"SLX_EMPTY",filterGroup:"default",filter:null,store:null,editFilterItems:null,editFilterItemsHandle:null,output:null,entries:[],expanded:false,FILTER_UPDATE_DELAY:1000,lazyUpdateCounts:null,count:1000,loading:true,groupId:"",constructor:function(){this.inherited(arguments);this.output=[];this.entries=[];lang.mixin(this,nls);},postMixInProperties:function(){this.inherited(arguments);this._selected={};var _432=this._isRangeFilter();if(_432){this.store.request.setQueryArg("orderby","");this.compileRanges(_432.ranges);}if(this.expanded){this.expanded=false;setTimeout(lang.hitch(this,this._toggleExpand),500);}else{if(this.appliedValues){setTimeout(lang.hitch(this,this._loadItems),500);}else{this.resolveDeferred();}}if(this.store&&this.store.request&&this.store.request.getQueryArg){this._originalActiveFilter=this.store.request.getQueryArg("_activeFilter");}},postCreate:function(){this.inherited(arguments);var _433=false;if(this.configurationProvider.getFilterFormatter){var _434=this.configurationProvider.getFilterFormatter(this.filter);if(_434){_433=true;}}if(!this._isDistinctFilter()||_433){_425.destroy(this.moreLinkNode);_425.destroy(this.linkSep);}else{this.editFilterItemsHandle=on(this.moreLinkNode,"click",lang.hitch(this,this._moreLinkClicked));}on(this.clearLinkNode,"click",lang.hitch(this,this._clearLinkClicked));var id=this.filter.$key+"_editFilterItems",_435=_42c.byId(id);this.editFilterItems=_435||new _426({id:id,store:this.store,filter:this.filter,filterPanel:this.parent,parent:this});},_clearLinkClicked:function(){var q=_428("li.filter-selected",this.listNode),evt;_427.forEach(q,function(node){if(node.click){node.click();}else{evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(evt);}});},_moreLinkClicked:function(e){if(this._originalActiveFilter){this.editFilterItems.baseFilter=this._originalActiveFilter;}this.editFilterItems.showDialog();e.cancelBubble=true;},uninitialize:function(){this.inherited(arguments);if(this.editFilterItems){this.editFilterItems.destroy(false);}if(this.editFilterItemsHandle){this.editFilterItemsHandle.remove();}},_setFilterGroupAttr:function(_436){if(this._filterSubscriptions){_427.forEach(this._filterSubscriptions,function(_437){this.unsubscribe(_437);},this);}this._filterGroup=_436;this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(_424.substitute("/ui/filters/${0}/change",[this._filterGroup]),this._onChange),this.subscribe(_424.substitute("/ui/filters/${0}/clear",[this._filterGroup]),this._onClear),this.subscribe(_424.substitute("/ui/filters/${0}/refresh",[this._filterGroup]),lang.hitch(this,this._onRefresh)));},_onRefresh:function(_438,_439,_43a){this.appliedValues=_438;this.updateCounts();},_updateActiveFilters:function(){var _43b=this._getFilterManager(),_43c=[],q=false;if(_43b){q=_43b.createQuery();}if(!this.expanded){return;}if(q===false){q="";}else{_43c.push(q);}if(this._originalActiveFilter){_43c.push(this._originalActiveFilter);}if(_43c.length>1){q=_43c.join(" AND ");}else{q=_43c.join("");}this.store.request.setQueryArg("_activeFilter",q);},refresh:function(){if(this._loaded){_427.forEach(_428("*",this.listNode),function(item){_425.destroy(item);});this.requestData();}},_onChange:function(_43d,name,_43e,_43f){name=this._transformFilterItemName(name);if(_43f!==this&&_43d.$key===this.filter.$key){_428(_424.substitute("> [data-name=\"${0}\"]",[name]),this.listNode).forEach(function(el){_429.set(el,"data-selected",(!!_43e).toString());_42f.toggle(el,"filter-selected",!!_43e);});}},_onClear:function(_440,_441){if(_441!==this&&(!_440||_440.$key===this.filter.$key)){_428("> [data-selected=\"true\"]",this.listNode).forEach(function(el){_429.set(el,"data-selected","false");_42f.toggle(el,"filter-selected",false);});}},_getFilterGroupAttr:function(){return this._filterGroup;},_formatLabelText:function(_442,name){if(name===this.nullName){return this.nullText;}else{if(name===this.emptyName){return this.emptyText;}}if(this.configurationProvider){if(this.configurationProvider.getFilterFormatter){var _443=this.configurationProvider.getFilterFormatter(this.filter);if(_443){return _443(_442);}}}return _442;},_isDistinctFilter:function(){return this.filter&&this.filter.details&&this.filter.details.distinctFilter;},_isRangeFilter:function(){return this.filter&&this.filter.details&&this.filter.details.rangeFilter;},compileRanges:function(_444){var i=0;this._ranges={};for(i=0;i<_444.length;i++){this._ranges[this._transformFilterItemName(_444[i].rangeName)]=_444[i];}},_saveExpandState:function(){var data=this.parent._configuration._hiddenFilters||{},key=this.parent._configuration._hiddenFiltersKey,_445=Sage.Services.getService("ClientGroupContext"),_446=_445&&_445.getContext(),prop=_446.CurrentEntity+"_"+this.filter.filterName;if(!data[prop]){data[prop]={expanded:false,hidden:false};}data[prop].expanded=this.expanded;_42b.setHiddenFilters(key,json.stringify(data));},toggleExpand:function(_447,evt,el){this._toggleExpand();this._saveExpandState();},_toggleExpand:function(){this.expanded=!this.expanded;if(this.domNode){_42f.toggle(this.domNode,"filter-collapsed");}this._loadItems();},_loadItems:function(){if(!this._loaded){this._loaded=true;this.requestData();}else{this.updateCounts();}},toggleSelect:function(_448,evt,el){var _449=/^true$/i.test(_448.selected),name=_448.name,_44a=!_449&&(this._isRangeFilter()?this._ranges[name]:name);this.onSelectionChange(this.filter,name,_44a,this);_429.set(el,"data-selected",(!_449).toString());_429.set(el,"aria-checked",(!_449).toString());_42f.toggle(el,"filter-selected",!_449);},onSelectionChange:function(_44b,name,_44c,_44d){_430.publish(_424.substitute("/ui/filters/${0}/change",[this._filterGroup]),[_44b,name,_44c,_44d]);},updateCounts:function(){if(!this.lazyUpdateCounts){this.lazyUpdateCounts=_42a.debounce(lang.hitch(this,function(){if(this.expanded){_428("li[data-name] div span.p-count",this.listNode).forEach(function(node){node.innerHTML="0";});this._updateActiveFilters();this._doUpdateCounts();}}),this.FILTER_UPDATE_DELAY);}this.lazyUpdateCounts();},_doUpdateCounts:function(){this.store.fetch({onComplete:lang.hitch(this,this._updateCountsInPlace),count:this.count});},requestData:function(){if(this.loading){if(this.domNode){_42f.add(this.domNode,"filter-loading");this.set("content","");}}this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),count:this.count});},_onFetchComplete:function(_44e,_44f){this._processFetchResult(_44e,_44f);this.resolveDeferred();},_onFetchError:function(_450,_451){if(this.domNode){_42f.remove(this.domNode,"filter-loading");}this.resolveDeferred();},isFilterItemHidden:function(_452){var data=this.parent._configuration._hiddenFilters||{},_453=Sage.Services.getService("ClientGroupContext"),_454=_453&&_453.getContext(),prop=_454.CurrentEntity+"_"+this.filter.filterName,_455=false;if(data[prop]){_455=_427.some(data[prop].items,function(item){return item===_452;});}return _455;},_updateCountsInPlace:function(_456,_457){var i=0,_458=null,len=_456.length;for(i=0;i<len;i++){_458=_456[i];_458.name=this._transformFilterItemName(_458.name);_428("li[data-name=\""+_458.name+"\"]",this.listNode).forEach(function(node){_428("div span.p-count",node).forEach(function(span){span.innerHTML=_458.value;});});}this._finishedLoading();},_processFetchResult:function(_459,_45a){var i=0,_45b=null,_45c=false,len=_459.length,_45d=false;for(i=0;i<len;i++){_45b=_459[i];_45b.name=this._transformFilterItemName(_45b.name);_45c=this.isFilterItemHidden(_45b.name);if(_45c===false||this._isRangeFilter()){_45d=this.appliedValues&&this.appliedValues[this.filter.$key]&&!!this.appliedValues[this.filter.$key][_45b.name];_45b.selected=_45d||(this.appliedValues&&!!this.appliedValues[_45b.name]);_45b.ofText=this.ofText;this.output.push(this.itemTemplate.apply(_45b,this));this.entries.push(_45b);}}this._fixMissingItems();if(this.domNode){this.set("content",this.output.join(""));}this._clearOutputEntries();this.updateCounts();},_transformFilterItemName:function(name){var _45e=name;if(name===null){_45e=this.nullName;}else{if(name===""){_45e=this.emptyName;}}return _45e.trim();},_fixMissingItems:function(){var _45f,prop,val,_460=true;for(prop in this.appliedValues){if(this.appliedValues.hasOwnProperty(prop)){val=this.appliedValues[prop];_460=_427.some(this.entries,function(_461){return _461.name===prop;});if(!_460){_45f={name:"",$descriptor:"",selected:true,value:0};_45f.name=prop;_45f.$descriptor=val;_45f.ofText=this.ofText;if(typeof _45f.$descriptor==="string"){this.output.push(this.itemTemplate.apply(_45f,this));this.entries.push(_45f);}}}}},_clearOutputEntries:function(){this.output=[];this.entries=[];},_finishedLoading:function(){this.loading=false;this.store.request.setQueryArg("_activeFilter",this._originalActiveFilter||"");if(this.domNode){_42f.remove(this.domNode,"filter-loading");}},_getFilterManager:function(){var _462=this.parent.filterManager;if(!_462){if(this.parent._configuration.getFilterManager){_462=this.parent._configuration.getFilterManager();}}var _463=Sage.Services.getService("ClientGroupContext");var _464=_463&&_463.getContext();if(this.groupId!=_464.CurrentGroupID){_462=null;}return _462;},resolveDeferred:function(){if(this.deferred){this.deferred=this.deferred.resolve();}}});return _431;});},"Sage/Utility/Groups":function(){define("Sage/Utility/Groups",["Sage/Groups/GroupLookup"],function(_465){Sage.namespace("Utility.Groups");dojo.mixin(Sage.Utility.Groups,{showMainLookupFor:function(_466,page){var _467=Sage.Services.getService("GroupLookupManager");if(_467){if(typeof _466==="undefined"){_467.showLookup();}else{_467.showLookup({family:_466,returnTo:page||false});}}}});return Sage.Utility.Groups;});},"Sage/UI/ToolBarLabel":function(){define("Sage/UI/ToolBarLabel",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_468,_469,_46a){var _46b=_46a("Sage.UI.ToolBarLabel",[_468,_469],{label:"label",region:"leading",templateString:"<span class=\"dijitToolbarLabel\"><span class=\"dijitReset dijitInline \" dojoAttachPoint=\"containerNode\"></span></span>",attributeMap:{label:{node:"containerNode",type:"innerHTML"}},_append:function(val){this.containerNode.innerHTML+=val;},_setLabelAttr:function(_46c){this.containerNode.innerHTML=this.label=_46c;}});return _46b;});},"Sage/UI/Controls/DateTimePicker":function(){require({cache:{"url:Sage/UI/Controls/templates/DateTimePicker.html":"<div class=\"dateTimePicker\">\r\n        <div dojoAttachPoint=\"tooltipContainer\">\r\n        \r\n            <div dojoAttachPoint=\"dateContainer\" class=\"dateTimePicker-dateContainer\">\r\n               \r\n                    <input id=\"${id}-Calendar\" data-dojo-type=\"Sage.UI.Calendar\"\r\n                        style=\"width:inherit;\"\r\n                        textAlign=\"${textAlign}\"\r\n                           type=\"text\" \r\n                           tabindex=\"0\"\r\n                           displayMode=\"popup\"\r\n                           dojoAttachPoint=\"dateNode\"\r\n                           dojoAttachEvent=\"onValueSelected:_onValueSelected,onBlur:_onCalendarBlur\">\r\n               \r\n            </div>\r\n            \r\n            <div dojoAttachPoint=\"timeZoneContainer\" class=\"dateTimePicker-timeZoneContainer\">\r\n               \r\n                    <label for=\"${id}-TimeStart\">${timeStartText}</label><br />\r\n                    <input id=\"${id}-TimeTextBox\" data-dojo-type=\"dijit.form.TimeTextBox\" \r\n                           style=\"width:16em;\"\r\n                           textAlign=\"${textAlign}\"\r\n                           tabindex=\"0\"\r\n                           type=\"text\" dojoAttachPoint=\"timeNode\">\r\n                    <br /><br/>\r\n                    <label for=\"${id}-TzCalculator\">${timeZoneCalculatorText}</label>\r\n                    <div id=\"timeZoneCalucaltor\" class=\"dateTimePicker-timeZoneCalculator\">\r\n                       <p style=\"width:auto;margin-top:auto\">\r\n                            <label for=\"${id}-TzSelectSource\">${timeZoneSourceText}</label><br />\r\n                            <select id=\"${id}-TzSelectSource\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneSourceComboNode\" style=\"width:15em;\">\r\n                            </select>\r\n                            <br />\r\n                            <label for=\"${id}-TzSelectDest\">${timeZoneDestText}</label><br />\r\n                           <select id=\"${id}-TzSelectDest\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneDestComboNode\" style=\"width:15em;\">\r\n                           </select>\r\n                           <br/>\r\n                            <span id=\"${id}-ConvertResults\" dojoAttachPoint=\"convertResultsNode\" style=\"float:left;padding-top:5px;\">\r\n                        </span>\r\n                        </p><br/>\r\n                        <button id=\"${id}-Convert\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"timeZoneConvertButtonNode\" type=\"button\" style=\"float:right\" dojoAttachEvent=\"onClick:_convertClicked\">\r\n                            ${convertText}\r\n                        </button>\r\n                       \r\n                        \r\n                    </div>\r\n               \r\n                <div class=\"button-bar alignright\" style=\"clear: both\">\r\n                    <button id=\"${id}-OKButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"OKButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_okClicked\">\r\n                        ${okText}\r\n                    </button>\r\n                    <button id=\"${id}-CancelButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"CancelButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClicked\">\r\n                        ${cancelText}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    \r\n</div>\r\n\r\n"}});define("Sage/UI/Controls/DateTimePicker",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/fx","dojo/date/locale","dijit/_Widget","dijit/form/TimeTextBox","Sage/UI/Calendar","Sage/Utility","dijit/TooltipDialog","dijit/_base/popup","dijit/form/ComboBox","dijit/focus","dojo/data/ItemFileReadStore","dojo/i18n!./nls/DateTimePicker","dojo/json","dojo/_base/lang","dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom-construct","Sage/Utility/_LocalStorageMixin","dojo/text!./templates/DateTimePicker.html"],function(_46d,_46e,fx,_46f,_470,_471,_472,_473,_474,_475,_476,_477,_478,_479,json,lang,_47a,_47b,_47c,_47d,_47e,_47f){var _480,_481,_482;_482=_47c("Sage.UI.Controls.DateTimePicker.TimeZoneDataLoader",_47e,{_requests:[],_requestingData:false,_tzData:false,_storageNamespace:"DateTimePickerTZ",constructor:function(){this._requests=[];this._requestingData=false;this._tzData=false;},requestTimeZones:function(_483,_484){if(!this._tzData){var data=this.getFromLocalStorage(this._storageNamespace,this._storageNamespace);if(data){this._tzData=json.parse(data);}else{this._requests.push({fn:_483,scope:_484||this});if(!this._requestingData){dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:lang.hitch(this,this._receiveData),error:function(err){}});this._requestingData=true;}return;}}_483.call(_484||this,this._tzData);},_receiveData:function(data){this.saveToLocalStorage(this._storageNamespace,json.stringify(data),this._storageNamespace);this._tzData=data;var len=this._requests.length;for(var i=0;i<len;i++){var clbk=this._requests.pop();clbk.fn.call(clbk.scope,data);}}});_480=_47c("Sage.UI.Controls._DateTimePickerMenu",[_470,_46d,_46e],{templateString:_47f,widgetsInTemplate:true,textAlign:"left",okText:"",cancelText:"",convertText:"",calculatorText:"",timeZoneSourceText:"",timeZoneDestText:"",id:"dateTimePickerMenu",dir:"",_messages:null,_started:false,_timezonesLoaded:false,_timezonesVisible:false,displayTime:false,constructor:function(_485){lang.mixin(this,_479);this.inherited(arguments);},startup:function(){this._started=true;this._messages=[];this.focus();this.inherited(arguments);},uninitialize:function(){this.dateNode.destroy(false);this.timeZoneSourceComboNode.destroy(false);this.timeZoneDestComboNode.destroy(false);this.timeZoneConvertButtonNode.destroy(false);this.timeNode.destroy(false);this.OKButtonNode.destroy(false);this.CancelButtonNode.destroy(false);this.inherited(arguments);},_getUTCDate:function(date){return new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds());},_okClicked:function(_486){this.onExecute();this.onOKClicked();},onOKClicked:function(){},_onCalendarBlur:function(){this.calendarBlur();},calendarBlur:function(){},_onValueSelected:function(){if(!this.displayTime){this.calendarDateSelected();this.onExecute();}},calendarDateSelected:function(){},_cancelClicked:function(){this.onCancel();this.onCancelClicked();},onFocusOut:function(){this.onExecute();},onCancelClicked:function(){},onCancel:function(){},onExecute:function(){},_hideTimeNode:function(){this._hideNode(this.timeZoneContainer);},_hideDateNode:function(){this._hideNode(this.dateContainer);},_showTimeNode:function(){this._showNode(this.timeZoneContainer);},_showDateNode:function(){this._showNode(this.dateContainer);},_hideNode:function(id){dojo.style(id,"visibility","hidden");dojo.style(id,"display","none");},_showNode:function(id){dojo.style(id,"visibility","visible");dojo.style(id,"display","block");},_convertClicked:function(){if(!this._timezonesLoaded){return;}var self=this,_487=this.dateNode.get("value"),_488=this.timeNode.get("value"),_489=this.timeZoneSourceComboNode.get("value"),_48a=this.timeZoneDestComboNode.get("value"),_48b="",_48c=null,url="slxdata.ashx/slx/crm/-/timezones/convertTimeFormatted?timezoneNameSource=${0}&timezoneNameDest=${1}&date=${2}&getFormatted=${3}";_487.setHours(_488.getHours());_487.setMinutes(_488.getMinutes());_48b=_487.toLocaleString();if(_489&&_48a){dojo.xhrGet({url:dojo.string.substitute(url,[escape(_489),escape(_48a),_48b,"false"]),handleAs:"json",load:function(_48d){self.convertResultsNode.innerHTML=_48d;},error:function(err){console.error(err);}});}},processTimeZones:function(data){var _48e=[];var _48f=_473.getClientContextByKey("userTimeZone");_47a.forEach(data,function(item){if(!item.Displayname||!item.Keyname){return;}_48e.push({id:item.Keyname,text:item.Displayname,offsetHours:item.OffsetHours,offsetMinutes:item.OffsetMinutes});});this.storeData={label:"text",identifier:"id",items:_48e};this.timeZoneStore=new _478({data:this.storeData});var self=this;this.timeZoneSourceComboNode.set("store",this.timeZoneStore);this.timeZoneSourceComboNode.set("searchAttr","text");this.timeZoneSourceComboNode.store.fetch({query:{text:_48f},onComplete:function(_490){self.timeZoneSourceComboNode.setAttribute("item",_490[0]);}});this.timeZoneDestComboNode.set("store",this.timeZoneStore);this.timeZoneDestComboNode.set("searchAttr","text");},loadTimeZones:function(){if(this._timezonesLoaded){return;}this._timezonesLoaded=true;var _491=new _482();_491.requestTimeZones(this.processTimeZones,this);}});_481=_47c("Sage.UI.Controls.DateTimePicker",[_476],{id:"dateTimePicker",buttonToolTip:"Calendar",toolTip:"",displayDate:true,displayTime:true,initialDate:null,initialTime:null,initialTextValue:"",dateFormat:"",timeZoneStore:null,storeData:null,dropDown:false,_opened:false,readOnly:false,enabled:true,required:false,renderAsHyperlink:false,shouldPublishMarkDirty:true,handles:null,store:null,dateOnlyHanlde:null,documentClickHandle:null,dropdownIconClicked:false,popupElements:null,minDate:null,constructor:function(_492){this.buttonToolTip=_479.buttonToolTip;this.handles=[];this.documentClickHandle=[];this.dateOnlyHanlde=[];this.store={};this.inherited(arguments);},_onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this._updateHiddenFields();},_onFocusChange:function(){this._updateHiddenFields();},_updateHiddenFields:function(){var _493,_494,_495,_496;_493=dojo.byId(this.id);if(_493){_495=_493.children[0];_494=_493.children[1];if(_495&&_494){_496=this.getValueForASPNET();_494.value=_496;if(_496===""){_495.value="";}if(_494.onchange){_494.onchange();}}}},uninitialize:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.dropDown=new _480({id:this.id+"_Popout",displayTime:this.displayTime});this.handles.push(this.connect(this,"onChange",this._onChanged));this.handles.push(dojo.connect(this.dropDown,"onOKClicked",this,"_displayCurrentValue"));this.handles.push(dojo.connect(this.focusNode,"onkeyup",this,"_onFocusKeyUp",true));this.handles.push(dojo.connect(this.focusNode,"onblur",this,"_onFocusBlur",true));this.handles.push(dojo.connect(this.focusNode,"onchange",this,"_onFocusChange",true));this.focusNode.value=this.initialTextValue;var date=_473.Convert.toDateFromString(this.initialDate)||new Date();var time=_473.Convert.toDateFromString(this.initialTime)||new Date();this.dropDown.dateNode.set("value",date.toDateString());this.dropDown.timeNode.set("value",time);if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}if(this.displayTime){this.dropDown._showTimeNode();}else{this.dateOnlyHanlde.push(dojo.connect(this.dropDown,"calendarDateSelected",this,"_displayCurrentValue"));this.dropDown._hideTimeNode();}var _497=[];var _498=function(node){if(node&&node.children&&node.children.length>0){for(var i=0;i<node.children.length;i++){if(node.children[i]){_497.push(node.children[i]);}_498(node.children[i]);}}return _497;};this.popupElements=_498(this.dropDown.domNode);this.popupElements.push(this.dropDown.domNode);this.popupElements.push(this._buttonNode.parentNode);this.documentClickHandle.push(dojo.connect(document,"onclick",this,"_documentOnClick"));this._setupRenderAsHyperlink();this._setupDropDownIcon();},_documentOnClick:function(evt){var e=evt||window.event;var _499=e.target||e.srcElement;var _49a=function(_49b,node){if(dojo.indexOf(_49b,node)>-1){return true;}else{if(node.parentNode){return _49a(_49b,node.parentNode);}else{return false;}}};if((_499&&_499.className&&(_499.className.indexOf("dijitTimePickerItemInner")>-1||_499.className.indexOf("dijitCalendarMonthLabel")>-1))||(_499&&_499.id&&(_499.id.indexOf("_Popout-TzSelectSource_popup")>-1||_499.id.indexOf("_Popout-TzSelectDest_popup")>-1))){e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}e.preventDefault=true;}else{if(this.dropDown&&this.dropDown.timeNode&&this.dropDown.timeNode.dropDown){if(dojo.indexOf(this.popupElements,this.dropDown.timeNode.dropDown.domNode)==-1){this.popupElements.push(this.dropDown.timeNode.dropDown.domNode);}}if(!_49a(this.popupElements,_499)){this.closeDropDown();}else{e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}e.preventDefault=true;}}},_setupDropDownIcon:function(){if(this.renderAsHyperlink){return;}_47d.create("div",{"class":"Global_Images icon16x16 icon_Calendar_16x16",title:this.buttonToolTip,tabIndex:0},this._buttonNode,"only");dojo.addClass(this._buttonNode,"smCalendarIconTxtBox");this.handles.push(this.connect(this._buttonNode,"ondijitclick",function(){if(!this.displayTime){dojo.style(this.dropDown.domNode,"height","226px");}else{dojo.style(this.dropDown.domNode,"height","266px");}if(!this.dropdownIconClicked){this.openDropDown();this.dropdownIconClicked=true;}}));},_displayCurrentValue:function(){if(!this._started){return;}var _49c=this.getDateValue(),_49d=this.getTimeValue(),_49e,_49f={fullYear:true};if(!_49c){return;}_49c.setHours(_49d.getHours());_49c.setMinutes(_49d.getMinutes());_49c.setSeconds(_49d.getSeconds());if(this.displayDate&&this.displayTime){_49f.selector="date and time";}else{if(this.displayDate){_49f.selector="date";}else{if(this.displayTime){_49f.selector="time";}}}_49e=_46f.format(_49c,_49f);if(this.renderAsHyperlink){var node=dojo.byId(this.id+"-Link");node.innerHTML=_49e;}else{this.focusNode.value=_49e;}if((!this.value.getTime)||this.value.getTime()!==_49c.getTime()){this.value=_49c;this.onChange(_49c);}},_setupRenderAsHyperlink:function(){if(!this.renderAsHyperlink){return;}dojo.style(this.domNode,"border","none");var node=dojo.create("a",{id:this.id+"-Link",innerHTML:this.focusNode.value},this.domNode,"only");dojo.style(node,"cursor","pointer");this.handles.push(dojo.connect(node,"onclick",this,function(){if(!this.displayTime){dojo.style(this.dropDown.domNode,"height","226px");}else{dojo.style(this.dropDown.domNode,"height","266px");}this.openDropDown();}));},loadDropDown:function(){},isLoaded:function(){return true;},_setBlurValue:function(){},closeDropDown:function(){_475.close(this.dropDown);this._opened=false;this.dropdownIconClicked=false;dojo.forEach(this.documentClickHandle,function(_4a0){dojo.disconnect(_4a0);});},_openResultList:function(){},_showResultList:function(){},_onBlur:function(){},triggerOnFocusBlur:function(_4a1){this._validateInputDate(_4a1);},_validateInputDate:function(_4a2){if(!this._opened&&!this.readOnly&&this.dropDown&&this.focusNode.value!==""){var text=this.focusNode.value;if(text===this.initialTextValue){return;}var _4a3=null;var _4a4="date";if(text.indexOf(":")>0){_4a4="datetime";}_4a2=_4a2||_47b.locale;_4a3=dojo.date.locale.parse(text,{selector:_4a4,locale:_4a2});if(this.dropDown&&_4a3!==null&&isNaN(_4a3.getDate())===false){if(_4a3.getFullYear()>=(new Date().getFullYear()-259)){this.dropDown.dateNode.set("value",_4a3);this.dropDown.timeNode.set("value",_4a3);}}this.dropDown.onOKClicked();}},_onFocusBlur:function(){this._validateInputDate();if(this._opened){_477.focus(dojo.query(".dijitCalendarContainer",this.dropDown.dateContainer)[0]);}},_onFocusKeyUp:function(e){},_onKey:function(e){},openDropDown:function(){this._opened=true;var self=this;_475.open({popup:this.dropDown,around:this.domNode,onExecute:function(){self.closeDropDown();_477.focus(self.focusNode);},onCancel:function(){self.closeDropDown();_477.focus(self.focusNode);},onClose:function(){}});this.documentClickHandle.push(dojo.connect(document,"onclick",this,"_documentOnClick"));if(this.displayTime){this.dropDown.loadTimeZones();}_477.focus(dojo.query(".dijitCalendarContainer",this.dropDown.dateContainer)[0]);_475._stack[0].handlers[0].remove();},_getUTCDate:function(date){return this.dropDown._getUTCDate(date);},getDateValue:function(){return this.dropDown.dateNode.get("value");},getTimeValue:function(){var _4a5=this.dropDown.timeNode.get("value")||new Date(Date.now());if(_4a5){_4a5.setSeconds(this.dropDown.timeNode["seconds"]||0);}return _4a5;},getMinDate:function(){this.minDate=Sage.Utility.Activity.formatDateAdd(new Date(),"year",-259);return this.minDate;},_getValueAttr:function(){var d=this.getDateValue();var t=this.getTimeValue();d.setHours(t.getHours());d.setMinutes(t.getMinutes());d.setSeconds(t.getSeconds());return d;},_setValueAttr:function(val){if(val&&val.toDateString){if(this.dropDown){this.dropDown.dateNode.set("value",val);this.dropDown.timeNode.set("value",val);this.dropDown.timeNode["seconds"]=val.getSeconds();this._displayCurrentValue();}if((!this.value.getTime)||this.value.getTime()!==val.getTime()){this.value=val;this.onChange(val);}}},_setDisplayDateAttr:function(_4a6){this.displayDate=_4a6;this._displayCurrentValue();if(this.dropDown){if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}}},_getDisplayDateAttr:function(){return this.displayDate;},_setToolTipAttr:function(_4a7){if(_4a7&&_4a7!==""){this.set("title",_4a7);}},_getToolTipAttr:function(){return this.toolTip;},_setDisabledAttr:function(_4a8){if(_4a8){dojo.style(this._buttonNode,"visibility","hidden");dojo.style(this._buttonNode,"display","none");}else{dojo.style(this._buttonNode,"visibility","");dojo.style(this._buttonNode,"display","");}this.inherited(arguments);},_setReadOnlyAttr:function(_4a9){if(_4a9){dojo.style(this._buttonNode,"visibility","hidden");dojo.style(this._buttonNode,"display","none");}this.inherited(arguments);},_setDisplayTimeAttr:function(_4aa){this.displayTime=_4aa;this._displayCurrentValue();if(this.dropDown){if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}dojo.forEach(this.dateOnlyHanlde,function(_4ab){dojo.disconnect(_4ab);});if(this.displayTime){this.dropDown.displayTime=true;this.dropDown._showTimeNode();}else{this.dropDown.displayTime=false;this.dateOnlyHanlde.push(dojo.connect(this.dropDown,"calendarDateSelected",this,"_displayCurrentValue"));this.dropDown._hideTimeNode();}}},_getDisplayTimeAttr:function(){return this.displayTime;},getValueForASPNET:function(){if(this.focusNode.value===""){return "";}var _4ac=[];var date=this.getDateValue();_4ac.push(date.getFullYear());_4ac.push(date.getMonth()+1);_4ac.push(date.getDate());var time=this.getTimeValue();_4ac.push(time.getHours());_4ac.push(time.getMinutes());return _4ac.join(",");},destroy:function(){dojo.forEach(dijit.findWidgets(this.domNode),function(wid){wid.destroy(false);});dojo.forEach(this.handles,function(_4ad){dojo.disconnect(_4ad);});this.inherited(arguments);},fmtDateForASPNET:function(){var date=this.getDateValue();var time=this.getTimeValue();var year=date.getFullYear();var _4ae=date.getMonth()+1;var day=date.getDate();var _4af=time.getHours();var _4b0=time.getMinutes();var _4b1="";if(this.displayDate){var _4b2=this.getDivChar();var _4b3=_4ae;var _4b4=day;if(this.dateFormat.substring(0,1).toUpperCase()=="MM"){_4b3=(_4b3<10)?"0"+_4b3:_4b3;}if(this.dateFormat.substring(0,1).toUpperCase=="DD"){_4b4=(_4b4<10)?"0"+_4b4:_4b4;}if(this.dateFormat.substring(0,1)=="M"||this.dateFormat.substring(0,1)=="m"){_4b1=_4b3+_4b2+_4b4+_4b2+date.getFullYear();}if(this.dateFormat.substring(0,1)=="D"||this.dateFormat.substring(0,1)=="d"){_4b1=_4b4+_4b2+_4b3+_4b2+date.getFullYear();}if(this.dateFormat.substring(0,1)=="Y"||this.dateFormat.substring(0,1)=="y"){_4b1=date.getFullYear()+_4b2+_4b3+_4b2+_4b4;}if(this.displayTime){_4b1+=" ";}}if(this.displayTime){var _4b5=this.getTimeDivChar();var _4b6=_4af;var _4b7=_4b0;if(_4b7<10){_4b7="0"+_4b7;}if(this.dateFormat.indexOf("H")>-1){_4b1+=_4b6+_4b5+_4b7;}else{if(this.dateFormat.indexOf("h")>-1){var _4b8=_4af;if(this.Hours===0){_4b8="12";}var _4b9="AM";if(_4af>=12){if(_4af>12){_4b8=(_4af-12);}_4b9="PM";}_4b1+=_4b8+_4b5+_4b7+" "+_4b9;}else{_4b1+=time.toLocaleTimeString();}}}return _4b1;},getDivChar:function(){var _4ba="";for(var i=0;i<this.dateFormat.length;i++){if(isNaN(this.dateFormat.charAt(i))){if((this.dateFormat.charAt(i)<"A"||this.dateFormat.charAt(i)>"Z")&&(this.dateFormat.charAt(i)<"a"||this.dateFormat.charAt(i)>"z")){_4ba=this.dateFormat.charAt(i);break;}}}return _4ba;},getTimeDivChar:function(){if(this.displayTime){var _4bb=this.dateFormat.split(" ");if(_4bb.length>1){var _4bc=_4bb[1];for(var i=0;i<_4bc.length;i++){if(isNaN(_4bc.charAt(i))){if((_4bc.charAt(i)<"A"||_4bc.charAt(i)>"Z")&&(_4bc.charAt(i)<"a"||_4bc.charAt(i)>"z")){return _4bc.charAt(i);}}}}}return ":";}});return _481;});},"Sage/MainView/Contact/ContactSearchForDuplicates":function(){require({cache:{"url:Sage/MainView/Contact/templates/ContactDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Contact.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccount_Caption || \"Account:\" %}</td>',\r\n                        '<td class=\"DataItem\"><a href=\"Account.aspx?entityid={{%= $.templateData.account_id %}}\">{%= Sage.Utility.htmlEncode($.templateData.accountname) %}</a></td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n] ","url:Sage/MainView/Lead/templates/LeadDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Lead.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svCompany_Caption || \"Company:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountname %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","url:Sage/MainView/Account/templates/AccountDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Account.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svSubType_Caption || \"Sub Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.subtype %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Status || \"Status:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.status %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svDivision_Caption || \"Division:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.division %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svIndustry_Caption || \"Industry:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.industry) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMainPhone_Caption || \"Main phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mainphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTollFree_Caption || \"Toll free:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.tollfree) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]"}});define("Sage/MainView/Contact/ContactSearchForDuplicates",["dojo/_base/declare","dojo/i18n!./nls/ContactSearchForDuplicates","dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/UI/Dialogs","dijit/Dialog","dojo/i18n!./nls/ContactSearchForDuplicates","dojo/text!./templates/ContactDetailSummary.html","dojo/text!../Lead/templates/LeadDetailSummary.html","dojo/text!../Account/templates/AccountDetailSummary.html"],function(_4bd,_4be,_4bf,_4c0,_4c1,_4c2,_4c3,_4c4,_4c5,_4c6,nls,_4c7,_4c8,_4c9){var _4ca=_4bd("Sage.MainView.Contact.ContactSearchForDuplicates",[_4bf,_4c0],{workSpace:{},templateDialog:false,templateData:"",rootUrl:"slxdata.ashx/slx/crm/-/namedqueries?format=json&",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_4be);},init:function(_4cb){this.workSpace=_4cb;},onTabFiltersClick:function(){this.setDivDisplay(this.workSpace.divFiltersId,"inline");this.setDivDisplay(this.workSpace.divOptionsId,"none");this.setTabDisplay(this.workSpace.tabFiltersId,"tws-tab-button tws-active-tab-button");this.setTabDisplay(this.workSpace.tabOptionsId,"tws-tab-button");},onTabOptionsClick:function(){this.setDivDisplay(this.workSpace.divOptionsId,"inline");this.setDivDisplay(this.workSpace.divFiltersId,"none");this.setTabDisplay(this.workSpace.tabOptionsId,"tws-tab-button tws-active-tab-button");this.setTabDisplay(this.workSpace.tabFiltersId,"tws-tab-button");},setDivDisplay:function(_4cc,_4cd){var _4ce=dojo.byId(_4cc);if(_4ce!==null){_4ce.style.display=_4cd;}},setTabDisplay:function(_4cf,_4d0){var _4d1=dojo.byId(_4cf);if(_4d1!==null){_4d1.className=_4d0;}},showSummaryView:function(_4d2,_4d3){var url=this.getReqestUrl(_4d2,_4d3);this.showData(url,this.successRequest,this.errorRequest,_4d2,_4d3);},getReqestUrl:function(_4d4,_4d5){var url=null;if(_4d4==="Contact"){url=this.getReqeustUrlEx(_4d5,"ContactSearch");}if(_4d4==="Lead"){url=this.getReqeustUrlEx(_4d5,"LeadSearch");}if(_4d4==="Account"){url=this.getReqeustUrlEx(_4d5,"AccountSearch");}return url;},getReqeustUrlEx:function(_4d6,_4d7){var _4d8="mainentity.id eq '${0}'";var _4d9={name:_4d7,where:dojo.string.substitute(_4d8,[_4d6])};return this.rootUrl+this.buildQParamStr(_4d9);},buildQParamStr:function(_4da){var o=_4da;var p=[];if(typeof o==="object"){for(var k in o){p.push(k+"="+encodeURIComponent(o[k]));}}else{if(typeof o==="string"){p.push(o);}}return p.join("&");},showData:function(url,_4db,_4dc,_4dd,_4de){if(typeof _4db==="undefined"){_4db=function(data){};}if(typeof _4dc==="undefined"){_4dc=function(){};}if(typeof _4dd==="undefined"){_4dd="";}if(typeof _4de==="undefined"){_4de="";}var self=this;dojo.xhrGet({url:url,cache:false,preventCache:true,handleAs:"json",load:function(data){_4db(self,_4dd,data);},error:function(_4df,_4e0,_4e1){_4dc(self,_4e1);}});},successRequest:function(self,_4e2,data){self.show(_4e2,data);},show:function(_4e3,data){this.templateData=data.items[0];this.templateDialog=new _4c6({title:this.getSummaryTitle(_4e3),id:[this.id,"-Dialog"].join(""),content:this.getTemplate(_4e3).apply(this)});this.connect(this.templateDialog,"onCancel",this._close);this.templateDialog.show();},errorRequest:function(self,_4e4){_4c5.showError(dojo.string.substitute(self.errorLoadingSummaryView,[_4e4]));},getSummaryTitle:function(_4e5){var _4e6=null;if(_4e5==="Contact"){_4e6=this.ContactSummaryView_Title;}if(_4e5==="Lead"){_4e6=this.LeadSummaryView_Title;}if(_4e5==="Account"){_4e6=this.AccountSummaryView_Title;}return _4e6;},getTemplate:function(_4e7){var tpl=null;if(_4e7==="Contact"){tpl=new Simplate(eval(_4c7));}if(_4e7==="Lead"){tpl=new Simplate(eval(_4c8));}if(_4e7==="Account"){tpl=new Simplate(eval(_4c9));}return tpl;},_close:function(){this.templateDialog.destroyRecursive();}});return _4ca;});},"Sage/UI/Controls/_customSelectMixin":function(){define("Sage/UI/Controls/_customSelectMixin",["dijit/_Widget","Sage/_Templated","dijit/form/ComboBox","dojo/_base/declare"],function(_4e8,_4e9,_4ea,_4eb){var _4ec=_4eb("Sage.UI.Controls._customSelectMixin",[_4e8,_4e9],{widgetsInTemplate:true,disabled:false,value:"",text:"",widgetTemplate:new Simplate(["<div>","<select dojoType=\"dijit.form.ComboBox\" id=\"{%= $.id %}_select\" labelAttr=\"label\" dojoAttachPoint=\"_select\" dojoAttachEvent=\"onChange:_onChange\"></select>","</div>"]),postCreate:function(){this.inherited(arguments);this._fillSelect();},_fillSelect:function(){},_setValueAttr:function(_4ed){this.text=_4ed;this.value=_4ed;if(this._store){this._store.fetchItemByIdentity({identity:_4ed,onItem:function(item){if(item){this._select.set("value",this._store.getValue(item,this._storeData.label));this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this._handleValueNotInStore(_4ed);}},onError:function(){},scope:this});}},_getValueAttr:function(){if(this._select.item&&this._store){this.value=this._store.getValue(this._select.item,this._storeData.identifier);}return this.value;},_onChange:function(_4ee){if((this.value===_4ee)||(this.text===_4ee)){return;}if(this._select.item){var item=this._select.item;this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this.value=this._handleValueNotInStore(_4ee);}this.onChange(this.value);},_handleValueNotInStore:function(_4ef){this.text=_4ef;this.value=_4ef;return _4ef;},_getTextAttr:function(){return this.text;},_setTextAttr:function(text){this.text=text;this._select.set("displayedValue",text);},_setDisabledAttr:function(_4f0){this.disabled=_4f0;this._select.set("disabled",_4f0);},_getDisabledAttr:function(){this.disabled=this._select.get("disabled");return this.disabled;},onChange:function(){}});return _4ec;});},"Sage/Utility/Email":function(){define("Sage/Utility/Email",["Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/parser","dojox/validate/regexp","dojo/i18n!./nls/Email"],function(_4f1,_4f2,_4f3,_4f4,_4f5,nls){Sage.namespace("Utility.Email");dojo.mixin(Sage.Utility.Email,{resources:nls,writeEmail:function(_4f6,_4f7,body,_4f8,_4f9){if(dojo.isString(_4f6)&&(_4f6.length>0)){if((_4f6.indexOf("{",0)===0)&&(_4f6.lastIndexOf("}")==_4f6.length-1)){try{var _4fa=dojo.fromJson(_4f6);if(dojo.isObject(_4fa)){_4f6=_4fa;}}catch(e){_4f3.showError(dojo.substitute(_4f1.Email.resources.RecipientInfoError,[e.message]));if(typeof console!=="undefined"){console.error("There was an error attempting to parse the recipient data as JSON: %o",e);console.error("recipient parameter: %o",_4f6);}return;}}else{if((_4f6.indexOf("[",0)===0)&&(_4f6.lastIndexOf("]")===_4f6.length-1)){_4f6=eval(_4f6);}}}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_4fb,_4fc){var _4fd=0;if(typeof _4f9!=="undefined"){if(!isNaN(_4f9)){if(Number(_4f9)==1){_4fd=1;}}}var _4fe=3,olCC=2,olTo=1;var _4ff=["to","cc","bcc"];var _500=0;var _501=(dojo.isArray(_4f6))?"array":typeof _4f6;var _502=(_501!=="undefined")&&(_4f6!==null);var _503={"to":[],"cc":[],"bcc":[]};var _504=function(type,_505,_506,_507){if(self.isValidEmailAddress(_507||"")){var _508=function(_509){_509.push({"firstName":_505||"","lastName":_506||"","emailAddress":_507||""});};switch(type){case olCC:_508(_503.cc);break;case _4fe:_508(_503.bcc);break;default:_508(_503.to);break;}}else{if(typeof console!=="undefined"){}}};if(_502){var _50a=function(type,_50b){if(dojo.isObject(_50b)){_504(type,_50b.firstName||"",_50b.lastName||"",_50b.emailAddress||"");}};switch(_501){case "string":if(_4f6!==""){_504(olTo,"","",_4f6);}break;case "array":dojo.forEach(_4f6,function(_50c){if(dojo.isString(_50c)){_504(olTo,"","",_50c);}else{if(dojo.isObject(_50c)){_50a(olTo,_50c);}}});break;case "object":_500=0;dojo.forEach(_4ff,function(prop){_500++;if(_4f6.hasOwnProperty(prop)){switch((dojo.isArray(_4f6[prop]))?"array":typeof _4f6[prop]){case "string":_504(_500,"","",_4f6[prop]);break;case "array":dojo.forEach(_4f6[prop],function(obj){if(dojo.isString(obj)){_504(_500,"","",obj);}else{if(dojo.isObject(obj)){_50a(_500,obj);}}});break;case "object":_50a(_500,_4f6[prop]);break;}}});break;}}_4f6=undefined;var _50d=function(obj1,obj2){var _50e;switch(_4fd){case 1:_50e=(obj1.lastName||"").toLocaleUpperCase().localeCompare((obj2.lastName||"").toLocaleUpperCase());if(_50e===0){_50e=(obj1.firstName||"").toLocaleUpperCase().localeCompare((obj2.firstName||"").toLocaleUpperCase());}break;default:_50e=(obj1.firstName||"").toLocaleUpperCase().localeCompare((obj2.firstName||"").toLocaleUpperCase());if(_50e===0){_50e=(obj1.lastName||"").toLocaleUpperCase().localeCompare((obj2.lastName||"").toLocaleUpperCase());}}return _50e;};var _50f=(dojo.isString(_4f7))?_4f7:"";var _510=(dojo.isString(body))?body:"";var _511=_503.to.length+_503.cc.length+_503.bcc.length;_502=(_511>0);var _512=_4fb.GetDesktopService(false);if(_512){if(typeof _512.MailMergeGUI!=="undefined"){if(typeof _512.MailMergeGUI().OutlookIsAvailable!=="undefined"&&_512.MailMergeGUI().OutlookIsAvailable){var _513=_512.NewActiveXObject("SLXMMGUIW.MultidimensionalArray");var _514=4;_513.Resize(0,_514);if(_502){_513.Resize(_511,_514);_500=0;var iRow=0;dojo.forEach(_4ff,function(prop){_500++;var _515=_503[prop];if(dojo.isArray(_515)&&_515.length>0){_515.sort(_50d);dojo.forEach(_515,function(obj){_513.SetValue(iRow,0,obj.firstName||"");_513.SetValue(iRow,1,obj.lastName||"");_513.SetValue(iRow,2,obj.emailAddress||"");_513.SetValue(iRow,3,_500);iRow++;});}});}_512.MailMergeGUI().WriteEmailEx(_513,_50f,_510,_4fd);return;}else{if(typeof console!=="undefined"){if(typeof _512.MailMergeGUI().OutlookIsAvailable==="undefined"){console.error("The request to e-mail could not be processed by Desktop Integration. An older version of SLXMMGUIW.DLL appears to be installed.");}else{}}}}}var _516=function(_517,_518,_519){var _51a="";var _51b=_517||"";var _51c=_518||"";var _51d=_519||"";if(_51b!==""&&_51c!==""){switch(_4fd){case 1:_51a=_51c+", "+_51b;break;default:_51a=_51b+" "+_51c;break;}}else{if(_51c===""&&_51b!==""){_51a=_51b;}else{if(_51c!==""&&_51b===""){_51a=_51c;}}}if(_51a===""){return _51d;}_51a=dojo.string.substitute("${0} <${1}>",[_51a,_51d]);return _51a;};if(typeof ActiveXObject!="undefined"){try{var _51e=new ActiveXObject("Outlook.Application");var _51f=_51e.CreateItem(0);if(_50f!==""){_51f.Subject=_50f;}if(_510!==""){if(_4f8){_51f.HTMLBody=_510;}else{_51f.Body=_510;}}_500=0;dojo.forEach(_4ff,function(prop){_500++;var _520=_503[prop];if(dojo.isArray(_520)&&_520.length>0){_520.sort(_50d);dojo.forEach(_520,function(obj){var _521=_516(obj.firstName,obj.lastName,obj.emailAddress);var _522=_51f.Recipients.Add(_521);_522.Type=_500;});}});_51f.Display();return;}catch(e){if(typeof console!=="undefined"){}}}if(typeof console!=="undefined"){}var _523=function(str,_524,_525,_526,_527,_528){if(typeof _524=="string"){_524=[_524];}var _529;if(_527===false){_529=function(x){return x;};}else{_529=function(x){return encodeURIComponent(x);};}for(var i=0;i<_524.length&&str.length<_525;i++){var left=_525-str.length;var part=_524[i];if(i>0&&_526){left--;}if(left===0||(_528===false&&left<part.length)){continue;}part=part.substr(0,left);var ns=_529(part);if(str.length+ns.length>_525){if(_528===false){continue;}var _52a=0;var _52b=ns.length-left;while(_52b>0){_52a++;_52b-=_529(part.charAt(part.length-_52a)).length;}if(_52a>=part.length){continue;}ns=_529(part.substr(0,part.length-_52a));}if(i>0&&_526){str+=_526;}str+=ns;}return str;};var _52c=function(type){var _52d=[];var _52e;switch(type){case olCC:_52e=_503.cc;break;case _4fe:_52e=_503.bcc;break;default:_52e=_503.to;break;}if(dojo.isArray(_52e)&&_52e.length>0){_52e.sort(_50d);dojo.forEach(_52e,function(obj){var _52f=_516(obj.firstName||"",obj.lastName||"",obj.emailAddress||"");_52d.push(_52f);});}return _52d;};var _530=(_4f7||body)?1500:2040;var _531=_52c(olTo);var url=_523("mailto:",(dojo.isArray(_531)?_531:[]),_530,";",false,false);var _532=false;var _533=function(_534){var _535=(_532)?"&":"?";_535+=_534+"=";_532=true;return _535;};if(dojo.isString(_4f7)&&_4f7!==""){url+=_533("subject");url=_523(url,_4f7,1700);}var _536=_52c(olCC);if(dojo.isArray(_536)&&_536.length>0){url+=_533("cc");url=_523(url,_536,_530,";",false,false);}var _537=_52c(_4fe);if(dojo.isArray(_537)&&_537.length>0){url+=_533("bcc");url=_523(url,_537,_530,";",false,false);}if(dojo.isString(body)&&body!==""){url+=_533("body");url=_523(url,body,2000);}if(typeof console!=="undefined"){}try{location.href=url;}catch(e){_4f3.showError(dojo.string.substitute(_4f1.Email.resources.MailToProtocolError,[url.length,(typeof e.toMessage=="function")?e.toMessage():e.message]));}});},isWriteEmailToIdsSupported:function(_538){if(!dojo.isString(_538)||_538===""){if(typeof console!=="undefined"){console.error("The maintable argument is invalid in isWriteEmailToIdsSupported(maintable).");}}var _539=(dojo.isString(_538))?_538.toUpperCase():"";return (_539=="CONTACT"||_539=="LEAD");},__emailValidationRegEx:null,isValidEmailAddress:function(_53a){if(this.__emailValidationRegEx===null){this.__emailValidationRegEx=new RegExp(dojox.validate.regexp.emailAddress());}if(dojo.isString(_53a)){return this.__emailValidationRegEx.test(_53a);}return false;},writeEmailToIds:function(_53b,_53c,_53d,body,_53e,_53f){if(!this.isWriteEmailToIdsSupported(_53c)){_4f3.showError(_4f1.Email.resources.InvalidContextError);return;}if(!dojo.isArray(_53b)){_4f3.showError(_4f1.Email.resources.InvalidArgumentError);return;}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_540,_541){var _542=_53c.toUpperCase();var _543=0;_53b.sort();var _544=[];dojo.forEach(_53b,function(id){if(dojo.indexOf(_544,id)==-1){_544.push(id);}else{_543++;if(typeof console!=="undefined"){}}});_53b=_544;dojo.forEach(_53b,function(id,idx){_53b[idx]="'"+id+"'";});var _545=1;if(_53b.length>100){_545=Math.floor(_53b.length/100);if((_53b.length%100)!==0){_545++;}}var _546=0;if(typeof _53e!=="undefined"){if(!isNaN(_53e)){if(Number(_53e)==1){_546=1;}}}var _547=(_542=="CONTACT");var _548="Email";if(dojo.isString(_53f)&&_53f!==""&&_547){var _549=_53f.toUpperCase();switch(_549){case "SECONDARYEMAIL":_548="SecondaryEmail";if(typeof console!=="undefined"){}break;case "EMAIL3":_548="Email3";if(typeof console!=="undefined"){}break;default:if(_549!="EMAIL"){if(typeof console!=="undefined"){}}if(typeof console!=="undefined"){}break;}}var _54a=0;var _54b=0;var _54c;var _54d=0;var _54e={"data":[]};var _54f=function(key,_550,_551,_552){_54e.data.push({"key":key||"","firstName":_550||"","lastName":_551||"","emailAddress":_552||""});};var _553=_540.GetDesktopService(false);for(_54c=0;_54c<_545;_54c++){var _554=function(){var _555=100;if(_53b.length<100){_555=_53b.length;}var _556=new Array(_555);var _557;for(_557=0;_557<_555;_557++){_556[_557]=_53b.shift();}var _558=(_556.length>1)?"Id in (${0})":"Id eq ${0}";var _559=dojo.string.substitute(_558,[_556.join(",")]);var _55a=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _55b=new Sage.SData.Client.SDataResourceCollectionRequest(_55a);_55b.setResourceKind((_542=="LEAD")?"leads":"contacts");var _55c="FirstName,LastName,DoNotSolicit,DoNotEmail,"+_548;_55b.setQueryArg("select",_55c);_55b.setQueryArg("where",_559);_55b.read({httpMethodOverride:true,success:function(data){_54d++;var _55d=(typeof data!=="undefined"&&data!==null)?data["$resources"]:null;if(dojo.isArray(_55d)&&_55d.length>0){var _55e;for(_55e=0;_55e<_55d.length;_55e++){var _55f=_55d[_55e].$key||"";var _560;switch(_548){case "SecondaryEmail":_560=_55d[_55e].SecondaryEmail||"";break;case "Email3":_560=_55d[_55e].Email3||"";break;default:_560=_55d[_55e].Email||"";break;}var _561=_55d[_55e].FirstName||"";var _562=_55d[_55e].LastName||"";var _563=_55d[_55e].DoNotEmail||false;var _564=_55d[_55e].DoNotSolicit||false;if(_560!==""&&self.isValidEmailAddress(_560)&&!_563&&!_564){_54f(_55f,_561,_562,_560);}else{if(_563||_564){_54b++;if(typeof console!=="undefined"){}}else{_54a++;if(typeof console!=="undefined"){}}}}}if(_54d==_545){var _565=null;if(_54b>0||_54a>0||_543>0){_565=dojo.string.substitute(_4f1.Email.resources.FilteredOutMsg,[_54b,_54a,_543]);}var _566={rtTo:0,rtCC:1,rtBCC:2};var _567={"to":[],"cc":[],"bcc":[]};var _568=function(type,_569,_56a,_56b){var _56c=function(_56d){_56d.push({"firstName":_569||"","lastName":_56a||"","emailAddress":_56b||""});};switch(type){case _566.rtCC:_56c(_567.cc);break;case _566.rtBCC:_56c(_567.bcc);break;default:_56c(_567.to);break;}};var _56e;if(_54e.data.length>1){if(_54a>0){if(typeof console!=="undefined"){}}if(_54b>0){if(typeof console!=="undefined"){}}if(_543>0){if(typeof console!=="undefined"){}}var i;if(_553){var _56f=new Sage.SelectEmailInfo();dojo.forEach(_54e.data,function(_570){_56f.AddInfo("","",_570.key,_570.emailAddress,_570.firstName,_570.lastName,"","",false);});var _571=(dojo.isString(_565))?_565:"";var _572=_553.SelectEmailNames(_56f,MaxTo.maxNoMax,_571);if(_572!==null&&_572.Recipients.length>0){for(i=0;i<_572.Recipients.length;i++){_56e=_572.Recipients[i];_568(_56e.Type,_56e.FirstName,_56e.LastName,_56e.EmailAddress);}}else{return;}}else{dojo.forEach(_54e.data,function(_573){_568(_566.rtTo,_573.firstName,_573.lastName,_573.emailAddress);});}}else{if(_54e.data.length==1){_56e=_54e.data[0];_568(_566.rtTo,_56e.firstName,_56e.lastName,_56e.emailAddress);}else{var _574=_4f1.Email.resources.AllInvalidEmailError;if(_547&&_548!="Email"){_574+=dojo.string.substitute(" "+_4f1.Email.resources.EmailFieldQueried,["Contact."+_548]);}_4f3.showInfo(_574);return;}}var _575=(dojo.isString(_53d))?_53d:"";var _576=(dojo.isString(body))?body:"";var _577=(_576.length>13)?(_576.indexOf("<HTML",_576.substring(0,4).toUpperCase())===0):false;self.writeEmail(_567,_575,_576,_577,_546);}},failure:function(xhr,_578){var _579={message:_4f1.Email.resources.EntityInfoError};_4f1.ErrorHandler.handleHttpError(xhr,_578,_579);},scope:this});};_554();}});},writeEmailToGroupSelection:function(_57a,body,_57b,_57c){if(_4f1.getModeId()!="list"){_4f3.showInfo(_4f1.Email.resources.CapabilityModeError);return;}var _57d=Sage.Services.getService("ClientGroupContext");if(!dojo.isObject(_57d)){return;}var _57e=_57d.getContext().CurrentTable;if(!this.isWriteEmailToIdsSupported(_57e)){_4f3.showError(_4f1.Email.resources.CapabilityEntityError);return;}var _57f=dijit.byId("list");if(!dojo.isObject(_57f)){return;}var _580=_57f.getSelectionInfo();if(!dojo.isObject(_580)||!_580.hasOwnProperty("selectionCount")||_580.selectionCount<=0){_4f3.showInfo(_4f1.Email.resources.NoRowsSelectedError);return;}var _581=new Array(_580.selections.length);dojo.forEach(_580.selections,function(item,idx){_581[idx]=item.id;});this.writeEmailToIds(_581,_57e,_57a,body,_57b,_57c);}});return Sage.Utility.Email;});},"Sage/MainView/Contact/ContactUserAssociationEditor":function(){require({cache:{"url:Sage/MainView/Contact/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divUserLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"userLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/Contact/ContactUserAssociationEditor",["dojo/_base/declare","dojo/i18n!./nls/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/string","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/ContactUserAssociationEditor.html","Sage/UI/Controls/SingleSelectPickList","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/Form"],function(_582,_583,_584,_585,_586,_587,_588,_589,_58a,_58b,_58c,_58d,_58e,_58f){var _590=_582("Sage.TaskPane.ContactUserAssociationEditor",[_58b,_58c],{id:"dlgContactUserAssociation",actionType:false,_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_User:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_58f)),constructor:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;dojo.mixin(this,_583);if(this.actionType=="disassociate"){}},associationExists:function(_591,_592,_593,_594){this._setupStore();var _595=_589.substitute("UserId eq '${0}' ",[_593.UserId]);this._contactUserStore.fetch({query:_595,onComplete:function(_596){if(_596&&_596.length>0){_592.call(_594,_596,_593);}else{_591.call(_594,_593);}},onError:function(){_591.call(_594,_593);},scope:this});},loadContactData:function(_597,_598,_599){if(!_597){return;}this._setupStore();var _59a=_589.substitute("ContactId in ['${0}'] ",[this._selectionInfo.join("','")]);this._contactUserStore.fetch({query:_59a,onComplete:function(_59b){_598.call(_599,_59b);},onError:function(){_598.call(_599,null);},scope:this});this._contactUserStore.fetch({predicate:"'"+_597+"'",onComplete:function(_59c){_598.call(_599,_59c);},onError:function(){_598.call(_599,null);},scope:this});},setSelectionInfo:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;},show:function(){this._dialog.show();if(!this.lup_User){this.createUserLookup();}},createUserLookup:function(){this.userLookupConfig={id:"_acctMgr",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupNameColText,"field":"UserInfo.UserName","sortable":true},{"name":this.lookupTitleColText,"field":"UserInfo.Title","sortable":true},{"name":this.lookupDepartmentColText,"field":"UserInfo.Department","sortable":true},{"name":this.lookupRegionColText,"field":"UserInfo.Region","sortable":true},{"name":this.lookupTypeColText,"field":"Type","propertyType":"Sage.Entity.Interfaces.UserType","sortable":true}]}],gridOptions:{contextualCondition:function(){return "Type ne '5' and Type ne '6' and Type ne '7' and Type ne '8'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.UserName"}]},isModal:true,initialLookup:true,returnPrimaryKey:true,dialogTitle:this.lookupUserText,dialogButtonText:this.btnOK_Caption};this.lup_User=new _58e({id:"lu_User",config:this.userLookupConfig,style:"width:100%"});dojo.place(this.lup_User.domNode,this.userLookup_Container.domNode,"only");},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _585({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},_okClick:function(){var _59d=this.lup_User.selectedObject.$key;if(this._selectionInfo&&_59d){this._setupStore();if(this.actionType==="associate"){var _59e={"ContactId":this._selectionInfo[0],"UserId":_59d};this.associationExists(this._insertAssociation,function(){Sage.UI.Dialogs.showError(this.associationExistsMessage);},_59e,this);}else{if(this.actionType==="disassociate"){for(var i=0;i<this._selectionInfo.count;i++){}}}}},_insertAssociation:function(_59f,self){this._contactUserStore.saveNewEntity(_59f,this._successfulContactUserSave,this._failedContactUserSave,this);},_successfulContactUserSave:function(data){this._dialog.hide();},_failedContactUserSave:function(er){this._dialog.hide();},_close:function(){this._dialog.hide();}});return _590;});},"Sage/Link":function(){define("Sage/Link",["Sage/UI/Dialogs","Sage/Utility","Sage/Services/ActivityService","dojo/string"],function(_5a0,_5a1,_5a2,_5a3){Sage.namespace("Link");Sage.Link={entityDetail:function(kind,id){var _5a4=kind.toUpperCase();switch(_5a4){case "ACTIVITY":this.editActivity(id);break;case "HISTORY":this.editHistory(id);break;default:if(_5a1.getModeId()==="detail"){var _5a5=Sage.Services.getService("ClientEntityContext");var _5a6=_5a5.getContext();if(_5a6.EntityType===kind||_5a6.EntityType==="Sage.Entity.Interfaces.I"+kind){_5a5.navigateSLXGroupEntity(id);return;}}var url=_5a3.substitute("${0}.aspx?entityid=${1}&modeid=Detail",[kind,id]);document.location=url;break;}},toListView:function(kind){var url;if(typeof kind!=="undefined"){url=kind+".aspx?modeid=list";}else{url=document.location.href.replace("#","");if(url.indexOf("?")>-1){var _5a7=url.split("?");url=_5a7[0];}url+="?modeid=list";}document.location=url;},toActivityListView:function(_5a8){if(document.location.href.toLowerCase().indexOf("activitymanager.aspx")<1){var url="ActivityManager.aspx"+((_5a8)?"?tabId="+_5a8:"");window.setTimeout(function(){document.location=url;},5);}else{if(_5a8){var s=Sage.Services.getService("ClientGroupContext");s.setCurrentGroup(_5a8);}}},schedule:function(type){if(type==="CompleteActivity"){Sage.ClientLinkHandler.request({request:"Schedule",type:type});return;}var _5a9=Sage.Services.getService("ActivityService");if(!_5a9){Sage.Services.addService("ActivityService",new _5a2());_5a9=Sage.Services.getService("ActivityService");}_5a9.scheduleActivity({type:type});},newNote:function(){var _5aa=Sage.Services.getService("ActivityService");if(!_5aa){Sage.Services.addService("ActivityService",new _5a2());_5aa=Sage.Services.getService("ActivityService");}_5aa.insertNote();},scheduleActivity:function(args){this.schedule(args);},schedulePhoneCall:function(){this.schedule("PhoneCall");},scheduleMeeting:function(){this.schedule("Meeting");},scheduleToDo:function(){this.schedule("ToDo");},schedulePersonalActivity:function(){this.schedule("PersonalActivity");},scheduleCompleteActivity:function(){this.schedule("CompleteActivity");},scheduleEvent:function(args){var _5ab=Sage.Services.getService("ActivityService");_5ab.scheduleEvent(args);},editEvent:function(id){var _5ac=Sage.Services.getService("ActivityService");_5ac.editEvent(id);},deleteEvent:function(id){var _5ad=Sage.Services.getService("ActivityService");_5ad.deleteEvent(id);},editActivity:function(id,_5ae,_5af){var _5b0=Sage.Services.getService("ActivityService");if(!_5b0){Sage.Services.addService("ActivityService",new _5a2());_5b0=Sage.Services.getService("ActivityService");}_5af=_5af||"";_5b0.editActivity(id,_5ae,_5af);},editActivityIfConfirmed:function(id,_5b1){var _5b2=Sage.Services.getService("ActivityService");_5b2.editActivityIfConfirmed(id,_5b1);},editActivityOccurrence:function(id,_5b3){Sage.ClientLinkHandler.request({request:"EditActivityOccurrence",id:id,recurDate:_5b3});},editHistory:function(id,args){var _5b4=Sage.Services.getService("ActivityService");if(!_5b4){Sage.Services.addService("ActivityService",new _5a2());_5b4=Sage.Services.getService("ActivityService");}_5b4.editHistory(id);},completeActivity:function(id,_5b5){var _5b6=Sage.Services.getService("ActivityService");_5b6.completeActivity(id,_5b5);},completeNewActivity:function(type,args){var _5b7=Sage.Services.getService("ActivityService");_5b7.completeNewActivity(type,args);},completeActivityOccurrence:function(id,_5b8){var _5b9=Sage.Services.getService("ActivityService");_5b9.completeActivityOccurrence(id,_5b8);},deleteActivity:function(id,_5ba){var _5bb=Sage.Services.getService("ActivityService");_5bb.deleteActivity(id,false,_5ba);},deleteActivityOccurrence:function(id){var _5bc=Sage.Services.getService("ActivityService");_5bc.deleteActivity(id);},confirmActivityFor:function(_5bd,_5be){var _5bf=Sage.Services.getService("ActivityService");_5bf.confirmActivityFor(_5bd,_5be);},editConfirmation:function(id){var _5c0=Sage.Services.getService("ActivityService");_5c0.editConfirmation(id);},acceptConfirmation:function(id){var _5c1=Sage.Services.getService("ActivityService");_5c1.acceptConfirmation({id:id});},declineConfirmation:function(id){var _5c2=Sage.Services.getService("ActivityService");_5c2.declineConfirmation(id);},deleteConfirmation:function(id){var _5c3=Sage.Services.getService("ActivityService");_5c3.deleteConfirmation(id);},scheduleLitRequest:function(){var _5c4=Sage.Services.getService("ActivityService");_5c4.scheduleLitRequest();},deleteLitRequest:function(id){var _5c5=Sage.Services.getService("ActivityService");_5c5.deleteLitRequest(id);},goToLitRequest:function(id){var _5c6=Sage.Services.getService("ActivityService");_5c6.goToLitRequest(id);},goToActivityAssociation:function(_5c7,id){var _5c8=Sage.Services.getService("ActivityService");_5c8.goToActivityAssociation(_5c7,id);},mergeRecords:function(){var _5c9=dijit.byId("list");if(_5c9){var _5ca=_5c9.getSelectionInfo();if(_5ca.selectionCount===2){var _5cb=Sage.Services.getService("SelectionContextService");_5cb.setSelectionContext(_5ca.key,_5ca,this.mergeRecordsSelectionInfoCallback);Sage.ClientLinkHandler.request({request:"MergeRecords",selectionInfoKey:_5ca.key});}else{_5a0.showInfo(MasterPageLinks.Merge_Account_SelectionError);}}},mergeRecordsSelectionInfoCallback:function(){},removeDeletedConfirmation:function(id){Sage.ClientLinkHandler.request({request:"RemoveDeletedConfirmation",id:id});},getHelpUrl:function(_5cc,_5cd){var _5ce;_5ce=_5a1.getClientContextByKey("WebHelpUrlFmt");if(_5ce===""){_5ce="help/WebClient_CSH.htm#${0}";}return _5a3.substitute(_5ce,[_5cc]);},getHelpUrlTarget:function(){var _5cf=_5a1.getClientContextByKey("WebHelpLinkTarget");return (_5cf==="")?"MCWebHelp":_5cf;},editSecurityProfile:function(_5d0,_5d1,_5d2){Sage.ClientLinkHandler.request({request:"Administration",type:"EditSecurityProfile",selectionInfoKey:_5d0+","+_5d1+","+_5d2});},getTeamMemberLink:function(_5d3,_5d4){if(_5d3.toLowerCase()=="user"){Sage.ClientLinkHandler.request({request:"Administration",type:"RedirectToUser",kind:_5d3,id:_5d4});}else{window.location.href=_5d3+".aspx?entityId="+_5d4;}}};window.Link=Sage.Link;return Sage.Link;});},"Sage/Utility/File/nls/DefaultDropHandler":function(){define("Sage/Utility/File/nls/DefaultDropHandler",["Sage/LanguageList","dojo/_base/lang"],function(_5d5,lang){var nls={root:{emailDroppedText:"Dropped Email",attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities."}};return lang.mixin(_5d5,nls);});},"Sage/MainView/ActivityMgr/RecurringEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/RecurringEditor.html":"\r\n['<div>',\r\n    '<table style=\"width:100%\">',\r\n        '<tr>',\r\n            '<td class=\"recurring-selectors\">',  //radio buttons...\r\n                '<div>{%= $.activityOccurrsText %}</div>',\r\n                '<div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"None\" id=\"{%= $.id %}_rdo_Once\" dojoAttachPoint=\"rdo_Once\" checked=\"true\" dojoAttachEvent=\"onChange:_onceChanged\" />',  //  \r\n                    '<label for=\"{%= $.id %}_rdo_Once\">&nbsp;{%= $.onceText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"daily\" id=\"{%= $.id %}_rdo_Daily\" dojoAttachPoint=\"rdo_Daily\" dojoAttachEvent=\"onChange:_dailyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Daily\">&nbsp;{%= $.dailyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"weekly\" id=\"{%= $.id %}_rdo_Weekly\" dojoAttachPoint=\"rdo_Weekly\" dojoAttachEvent=\"onChange:_weeklyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Weekly\">&nbsp;{%= $.weeklyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"monthly\" id=\"{%= $.id %}_rdo_Monthly\" dojoAttachPoint=\"rdo_Monthly\" dojoAttachEvent=\"onChange:_monthlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Monthly\">&nbsp;{%= $.monthlyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"yearly\" id=\"{%= $.id %}_rdo_Yearly\" dojoAttachPoint=\"rdo_Yearly\" dojoAttachEvent=\"onChange:_yearlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Yearly\">&nbsp;{%= $.yearlyText %}</label>',\r\n                '</div>',\r\n            '</td>',\r\n            '<td>',  //panel for each different recurring type...\r\n                '<div dojoType=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"recurring-body\" >',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_oncePanel\" class=\"recurring-panel\"  >',\r\n                        '{%= $.occursOnceText %}',\r\n                    '</div>',\r\n//daily panel...............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_dailyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"days\" id=\"{%= $.id %}_rdoDailyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoDailyEvery\" dojoAttachEvent=\"onChange:_dailyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysText %}</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"daysAfter\" id=\"{%= $.id %}_rdoDailyEveryAfter\" dojoAttachPoint=\"_rdoDailyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n//weekly panel............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_weeklyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksOn\" id=\"{%= $.id %}_rdoWeeklyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoWeeklyEvery\" dojoAttachEvent=\"onChange:_weeklyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksOnText %}</span>',\r\n                        '</div>',\r\n                        '<div style=\"white-space:normal;padding-bottom:10px;\">',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkMonday\" value=\"mon\" id=\"{%= $.id %}_chkMonday\" dojoAttachPoint=\"_chkMonday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkMonday\" class=\"padded-inline-label\">{%= $.monText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkTuesday\" value=\"tue\" id=\"{%= $.id %}_chkTuesday\" dojoAttachPoint=\"_chkTuesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkTuesday\" class=\"padded-inline-label\">{%= $.tueText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkWednesday\" value=\"wed\" id=\"{%= $.id %}_chkWednesday\" dojoAttachPoint=\"_chkWednesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkWednesday\" class=\"padded-inline-label\">{%= $.wedText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkThursday\" value=\"thu\" id=\"{%= $.id %}_chkThursday\" dojoAttachPoint=\"_chkThursday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkThursday\" class=\"padded-inline-label\">{%= $.thurText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkFriday\" value=\"fri\" id=\"{%= $.id %}_chkFriday\" dojoAttachPoint=\"_chkFriday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkFriday\" class=\"padded-inline-label\">{%= $.friText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSaturday\" value=\"sat\" id=\"{%= $.id %}_chkSaturday\" dojoAttachPoint=\"_chkSaturday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSaturday\" class=\"padded-inline-label\">{%= $.satText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSunday\" value=\"sun\" id=\"{%= $.id %}_chkSunday\" dojoAttachPoint=\"_chkSunday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSunday\" class=\"padded-inline-label\">{%= $.sunText %}</label>',\r\n                            '</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksAfter\" id=\"{%= $.id %}_rdoWeeklyEveryAfter\" dojoAttachPoint=\"_rdoWeeklyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n//monthly panel.........................................................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_monthlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOn\" id=\"{%= $.id %}_rdoMonthlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoMonthlyOn\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_datesSelect\" dojoAttachEvent=\"onChange:_calculateEnd\" maxHeight=\"300\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOnThe\" id=\"{%= $.id %}_rdoMonthlyOnThe\" dojoAttachPoint=\"_rdoMonthlyOnThe\" />', // dojoAttachEvent=\"onChange:_monthlyOnChanged\"\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOnThe\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyOnTheText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnTheText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyAfter\" id=\"{%= $.id %}_rdoMonthlyAfter\" dojoAttachPoint=\"_rdoMonthlyAfter\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n// yearly panel..............\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_yearlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOn\" id=\"{%= $.id %}_rdoYearlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoYearlyOn\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_monthNamesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" maxHeight=\"300\" dojoAttachPoint=\"_yearDatesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= ($.labelWidth - 3) %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOnThe\" id=\"{%= $.id %}_rdoYearlyOnThe\" dojoAttachPoint=\"_rdoYearlyOnThe\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOnThe\" class=\"padded-inline-label\">{%= $.theText %}</label>',\r\n                            '</div>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<label class=\"padded-inline-label\">{%= $.inText %}</label>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearMonthNamesSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyEveryAfter\" id=\"{%= $.id %}_rdoYearlyEveryAfter\" dojoAttachPoint=\"_rdoYearlyEveryAfter\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n                '</div>', //stack container\r\n// End date calculator section.........................................\r\n                '<div dojoAttachPoint=\"_startEndCalculator\" class=\"display-none\">',\r\n                    '<hr />',\r\n                    '<table>',\r\n                        '<tr>',\r\n                            '<td>{%= $.startRecurringText %}</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartRecur\" value=\"{%= $.startDate %}\" dojoAttachPoint=\"dtp_startRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_recurringStartDateChanged\" readOnly=\"true\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                        '<tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endAfterNum\" id=\"{%= $.id %}_rdoEndAfterNum\" dojoAttachPoint=\"_rdoEndAfter\" dojoAttachEvent=\"onChange:_endCalcModeChanged\" checked=\"true\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndAfterNum\" class=\"padded-inline-label\">{%= $.endAfterText  %}</label>',\r\n                            '</td><td>',\r\n                                '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"2\" constraints=\"{places: 0, type: \\'decimal\\', max: 999, min: 1}\" maxlength=\"3\" id=\"{%= $.id %}_num_Occurances\" dojoAttachPoint=\"num_Occurances\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_numOccurancesChanged\" />',\r\n                                '<span class=\"padded-inline-label\">{%= $.occurrencesText %}</span>',\r\n                            '</td>',\r\n                        '</tr><tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endOn\" id=\"{%= $.id %}_rdoEndOn\" dojoAttachPoint=\"_rdoEndOn\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndOn\" class=\"padded-inline-label\">{%= $.endOnText %}</label>',\r\n                            '</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_EndRecur\" dojoAttachPoint=\"dtp_endRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_endRecurChanged\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                    '</table>',\r\n                '</div>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</table>',\r\n'</div>']"}});define("Sage/MainView/ActivityMgr/RecurringEditor",["dijit/_Widget","Sage/_Templated","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","Sage/Utility/Activity","dijit/form/RadioButton","Sage/UI/Controls/Numeric","dijit/layout/StackContainer","dijit/layout/ContentPane","Sage/UI/NumberTextBox","dijit/form/CheckBox","dijit/form/Select","Sage/UI/Controls/DateTimePicker","dojo/date","dojo/i18n!./nls/RecurringEditor","dojo/text!./templates/RecurringEditor.html"],function(_5d6,_5d7,_5d8,lang,_5d9,_5da,_5db,_5dc,_5dd,_5de,_5df,_5e0,_5e1,_5e2,_5e3,_5e4,_5e5){var _5e6=_5d8("Sage.MainView.ActivityMgr._RecurringCalculator",null,{startDate:new Date(),initialStartDate:new Date(),endDate:new Date(),interval:1,occurances:1,activityRecurPeriodCode:0,recurPeriod:false,editor:false,constructor:function(opts){lang.mixin(this,opts);},calculateEndDate:function(){if(!isNaN(this.interval)&&!isNaN(this.occurances)&&this.recurPeriod){this.endDate=_5e3.add(this.startDate,this.recurPeriod,(this.interval*this.occurances)-this.interval);}return this.endDate||this.startDate;},calculateNumberOfOccurances:function(){var dif=_5e3.difference(this.startDate,this.endDate,this.recurPeriod);var _5e7=(dif/this.interval)+1;_5e7=Math.floor(_5e7);return _5e7;},set:function(prop,val){switch(prop.toLowerCase()){case "enddate":this.endDate=val;this.endDate.setHours(0);this.endDate.setMinutes(0);break;case "interval":this.interval=val;break;case "occurances":this.occurances=val;break;case "startdate":this.startDate=val;this.startDate.setHours(0);this.startDate.setMinutes(0);break;case "initialstartdate":this.initialStartDate=val;this.initialStartDate.setHours(0);this.initialStartDate.setMinutes(0);break;case "editor":this.editor=val;break;case "activityrecurperiodcode":this.activityRecurPeriodCode=val;break;}},get:function(prop){switch(prop.toLowerCase()){case "enddate":return this.endDate;case "interval":return this.interval;case "occurances":return this.occurances;case "startdate":return this.startDate;case "editor":return this.editor;case "activityRecurPeriodCode":return this.activityRecurPeriodCode;}return false;},_getTempStartDate:function(){return new Date(this.startDate.getFullYear(),this.startDate.getMonth(),this.startDate.getDate());}});var _5e8=_5d8("Sage.MainView.ActivityMgr.DailyRecurringCalculator",_5e6,{recurPeriod:"day"});var _5e9=_5d8("Sage.MainView.ActivityMgr.WeeklyRecurringCalculator",_5e6,{recurPeriod:"week",_checkedCount:0,_checkedDays:{},calculateEndDate:function(){if(this.editor){var _5ea=this.editor.countCheckedDays();if(_5ea<2){if(!isNaN(this.interval)&&!isNaN(this.occurances)&&this.recurPeriod){this.endDate=_5e3.add(this.startDate,this.recurPeriod,(this.interval*this.occurances)-this.interval);}return this.endDate||this.startDate;}var _5eb=this.editor.getCheckedDays();var _5ec=this._getTempStartDate();var _5ed=this.occurances-1;while(_5ed>0){_5ec=_5e3.add(_5ec,"day",1);_5ed=_5ed-_5eb[_5ec.getDay()];}return _5ec;}return this.endDate||this.startDate;},calculateNumberOfOccurances:function(){var _5ee=this.inherited(arguments);var _5ef=this.editor.countCheckedDays();if(_5ef>1){var _5f0=_5e3.difference(this.startDate,this.endDate,"day");var _5f1=_5e3.difference(this.startDate,this.endDate,this.recurPeriod);var _5f2=0;if((_5f1*7)<=_5f0){_5ee=_5f1*_5ef;var r=(_5f0%7)*-1;var _5f3=_5e3.add(this.endDate,"day",r);var _5f4=this.editor.getCheckedDays();while(_5e3.compare(this.endDate,_5f3,"date")>=0){if(_5f4[_5f3.getDay()]){_5f2++;}_5f3=_5e3.add(_5f3,"day",1);}}_5ee+=_5f2;}return _5ee;}});var _5f5=_5d8("Sage.MainView.ActivityMgr.MonthlyRecurringCalculator",_5e6,{recurPeriod:"month",calculateStartDate:function(){var _5f6=lang.clone(this.initialStartDate);var _5f7;var _5f8=parseInt(this.editor._datesSelect.get("value"),10);var _5f9=parseInt(this.editor._weekdaySelect.get("value"),10);var _5fa=parseInt(this.editor._weeksSelect.get("value"),10);if(this.editor._rdoMonthlyOn.get("checked")){_5f7=this.getNthDayOfMonth(this.initialStartDate,_5f8);_5f6=_5f7;}else{if(this.editor._rdoMonthlyOnThe.get("checked")){_5f7=_5da.setDateToNthWeekDay(this.initialStartDate,_5fa,_5f9);_5f7.setHours(this.initialStartDate.getHours());_5f7.setMinutes(this.initialStartDate.getMinutes());var _5fb=dojo.date.compare(this.initialStartDate,_5f7,"date");if(_5fb!=0){if(_5fb>0){_5f6=this.calculateFirstOccurrance(this.initialStartDate,_5f7,_5fa,_5f9);}else{_5f6=_5f7;}}}}return _5f6;},calculateEndDate:function(){var _5fc=this.inherited(arguments);if(this.activityRecurPeriodCode===5){var week=_5da.getNthWeekOfMonth(this.startDate);var day=this.startDate.getDay();_5fc=_5da.setDateToNthWeekDay(_5fc,week,day);}return _5fc;},getNthDayOfMonth:function(_5fd,_5fe){var _5ff=lang.clone(_5fd);var _600=_5fd.getDate();if(_600>_5fe){_5ff=dojo.date.add(_5fd,"month",1);}_5ff.setDate(_5fe);return _5ff;},calculateFirstOccurrance:function(_601,_602,_603,_604){var _605=_602;while(dojo.date.compare(this.initialStartDate,_605,"date")>0){_605=_5da.setDateToNthWeekDay(dojo.date.add(_605,"month",1),_603,_604);}return _605;}});var _606=_5d8("Sage.MainView.ActivityMgr.YearlyRecurringCalculator",_5e6,{recurPeriod:"year",calculateEndDate:function(){var _607=this.inherited(arguments);if(this.activityRecurPeriodCode===8){var week=_5da.getNthWeekOfMonth(this.startDate);var day=this.startDate.getDay();_607.setMonth(this.startDate.getMonth());_607=_5da.setDateToNthWeekDay(_607,week,day);}return _607;}});var _608=_5d8("Sage.MainView.ActivityMgr.RecurringEditor",[_5d6,_5d7],{activity:{},id:"",labelWidth:"80",startDate:new Date(),initialStartDate:new Date(),startDateChangedFromParent:false,occurances:2,interval:1,activityRecurPeriodCode:0,recurringPeriods:{once:"once",daily:"daily",weekly:"weekly",monthly:"monthly",yearly:"yearly"},currentPeriod:"once",endCalculators:false,_applyingActivityData:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_5e5)),constructor:function(){lang.mixin(this,_5e4);},postMixInProperties:function(){if(!this.endCalculators){this.endCalculators={};var _609={startDate:this.startDate,endDate:this.endDate,interval:1,occurances:1,editor:this};this.endCalculators[this.recurringPeriods.daily]=new _5e8(_609);this.endCalculators[this.recurringPeriods.weekly]=new _5e9(_609);this.endCalculators[this.recurringPeriods.monthly]=new _5f5(_609);this.endCalculators[this.recurringPeriods.yearly]=new _606(_609);}},_setStartDateAttr:function(_60a){if(_60a.getMonth()===this.startDate.getMonth()&&_60a.getDate()===this.startDate.getDate()&&_60a.getFullYear()===this.startDate.getFullYear()){return;}this.startDateChangedFromParent=true;this._applyingActivityData=true;this.startDate=_60a;this.initialStartDate=_60a;this.dtp_startRecur.set("value",_60a);this._weeklySyncToStartDate();this._monthlySyncToStartDate();this._yearlySyncToStartDate();this._calculateEnd();this._applyingActivityData=false;this.startDateChangedFromParent=false;},_getStartDateAttr:function(){return this.startDate;},_setOccurancesAttr:function(occ){this.occurances=occ;this.num_Occurances.set("value",occ);},_getOccurancesAttr:function(){return this.occurances;},_setActivityAttr:function(_60b){this.activity=_60b;this._setUI();this._applyActivityData();},_getActivityAttr:function(){return this.activity;},onTabShow:function(){this._panelContainer.resize();},_setUI:function(){var opts=[];if(this._datesSelect.getOptions().length<1){for(var i=1;i<32;i++){opts.push({value:i.toString(),label:i.toString()});}this._datesSelect.addOption(opts);this._yearDatesSelect.addOption(opts);}if(this._monthNamesSelect.getOptions().length<1){opts=[{value:"1",label:this.janText},{value:"2",label:this.febText},{value:"3",label:this.marText},{value:"4",label:this.aprText},{value:"5",label:this.mayText},{value:"6",label:this.junText},{value:"7",label:this.julText},{value:"8",label:this.augText},{value:"9",label:this.sepText},{value:"10",label:this.octText},{value:"11",label:this.novText},{value:"12",label:this.decText}];this._monthNamesSelect.addOption(opts);this._yearMonthNamesSelect.addOption(opts);}if(this._weeksSelect.getOptions().length<1){opts=[{value:"1",label:this.firstText},{value:"2",label:this.secondText},{value:"3",label:this.thirdText},{value:"4",label:this.fourthText},{value:"5",label:this.lastText}];this._weeksSelect.addOption(opts);this._yearWeeksSelect.addOption(opts);}if(this._weekdaySelect.getOptions().length<1){opts=[{value:"1",label:this.monText},{value:"2",label:this.tueText},{value:"3",label:this.wedText},{value:"4",label:this.thurText},{value:"5",label:this.friText},{value:"6",label:this.satText},{value:"0",label:this.sunText}];this._weekdaySelect.addOption(opts);this._yearWeekdaySelect.addOption(opts);}},_onceChanged:function(_60c){this._setUI();if(_60c){this._panelContainer.selectChild(this._oncePanel);this.interval=1;this._updateRecurringPeriod(this.recurringPeriods.once);}},_dailyChanged:function(_60d){if(_60d){this._panelContainer.selectChild(this._dailyPanel);this._dailyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.daily);this._toggleEndCalculatorVisibility(this._rdoDailyEvery.get("checked"));}},_dailyUpdateInterval:function(){this.interval=(this._rdoDailyEvery.get("checked"))?this._dailyEveryText.get("value"):this._dailyEveryAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_weeklyChanged:function(_60e){if(_60e){this._panelContainer.selectChild(this._weeklyPanel);this._weeklyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.weekly);this._toggleEndCalculatorVisibility(this._rdoWeeklyEvery.get("checked"));}},_weeklySyncToStartDate:function(){this._clearCheckedWeekdays();this._enforceWeekdayChecked();},_weeklyUpdateInterval:function(){this._enforceWeekdayChecked();this.interval=(this._rdoWeeklyEvery.get("checked"))?this._weeklyEveryText.get("value"):this._weeklyEveryAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_monthlyChanged:function(_60f){if(_60f){this._panelContainer.selectChild(this._monthlyPanel);this._monthlyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.monthly);this._toggleEndCalculatorVisibility(!this._rdoMonthlyAfter.get("checked"));}},_monthlyUpdateInterval:function(){this.interval=(this._rdoMonthlyOn.get("checked"))?this._monthlyEveryText.get("value"):(this._rdoMonthlyOnThe.get("checked"))?this._monthlyOnTheText.get("value"):this._monthlyAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_monthlySyncToStartDate:function(){this._datesSelect.set("value",this.startDate.getDate().toString());this._weekdaySelect.set("value",this.startDate.getDay().toString());this._weeksSelect.set("value",_5da.getNthWeekOfMonth(this.startDate).toString());},_yearlyChanged:function(_610){if(_610){this._panelContainer.selectChild(this._yearlyPanel);this._yearlyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.yearly);this._toggleEndCalculatorVisibility(!this._rdoYearlyEveryAfter.get("checked"));}},_yearlyUpdateInterval:function(){this.interval=(this._rdoYearlyOn.get("checked"))?this._yearlyEveryText.get("value"):(this._rdoYearlyEveryAfter.get("checked"))?this._yearlyEveryAfterText.get("value"):1;},_yearlySyncToStartDate:function(){this._monthNamesSelect.set("value",(this.startDate.getMonth()+1).toString());this._yearDatesSelect.set("value",this.startDate.getDate().toString());this._yearWeeksSelect.set("value",_5da.getNthWeekOfMonth(this.startDate).toString());this._yearWeekdaySelect.set("value",this.startDate.getDay().toString());this._yearMonthNamesSelect.set("value",(this.startDate.getMonth()+1).toString());},_updateRecurringPeriod:function(_611){this._toggleEndCalculatorVisibility(_611!==this.recurringPeriods.once);this.currentPeriod=_611;this._calculateEnd();this.onRecurPeriodChanged(_611);},_toggleEndCalculatorVisibility:function(_612){if(_612){_5d9.remove(this._startEndCalculator,"display-none");}else{_5d9.add(this._startEndCalculator,"display-none");}},_applyActivityData:function(){this._applyingActivityData=true;if(this.activity&&this.activity.hasOwnProperty("Recurring")){this.startDate=Sage.Utility.Convert.toDateFromString(this.activity.StartDate);this.initialStartDate=Sage.Utility.Convert.toDateFromString(this.activity.StartDate);if(this.activity.Timeless||_5da.isDateFiveSecondRuleTimeless(this.startDate)){this.startDate=new Date(this.startDate.getUTCFullYear(),this.startDate.getUTCMonth(),this.startDate.getUTCDate(),0,0,5);}this.activityRecurPeriodCode=this.activity.RecurPeriod;this.dtp_startRecur.set("value",this.startDate);if(!this.activity.Recurring){this.rdo_Once.set("checked",true);this._toggleEndCalculatorVisibility(false);this._resetInterval();this._weeklySyncToStartDate();this._monthlySyncToStartDate();this._yearlySyncToStartDate();this._applyingActivityData=false;return;}this._toggleEndCalculatorVisibility(true);switch(this.activity.RecurPeriod){case 0:case 1:this._applyDailyRecurringValues();break;case 2:case 3:this._applyWeeklyRecurringValues();break;case 4:case 5:case 6:this._applyMonthlyRecurringValues();break;case 7:case 8:case 9:this._applyYearlyRecurringValues();break;default:this.rdo_Once.set("checked",true);}this._applyingActivityData=false;}},_applyEndCalculatorValues:function(){this.dtp_startRecur.set("value",this.startDate);this._rdoEndAfter.set("checked",true);this.num_Occurances.set("value",this.activity.RecurIterations);this._calculateEnd();},_applyDailyRecurringValues:function(){this.rdo_Daily.set("checked",true);this._toggleEndCalculatorVisibility(this.activity.RecurPeriod===0);this.interval=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===0){this._rdoDailyEvery.set("checked",true);this._dailyEveryText.set("value",this.activity.RecurPeriodSpec);this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===1){this._rdoDailyEveryAfter.set("checked",true);this._dailyEveryAfterText.set("value",this.activity.RecurPeriodSpec);}}},_weekDayValues:{sun:131072,mon:262144,tue:524288,wed:1048576,thu:2097152,fri:4194304,sat:8388608},_resetInterval:function(){this._rdoDailyEvery.set("checked",true);this._dailyEveryText.set("value","1");this._dailyEveryAfterText.set("value","1");this._rdoWeeklyEvery.set("checked",true);this._weeklyEveryText.set("value","1");this._weeklyEveryAfterText.set("value","1");this._rdoMonthlyOn.set("checked",true);this._monthlyEveryText.set("value","1");this._monthlyOnTheText.set("value","1");this._monthlyAfterText.set("value","1");this._rdoYearlyOn.set("checked",true);this._yearlyEveryText.set("value","1");this._yearlyEveryAfterText.set("value","1");this.num_Occurances.set("value","2");this.occurances=2;this._intervalChanged(2);},_clearCheckedWeekdays:function(){this._chkSaturday.set("checked",false);this._chkFriday.set("checked",false);this._chkThursday.set("checked",false);this._chkThursday.set("checked",false);this._chkWednesday.set("checked",false);this._chkTuesday.set("checked",false);this._chkMonday.set("checked",false);this._chkSunday.set("checked",false);},_applyWeeklyRecurringValues:function(){this.rdo_Weekly.set("checked",true);this._toggleEndCalculatorVisibility(this.activity.RecurPeriod===2);this._clearCheckedWeekdays();this.interval=this._evalRecurperiodspec(this.activity.RecurPeriodSpec,this.activity.RecurPeriod);if(this.activity.RecurPeriod===2){this._rdoWeeklyEvery.set("checked",true);this._weeklyEveryText.set("value",this.interval);this._enforceWeekdayChecked();this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===3){this._rdoWeeklyEveryAfter.set("checked",true);this._weeklyEveryAfterText.set("value",this.interval);}}},_evalRecurperiodspec:function(_613,_614){if(_613>this._weekDayValues["sat"]){_613=_613-this._weekDayValues["sat"];if(_614===2){this._chkSaturday.set("checked",true);}}if(_613>this._weekDayValues["fri"]){_613=_613-this._weekDayValues["fri"];if(_614===2){this._chkFriday.set("checked",true);}}if(_613>this._weekDayValues["thu"]){_613=_613-this._weekDayValues["thu"];if(_614===2){this._chkThursday.set("checked",true);}}if(_613>this._weekDayValues["wed"]){_613=_613-this._weekDayValues["wed"];if(_614===2){this._chkWednesday.set("checked",true);}}if(_613>this._weekDayValues["tue"]){_613=_613-this._weekDayValues["tue"];if(_614===2){this._chkTuesday.set("checked",true);}}if(_613>this._weekDayValues["mon"]){_613=_613-this._weekDayValues["mon"];if(_614===2){this._chkMonday.set("checked",true);}}if(_613>this._weekDayValues["sun"]){_613=_613-this._weekDayValues["sun"];if(_614===2){this._chkSunday.set("checked",true);}}return _613;},_applyMonthlyRecurringValues:function(){this.rdo_Monthly.set("checked",true);var _615=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===4){this._rdoMonthlyOn.set("checked",true);_615=this._evalRecurperiodspec(_615,this.activity.RecurPeriod);if(_615>65000){_615=_615%65536;}this._monthlyEveryText.set("value",_615);this._datesSelect.set("value",this.startDate.getDate().toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===5){this._rdoMonthlyOnThe.set("checked",true);var wDay=Math.floor(_615/524288)-1;_615=_615%524288;var _616=Math.floor(_615/65536);_615=_615%65536;_616++;this._weeksSelect.set("value",(_616).toString());this._weekdaySelect.set("value",wDay.toString());this._monthlyOnTheText.set("value",_615);this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===6){this._rdoMonthlyAfter.set("checked",true);if(_615>1048576){_615=_615-1048576;if(_615>1000){_615=_615%65536;}}this._monthlyAfterText.set("value",_615);}}}this.interval=_615;this._toggleEndCalculatorVisibility(this.activity.RecurPeriod!==6);},_applyYearlyRecurringValues:function(){var mon;this.rdo_Yearly.set("checked",true);var _617=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===7){this._rdoYearlyOn.set("checked",true);if(_617>38797312){_617=eval(_617)-38797312;}else{_617=eval(_617)-17825792;}if(_617>1000){_617=this._evalRecurperiodspec(_617,this.activity.RecurPeriod);_617=_617%65536;}this._yearlyEveryText.set("value",_617);mon=this.startDate.getMonth();mon++;this._monthNamesSelect.set("value",mon.toString());var d=this.startDate.getDate();this._yearDatesSelect.set("value",d.toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===8){this._rdoYearlyOnThe.set("checked",true);mon=Math.floor(_617/4194304);_617=_617%4194304;var wDay=Math.floor(_617/524288)-1;_617=_617%524288;var _618=Math.floor(_617/65536);_618++;_617=_617%65536;this._yearWeeksSelect.set("value",_618.toString());this._yearWeekdaySelect.set("value",wDay.toString());this._yearMonthNamesSelect.set("value",mon.toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===9){this._rdoYearlyEveryAfter.set("checked",true);if(_617>38797312){_617=_617-38797312;if(_617>1000){_617=this._evalRecurperiodspec(_617,this.activity.RecurPeriod);_617=_617%65536;}}this._yearlyEveryAfterText.set("value",_617);}}}this.interval=_617;this._toggleEndCalculatorVisibility(this.activity.RecurPeriod!==9);},_dailyEveryChanged:function(){this._setDailyUI();this._applyChangesToActivity();},_setDailyUI:function(){var _619=this._rdoDailyEvery.get("checked");this._dailyEveryText.set("disabled",!_619);this._dailyEveryAfterText.set("disabled",_619);this._dailyUpdateInterval();this.activityRecurPeriodCode=this._rdoDailyEvery.get("checked")?0:1;this._toggleEndCalculatorVisibility(_619);},_weeklyEveryChanged:function(){this._setWeeklyUI();this._applyChangesToActivity();},_setWeeklyUI:function(){var _61a=!this._rdoWeeklyEvery.get("checked");this._weeklyEveryText.set("disabled",_61a);this._chkMonday.set("disabled",_61a);this._chkTuesday.set("disabled",_61a);this._chkWednesday.set("disabled",_61a);this._chkThursday.set("disabled",_61a);this._chkFriday.set("disabled",_61a);this._chkSaturday.set("disabled",_61a);this._chkSunday.set("disabled",_61a);this._weeklyEveryAfterText.set("disabled",!this._rdoWeeklyEveryAfter.get("checked"));this._enforceWeekdayChecked();this._weeklyUpdateInterval();this.activityRecurPeriodCode=this._rdoWeeklyEvery.get("checked")?2:3;this._toggleEndCalculatorVisibility(this._rdoWeeklyEvery.get("checked"));},_dayChecked:function(){this._enforceWeekdayChecked();this._calculateEnd();},_enforceWeekdayChecked:function(){var _61b=this.countCheckedDays();if(_61b<1){var d=this.startDate.getDay();switch(d){case 0:this._chkSunday.set("checked",true);break;case 1:this._chkMonday.set("checked",true);break;case 2:this._chkTuesday.set("checked",true);break;case 3:this._chkWednesday.set("checked",true);break;case 4:this._chkThursday.set("checked",true);break;case 5:this._chkFriday.set("checked",true);break;case 6:this._chkSaturday.set("checked",true);break;}}if(_61b>this.occurances){this._setOccurancesAttr(_61b);}},getCheckedDays:function(){return [this._chkSunday.get("checked")?1:0,this._chkMonday.get("checked")?1:0,this._chkTuesday.get("checked")?1:0,this._chkWednesday.get("checked")?1:0,this._chkThursday.get("checked")?1:0,this._chkFriday.get("checked")?1:0,this._chkSaturday.get("checked")?1:0];},countCheckedDays:function(){var _61c=0;var _61d=this.getCheckedDays();for(var i=0;i<_61d.length;i++){_61c+=Number(_61d[i]);}return _61c;},_monthlyOnChanged:function(){this._setMonthlyUI();if(this._rdoMonthlyAfter.get("checked")){this._applyChangesToActivity();}},_setMonthlyUI:function(){var _61e=!this._rdoMonthlyOn.get("checked");this._monthlyEveryText.set("disabled",_61e);this._datesSelect.set("disabled",_61e);_61e=!this._rdoMonthlyOnThe.get("checked");this._monthlyOnTheText.set("disabled",_61e);this._weeksSelect.set("disabled",_61e);this._weekdaySelect.set("disabled",_61e);this._monthlyAfterText.set("disabled",!this._rdoMonthlyAfter.get("checked"));this._monthlyUpdateInterval();this.activityRecurPeriodCode=this._rdoMonthlyOn.get("checked")?4:this._rdoMonthlyOnThe.get("checked")?5:6;this._toggleEndCalculatorVisibility(!this._rdoMonthlyAfter.get("checked"));if(this.activityRecurPeriodCode<6){this._calculateEnd();}},_monthlyValidateEndDate:function(){if(this.rdo_Monthly.get("checked")){var _61f=this.dtp_endRecur.get("value");if(this._rdoMonthlyOn.get("checked")){var _620=parseInt(this._datesSelect.get("value"),10);if(_61f.getDate()!==_620){_61f.setDate(_620);this.dtp_endRecur.set("value",_61f);return false;}}else{if(this._rdoMonthlyOnThe.get("checked")){var _621=parseInt(this._weekdaySelect.get("value"),10);var _622=parseInt(this._weeksSelect.get("value"),10);if(_5da.getNthWeekOfMonth(_61f)!==_622||_61f.getDay()!==_621){_61f=_5da.setDateToNthWeekDay(_61f,_622,_621);this.dtp_endRecur.set("value",_61f);return false;}}}}return true;},_yearlyOnChanged:function(){this._setYearlyUI();this._applyChangesToActivity();},_setYearlyUI:function(){var _623=!this._rdoYearlyOn.get("checked");this._yearlyEveryText.set("disabled",_623);this._monthNamesSelect.set("disabled",_623);this._yearDatesSelect.set("disabled",_623);_623=!this._rdoYearlyOnThe.get("checked");this._yearWeeksSelect.set("disabled",_623);this._yearWeekdaySelect.set("disabled",_623);this._yearMonthNamesSelect.set("disabled",_623);this._yearlyEveryAfterText.set("disabled",!this._rdoYearlyEveryAfter.get("checked"));this._yearlyUpdateInterval();this.activityRecurPeriodCode=this._rdoYearlyOn.get("checked")?7:this._rdoYearlyOnThe.get("checked")?8:9;this._toggleEndCalculatorVisibility(!this._rdoYearlyEveryAfter.get("checked"));},_yearlyValidateEndDate:function(){var _624=true;if(this.rdo_Yearly.get("checked")){var _625=this.dtp_endRecur.get("value");var mon=this.startDate.getMonth();if(_625.getMonth()!==mon){_624=false;_625.setMonth(mon);}if(this._rdoYearlyOn.get("checked")){var dt=this.startDate.getDate();if(_625.getDate!==dt){_624=false;_625.setDate(dt);}}else{if(this._rdoYearlyOnThe.get("checked")){var _626=parseInt(this._yearWeekdaySelect.get("value"),10);var _627=parseInt(this._yearWeeksSelect.get("value"),10);if(_5da.getNthWeekOfMonth(_625)!==_627||_625.getDay()!==_626){_624=false;_625=_5da.setDateToNthWeekDay(_625,_627,_626);}}}if(!_624){this.dtp_endRecur.set("value",_625);}}return _624;},_yearlyRecurDateChanged:function(){if(this._applyingActivityData){return;}var _628,_629=false;var _62a=new Date(this.startDate.getFullYear(),this.startDate.getMonth(),this.startDate.getDate());if(this._rdoYearlyOn.get("checked")){_628=parseInt(this._monthNamesSelect.get("value"),10)-1;var dt=parseInt(this._yearDatesSelect.get("value"),10);if(_62a.getMonth()!==_628){_62a.setMonth(_628);_629=true;}if(_62a.getDate()!==dt){_62a.setDate(dt);_629=true;}}else{if(this._rdoYearlyOnThe.get("checked")){_628=parseInt(this._yearMonthNamesSelect.get("value"),10)-1;if(_62a.getMonth()!==_628){_62a.setMonth(_628);_629=true;}var dy=parseInt(this._weekdaySelect.get("value"),10);var wk=parseInt(this._weeksSelect.get("value"),10);var _62b=_5da.setDateToNthWeekDay(_62a,wk,dy);if(_62a.getDate()!==_62b.getDate()){if(_62b<new Date()){_62b=_5e3.add(_62b,"year",1);_62b=_5da.setDateToNthWeekDay(_62b,wk,dy);}_62a=_62b;_629=true;}}}if(_629){if(_62a<new Date()){_62a=_5e3.add(_62a,"year",1);}if(!this.startDateChangedFromParent){this.onStartDateChanged(_62a);}}},_intervalChanged:function(_62c){this.interval=_62c;this._calculateEnd();},_recurringStartDateChanged:function(_62d){if(!this.startDateChangedFromParent){this.onStartDateChanged(_62d);}},_endCalcModeChanged:function(){},_numOccurancesChanged:function(_62e){this.occurances=_62e;this._calculateEndDate();},_endRecurChanged:function(_62f){if(this._rdoEndOn.get("checked")){if(this._monthlyValidateEndDate()&&this._yearlyValidateEndDate()){this._calculateOccurances();}}},_calculateEnd:function(){if(this.currentPeriod==="once"){this._applyChangesToActivity();return;}if(this._rdoEndAfter.get("checked")){if(this.rdo_Monthly.get("checked")&&!this.startDateChangedFromParent){this._calculateStartDate();}this._calculateEndDate();}else{this._calculateOccurances();}},_calculateStartDate:function(){var _630=this.endCalculators[this.currentPeriod];if(_630&&this._rdoEndAfter.get("checked")){this._applyCurrentValuesToCalculator(_630);_630.set("occurances",this.occurances);var _631=_630.calculateStartDate();this.startDate=_631;this.dtp_startRecur.set("value",_631);if(!this.startDateChangedFromParent){this.onStartDateChanged(_631);}}},_calculateEndDate:function(){var _632=this.endCalculators[this.currentPeriod];if(_632&&this._rdoEndAfter.get("checked")){this._applyCurrentValuesToCalculator(_632);_632.set("occurances",this.occurances);var _633=_632.calculateEndDate();this.dtp_endRecur.set("value",_633);this._applyChangesToActivity();}},_applyCurrentValuesToCalculator:function(_634){_634.set("startDate",this.startDate);_634.set("initialStartDate",this.initialStartDate);_634.set("interval",this.interval);_634.set("activityRecurPeriodCode",this.activityRecurPeriodCode);},_calculateOccurances:function(){var _635=this.endCalculators[this.currentPeriod];if(_635&&this._rdoEndOn.get("checked")){this._applyCurrentValuesToCalculator(_635);_635.set("endDate",this.dtp_endRecur.get("value"));var occ=1;if(_635.endDate<_635.startDate){this.dtp_endRecur.set("value",this.startDate);}else{occ=_635.calculateNumberOfOccurances();}this.occurances=occ;this.num_Occurances.set("value",occ);this._applyChangesToActivity();}},_applyChangesToActivity:function(){if(this._applyingActivityData){return;}if(this.rdo_Once.get("checked")){this.activity.RecurIterations=0;this.activity.RecurPeriod=0;this.activity.RecurPeriodSpec=0;this.activity.Recurring=false;return;}var _636=this._getCurrentRecperiod();this.activity.RecurPeriod=_636;var _637=0;var _638=this.num_Occurances.get("value");switch(_636){case 0:case 1:this._dailyUpdateInterval();if(_636===1){_638=-1;}break;case 2:_637=this._sumWeekDays();this._weeklyUpdateInterval();break;case 3:_637=1048576;this._weeklyUpdateInterval();_638=-1;break;case 4:_637=1048576;this._monthlyUpdateInterval();break;case 5:_637=this._sumMonthly();this._monthlyUpdateInterval();break;case 6:_637=1048576;this._monthlyUpdateInterval();_638=-1;break;case 7:_637=38797312;this._yearlyUpdateInterval();break;case 8:_637=this._sumYearly();this.interval=1;break;case 9:_637=38797312;this._yearlyUpdateInterval();_638=-1;break;}this.activity.RecurIterations=_638;this.activity.RecurPeriodSpec=_637+this.interval;this.activity.Recurring=true;},_getCurrentRecperiod:function(){if(this.rdo_Daily.get("checked")){return (this._rdoDailyEvery.get("checked"))?0:1;}if(this.rdo_Weekly.get("checked")){return (this._rdoWeeklyEvery.get("checked"))?2:3;}if(this.rdo_Monthly.get("checked")){return (this._rdoMonthlyOn.get("checked"))?4:(this._rdoMonthlyOnThe.get("checked"))?5:6;}if(this.rdo_Yearly.get("checked")){return (this._rdoYearlyOn.get("checked"))?7:(this._rdoYearlyOnThe.get("checked"))?8:9;}return 0;},_sumWeekDays:function(){var _639=0;if(this._chkSaturday.get("checked")){_639+=this._weekDayValues["sat"];}if(this._chkFriday.get("checked")){_639+=this._weekDayValues["fri"];}if(this._chkThursday.get("checked")){_639+=this._weekDayValues["thu"];}if(this._chkWednesday.get("checked")){_639+=this._weekDayValues["wed"];}if(this._chkTuesday.get("checked")){_639+=this._weekDayValues["tue"];}if(this._chkMonday.get("checked")){_639+=this._weekDayValues["mon"];}if(this._chkSunday.get("checked")){_639+=this._weekDayValues["sun"];}return _639;},_getNthOccurenceOfWeekDay:function(){var _63a=parseInt(this._weekdaySelect.get("value"),10);var _63b=parseInt(this._weeksSelect.get("value"),10);var _63c=new Date();for(var i=0;i<7;i++){var d=new Date(_63c.getFullYear(),_63c.getMonth(),i+1);if(d.getDay()==_63a){return dojo.date.add(d,"day",((_63b-1)*7));}}},_sumMonthly:function(){var _63d=parseInt(this._weekdaySelect.get("value"),10)+1;var _63e=parseInt(this._weeksSelect.get("value"),10);return ((_63d*524288)+((_63e-1)*65536));},_sumYearly:function(){var _63f=parseInt(this._yearWeekdaySelect.get("value"),10)+1;var _640=parseInt(this._yearMonthNamesSelect.get("value"),10);var _641=parseInt(this._yearWeeksSelect.get("value"),10);return ((_640*4194304)+(_63f*524288)+((_641-1)*65536));},_setReadOnly:function(_642){var _643=["rdo_Once","rdo_Daily","rdo_Weekly","rdo_Monthly","rdo_Yearly","_rdoDailyEvery","_dailyEveryText","_rdoDailyEveryAfter","_dailyEveryAfterText","_rdoWeeklyEvery","_weeklyEveryText","_chkMonday","_chkTuesday","_chkWednesday","_chkThursday","_chkFriday","_chkSaturday","_chkSunday","_rdoWeeklyEveryAfter","_weeklyEveryAfterText","_rdoMonthlyOn","_monthlyEveryText","_datesSelect","_rdoMonthlyOnThe","_monthlyOnTheText","_weeksSelect","_weekdaySelect","_rdoMonthlyAfter","_monthlyAfterText","_rdoYearlyOn","_yearlyEveryText","_monthNamesSelect","_yearDatesSelect","_rdoYearlyOnThe","_yearWeeksSelect","_yearWeekdaySelect","_yearMonthNamesSelect","_rdoYearlyEveryAfter","_yearlyEveryAfterText","dtp_startRecur","_rdoEndAfter","num_Occurances","_rdoEndOn","dtp_endRecur"];if(_642){this._bulkSetProperty(this,_643,"disabled",true);}else{this._bulkSetProperty(this,_643,"disabled",false);this._setUI();this._applyActivityData();}},_bulkSetProperty:function(ui,_644,prop,val){for(var i=0;i<_644.length;i++){var ctrl=ui[_644[i]];if(ctrl){ctrl.set(prop,val);}}},onStartDateChanged:function(_645){},onRecurPeriodChanged:function(_646){}});return _608;});},"Sage/UI/Controls/Lookup":function(){require({cache:{"url:Sage/UI/Controls/templates/Lookup.html":"<div class=\"textcontrol lookup\">\r\n    <span id=\"${id}\" class=\"lookup\">\r\n        <input id=\"${id}_LookupText\" class=\"text-with-icons\" required=\"${required}\" type=\"text\" dojoAttachPoint=\"textbox,focusNode\" />\r\n        <a href=\"#\">\r\n            <img id=\"${id}_LookupBtn\" src=\"images/icons/Find_16x16.png\" dojoAttachPoint=\"lookupButton\" alt=\"${buttonToolTip}\" title=\"${buttonToolTip}\" />\r\n        </a>\r\n        \r\n        <img id=\"${id}_btnClearResult\" src=\"images/icons/Delete_16x16.png\" dojoAttachPoint=\"clearButton\" class=\"display-none\" alt=\"${closeButtonToolTip}\" title=\"${closeButtonToolTip}\"/>\r\n    </span>\r\n</div>"}});define("Sage/UI/Controls/Lookup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","Sage/UI/ConditionManager","Sage/UI/SDataLookup","dojo/dom-attr","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n!./nls/Lookup","dojo/text!./templates/Lookup.html","dojo/_base/declare"],function(_647,_648,_649,_64a,_64b,_64c,_64d,_64e,_64f,_650){var _651=_650("Sage.UI.Controls.Lookup",[_649,_647,_648],{id:"lookup",config:null,selectedObject:null,showEntityInfoToolTip:false,disabled:false,required:false,allowClearingResult:false,buttonToolTip:"Find",closeButtonToolTip:"Remove",_tooltip:false,_setSelectedObjectAttr:function(_652){this.textbox.value=(_652)?_652.$descriptor:"";this.selectedObject=_652;this._onChange(_652);},_getSelectedObjectAttr:function(){return this.selectedObject;},_setShowEntityInfoToolTipAttr:function(_653){this.showEntityInfoToolTip=_653;if(!this.domNode){return;}this._tooltip=(_653)?this._createToolTip():false;},_getShowEntityInfoToolTipAttr:function(){return this.showEntityInfoToolTip;},_createToolTip:function(){return new _64d({connectId:[this.domNode],position:["below"],entityName:this.config.storeOptions.resourceKind,entityId:(this.selectedObject&&this.selectedObject["$key"])?this.selectedObject["$key"]:""});},_setAllowClearingResultAttr:function(_654){this.allowClearingResult=_654;if(_654){dojo.removeClass(this.clearButton,"display-none");}else{dojo.addClass(this.clearButton,"display-none");}},_getAllowClearingResultAttr:function(){return this.allowClearingResult;},_setDisabledAttr:function(_655){this.disabled=_655;_64c.set(this.focusNode,"disabled",_655);this.focusNode.setAttribute("aria-disabled",_655);if(_655){dojo.style(this.clearButton,"visibility","hidden");dojo.style(this.clearButton,"display","none");dojo.style(this.lookupButton,"visibility","hidden");dojo.style(this.lookupButton,"display","none");}else{dojo.style(this.clearButton,"visibility","");dojo.style(this.clearButton,"display","");dojo.style(this.lookupButton,"visibility","");dojo.style(this.lookupButton,"display","");}},_getDisabledAttr:function(){return this.disabled;},_onChange:function(_656){if(this._tooltip){this._tooltip.set("entityId",(_656&&_656["$key"])?_656["$key"]:"");}this.onChange(_656);},onChange:function(_657){},templateString:_64f,widgetsInTemplate:false,constructor:function(_658){this.inherited(arguments);dojo.mixin(this,_64e);},hideTooltip:function(){if(this._tooltip){this._tooltip.close();}},postCreate:function(){var self=this;dojo.connect(this.lookupButton,"onclick",this.lookupButton,function(){if(!self.get("disabled")){var _659=new _64b(self.config);_659.doSelected=function(_65a){self.set("selectedObject",_65a[0]);_659.lookupDialog.hide();};_659.showLookup();var _65b=dojo.connect(_659.lookupDialog,"onHide",_659,function(){dojo.disconnect(_65b);this.destroy();});}},true);dojo.connect(this.clearButton,"onclick",null,function(){if(!self.get("disabled")){self.textbox.value="";self.set("selectedObject",null);}},true);}});return _651;});},"Sage/Utility/Activity":function(){define("Sage/Utility/Activity",["dojo/date/locale","dojox/grid/cells/_base","Sage/Utility","dojo/string","dojo/i18n!./nls/Activity","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Data/SingleEntrySDataStore"],function(_65c,cell,_65d,_65e,_65f,_660,_661,_662){var _663=function(id){var _664=false;if(id){if(id.trim()!==""){_664=true;}}return _664;};var _665=_660("Sage.Utility.Activity.TypeCell",dojox.grid.cells.Cell,{format:function(_666,_667){if(!_667){return this.defaultValue;}var type=this.get(_666,_667);var _668=(_667.hasOwnProperty("Activity")&&typeof _667["Activity"]==="object")?_667.Activity:_667;var key=_65d.getValue(_668,"$key");var _669=(_667.hasOwnProperty("Status"))?_667.Status:false;var _66a="<a href=\"${0}\" ><div class=\"Global_Images icon16x16 ${1}\" title=\"${2}\"></div>&nbsp;${2}</a>";var _66b=Sage.Utility.getValue(_668,"RecurrenceState");var _66c=Sage.Utility.Activity._getReccurenceFlag(_668);var href="javascript:Sage.Link.editActivity('"+key+"', "+_66c+")";if(_669){var _66d=_65d.getClientContextByKey("userID");var _66e=(_667.hasOwnProperty["User"])?_667.User["$key"]:_66d;if(_669==="asUnconfirmed"&&_66d===_66e){href="javascript:Sage.Link.confirmActivityFor('"+key+"', '"+_66d+"')";}}else{href="javascript:Sage.Link.editActivityIfConfirmed('"+key+"', "+_66c+")";}return _65e.substitute(_66a,[href,Sage.Utility.Activity.getActivityImageClass(type,"small"),Sage.Utility.Activity.getActivityTypeName(type)]);}});var _66f=_660("Sage.Utility.Activity.HistoryTypeCell",dojox.grid.cells.Cell,{format:function(_670,_671){if(!_671){return this.defaultValue;}var key=_65d.getValue(_671,"$key");var _672=_65d.getValue(_671,"Type");var _673="";var type="";if(_672.toString().substring(0,2)==="at"){_673=Sage.Utility.Activity.getActivityTypeName(_672);type=_672;}else{_673=Sage.Utility.Activity.getActivityTypeNameFromEnumValue(_672);type=Sage.Utility.Activity.getActivityTypeCodeFromEnumValue(_672);}var fmt="<a href=\"javascript:Sage.Link.editHistory('${0}')\" ><div class=\"Global_Images icon16x16 ${1} title=\"${2}\"></div>&nbsp;${2}</a>";return _65e.substitute(fmt,[key,Sage.Utility.Activity.getActivityImageClass(type,"small"),_673]);}});var _674=_660("Sage.Utility.Activity.AlarmCell",cell,{formatter:function(val,_675){return (val)?"<img src='images/icons/Alarm_16x16.gif'/>":"<div><div>";}});var _676=_660("Sage.Utility.Activity.RecurCell",dojox.grid.cells.Cell,{format:function(_677,_678){if(!_678){return this.defaultValue;}var html="";var _679=(_678.hasOwnProperty("Activity")&&typeof _678["Activity"]==="object")?_678.Activity:_678;var _67a=_65d.getValue(_679,"Recurring");var _67b=_65d.getValue(_679,"RecurrenceState");if(_67a||(_67b&&_67b==="rstOccurrence")){html="<div class=\"Global_Images icon16x16 icon_recurring\"></div>";}return html;}});var _67c=_660("Sage.Utility.Activity.AttachCell",dojox.grid.cells.Cell,{format:function(_67d,_67e){if(!_67e){return this.defaultValue;}var html="<div><div>";var _67f=(_67e.hasOwnProperty("Activity")&&typeof _67e["Activity"]==="object")?_67e.Activity:_67e;var _680=_65d.getValue(_67f,"Attachment");if(_680){html="<div class=\"Global_Images icon16x16 icon_attach_to_16\"></div>";}return html;}});var _681=_660("Sage.Utility.Activity.ConfrimStatusCell",dojox.grid.cells.Cell,{format:function(_682,_683){if(!_683){return this.defaultValue;}var html="<div><div>";var _684=_65d.getValue(_683,"Status");if(_684==="asUnconfirmed"){html="<div class=\"Global_Images icon16x16 icon_unconfirmedActivity16x16\"></div>";}return html;}});var _685=_660("Sage.Utility.Activity.DurationCell",dojox.grid.cells.Cell,{format:function(_686,_687){if(!_687){return this.defaultValue;}var _688="";var _689=(_687.hasOwnProperty("Activity")&&typeof _687["Activity"]==="object")?_687.Activity:_687;var _68a=_65d.getValue(_689,"Duration");if(_68a){var _68b=_65d.getValue(_689,"Timeless");_688=Sage.Utility.Activity.formatDuration(_68a,_68b);}return _688;}});var _68c=_660("Sage.Utility.Activity.NameCell",dojox.grid.cells.Cell,{format:function(_68d,_68e){if(!_68e){return this.defaultValue;}var _68f=(_68e.hasOwnProperty("Activity")&&typeof _68e["Activity"]==="object")?_68e.Activity:_68e;var _690=_65d.getValue(_68f,"ContactName");var _691=_65d.getValue(_68f,"ContactId");if(_663(_691)){return "<a href=\"Contact.aspx?entityid="+_691+"\" >"+_690+"</a>";}var lead=_65d.getValue(_68f,"LeadName");var _692=_65d.getValue(_68f,"LeadId");if(_663(_692)){return "<a href=\"Lead.aspx?entityid="+_692+"\" >"+lead+"</a>";}return "<div></div> ";}});var _693=_660("Sage.Utility.Activity.NameTypeCell",dojox.grid.cells.Cell,{format:function(_694,_695){if(!_695){return this.defaultValue;}var _696=(_695.hasOwnProperty("Activity")&&typeof _695["Activity"]==="object")?_695.Activity:_695;var _697=_65d.getValue(_696,"ContactId");if(_663(_697)){return _65f.Contact;}var _698=_65d.getValue(_696,"LeadId");if(_663(_698)){return _65f.Lead;}return "";}});var _699=_660("Sage.Utility.Activity.AccountCell",dojox.grid.cells.Cell,{format:function(_69a,_69b){if(!_69b){return this.defaultValue;}var _69c=(_69b.hasOwnProperty("Activity")&&typeof _69b["Activity"]==="object")?_69b.Activity:_69b;var _69d=_65d.getValue(_69c,"AccountName");var _69e=_65d.getValue(_69c,"AccountId");var html="";if(_663(_69e)){html="<a href=\"Account.aspx?entityid="+_69e+"\" >"+_69d+"</a>";}var _69f=_65d.getValue(_69c,"LeadId");if(_663(_69f)){html="<a href=\"Lead.aspx?entityid="+_69f+"\" >"+_69d+"</a>";}return html;}});var _6a0=_660("Sage.Utility.Activity.LeaderCell",dojox.grid.cells.Cell,{format:function(_6a1,_6a2){if(!_6a2){return this.defaultValue;}var _6a3=(_6a2.hasOwnProperty("Activity")&&typeof _6a2["Activity"]==="object")?_6a2.Activity:null;var _6a4;if(_6a3){_6a4=_65d.getValue(_6a3,"Leader");}else{_6a4=(_6a2.hasOwnProperty("Leader")&&typeof _6a2["Leader"]==="object")?_6a2.Leader:_6a2;}var _6a5=_65d.getValue(_6a4,"$descriptor");return _6a5;}});var _6a6=_660("Sage.Utility.Activity.CompleteCell",dojox.grid.cells.Cell,{format:function(_6a7,_6a8){if(!_6a8){return this.defaultValue;}var key=_65d.getValue(_6a8,"$key");if(_663(key)){var _6a9=(_6a8.hasOwnProperty("Activity")&&typeof _6a8["Activity"]==="object")?_6a8.Activity:_6a8;return _65e.substitute("<a href=\"javascript:Sage.Link.completeActivity('${0}', ${1})\">${2}</a>",[key,_65d.getValue(_6a9,"Recurring"),_65f.Complete]);}return "";}});Sage.namespace("Utility.Activity");Sage.Utility.Activity={timelessText:"timeless",_imageMap:{small:{"atNote":"images/icons/note_16x16.gif","atPhoneCall":"images/icons/Call_16x16.gif","atToDo":"images/icons/To_Do_16x16.gif","atAppointment":"images/icons/Meeting_16x16.gif","atPersonal":"images/icons/Personal_16x16.gif","atLiterature":"images/icons/Literature_16x16.png","atDoc":"images/icons/mailletter_16x16.png","atFax":"images/icons/fax_16x16.gif","atEmail":"images/icons/mailletter_16x16.png"},medium:{"atNote":"images/icons/Note_24x24.gif","atPhoneCall":"images/icons/Call_24x24.gif","atToDo":"images/icons/To_Do_24x24.gif","atAppointment":"images/icons/Meeting_24x24.gif","atPersonal":"images/icons/Personal_24x24.gif","atLiterature":"images/icons/Literature_24x24.png","atDoc":"images/icons/mailletter_24x24.gif","atFax":"images/icons/fax_24x24.gif","atEmail":"images/icons/mailletter_24x24.gif"},large:{"atNote":"images/icons/Note_24x24.gif","atPhoneCall":"images/icons/Call_32x32.gif","atToDo":"images/icons/To_Do_32x32.gif","atAppointment":"images/icons/Meeting_32x32.gif","atPersonal":"images/icons/Personal_32x32.gif","atLiterature":"images/icons/Literature_32x32.png","atDoc":"images/icons/mailletter_32x32.gif","atFax":"images/icons/fax_32x32.gif","atEmail":"images/icons/mailletter_32x32.gif"}},_iconClassMap:{small:{"atNote":"icon_note_16x16","atPhoneCall":"icon_Call_16x16","atToDo":"icon_To_Do_16x16","atAppointment":"icon_Meeting_16x16","atPersonal":"icon_Personal_16x16","atLiterature":"icon_Literature_16x16","atDoc":"icon_mailletter_16x16","atFax":"icon_fax_16x16","atEMail":"icon_mailletter_16x16"},medium:{"atNote":"icon_Note_24x24","atPhoneCall":"icon_Call_24x24","atToDo":"icon_To_Do_24x24","atAppointment":"icon_Meeting_24x24","atPersonal":"icon_Personal_24x24","atLiterature":"icon_Literature_24x24","atDoc":"icon_mailletter_24x24","atFax":"icon_fax_24x24","atEmail":"icon_mailletter_24x24"},large:{"atNote":"icon_Note_24x24","atPhoneCall":"icon_Call_32x32","atToDo":"icon_To_Do_32x32","atAppointment":"icon_Meeting_32x32","atPersonal":"icon_Personal_32x32","atLiterature":"icon_Literature_32x32","atDoc":"icon_mailletter_32x32","atFax":"icon_fax_32x32","atEmail":"icon_mailletter_32x32"}},_picklistMap:{"Regarding":{"atNote":"Note Regarding","atPhoneCall":"Phone Call Regarding","atToDo":"To Do Regarding","atAppointment":"Meeting Regarding","atEmail":"To Do Regarding","atPersonal":"Personal Activity Regarding","atLiterature":"To Do Regarding"},"Category":{"atNote":"Note Category Codes","atPhoneCall":"Phone Call Category Codes","atToDo":"To Do Category Codes","atAppointment":"Meeting Category Codes","atEmail":"To Do Category Codes","atPersonal":"","atLiterature":"To Do Category Codes"},"Result":{"atNote":"Meeting Result Codes","atPhoneCall":"Phone Call Result Codes","atToDo":"To Do Result Codes","atAppointment":"Meeting Result Codes","atEmail":"To Do Result Codes","atPersonal":"Personal Activity Result Codes","atLiterature":"To Do Result Codes"}},_notMyPersonalActivityMixin:{"AccountId":"","AccountName":"","Category":_65f.Personal,"ContactId":"","ContactName":"","Description":_65f.Personal,"LeadId":"","LeadName":"","LongNotes":"","Notes":"","OpportunityId":"","OpportunityName":"","PhoneNumber":"","Priority":"","TicketId":"","TicketNumber":"","Location":""},secureActivityData:function(_6aa){if((_6aa.Type==262162)||(_6aa.Type=="atPersonal")){var _6ab;var _6ac=Sage.Services.getService("ClientContextService");if(_6ac){if(_6ac.containsKey("userID")){_6ab=_6ac.getValue("userID");}}if(_6ab===_6aa.UserId){return;}if(_6aa.Leader){if(_6ab===_6aa.Leader.$key){return;}}dojo.mixin(_6aa,Sage.Utility.Activity._notMyPersonalActivityMixin);}},getActivityImage:function(type,size){size=Sage.Utility.Activity._verifySize(size);type=type||"atAppointment";return Sage.Utility.Activity._imageMap[size][type]||Sage.Utility.Activity._imageMap[size]["atAppointment"];},_verifySize:function(size){size=size||"small";size=size.toLowerCase();if(size!=="small"&&size!=="medium"&&size!=="large"){size="small";}return size;},getActivityImageClass:function(type,size){size=Sage.Utility.Activity._verifySize(size);type=type||"atAppointment";return Sage.Utility.Activity._iconClassMap[size][type]||Sage.Utility.Activity._iconClassMap[size]["atAppointment"];},getActivityTypeName:function(type){switch(type){case "atPhoneCall":return _65f.PhoneCall||"Phone Call";case "atToDo":return _65f.ToDo||"To Do";case "atAppointment":return _65f.Meeting||"Meeting";case "atPersonal":return _65f.Personal||"Personal Activity";case "atLiterature":return _65f.Literature||"Literature";case "atFax":return _65f.Fax||"Fax";case "atLetter":return _65f.Letter||"Letter";case "atNote":return _65f.Note||"Note";case "atEMail":return _65f.Email||"E-mail";case "atDoc":return _65f.Document||"Document";case "atDatabaseChange":return _65f.DatabaseChange||"Database Change";case "atInternal":return _65f.Event||"Event";case "atSchedule":return _65f.ScheduledEvent||"Scheduled Event";default:return type;}},getActivityTypeNameFromEnumValue:function(_6ad){switch(_6ad){case 262146:return _65f.PhoneCall||"Phone Call";case 262147:return _65f.ToDo||"To Do";case 262145:return _65f.Meeting||"Meeting";case 262162:return _65f.Personal||"Personal Activity";case 262163:return _65f.Literature||"Literature";case 262155:return _65f.Fax||"Fax";case 262148:return _65f.Note||"Note";case 262154:return _65f.Email||"E-mail";case 262153:return _65f.Document||"Document";case 262156:return _65f.DatabaseChange||"Database Change";case 0:return _65f.Event||"Event";case 1:return _65f.ScheduledEvent||"Scheduled Event";default:return _6ad;}},getActivityTypeCodeFromEnumValue:function(_6ae){switch(_6ae){case 262146:return "atPhoneCall";case 262147:return "atToDo";case 262145:return "atAppointment";case 262162:return "atPersonal";case 262163:return "atLiterature";case 262155:return "atFax";case 262148:return "atNote";case 262154:return "atEMail";case 262153:return "atDoc";case 262156:return "atDatabaseChange";case 0:return "atInternal";case 1:return "atSchedule";default:return _6ae;}},getActivityTypeEnumValue:function(name){switch(name){case "atPhoneCall":return "262146";case "atToDo":return "262147";case "atAppointment":return "262145";case "atPersonal":return "262162";case "atLiterature":return "262163";case "atFax":return "262155";case "atNote":return "262148";case "atEMail":return "262154";case "atDoc":return "262153";case "atDatabaseChange":return "262156";case "atSchedule":return "1";case "atInternal":return "0";default:return name;}},getActivityTypeEnumCode:function(type){switch(type){case 262146:return "atPhoneCall";case 262147:return "atToDo";case "atAppointment":case 262145:return "atAppointment";case 262162:return "atPersonal";case "atLiterature":return "atLiterature";case "atFax":return "atFax";case "atLetter":return "atLetter";case "atNote":return "atNote";case "atEMail":return "atEMail";default:return type;}},getConfirmationTypeEnumCode:function(type){switch(type){case 0:return "New";case 1:return "Change";case 2:return "Deleted";case 3:return "Confirm";case 4:return "Decline";case 5:return "Unknown";case 6:return "Leader";default:return type;}},getConfirmationDisplayName:function(type){switch(type){case "New":return _65f.New||"New";case "Change":return _65f.Change||"Change";case "Deleted":return _65f.Deleted||"Deleted";case "Confirm":return _65f.Confirm||"Confirm";case "Decline":return _65f.Decline||"Decline";case "Unknown":return _65f.Unknown||"Unknown";case "Leader":return _65f.Leader||"Leader";default:return type;}},getActivityPicklistName:function(_6af,_6b0){_6af=_6af||"Regarding";if(!Sage.Utility.Activity._picklistMap.hasOwnProperty(_6af)){_6af="Regarding";}return Sage.Utility.Activity._picklistMap[_6af][_6b0]||Sage.Utility.Activity._picklistMap[_6af]["atToDo"];},formatActivityStartDate:function(_6b1,_6b2){if(!_6b1){return "";}if(Sage.Utility.Convert.isDateString(_6b1)){_6b1=Sage.Utility.Convert.toDateFromString(_6b1);}if(typeof _6b2==="undefined"){_6b2=Sage.Utility.Activity.isDateFiveSecondRuleTimeless(_6b1);}if(!_6b2){return _65c.format(_6b1,{selector:"datetime",fullYear:true});}else{var _6b3=new Date(_6b1.getUTCFullYear(),_6b1.getUTCMonth(),_6b1.getUTCDate());return _65c.format(_6b3,{selector:"date",fullYear:true})+" "+this.timelessText;}},getActivityEndDate:function(_6b4,_6b5,_6b6){if(!_6b4){return false;}if(Sage.Utility.Convert.isDateString(_6b4)){_6b4=Sage.Utility.Convert.toDateFromString(_6b4);}if(typeof _6b6==="undefined"){_6b6=Sage.Utility.Activity.isDateFiveSecondRuleTimeless(_6b4);}if(!_6b6){return dojo.date.add(_6b4,"minute",_6b5);}else{return new Date(_6b4.getUTCFullYear(),_6b4.getUTCMonth(),_6b4.getUTCDate(),0,0,5);}},formatActivityStartDateForCalendar:function(_6b7,_6b8,_6b9){if(!_6b7){return "";}if(Sage.Utility.Convert.isDateString(_6b7)){_6b7=Sage.Utility.Convert.toDateFromString(_6b7);}var _6ba=new Date(_6b7.getFullYear(),_6b7.getMonth(),_6b7.getDate(),_6b7.getHours(),_6b7.getMinutes());if(_6b9){_6ba=new Date(_6b7.getUTCFullYear(),_6b7.getUTCMonth(),_6b7.getUTCDate(),0,0,5);}if(_6b8){return _65c.format(_6ba,{selector:"date",datePattern:_6b8});}else{return _65c.format(_6ba,{selector:"date",datePattern:"MM/d/yy H:mm"});}},formatActivityEndDateForCalendar:function(_6bb,_6bc){if(!_6bb){return "";}if(Sage.Utility.Convert.isDateString(_6bb)){_6bb=Sage.Utility.Convert.toDateFromString(_6bb);}var _6bd=new Date(_6bb.getFullYear(),_6bb.getMonth(),_6bb.getDate(),_6bb.getHours(),_6bb.getMinutes());var _6be=dojo.date.add(_6bd,"minute",_6bc);if(dojo.date.compare(_6be,_6bd,"date")>0){return _65c.format(_6bd,{selector:"date",datePattern:"MM/d/yy 24:00"});}return _65c.format(_6be,{selector:"date",datePattern:"MM/d/yy H:mm"});},formatEventDate:function(_6bf){if(!_6bf){return "";}if(Sage.Utility.Convert.isDateString(_6bf)){_6bf=Sage.Utility.Convert.toDateFromString(_6bf);}return _65c.format(_6bf,{selector:"date",fullYear:true});},formatDateAdd:function(dt,mode,_6c0){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _6c1=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());_6c1=dojo.date.add(_6c1,mode,_6c0);return _65c.format(_6c1,{selector:"date",fullYear:true});},formatShortDate:function(dt){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _6c2=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());return _65c.format(_6c2,{selector:"date",formatLength:"short",fullYear:true});},formatLongDate:function(dt){if(!dt){return "";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _6c3=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());return _65c.format(_6c3,{selector:"date",formatLength:"long",fullYear:true});},roundDateToNextQuarterHour:function(dt){dt.setSeconds(0);var _6c4=dt.getMinutes();if(_6c4<15){dt.setMinutes(15);}else{if(_6c4<30){dt.setMinutes(30);}else{if(_6c4<45){dt.setMinutes(45);}else{dt.setMinutes(0);dt=dojo.date.add(dt,"hour",1);}}}return dt;},isDateFiveSecondRuleTimeless:function(d){if(!d){return false;}return ((d.getUTCHours()===0)&&(d.getUTCMinutes()===0)&&(d.getUTCSeconds()===5));},formatDuration:function(_6c5,_6c6){if(_6c6){return "";}if(!_6c5){return "0m";}if(_6c5<60){return _6c5+"m";}if(_6c5>60){var _6c7=String(_6c5/60).split(".");var min=_6c5%60;return _6c7[0]+"h "+min+"m";}else{return "1hr";}},formatTimelessStartDate:function(_6c8){if(!_6c8){return "";}var pad=function(n){return n<10?"0"+n:n;};return _6c8.getUTCFullYear()+"-"+pad(_6c8.getUTCMonth()+1)+"-"+pad(_6c8.getUTCDate())+"T00:00:00Z";},formatTimelessEndDate:function(_6c9,mode,_6ca){if(!_6c9){return "";}var _6cb=new Date(_6c9.getFullYear(),_6c9.getMonth(),_6c9.getDate());if(mode&&_6ca){_6cb=dojo.date.add(_6cb,mode,_6ca);}var pad=function(n){return n<10?"0"+n:n;};var _6cc=_6cb.getUTCFullYear();var _6cd=_6cb.getUTCMonth()+1;var _6ce=_6cb.getUTCDate();return _6cc+"-"+pad(_6cd)+"-"+pad(_6ce)+"T23:59:59Z";},getNthWeekOfMonth:function(d){var _6cf=new Date(d.getFullYear(),d.getMonth(),d.getDate());var _6d0=_6cf.getMonth();for(var i=1;i<7;i++){_6cf=dojo.date.add(_6cf,"week",-1);if(_6d0!==_6cf.getMonth()){return i;}}return 1;},setDateToNthWeekDay:function(d,_6d1,_6d2){var i,_6d3=new Date(d.getFullYear(),d.getMonth(),d.getDate());if(_6d1===5){_6d3.setDate(dojo.date.getDaysInMonth(_6d3));for(i=0;i<7;i++){if(_6d3.getDay()===_6d2){break;}_6d3=dojo.date.add(_6d3,"day",-1);}}else{_6d3.setDate(1);for(i=0;i<7;i++){if(_6d3.getDay()===_6d2){break;}_6d3=dojo.date.add(_6d3,"day",1);}_6d3=dojo.date.add(_6d3,"week",_6d1-1);}return _6d3;},isValidId:function(id){var _6d4=false;if(id){if(id.trim()!==""){_6d4=true;}}return _6d4;},getConfirmStatusName:function(type){if(!type){return _65f.Unknown||"Unknown";}switch(type.toUpperCase().trim()){case "CHANGE":return _65f.confirmTypeChanged||"Changed";case "CONFIRM":return _65f.confirmTypeConfirmed||"Confirmed";case "DELETED":return _65f.confirmTypeDeleted||"Deleted";case "LEADER":return _65f.Leader||"Leader";case "NEW":return _65f.New||"New";default:return type;}},isReocurringId:function(id){if(id.charAt(12)===";"){return true;}return false;},findFailedRequestMessage:function(_6d5,def){if(_6d5.responseText){var rsp=eval(_6d5.responseText);if(dojo.isArray(rsp)){if(rsp[0]){return rsp[0].message||def;}}}return def;},removeMember:function(_6d6,_6d7){var _6d8=dijit.byId(_6d6);if(_6d8){var args={memberId:_6d7};_6d8._removeMember(args);}},getActivityEditLink:function(_6d9){var key=_6d9.id;var _6da="<a href=\"${0}\" >${1}</a>";var _6db=Sage.Utility.Activity._getReccurenceFlag(_6d9);var desc=_6d9.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_6d9.Type));var href="javascript:Sage.Link.editActivity('"+key+"', "+_6db+")";return _65e.substitute(_6da,[href,desc]);},getActivitySummaryHeader:function(_6dc){var key=_6dc.id;var _6dd="<a href=\"${0}\" >${1}</a>";var _6de="";if(_6dc.Alarm){_6de+="<div class=\"Global_Images icon24x24 icon_Alarm_24x24\" > </div>&nbsp;";}if((Sage.Utility.Activity.isReocurringId(_6dc.id))||(_6dc.Recurring)){_6de+="<div class=\"Global_Images icon16x16 icon_recurring\" > </div>&nbsp;";}_6de+="<div class=\"Global_Images icon24x24 "+Sage.Utility.Activity.getActivityImageClass(_6dc.Type,"medium")+"\"> </div>&nbsp;";var _6df=Sage.Utility.Activity._getReccurenceFlag(_6dc);var desc=_6dc.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_6dc.Type));var href="javascript:Sage.Link.editActivity('"+key+"', "+_6df+")";_6de+=_65e.substitute(_6dd,[href,desc]);return _6de;},getUserActivitySummaryHeader:function(_6e0){var _6e1=_6e0.Activity;var _6e2="";if(_6e0.Status==="asUnconfirmed"){_6e2+="<div class=\"Global_Images icon16x16 icon_unconfirmedActivity16x16\" > </div>";}if(_6e1.Alarm){_6e2+="<div class=\"Global_Images icon24x24 icon_Alarm_24x24\" > </div>&nbsp;";}if((Sage.Utility.Activity.isReocurringId(_6e1.$key))||(_6e1.Recurring)){_6e2+="<div class=\"Global_Images icon16x16 icon_recurring\" > </div>&nbsp;";}_6e2+="<div class=\"Global_Images icon24x24 "+Sage.Utility.Activity.getActivityImageClass(_6e1.Type,"medium")+"\"> </div>&nbsp;";var _6e3=Sage.Utility.Activity._getReccurenceFlag(_6e1);var _6e4="<a href=\"${0}\" >${1}</a>";var desc=_6e1.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_6e1.Type));var href="javascript:Sage.Link.editActivity('"+_6e1.$key+"', "+_6e3+")";if(_6e0.Status==="asUnconfirmed"){href="javascript:Sage.Link.confirmActivityFor('"+_6e1.$key+"', "+_6e0.User.$key+")";}_6e2+=_65e.substitute(_6e4,[href,desc]);return _6e2;},getActivityCompleteHref:function(_6e5){var key=_6e5.$key;var _6e6=Sage.Utility.Activity._getReccurenceFlag(_6e5);var href="javascript:Sage.Link.completeActivity('"+key+"', "+_6e6+")";return href;},_getReccurenceFlag:function(_6e7){if(_6e7.RecurrenceState){if((_6e7.Recurring===true)&&(_6e7.RecurrenceState==="rstMaster")){return false;}if((_6e7.Recurring===true)&&((_6e7.RecurIterations)<0)){return false;}if(_6e7.RecurrenceState==="rstOccurrence"){return true;}}else{if(_6e7.Recurring===true){if((_6e7.RecurIterations)<0){return false;}return true;}return false;}return false;},getCurrentActivityId:function(){var _6e8=Sage.Services.getService("ClientEntityContext");var _6e9=_6e8.getContext();var _6ea=null;if(_6e9&&_6e9.EntityTableName=="ACTIVITY"){_6ea=_6e9.EntityId;}return _6ea;},_getContactData:function(_6eb,_6ec,_6ed){if(!this._contactStore){this._contactStore=new _662({include:["$descriptors","Address"],resourceKind:"contacts",service:_661.getSDataService("dynamic")});}this._contactStore.fetch({predicate:"'"+_6eb+"'",onComplete:function(_6ee){_6ec.call(_6ed,_6ee);},onError:function(){_6ec.call(_6ed,null);},scope:this});},_getLeadData:function(_6ef,_6f0,_6f1){if(!this._leadStore){this._leadStore=new _662({include:["$descriptors","Address"],resourceKind:"leads",service:_661.getSDataService("dynamic")});}this._leadStore.fetch({predicate:"'"+_6ef+"'",onComplete:function(_6f2){_6f0.call(_6f1,_6f2);},onError:function(){_6f0.call(_6f1,null);},scope:this});},activityTypeCell:_665,activityAlarmCell:_674,activityRecurringCell:_676,activityAttachCell:_67c,activityConfirmStatusCell:_681,activityDurationCell:_685,activityNameCell:_68c,activityNameTypeCell:_693,activityAccountCell:_699,activityCompleteCell:_6a6,historyTypeCell:_66f,activityLeaderCell:_6a0};return Sage.Utility.Activity;});},"url:Sage/UI/templates/JobSchedulingWidget.html":"<div>\r\n    <div dojoAttachPoint=\"divJobSchedulingWidget\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <label>${lblCreateSchedule}:</label>\r\n                </td>\r\n            </tr>\r\n            <tr style=\"padding-left: 10px\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblEveryText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesHours\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesHours\"></select>\r\n                    </div>\r\n                    <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboFrequency\" dojoAttachEvent=\"onChange:_onFrequencyChange\">\r\n                        <option value=\"minutes\">${lblMinutesFrequency}</option>\r\n                        <option value=\"hourly\">${lblHourlyFrequency}</option>\r\n                        <option value=\"daily\">${lblDailyFrequency}</option>\r\n                        <option value=\"weekday\">${lblWeekDayFrequency}</option>\r\n                        <option value=\"weekly\">${lblWeeklyFrequency}</option>\r\n                        <option value=\"monthly\">${lblMonthlyFrequency}</option>\r\n                        <option value=\"yearly\" selected=\"selected\" disabled=\"disabled\">${lblYearlyFrequency}</option>\r\n                    </select>\r\n                    <label dojoAttachPoint=\"lblOnText\" class=\"display-none\">${lblOnText}</label>&nbsp;\r\n                    <label dojoAttachPoint=\"lblOnTheText\" class=\"display-none\">${lblOnTheText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMonthDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMonthDay\">\r\n                            <option value=\"1\" selected=\"selected\">${lblFirstDay}</option>\r\n                            <option value=\"2\">${lblSecondDay}</option>\r\n                            <option value=\"3\">${lblThirdDay}</option>\r\n                            <option value=\"4\">${lblFourthDay}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <div dojoAttachPoint=\"divDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboDay\">\r\n                            <option value=\"SUN\">${lblSunday}</option>\r\n                            <option value=\"MON\" selected=\"selected\">${lblMonday}</option>\r\n                            <option value=\"TUE\">${lblTuesday}</option>\r\n                            <option value=\"WED\">${lblWednesday}</option>\r\n                            <option value=\"THU\">${lblThursday}</option>\r\n                            <option value=\"FRI\">${lblFriday}</option>\r\n                            <option value=\"SAT\">${lblSaturday}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblAtText\">${lblAtText}</label>&nbsp;&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesPastHour\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesPastHour\"></select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblMinutesPastHour\" class=\"display-none\">${lblMinutesPastHour}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divRunAtTime\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunAtTime\" displayDate=\"false\" displayTime=\"true\" label=\"${lblAtText}\" required=\"true\"></div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowRunFromDate\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblFromTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunFromDate\" displayDate=\"true\" label=\"${lblFromTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                    <label>${lblToTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunToDate\" displayDate=\"true\" label=\"${lblToTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowCronExpression\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblCronExpressionText}</label>&nbsp;\r\n                    <div data-dojo-type=\"dijit.form.TextBox\" dojoAttachPoint=\"txtCronExpression\" style=\"width: 375px\"></div>&nbsp\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>","Sage/MainView/ReportManager":function(){define("Sage/MainView/ReportManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/MainView/ReportMgr/ReportManagerGroupContextService","dojo/_base/declare","Sage/MainView/ReportMgr/ReportManagerActions","Sage/MainView/ReportMgr/ReportWizardController"],function(_6f3,_6f4,_6f5,_6f6,_6f7){var _6f8=_6f7("Sage.MainView.ReportManager",_6f3,{_currentTabId:false,_currentTabDescription:false,_mainViewName:"ReportManager",store:false,constructor:function(_6f9){var _6fa=Sage.Services.getService("ClientGroupContext");if(!_6fa||_6fa.declaredClass!=="Sage.MainView.ReportMgr.ReportManagerGroupContextService"){_6fa=new _6f6();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",_6fa);}var ctx=_6fa.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");},_getListPanelConfig:function(){var _6fb=Sage.Services.getService("ClientGroupContext");if(_6fb){this.listPanelConfiguration=_6fb.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}return this.listPanelConfiguration;},requestConfiguration:function(_6fc){if(_6fc.success){_6fc.success.call(_6fc.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_6fd){if(_6fd.success){_6fd.success.call(_6fd.scope||this,this.titlePaneConfiguration,this);}},_getTabsConfig:function(){var _6fe={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _6fe;},_getStaticTabs:function(){var _6ff=Sage.Services.getService("ClientGroupContext");var _700=_6ff.getStaticTabs();return _700;},_onTabSelected:function(tab){var _701=Sage.Services.getService("ClientGroupContext");if(_701){var ctx=_701.getContext();var id=tab.id||tab;if(ctx.CurrentGroupID===id){return;}_701.setCurrentGroup(id,tab.title);}},_onCurrentGroupChanged:function(args){var _702=args.current;this._currentTabId=_702.CurrentGroupID;this._currentTabDescription=_702.CurrentName;if(dijit.byId("GroupTabs").selectedChildWidget.id!==_702.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_702.CurrentGroupID);}},_getMenuConfig:function(){return false;}});return _6f8;});},"Sage/_ConfigurationProvider":function(){define("Sage/_ConfigurationProvider",["dojo/_base/declare"],function(_703){var _704=_703("Sage._ConfigurationProvider",null,{_connects:null,_subscribes:null,constructor:function(_705){dojo.mixin(this,_705);this._connects=[];this._subscribes=[];},"set":function(name,_706){this["_"+name]=_706;},"get":function(name){return this["_"+name];},requestConfiguration:function(_707){},onConfigurationChange:function(){},destroy:function(){dojo.forEach(this._connects,function(_708){dojo.disconnect(_708);});dojo.forEach(this._subscribes,function(_709){dojo.unsubscribe(_709);});this.uninitialize();},uninitialize:function(){}});var _70a=_703("Sage.StaticConfigurationProvider",[_704],{createConfiguration:function(){var _70b={};for(var name in this){if(this.hasOwnProperty(name)&&!/^_/.test(name)){_70b[name]=this[name];}}return _70b;},requestConfiguration:function(_70c){if(_70c.success){_70c.success.call(_70c.scope||this,this.createConfiguration(_70c),_70c,this);}}});return _704;});},"Sage/Utility/File/nls/AttachmentPropertiesEditForm":function(){define("Sage/Utility/File/nls/AttachmentPropertiesEditForm",["Sage/LanguageList","dojo/_base/lang"],function(_70d,lang){var nls={root:{fileText:"File",descriptionText:"Description",sizeText:"Size",attachDateText:"Attached Date",attachedByText:"Attached By",uploadFileText:"Select Different File...",editText:"Edit Attachment",okText:"OK",cancelText:"Cancel",browseText:"Browse",urlText:"URL",requestFailedMsg:"The requested operation could not be completed, please try again later."}};return lang.mixin(_70d,nls);});},"Sage/QuickForms/Design/Editors/NumericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NumericBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NumericBasicPropertyEditor"],function(_70e,lang,_70f,_710,_711,_712,_713,_714,_715,_716,_717,_718){return _70e("Sage.QuickForms.Design.Editors.NumericBasicPropertyEditor",[_70f,_716,_715],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_718);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(_719){if(this.isSuspended()){return;}this._designer.set("caption",_719);},_onCaptionAlignmentChange:function(_71a){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_71a);},_onIsReadOnlyChange:function(_71b){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_71b);},_onToolTipChange:function(_71c){if(this.isSuspended()){return;}this._designer.set("toolTip",_71c);}});});},"Sage/Data/SingleEntrySDataStore":function(){define("Sage/Data/SingleEntrySDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare"],function(_71d,_71e,_71f){var _720=_71f("Sage.Data.SingleEntrySDataStore",_71d,{_entity:false,_request:false,_okToCache:true,postMixInProperties:function(){},getFeed:function(_721){},fetch:function(_722){if(_722.queryOptions&&_722.queryOptions.currentEntity&&this._entity){this.returnCollectionProperty(_722,_722.queryOptions.property);return;}this.verifyService();var _723=this._getRequest();if(_722.predicate){if(this._entity&&(_722.predicate===this._entity.$key)&&this._okToCache){if(_722.onComplete){_722.onComplete.call(_722.scope||this,this._entity,_722);return;}}_723.setResourceSelector(_722.predicate);}if(this.select&&this.select.length>0){_723.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_723.setQueryArg("include",this.include.join(","));}if(this.predicate&&this.predicate.length>0){_723.setResourceSelector(this.predicate);}if(_722.beforeRequest){_722.beforeRequest.call(_722.scope||this,_723);}_723.read({success:dojo.hitch(this,this.onSuccess,_722),failure:dojo.hitch(this,this.onFailure,_722)});},save:function(_724){if(this._request&&this._entity){this._okToCache=false;this._request.update(this._entity,_724);}},setValue:function(item,_725,_726){var _727=item||this._entity;if(_727){var _728=this.getValue(_727,_725,"");_71e.setValue(_727,_725,_726);this.onSet(_727,_725,_728,_726);}},getCurrentEntity:function(){return this._entity;},newItem:function(args){var _729=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);_729.setResourceKind(this.resourceKind);_729.read({success:function(_72a){this._entity=_72a;if((args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,_72a);}},failure:function(err){if(args.onError){args.onError.call(args.scope||this,err);}},scope:this});},saveNewEntity:function(_72b,_72c,_72d,_72e,_72f){if(!_72b){_72b=this._entity;}var _730=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_730.setResourceKind(this.resourceKind);if(_72f){_72f.call(_72e||this,_730,_72b);}_730.create(_72b,{success:_72c||function(_731){if(typeof console!=="undefined"){}},failure:_72d||function(_732,o){if(typeof console!=="undefined"){}},scope:_72e||this});},deleteEntity:function(_733,_734,_735,_736){_733=_733||this._entity;if(_733){var _737=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_737.setResourceKind(this.resourceKind);_737.setResourceSelector("'"+_733["$key"]+"'");_737["delete"](_733,{success:_734||function(_738){if(typeof console!=="undefined"){}},failure:_735||function(_739){if(typeof console!=="undefined"){}},scope:_736||this});}},clearCache:function(){this._entity=false;},_getRequest:function(){if(!this._request){var req=new Sage.SData.Client.SDataSingleResourceRequest(this.service);req.setResourceKind(this.resourceKind);this._request=req;}return this._request;},returnCollectionProperty:function(_73a,_73b){if(this._entity&&this._entity.hasOwnProperty(_73b)){var list=this._entity[_73b].$resources;if(typeof list!=="unknown"){if(_73a.onBegin){_73a.onBegin.call(_73a.scope||this,list.length,_73a);}if(_73a.onComplete){_73a.onComplete.call(_73a.scope||this,list,_73a);}}}},onSuccess:function(_73c,data){if(data){this._okToCache=true;this._entity=data;if(_73c.onComplete){_73c.onComplete.call(_73c.scope||this,data,_73c);}}else{if(_73c.onError){_73c.onError.call(_73c.scope||this,"invalid feed",_73c);}}},onFailure:function(_73d,_73e,_73f){this._entity=false;if(_73d.onError){_73d.onError.call(_73d.scope||this,_73e.responseText,_73d);}},onSet:function(item,_740,_741,_742){}});return _720;});},"Sage/MainView/JobMgr/FilterConfigurationProvider":function(){define("Sage/MainView/JobMgr/FilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Utility","Sage/Data/SDataStore","Sage/MainView/JobMgr/JobManagerGroupContextService","dijit/registry","dojo/_base/declare","Sage/Utility/Filters","dojo/_base/lang","dojo/json"],function(_743,_744,_745,_746,_747,_748,_749,_74a,lang,json){var _74b=_749("Sage.MainView.JobMgr.FilterConfigurationProvider",[_744,_743],{_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_74c){this.inherited(arguments);if(this.groupContextService.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){Sage.Services.removeService("ClientGroupContext");this.groupContextService=new GroupManagerGroupContextService();Sage.Services.addService("ClientGroupContext",this.groupContextService);}this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(_74d,_74e){var _74f=this.groupContextService.getCurrentListConfig();this._configuration=_74f.getFilterConfig(this.metaDataService,_74d,_74e);if(!this._configuration){this._configuration={};}this._configuration.getFilterManager=function(){var _750=_748.byId("list");return _750&&_750.get("filterManager");};this._hasLayoutConfiguration=true;},requestConfiguration:function(_751){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;this._onRequestConfigurationSuccess(_751,null);this._getHiddenFilters(_751);},_onRequestConfigurationSuccess:function(_752,_753){this._createConfiguration(_753,_752);this._callOptionsSuccess(_752);},_onRequestConfigurationFailure:function(_754,_755){if(_754.failure){_754.failure.call(_754.scope||this,_755,_754,this);}},getFilterFormatter:function(_756){if(_756){}return false;},ModifyFilterQuery:function(_757,_758){return _758;},_getHiddenFilters:function(_759){var key=this._getHiddenFiltersKey();if(key){_74a.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_759||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_74a.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_75a,_75b){if(_75b&&_75b.response&&_75b.response.value){this._configuration._hiddenFilters=json.parse(_75b.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_75a);},_callOptionsSuccess:function(_75c){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_75c.success){_75c.success.call(_75c.scope||this,this._configuration,_75c,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _74b;});},"Sage/UI/SLXPreviewGrid/main":function(){define("Sage/UI/SLXPreviewGrid/main",["Sage/UI/SLXPreviewGrid/Grid","Sage/UI/SLXPreviewGrid/FilterPanel","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/Text"],function(){});},"Sage/Utility/Filters":function(){define("Sage/Utility/Filters",["dojo/_base/lang","Sage/Data/SDataServiceRegistry","dojo/json"],function(lang,_75d,json){Sage.namespace("Utility.Filters");lang.mixin(Sage.Utility.Filters,{getHiddenFiltersKey:function(){var _75e=Sage.Services.getService("ClientGroupContext"),_75f=_75e&&_75e.getContext(),_760="hidden_filters_",_761=_75f&&_75f.CurrentGroupID,key="";if(_761){_761=_761.toLowerCase();_761=_761.replace(/ /g,"_").replace(/'/g,"_");key=_760+_761;}return key;},setHiddenFilters:function(key,_762){var _763,_764,_765;_763=_75d.getSDataService("system");_764={"$name":"setHiddenFilters","request":{"key":key,"value":_762}};_765=new Sage.SData.Client.SDataServiceOperationRequest(_763);_765.setOperationName("setHiddenFilters");_765.execute(_764,{});sessionStorage.removeItem(key);},getHiddenFilters:function(key,_766,_767){var _768,_769,_76a,data;data=sessionStorage.getItem(key);if(data===null){_768=_75d.getSDataService("system");_76a={"$name":"getHiddenFilters","request":{"key":key}};_769=new Sage.SData.Client.SDataServiceOperationRequest(_768).setOperationName("getHiddenFilters");_769.execute(_76a,{success:lang.hitch(this,this._getHiddenFiltersSuccess,_766,key),failure:_767});}else{_766.call(this,json.parse(data));}},_getHiddenFiltersSuccess:function(_76b,key,data){if(_76b){sessionStorage.setItem(key,json.stringify(data));_76b.call(this,data);}},resolveDataType:function(_76c){switch(_76c){case "47f90249-e4c8-4564-9ae6-e1fa9904f8b8":case "6b0b3d51-0728-4b67-9473-52836a81da53":case "2596d57d-89d6-4b72-9036-b18c64c5324c":case "f37c635c-9fbf-40d8-98d5-750a54a3cca1":return "numeric";case "ccc0f01d-7ba5-408e-8526-a3f942354b3a":case "76c537a8-8b08-4b35-84cf-fa95c6c133b0":case "b71918bf-fac1-4b62-9ed5-0b0294bc9900":case "517d5e69-9efa-4d0a-8e7a-1c7691f921ba":return "string";case "8edd8fce-2be5-4d3d-bedd-ea667e78a8af":return "enum";case "1f08f2eb-87c8-443b-a7c2-a51f590923f5":return "date";case "30053f5a-8d40-4db1-b185-1e4128eb26cc":return "key";case "92432b4d-8206-4a96-ba7b-e4cbd374f148":case "95ca9d52-6f0b-4a96-bd40-43583f41faf8":return "boolean";case "f4ca6023-9f5f-4e41-8571-50ba94e8f233":return "binary";default:return "unknown";}},resolveDataTypeQB:function(_76d){var _76e;switch(_76d){case "47f90249-e4c8-4564-9ae6-e1fa9904f8b8":case "6b0b3d51-0728-4b67-9473-52836a81da53":_76e="Integer";break;case "2596d57d-89d6-4b72-9036-b18c64c5324c":case "f37c635c-9fbf-40d8-98d5-750a54a3cca1":_76e="Decimal";break;case "ccc0f01d-7ba5-408e-8526-a3f942354b3a":case "76c537a8-8b08-4b35-84cf-fa95c6c133b0":case "b71918bf-fac1-4b62-9ed5-0b0294bc9900":case "517d5e69-9efa-4d0a-8e7a-1c7691f921ba":_76e="String";break;case "1f08f2eb-87c8-443b-a7c2-a51f590923f5":_76e="Date/Time";break;case "f4ca6023-9f5f-4e41-8571-50ba94e8f233":_76e="Memo/Blob";break;default:_76e="String";}return _76e;}});return Sage.Utility.Filters;});},"Sage/MainView/ActivityMgr/ConfirmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/ConfirmListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/ConfirmListPanelConfig"],function(_76f,_770,_771,_772,_773,_774,_775,_776){var _777=_775("Sage.MainView.ActivityMgr.ConfirmListPanelConfig",[_76f],{constructor:function(){this._nlsResources=_776;this._listId="confirmations";this._resourceKind="UserNotifications";this.entityName="UserNotification";this._contextMenu="ConfimationListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/userNotification/change",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);},_onListRefresh:function(_778){var _779=Sage.Services.getService("ActivityService");_779.refreshList("confirmations");},_getSelect:function(){var _77a=["$key","Type","ActivityId","Activity/Type","Activity/StartDate","Activity/Description","FromUserId","ToUserId","FromUser/UserInfo/UserName","ToUser/UserInfo/UserName"];return _77a;},_getInclude:function(){var _77b=["UserInfo"];return _77b;},_getSort:function(){var sort=[{attribute:"Activity.StartDate",descending:true}];return sort;},_getWhere:function(){var _77c=(this._currentUserId)?dojo.string.substitute("ToUser.Id eq \"${0}\" ",[this._currentUserId]):"";return _77c;},_getStructure:function(){var _77d=this._nlsResources.colNameType||"Activity Type";var _77e=this._nlsResources.colNameNotification||"Notification";var _77f=this._nlsResources.colNameStartDate||"Start Date";var _780=this._nlsResources.colNameRegarding||"Regarding";var _781=this._nlsResources.colNameFromUser||"From";var _782=this._nlsResources.colNameToUser||"To User";var _783=_775("Sage.MainView.ActivityMgr.ConfirmListPanelConfig.ActivityConfirmCell",dojox.grid.cells.Cell,{format:function(_784,_785){var key=_770.getValue(_785,"$key");var type=_770.getValue(_785,"Type");var _786=_770.getValue(_785,"ActivityId");var _787=_770.getValue(_785,"ToUserId");var _788=_771.getConfirmStatusName(type);var html="<a href='javascript:Sage.Link.editConfirmation(\""+key+"\")' >"+_788+"</a>";return html;}});var _789=_775("Sage.MainView.ActivityMgr.ConfirmListPanelConfig.ActivityTypeCell",dojox.grid.cells.Cell,{format:function(_78a,_78b){var type=this.get(_78a,_78b);var html="<div><div class='Global_Images icon16x16 "+_771.getActivityImageClass(type,"small")+"'></div>&nbsp"+_771.getActivityTypeName(type)+"</div>";return html;}});var _78c=[{field:"Type",name:_77e,type:_783,width:"90px"},{field:"Activity.Type",name:_77d,type:_789,width:"90px"},{field:"Activity.StartDate",name:_77f,type:_774,timelessField:"Timeless",width:"150px"},{field:"Activity.Description",name:_780,width:"300px"},{field:"FromUser.UserInfo.UserName",name:_781,width:"100px"},{field:"ToUser.UserInfo.UserName",name:_782,width:"100px"}];return _78c;},_getDetailConfig:function(){var _78d=this._getFormatterScope();var _78e={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"ConfirmationDetailSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/ConfirmationDetailSummary.html",postProcessCallBack:false};return _78e;},_getFormatterScope:function(){var _78f=new _772({requestConfiguration:{mashupName:"ActivityManager",queryName:"ConfirmationListSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/ConfirmationListSummary.html"});return _78f;},_getToolBars:function(){var _790={items:[]};return _790;}});return _777;});},"Sage/QuickForms/Design/HiddenControlDesigner":function(){define("Sage/QuickForms/Design/HiddenControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/NonVisibleAdvancedPropertyEditor","dojo/i18n!./nls/HiddenControlDesigner"],function(_791,_792,lang,_793,_794,_795,_796,_797,_798){return _791("Sage.QuickForms.Design.HiddenControlDesigner",[_794,_795,_793,_796],{designSupport:{visible:false},editors:[_797],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div data-dojo-attach-point=\"containerNode\">","<span data-dojo-attach-point=\"designCaptionNode\"></span>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"Hidden_Text_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFHidden, Sage.Platform.QuickForms.QFControls",displayNameText:"Hidden Text",constructor:function(){lang.mixin(this,_798);},_setControlIdAttr:function(_799){this.inherited(arguments);this.set("designCaption",_799);},startup:function(){this.inherited(arguments);this.set("designCaption",this.get("controlId"));}});});},"Sage/MainView/Lead/UpdateLeads":function(){define("Sage/MainView/Lead/UpdateLeads",["dojo/_base/declare","dojo/i18n!./nls/UpdateLeads","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","Sage/Utility/Jobs","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer","dojo/i18n!./nls/UpdateLeads"],function(_79a,_79b,_79c,_79d,_79e,_79f,_7a0,_7a1,_7a2,jobs){var _7a3=_79a("Sage.MainView.Lead.UpdateLeads",[_79f,_7a0],{id:"dlgUpdateMultipleLeads",_dialog:false,_selectionInfo:false,_updateableProperties:false,selectedFieldIndex:1,lup_Owner:false,lup_AcctMgr:false,widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.updateMultipleLeads_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">","<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmUpdateMultipleLeads\">","<table cellspacing=\"20\">","<tr>","<td>","<label>{%= $.update_Property_Caption %}</label>","</td>","<td>","<select title=\"{%= $.update_Property_Caption %}\" labelWidth=\"20\" name=\"{%= $.id %}_PropertyName\" dojoAttachPoint=\"propertyNameSelect\" dojoAttachEvent=\"onChange:_propertyChanged\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">","{% for (var i=0; i < $._updateableProperties.length;i++) { %}","<option value=\"{%= $._updateableProperties[i].propertyName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>","{% } %}","</select>","</td>","<td>","<div id=\"divUpdateLeadsTolbl\" dojoAttachPoint=\"divUpdateLeadsTolbl\">","<label>{%= $.update_To_Caption %}</label>","</div>","</td>","<td>","<div dojoAttachPoint=\"divOwnerContainer\" baseClass=\"lookup-container\">","<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.lookupOwnerText %}\" dojoAttachPoint=\"assignOwner_Container\" class=\"removePadding\"></div>","</div>","<div dojoAttachPoint=\"divAcctMgrContainer\" baseClass=\"lookup-container\" class=\"display-none\">","<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"accountMgr_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>","</div>","</td>","</tr>","</table>","<div class=\"button-bar\" align=\"right\">","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.ok_Text %}</div>","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(_7a4){this._selectionInfo=_7a4;dojo.mixin(this,_79b);if(!this._updateableProperties){this._updateableProperties=[{propertyName:"",propertyDisplayName:""}];this.loadUpdateableProperties("Owner",this.updateProp_Owner);this.loadUpdateableProperties("AcctMgr",this.updateProp_AcctMgr);}},loadUpdateableProperties:function(_7a5,_7a6){var _7a7={propertyName:_7a5,propertyDisplayName:_7a6};this._updateableProperties.push(_7a7);},show:function(){if(!this.lup_Owner){this.createOwnerLookup();}if(!this.lup_AcctMgr){this.createAcctMgrLookup();}this._dialog.show();if(!this._dialog.helpIcon){_79d.mixin(this._dialog,new _79c());this._dialog.createHelpIconByTopic("updateleads");}},_propertyChanged:function(){if(this.propertyNameSelect){this.setDisplayProperty(this.divAcctMgrContainer,(this.propertyNameSelect.value=="AcctMgr"));this.setDisplayProperty(this.divOwnerContainer,(this.propertyNameSelect.value=="Owner"));}},setDisplayProperty:function(_7a8,_7a9){if(_7a8&&_7a9){dojo.removeClass(_7a8,"display-none");}else{if(_7a8){dojo.addClass(_7a8,"display-none");}}},createOwnerLookup:function(){this.assignOwnerLookupConfig={id:"_assignOwner",structure:[{defaultCell:{sortable:true,width:"150px",editable:false,styles:"text-align: left;",propertyType:"System.String",excludeFromFilters:false,useAsResult:false,pickListName:null,defaultValue:""},cells:[{name:this.lookupDescriptionColText,field:"Description"},{name:this.lookupTypeColText,field:"Type",PropertyType:"Sage.Entity.Interfaces.OwnerType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"ownerViews",sort:[{attribute:"Description"}]},isModal:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOwnerText,dialogButtonText:this.ok_Text};this.lup_Owner=new _7a2({id:"lu_AssignOwner",config:this.assignOwnerLookupConfig,style:"width:100%"});dojo.place(this.lup_Owner.domNode,this.assignOwner_Container.domNode,"only");},createAcctMgrLookup:function(){this.accountMgrLookupConfig={id:"_acctMgr",structure:[{defaultCell:{sortable:true,width:"150px",editable:false,styles:"text-align: left;",propertyType:"System.String",excludeFromFilters:false,useAsResult:false,pickListName:null,defaultValue:""},cells:[{name:this.lookupNameColText,field:"UserInfo.UserName"},{name:this.lookupTitleColText,field:"UserInfo.Title"},{name:this.lookupDepartmentColText,field:"UserInfo.Department"},{name:this.lookupRegionColText,field:"UserInfo.Region"},{name:this.lookupTypeColText,field:"Type",propertyType:"Sage.Entity.Interfaces.UserType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.UserName"}]},isModal:true,initialLookup:true,preFilters:[{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"5"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"6"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"7"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"8"}],returnPrimaryKey:true,dialogTitle:this.lookupActMgrText,dialogButtonText:this.okText};this.lup_AcctMgr=new _7a2({id:"lu_AcctMgr",config:this.accountMgrLookupConfig,style:"width:100%"});dojo.place(this.lup_AcctMgr.domNode,this.accountMgr_Container.domNode,"only");},_okClick:function(){var _7aa=this.getPropertySelectionValue();var self=this;if(!_7aa&&!_7aa.value){_7a1.showError(this.errorUnspecifiedValue);return;}var _7ab=[{"name":"EntityName","value":"Lead"},{"name":"PropertyNames","value":_7aa.name},{"name":"PropertyValues","value":_7aa.value},{"name":"SelectedIds","value":(this._selectionInfo.selectionCount>0)?this._selectionInfo.selectedIds.join(",")||"":""},{"name":"GroupId","value":(this._selectionInfo.selectionCount===0)?this.getCurrentGroupId()||"":""}];var _7ac={closable:true,title:this.updateLeadsTitle,key:"Sage.SalesLogix.BusinessRules.Jobs.UpdateEntityJob",parameters:_7ab,success:function(_7ad){},failure:function(_7ae){},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_7ac);self._close();},getCurrentGroupId:function(){var _7af=Sage.Services.getService("ClientGroupContext");if(_7af){var _7b0=_7af.getContext();return _7b0.CurrentGroupID;}return "";},getPropertySelectionValue:function(){if(this.propertyNameSelect){switch(this.propertyNameSelect.value){case "AcctMgr":if(this.lup_AcctMgr.selectedObject){return {name:"AccountManager",value:this.lup_AcctMgr.selectedObject.$key};}return false;case "Owner":if(this.lup_Owner.selectedObject){return {name:"Owner",value:this.lup_Owner.selectedObject.$key};}return false;}}return false;},_close:function(){this._dialog.hide();}});return _7a3;});},"Sage/Services/ClientBindingManagerService":function(){define("Sage/Services/ClientBindingManagerService",["dojo/_base/declare"],function(_7b1){var _7b2=_7b1("Sage.Services.ClientBindingManagerService",null,{constructor:function(){this._listeners[this.ON_SAVE]=[];this.inherited(arguments);},_WatchChanges:true,_PageExitWarningMessage:"",_ShowWarningOnPageExit:false,_SkipCheck:false,_CurrentEntityIsDirty:false,_SaveBtnID:"",_MsgDisplayID:"",_entityTransactionID:"",_IgnoreDirtyFlag:false,_DirtyAjaxItems:[],_listeners:{},_init:function(){this.positionDirtyDataMessage();dojo.subscribe("Sage/events/markDirty",this,"markDirty");},positionDirtyDataMessage:function(){var _7b3=dojo.query("#PageTitle");var _7b4=dojo.query(".dirtyDataMessage");if(_7b3&&_7b3.length>0&&_7b4&&_7b4.length>0){dojo.place(_7b4[0],_7b3[0],"after");dojo.style(_7b4[0],"top",dojo.marginBox(_7b3[0]).t+"px");dojo.style(_7b4[0],"left",dojo.marginBox(_7b3[0]).w+"px");}},addListener:function(_7b5,_7b6,_7b7){this._listeners[_7b5]=this._listeners[_7b5]||[];this._listeners[_7b5].push({listener:_7b6,scope:_7b7});},removeListener:function(_7b8,_7b9){this._listeners[_7b8]=this._listeners[_7b8]||[];for(var i=0;i<this._listeners[_7b8].length;i++){if(this._listeners[_7b8][i].listener==_7b9){break;}}this._listeners[_7b8].splice(i,1);},onSave:function(){for(var i=0;i<this._listeners[this.ON_SAVE].length;i++){var fn=this._listeners[this.ON_SAVE][i].listener;var _7ba=this._listeners[this.ON_SAVE][i].scope||this;if(typeof fn==="function"){fn.call(_7ba);}}},SetShowWarningOnPageExit:function(_7bb){this._ShowWarningOnPageExit=(_7bb);if(this._ShowWarningOnPageExit){window.onbeforeunload=this.onExit;}},onExit:function(e){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(mgr._ShowWarningOnPageExit){if(mgr._SkipCheck){return;}var hdd=mgr.hasDirtyData();if(hdd&&(mgr._IgnoreDirtyFlag===false)||Sage.Utility.getModeId()==="insert"){window.setTimeout(function(){Sage.Utility.hideRequestIndicator(null,{});},1000);if(window.event){window.event.returnValue=mgr._PageExitWarningMessage;}else{return mgr._PageExitWarningMessage;}}}}return;},canChangeEntityContext:function(){if((this._WatchChanges)&&(this.hasDirtyData())&&(this._ShowWarningOnPageExit)){if(confirm(this._PageExitWarningMessage)){this.clearDirtyStatus();return true;}else{return false;}}return true;},hasDirtyData:function(){return (this._CurrentEntityIsDirty||(this._DirtyAjaxItems&&this._DirtyAjaxItems.length>0));},markDirty:function(e){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(mgr._WatchChanges){mgr._CurrentEntityIsDirty=true;if(mgr._IgnoreDirtyFlag===false){dojo.style(dojo.byId(mgr._MsgDisplayID),"display","inline");}}}},addDirtyAjaxItem:function(_7bc){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){var len=this._DirtyAjaxItems.length;for(var i=0;i<len;i++){if(this._DirtyAjaxItems[i]===_7bc){return;}}this._DirtyAjaxItems.push(_7bc);if(this._WatchChanges){if(this._IgnoreDirtyFlag===false){dojo.style(dojo.byId(mgr._MsgDisplayID),"display","inline");}}}},clearDirtyAjaxItem:function(_7bd){var len=this._DirtyAjaxItems.length;for(var i=0;i<len;i++){if(this._DirtyAjaxItems[i]===_7bd){this._DirtyAjaxItems.splice(i,1);}}if(!this.hasDirtyData()){$("#"+this._MsgDisplayID).hide();}},clearDirtyStatus:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._CurrentEntityIsDirty=false;$("#"+mgr._MsgDisplayID).hide();}},notifyIsSaving:function(){if(Sage.Utility.Validate._isValid){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){Sys.WebForms.PageRequestManager.getInstance().add_endRequest(mgr.handleEndSaveRequest);mgr.clearDirtyStatus();if(Sage.Utility.getModeId()==="insert"){mgr._SkipCheck=true;}mgr.onSave();}}},handleEndSaveRequest:function(_7be,args){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(!args.get_error()){mgr.clearDirtyStatus();}else{mgr.markDirty();}Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(mgr.handleEndSaveRequest);}},saveForm:function(){var btn=dojo.byId(this._SaveBtnID);if(btn){if((btn.tagName.toLowerCase()==="input")&&(btn.type==="image")){this.notifyIsSaving();Sys.WebForms.PageRequestManager.getInstance()._doPostBack(btn.name,null);}else{if(btn.onClick){this.notifyIsSaving();btn.onClick();}}}},registerResetBtn:function(_7bf){if(_7bf){var btn=dojo.byId(_7bf);if(btn){$addHandler(btn,"click",this.resetCurrentEntity);}}},registerSaveBtn:function(_7c0,_7c1){if(_7c0){var btn=dojo.byId(_7c0);if(btn){dojo.connect(btn,"onclick",function(){Sage.Utility.Validate.onWorkSpaceSave(_7c1);});$addHandler(btn,"click",this.notifyIsSaving);if(this._SaveBtnID===""){this._SaveBtnID=_7c0;}}}},registerDialogCancelBtn:function(_7c2){if(_7c2){var btn=dojo.byId(_7c2);if(btn){$addHandler(btn,"click",this.rollbackCurrentTransaction);}}},registerBoundControls:function(_7c3){if((this._WatchChanges)&&(_7c3)){var _7c4=_7c3.split(",");var elem;for(var i=0;i<_7c4.length;i++){if(dojo.byId(_7c4[i])){elem=dojo.byId(_7c4[i]);}else{if(dijit.byId(_7c4[i])){elem=dijit.byId(_7c4[i]).focusNode;}}if(elem){if(elem.attributes["slxcompositecontrol"]){this.findChildControls(elem);}else{this.attachChangeHandler(elem);}}}}this.findWarningExceptions();},findChildControls:function(elem){if((elem)&&(elem.attributes)&&(elem.attributes["slxchangehook"])&&(!elem.attributes["slxcompositecontrol"])){this.attachChangeHandler(elem);}else{if(elem.childNodes){for(var n=0;n<elem.childNodes.length;n++){this.findChildControls(elem.childNodes[n]);}}}},setDijitControlFocus:function(_7c5){var _7c6=dijit.byId(_7c5);if(_7c6){_7c6.focus();if(_7c6.select){_7c6.select();}return true;}},setControlFocus:function(_7c7){var _7c8=function(elem){if((typeof (elem.select)=="function")||(typeof (elem.select)=="object")){elem.select();try{elem.focus();}catch(ex){return false;}return true;}return false;};var elem=$("#"+_7c7)[0];if(elem){if(_7c8(elem)){return;}elem=$("#"+_7c7+" TEXTAREA")[0];if((elem)&&(_7c8(elem))){return;}elem=$("#"+_7c7+" INPUT")[0];if(elem){if(dojo.hasClass(elem,"dijitArrowButtonInner")){if(this.setDijitControlFocus(_7c7+"-SingleSelectPickList-Combo")){return;}}else{if(dojo.hasClass(elem,"dijitValidationInner")){elem=$("#"+_7c7+" INPUT")[1];if((elem)&&(_7c8(elem))){return;}}else{if(dojo.style(elem,"display")=="none"&&elem.classList.length===0){elem=$("#"+_7c7+" INPUT")[3];if((elem)&&(_7c8(elem))){return;}}}}if(_7c8(elem)){return;}}elem=$("#"+_7c7+" SELECT")[0];if((elem)&&(_7c8(elem))){return;}}},attachChangeHandler:function(elem){if(elem){if((elem.tagName==="A")||((elem.tagName==="INPUT")&&((elem.type==="button")||(elem.type==="image")||(elem.type==="submit")))){this.registerChildPostBackWarningExceptions(elem);}else{try{elem._events=elem._events||{change:[]};$removeHandler(elem,"change",this.markDirty);}catch(e){console.error(e);}$addHandler(elem,"change",this.markDirty);}}},registerPostBackWarningExceptions:function(elem){if(elem){var _7c9=$("a,input[type='INPUT'],input[type='BUTTON'],input[type='IMAGE'],input[type='SUBMIT']",elem).get();for(var i=0;i<_7c9.length;i++){this.registerChildPostBackWarningExceptions(_7c9[i]);}}},findWarningExceptions:function(){var _7ca=$("span[slxcompositecontrol], div[slxcompositecontrol]").get();for(var i=0;i<_7ca.length;i++){this.registerPostBackWarningExceptions(_7ca[i]);}},registerChildPostBackWarningExceptions:function(elem){if(elem){if($(elem).hasClass("leavesPage")){return;}if((elem.tagName=="A")||((elem.tagName=="INPUT")&&((elem.type=="button")||(elem.type=="image")||(elem.type=="submit")))){try{$removeHandler(elem,"click",this.skipWarning);}catch(e){}$addHandler(elem,"click",this.skipWarning);}}},turnOffWarnings:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;var x=window.setTimeout(function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;}},500);}},resumeWarning:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=false;}},skipWarning:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;var x=window.setTimeout(function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=false;}},500);}},resetCurrentEntity:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");mgr.doFormReset();if(mgr){var _7cb=Sage.Services.getService("ClientContextService");if(_7cb){if(_7cb.containsKey("ResetCurrentEntity")){_7cb.setValue("ResetCurrentEntity","true");}else{_7cb.add("ResetCurrentEntity","true");}}mgr.clearDirtyStatus();}},rollbackCurrentTransaction:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");mgr.doSectionReset("dialog");if(mgr){var _7cc=Sage.Services.getService("ClientContextService");if(_7cc){if(_7cc.containsKey("RollbackEntityTransaction")){_7cc.setValue("RollbackEntityTransaction",mgr._entityTransactionID);}else{_7cc.add("RollbackEntityTransaction",mgr._entityTransactionID);}}}},doFormReset:function(){document.forms[0].reset();},doSectionReset:function(_7cd){function _7ce(_7cf,_7d0){if((_7cf=="main")&&(document.getElementById("MainContent"))){return document.getElementById("MainContent").getElementsByTagName(_7d0);}else{if((_7cf=="tabs")&&(document.getElementById("TabControl"))){return document.getElementById("TabControl").getElementsByTagName(_7d0);}else{if(document.getElementById("DialogWorkspace_content")){return document.getElementById("DialogWorkspace_content").getElementsByTagName(_7d0);}}}return [];};var elem;var _7d1=_7ce(_7cd,"INPUT");var i;if(_7d1.length>0){for(i=0;i<_7d1.length;i++){elem=_7d1[i];if((elem.type==="checkbox")||(elem.type==="radio")){if(elem.checked!=elem.defaultChecked){elem.checked=elem.defaultChecked;}}else{if(elem.value!=elem.defaultValue){elem.value=elem.defaultValue;}}}_7d1=_7ce(_7cd,"TEXTAREA");for(i=0;i<_7d1.length;i++){elem=_7d1[i];if(elem.value!=elem.defaultValue){elem.value=elem.defaultValue;}}_7d1=_7ce(_7cd,"SELECT");for(i=0;i<_7d1.length;i++){elem=_7d1[i];for(var k=0;k<elem.options.length;k++){elem.options[k].selected=elem.options[k].defaultSelected;}}}else{document.forms[0].reset();}},setCurrentTransaction:function(_7d2){this._entityTransactionID=_7d2;},clearReset:function(){if(Sage.Services){var _7d3=Sage.Services.getService("ClientContextService");if(_7d3){if(_7d3.containsKey("ResetCurrentEntity")){_7d3.remove("ResetCurrentEntity");}if(_7d3.containsKey("RollbackEntityTransaction")){_7d3.remove("RollbackEntityTransaction");}}}}});if(!Sage.Services.hasService("ClientBindingManagerService")){Sage.Services.addService("ClientBindingManagerService",new Sage.Services.ClientBindingManagerService());}return _7b2;});},"Sage/TaskPane/SecurityManagerTasksTasklet":function(){define("Sage/TaskPane/SecurityManagerTasksTasklet",["dojo/i18n!./nls/SecurityManagerTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/SecurityMgr/SecurityProfile","dojo/_base/declare"],function(_7d4,_7d5,_7d6,_7d7,_7d8){var _7d9=_7d8("Sage.TaskPane.SecurityManagerTasksTasklet",[_7d5,_7d6],{addSecurityProfileTitle:"Add Profile",editSecurityProfileTitle:"Edit Profile",taskItems:[],constructor:function(){dojo.mixin(this,_7d4);this.taskItems=[{taskId:"AddSecurityProfile",type:"Link",displayName:this.addSecurityProfileTitle,clientAction:"securityManagerTasksActions.addSecurityProfile();",securedAction:"Entities/SecurityManager/AddProfile"},{taskId:"EditSecurityProfile",type:"Link",displayName:this.editSecurityProfileTitle,clientAction:"securityManagerTasksActions.editSecurityProfile();",securedAction:"Entities/SecurityManager/EditProfile"}];},addSecurityProfile:function(){var _7da=this.getStore();_7da.newItem({onComplete:this.receiveNewProfileToEdit,scope:this});},getStore:function(){if(this.store){return this.store;}var _7db=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new Sage.Data.SingleEntrySDataStore({service:_7db,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"]});return this.store;},receiveNewProfileToEdit:function(_7dc){this.receiveProfileToEdit(_7dc,true);},receiveProfileToEdit:function(_7dd,_7de){this._isNew=(_7de===true);var dlg=dijit.byId("secProfileDlg");if(dlg){dlg.show();var _7df=dijit.byId("secDlg_Description");var type=dijit.byId("secDlg_Type");if(_7dd.profileDescription){_7df.set("value",_7dd.profileDescription);}if(_7dd.profileType){type.set("value",_7dd.profileType);}else{type.set("value","UserDefined");}}},addSecurityProfileActionItem:function(_7e0){return function(){var _7e1=new _7d7(_7e0);_7e1.show();};},editSecurityProfile:function(){var _7e2;var _7e3=Sage.Services.getService("ClientGroupContext");if(_7e3){var ctx=_7e3.getContext();_7e2=ctx.CurrentGroupID;var st=this.getStore();st.fetch({predicate:"\""+_7e2+"\"",onComplete:this.receiveProfileToEdit,scope:this});}},save:function(_7e4){if(this.store){var _7e5=dijit.byId("secDlg_Description");var _7e6=dijit.byId("secDlg_Type");this.store.setValue(false,"profileDescription",_7e5.value);this.store.setValue(false,"profileType",_7e6.value);if(this._isNew){this.store.saveNewEntity(false,_7e4.success,_7e4.failure,this);}else{this.store.save(_7e4);}}},saveAndClose:function(){this.save({success:function(_7e7){var dlg=dijit.byId("secProfileDlg");dlg.hide();if(this._isNew){var _7e8=new dijit.layout.ContentPane();_7e8.id=_7e7["$key"];_7e8.title=_7e7.profileDescription;var _7e9=dijit.byId("GroupTabs");_7e9.addChild(_7e8);_7e9.selectChild(_7e8);}else{var _7ea=dijit.byId(_7e7["$key"]);_7ea.set("title",_7e7.profileDescription);}},failure:function(err){alert("The profile could not be saved: "+err);}});}});return _7d9;});},"Sage/UI/Alarms/UnconfirmedPane":function(){define("Sage/UI/Alarms/UnconfirmedPane",["dijit/form/Button","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/UnconfirmedAlarm","Sage/Link","dojo/i18n","dojo/i18n!./nls/UnconfirmedPane","dojo/_base/declare"],function(_7eb,_7ec,_7ed,link,i18n,_7ee,_7ef){var _7f0=_7ef("Sage.UI.Alarms.UnconfirmedPane",_7ec,{showConfirmationsText:"Show Confirmations",showCalendarText:"Show Calendar",acceptText:"Accept",declineText:"Decline",_acceptButton:false,templateString:["<div>","<div class=\"alarm-items-contents\" dojoAttachPoint=\"_alertContents\"></div>","<div class=\"alarm-snoozebar\" dojoAttachPoint=\"_confButtonBar\">","<table style=\"width:100%\">","<tr>","<td class=\"leftTools\"><a href=\"Calendar.aspx\" title=\"${showCalendarText}\">${showCalendarText}</a>","<td class=\"leftTools\"><a href=\"javascript: Sage.Link.toActivityListView('confirmations')\" title=\"${showConfirmationsText}\">${showConfirmationsText}</a></td>","<td class=\"rightTools\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_acceptSelected\" dojoAttachPoint=\"_acceptButton\">${acceptText}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_declineSelected\">${declineText}</button>","</td>","</tr>","</table>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_7ee);},onShow:function(){this._acceptButton.focus();},_addAlert:function(_7f1){var _7f2=new _7ed({userNotification:_7f1,selected:this.selectedAlerts.hasOwnProperty(_7f1["$key"])});this.alertWidgets.push(_7f2);dojo.place(_7f2.domNode,this._alertContents);},_acceptSelected:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var _7f3=Sage.Services.getService("ActivityService");_7f3.acceptConfirmation({notification:wid.userNotification,success:this.onPostSuccess,failure:function(){this._alertChanged(this.alertWidgets.length);},scope:this});this.alertWidgets.splice(i,1);wid.destroy();}}},_declineSelected:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var _7f4=Sage.Services.getService("ActivityService");_7f4.declineConfirmation({notification:wid.userNotification,success:this.onPostSuccess,failure:function(){this._alertChanged(this.alertWidgets.length);},scope:this});this.alertWidgets.splice(i,1);wid.destroy();}}},getUnhandledAlertCount:function(){return this.alertWidgets.length;},onPostSuccess:function(){this._alertChanged(this.alertWidgets.length);}});return _7f0;});},"Sage/MainView/ActivityMgr/AlarmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/AlarmListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","dijit/form/FilteringSelect","Sage/MainView/ActivityMgr/SnoozeButton","Sage/MainView/ActivityMgr/SnoozeOptions","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(_7f5,_7f6,_7f7,_7f8,_7f9,_7fa,_7fb,_7fc,_7fd,_7fe,_7ff,_800,_801){var _802=_800("Sage.MainView.ActivityMgr.AlarmListPanelConfig",[_7f5],{constructor:function(){this._nlsResources=_801;this._listId="alarms";this._resourceKind="userActivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_7ff.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;this.rebuildOnRefresh=true,dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);},_onListRefresh:function(_803){var _804=Sage.Services.getService("ActivityService");_804.refreshList("alarms");},_getSelect:function(){var _805=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/AlarmTime","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status"];return _805;},_getInclude:function(){var _806=["Activity","$descriptors"];return _806;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var _807;_807=dojo.string.substitute("(User.Id eq '${0}' and Status ne 'asDeclned') and ((Alarm eq true and AlarmTime ne null and AlarmTime lt '${1}') or (Alarm eq null and AlarmTime eq null and Activity.Alarm eq true and Activity.AlarmTime lt '${1}'))",[this._currentUserId,Sage.Utility.Convert.toIsoStringFromDate(new Date())]);return _807;},_getStructure:function(){var _808="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _809="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _80a="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _80b=this._nlsResources.colNameType||"Activity Type";var _80c=this._nlsResources.colNameStartDate||"Start Date";var _80d=this._nlsResources.colNameDuration||"Duration";var _80e=this._nlsResources.colNameContact||"Name";var _80f=this._nlsResources.colNameAccount||"Account/Company";var _810=this._nlsResources.colNameRegarding||"Regarding";var _811=this._nlsResources.colNamePriority||"Priority";var _812=this._nlsResources.colNameUserId||"Leader";var _813=this._nlsResources.colNameTypeName||"Type";var _814=[{field:"Status",name:_80a,type:_7f7.activityConfirmStatusCell,width:"20px"},{field:"Activity.Attachment",name:_808,type:_7f7.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_809,type:_7f7.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_80b,type:_7f7.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_80c,type:_7fb,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_80d,type:_7f7.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_813,type:_7f7.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_80e,type:_7f7.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_80f,type:_7f7.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_810,width:"100px"},{field:"Activity.Priority",name:_811,width:"40px"},{field:"Activity.Leader",name:_812,type:_7f7.activityLeaderCell,width:"200px"}];return _814;},_getSummaryConfig:function(){var _815=new _7fa({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _816=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _817=this._getFormatterScope();var _818={structure:_816,layout:"layout",store:_815,rowHeight:170,rowsPerPage:10,formatterScope:_817};return _818;},_getDetailConfig:function(){var _819=this._getFormatterScope();var _81a=this._getSummaryDetailRequestConfig();var _81b={resourceKind:this._resourceKind,requestConfiguration:_81a,templateLocation:"MainView/ActivityMgr/Templates/UserActivityDetailSummary.html"};return _81b;},_getSummaryListRequestConfig:function(){var _81c={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _81c;},_getSummaryDetailRequestConfig:function(){var _81d={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _81d;},_getFormatterScope:function(){var _81e=this._getSummaryListRequestConfig();var _81f=new _7f9({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_81e});return _81f;},_getToolBars:function(){var _820={items:[{custom:true,imageClass:"icon_SnoozeAlarm_16x16",tooltip:this._nlsResources.SnoozeAlarm||"Snooze Alarm",onClick:function(){var _821=new _7fe();_821.show();}},{custom:true,imageClass:"icon_DismissAlarm_16x16",tooltip:this._nlsResources.DismissAlarm||"Dismiss Alarm",onClick:function(){var _822=Sage.Services.getService("ActivityService");_822.dismissAlarm();}}]};this.updateToolBar=true;return _820;},getTimelessProperty:function(_823){return "Activity.Timeless";}});return _802;});},"Sage/UI/Alarms/nls/AlarmPane":function(){define("Sage/UI/Alarms/nls/AlarmPane",["Sage/LanguageList","dojo/_base/lang"],function(_824,lang){var nls={root:{dismissAllText:"Dismiss all",dismissText:"Dismiss",fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",showCalendarText:"Show Calendar"}};return lang.mixin(_824,nls);});},"Sage/UI/Filters/LookupFilter":function(){define("Sage/UI/Filters/LookupFilter",["dijit/_Widget","dijit/_Contained","dojo/NodeList-traverse","Sage/_Templated","Sage/_ActionMixin","dojo/string","dojo/_base/lang","dojo/_base/array","dijit/form/Select","dijit/form/TextBox","dojo/on","dojo/i18n!../nls/ConditionManager","dojo/_base/declare"],function(_825,_826,_827,_828,_829,_82a,lang,_82b,_82c,_82d,on,_82e,_82f){var _830=_82f("Sage.UI.Filters.LookupFilter",[_825,_826,_829,_828],{widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"filter-type-checkbox filter-collapsed\">","<h3 data-action=\"toggleExpand\" data-dojo-attach-point=\"filterNameNode\">{%: $.filter.displayName || $.filter.filterName %}","</h3>","<ul class=\"filter-list\" data-dojo-attach-point=\"listNode\">","<select class=\"lookup-filter-operators\" data-dojo-attach-point=\"operators\" data-dojo-type=\"dijit.form.Select\"></select><br/>","<input class=\"filter-lookup-input\" data-dojo-attach-point=\"textInput\" data-dojo-type=\"dijit.form.TextBox\" />","</ul>","</div>"]),_loaded:false,_filterGroup:"default",appliedValues:null,_hasApplied:false,operatorsMapping:{"Equal":_82e.equalTo,"NotEqual":_82e.notEqualTo,"LessThan":_82e.lessThan,"LessThanEqual":_82e.equalOrLessThan,"GreaterThan":_82e.greaterThan,"GreaterThanEqual":_82e.equalOrGreaterThan,"StartsWith":_82e.startingWith,"EndsWith":_82e.endsWith,"Contains":_82e.contains},filter:null,store:null,_autoSearchHandle:null,_autoSearchDelay:1000,_selectedOp:"Contains",postMixInProperties:function(){this.inherited(arguments);if(this.appliedValues){setTimeout(lang.hitch(this,this.toggleExpand),500);}},postCreate:function(){this.inherited(arguments);this.textInput.on("keyDown",lang.hitch(this,this._onInputKeyDown));if(this.appliedValues){this.textInput.set("value",this.appliedValues.value.value);this._selectedOp=this.appliedValues.value.operator;this._hasApplied=true;}this.resolveDeferred();},_setupAutoSearch:function(){if(this._autoSearchHandle>0){window.clearTimeout(this._autoSearchHandle);}this._autoSearchHandle=setTimeout(lang.hitch(this,function(){this.doSearch();}),this._autoSearchDelay);},uninitialize:function(){this.inherited(arguments);},toggleExpand:function(_831,evt,el){var ops=this.filter&&this.filter.details&&this.filter.details.userLookupFilter&&this.filter.details.userLookupFilter.operators;if(this.domNode){dojo.toggleClass(this.domNode,"filter-collapsed");}if(this.operators){if(!this._loaded){this._loaded=true;_82b.forEach(ops,lang.hitch(this,function(op){var _832;_832=false;if(op===this._selectedOp){_832=true;}this.operators.addOption({disabled:false,label:this.operatorsMapping[op],selected:_832,value:op});}));this.operators.set("value",this._selectedOp);}}},_onInputKeyDown:function(_833){if(_833.keyCode===13||_833.keyCode===0){this.doSearch();}else{this._setupAutoSearch();}},doSearch:function(){var _834,name=this.filter.filterName,_835=this;_834={operator:this.operators.get("value"),value:this.textInput.get("value")};this.onSelectionChange(name,_834,_835);},onSelectionChange:function(name,_836,_837){dojo.publish(_82a.substitute("/ui/filters/${0}/change",[this._filterGroup]),[this.filter,name,_836,_837]);},resolveDeferred:function(){if(this.deferred){this.deferred=this.deferred.resolve();}}});return _830;});},"Sage/UI/MenuBarItem":function(){require({cache:{"url:Sage/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem\" data-dojo-attach-point=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\r\n    data-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n    <span>\r\n    <img src=\"${_blankGif}\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n    <span class=\"dijitMenuItemLabel\" data-dojo-attach-point=\"containerNode\"></span>\n    </span>\n</div>\n"}});define("Sage/UI/MenuBarItem",["Sage/UI/MenuItem","dojo/text!../templates/MenuBarItem.html","dojo/_base/declare"],function(_838,_839,_83a){var _83b=_83a("Sage.UI.MenuBarItem",_838,{iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"noIcon",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},templateString:_839});return _83b;});},"Sage/MainView/ReportMgr/Crystal/DateRangeParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/DateRangeParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div style=\"padding-top: 5px;\">\r\n            <center>\r\n                <table cellspacing=\"10\">\r\n                    <tr>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtFrom) %}</label>\r\n                        </td>                        \r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtTo) %}</label>\r\n                        </td>                                               \r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromRange\" displayDate=\"true\" displayTime=\"false\" label=\"From:\" required=\"true\" style=\"width:250px\"></div>\r\n                        </td>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToRange\" displayDate=\"true\" displayTime=\"false\" label=\"To:\" required=\"true\" style=\"width:250px\"></div>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td>\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkIncludeFromRange\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkNoLowerValue\" dojoAttachEvent=\"onChange:_chkNoLowerValue_OnCheck\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoLowerValue) %}</label>\r\n                        </td>                                               \r\n                        <td>\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkIncludeToRange\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkNoUpperValue\" dojoAttachEvent=\"onChange:_chkNoUpperValue_OnCheck\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoUpperValue) %}</label>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/DateRangeParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/DateRangeParameterEditor","dojo/text!./templates/DateRangeParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/Reporting/Enumerations","Sage/Utility","Sage/UI/Controls/DateTimePicker","dijit/form/CheckBox"],function(_83c,_83d,_83e,_83f,_840,_841,_842,_843,_844,_845,_846){var _847=_844.makeTemplateFromString(_83f);var _848=_83c("Sage.MainView.ReportMgr.Crystal.DateRangeParameterEditor",[_840],{_nlsResources:_83e,widgetTemplate:_847,value:null,_setValueAttr:function(_849){this._set("value",_849);},_getValueAttr:function(){this._promptParameter.currentValues=[];var _84a=this._getParameterValue();this._promptParameter.currentValues.push(_84a);return this._promptParameter;},constructor:function(_84b){},startup:function(){this.inherited(arguments);this.chkIncludeFromRange.set("checked",true);this.chkIncludeToRange.set("checked",true);_841.setDomNodeVisible(this.divValidationMessage,false);if(this._promptParameter.currentValues.length===1){if(this._promptParameter.currentValues[0].rangeValue){var _84c=this._promptParameter.currentValues[0];var _84d=_84c.rangeValue.beginValue;_84d=_84d?_844.Convert.toDateFromString(_84d):null;this.dtFromRange.set("value",_84d);this.chkIncludeFromRange.set("checked",(_84c.rangeValue.lowerBoundType===_843.SlxRangeBoundType.BoundInclusive));this.chkNoLowerValue.set("checked",(_84d===null));_84d=_84c.rangeValue.endValue;_84d=_84d?_844.Convert.toDateFromString(_84d):null;this.dtToRange.set("value",_84d);this.chkIncludeToRange.set("checked",(_84c.rangeValue.upperBoundType===_843.SlxRangeBoundType.BoundInclusive));this.chkNoUpperValue.set("checked",(_84d===null));}}this._initializeMessages();},isValid:function(){var _84e=this._requiredFieldsCompleted();if(_84e===""){_84e=this._valuesWithinMinMaxRange();}this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(_84e);_841.setDomNodeVisible(this.divValidationMessage,(_84e!==""));return (_84e==="");},_initializeMessages:function(){var _84f="";if(this._minimum&&!this._maximum){_84f=dojo.replace(_83e.txtPleaseSpecifyDateLesser,[_842.getDateOnlyFormattedDate(this._minimum)]);}if(!this._minimum&&this._maximum){_84f=dojo.replace(_83e.txtPleaseSpecifyDateGreater,[_842.getDateOnlyFormattedDate(this._maximum)]);}if(this._minimum&&this._maximum){_84f=dojo.replace(_83e.txtPleaseSpecifyDateBetween,[_842.getDateOnlyFormattedDate(this._minimum),_842.getDateOnlyFormattedDate(this._maximum)]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_84f);_841.setDomNodeVisible(this.divMinMaxMessage,(_84f!==""));},_requiredFieldsCompleted:function(){var _850="";if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.dtFromRange.focusNode.value===""&&!this.chkNoLowerValue.checked){_850=_83e.txtPleaseSpecifyFromValue;return _850;}if(this.dtToRange.focusNode.value===""&&!this.chkNoUpperValue.checked){_850=_83e.txtPleaseSpecifyToValue;return _850;}}else{return "";}return "";},_valuesWithinMinMaxRange:function(){var _851=this.dtFromRange.get("value");var _852=this.dtToRange.get("value");var _853="";if(this._minimum&&!this.chkNoLowerValue.checked&&(_851<this._minimum)){_853=dojo.replace(_83e.txtPleaseSpecifyDateGreater,[_842.getDateOnlyFormattedDate(this._minimum)]);return _853;}if(this._minimum&&!this.chkNoUpperValue.checked&&(_852<this._minimum)){_853=dojo.replace(_83e.txtPleaseSpecifyDateGreater,[_842.getDateOnlyFormattedDate(this._minimum)]);return _853;}if(this._maximum&&!this.chkNoUpperValue.checked&&(_852>this._maximum)){_853=dojo.replace(_83e.txtPleaseSpecifyDateLesser,[_842.getDateOnlyFormattedDate(this._maximum)]);return _853;}if(this._maximum&&!this.chkNoLowerValue.checked&&(_851>this._maximum)){_853=dojo.replace(_83e.txtPleaseSpecifyDateLesser,[_842.getDateOnlyFormattedDate(this._maximum)]);return _853;}if(!this.chkNoLowerValue.checked&&!this.chkNoUpperValue.checked){if(_851>_852){_853=_83e.txtFromMustBeLessThanOrEqualToTo;return _853;}}return "";},_getParameterValue:function(){var _854=this.chkNoUpperValue.checked?_843.SlxRangeBoundType.NoBound:this.chkIncludeToRange.checked?_843.SlxRangeBoundType.BoundInclusive:_843.SlxRangeBoundType.BoundExclusive;var _855="DateTime";var _856=this.chkNoLowerValue.checked?null:this.dtFromRange.get("value");if(_856){_856=_844.Convert.toIsoStringFromDate(_856);}var _857=this.chkNoLowerValue.checked?_843.SlxRangeBoundType.NoBound:this.chkIncludeFromRange.checked?_843.SlxRangeBoundType.BoundInclusive:_843.SlxRangeBoundType.BoundExclusive;var _858="DateTime";var _859=this.chkNoUpperValue.checked?null:this.dtToRange.get("value");if(_859){_859=_844.Convert.toIsoStringFromDate(_859);}var _85a={className:"CrystalReports.ParameterFieldRangeValue",description:null,rangeValue:{beginValue:_856,beginValueType:_855,endValue:_859,endValueType:_858,lowerBoundType:_857,upperBoundType:_854}};return _85a;},_chkNoLowerValue_OnCheck:function(_85b){this.chkIncludeFromRange.setAttribute("disabled",_85b);this.chkNoUpperValue.setAttribute("disabled",_85b);},_chkNoUpperValue_OnCheck:function(_85c){this.chkIncludeToRange.setAttribute("disabled",_85c);this.chkNoLowerValue.setAttribute("disabled",_85c);}});return _848;});},"Sage/TaskPane/ActivityManagerTasklet":function(){define("Sage/TaskPane/ActivityManagerTasklet",["dijit/_Widget","dijit/_Container","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/UI/Dialogs","Sage/Services/ActivityService","dojo/_base/declare"],function(_85d,_85e,_85f,_860,_861,_862,_863){var _864=_863("Sage.TaskPane.ActivityManagerTasklet",[_85d,_85e,_860,_85f],{serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:false,widgetTemplate:new Simplate(["<div class=\"activityTask-panel\"  dojoAttachPoint=\"containerNode\">","</div>"]),_configuration:null,_configurationConnects:null,_configurationProvider:null,_configurationProviderType:null,_appliedSet:null,configurationProvider:null,configurationProviderType:null,autoConfigure:true,taskGroup:"default",paneContents:null,constructor:function(){},postCreate:function(){this.inherited(arguments);if(!this._configurationProvider&&this._configurationProviderType){this.set("configurationProvider",new this._configurationProviderType());}if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._configurationProvider){this._configurationProvider.destroy();}},_handleConfigurationChange:function(){this.requestConfiguration();},_setConfigurationProviderAttr:function(_865){if(this._configurationConnects){dojo.forEach(this._configurationConnects,function(_866){this.disconnect(_866);},this);}if(this._configurationProvider){this._configurationProvider.destroy();}this._configurationProvider=_865;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setConfigurationProviderTypeAttr:function(_867){this._configurationProviderType=_867;},_getConfigurationProviderTypeAttr:function(){return this._configurationProviderType;},requestConfiguration:function(){if(this._configurationProvider){this._configurationProvider.requestConfiguration({success:dojo.hitch(this,this._applyConfiguration)});}},_applyConfiguration:function(_868){this._configuration=_868;if(!this._configuration){return;}if(this.paneContents){this.paneContents.destroyRecursive();}dojo.place(this._configuration.taskPane.domNode,this.containerNode,"only");this.paneContents=this._configuration.taskPane;}});return _864;});},"Sage/TaskPane/nls/LiteratureManagementTasks":function(){define("Sage/TaskPane/nls/LiteratureManagementTasks",["Sage/LanguageList","dojo/_base/lang"],function(_869,lang){var nls={root:{errFulFillmentCancelled:"The fulfillment of the literature request was canceled for LitReqId {0}.",errFulFillmentFailed:"The literature request could not be fulfilled for LitReqId {0}.",errMailMergeService:"The literature request(s) could not be fulfilled because the mail merge service could not be loaded. This may happen if Saleslogix Desktop Integration is not installed or is not installed properly.",errFulFillmentRequest:"The literature request(s) could not be fulfilled.",errFulFillmentRequestEx:"The following literature request(s) could not be fulfilled:",fulFillmentSuccess:"The literature request fulfillment was successful."}};return lang.mixin(_869,nls);});},"Sage/UI/Controls/MultiTab":function(){define("Sage/UI/Controls/MultiTab",["dojo/_base/declare","dojo/ready","dojo/aspect","dijit/layout/TabContainer"],function(_86a,_86b,_86c,_86d){var _86e=_86a("Sage.UI.Controls.MultiTab",[_86d],{region:"center",tabStrip:false,destroyRecursive:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);},postCreate:function(){var _86f=this.domNode.parentNode.id,_870=dijit.byId(_86f),that=this;_870.resize();setTimeout(function(){_870.resize();if(that.selectedChildWidget){that._showChild(that.selectedChildWidget);}},50);}});return _86e;});},"Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab",["dojo","dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Utility","Sage/Utility/Activity","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","Sage/UI/Columns/CheckBox","dijit/layout/ContentPane","dojo/_base/array","dojo/_base/lang","dojo/i18n!./nls/HistoryEditorAttendeesTab"],function(dojo,_871,_872,_873,_874,_875,_876,_877,_878,_879,_87a,_87b,lang,_87c){var _87d=_873("Sage.MainView.ActivityMgr.HistoryEditorAttendeesTab",[_871,_872],{histEditor:null,lup_Contact:null,lup_ContactConfig:null,lup_Lead:null,lup_LeadConfig:null,widgetsInTemplate:true,_timeZones:[],constructor:function(){lang.mixin(this,_87c);var self=this;if(this._timeZones.length==0){Sage.Utility.getTimeZones(function(_87e){self._timeZones=_87e;});}},widgetTemplate:new Simplate(["<div>","<div id=\"{%= $.id %}_hisAttendeesGridPlaceholder\" dojoAttachPoint=\"_histAttendeesGridPlaceholder\" style=\"width:100%;height:100%\"></div>","</div>"]),_newItems:[],startup:function(){this._newItems=[];if(!this.histEditor){return;}this._buildGrid();dojo.connect(this.histEditor,"onHide",this,this._dialogHide);dojo.subscribe("/entity/history/create",this,this._historySaved);dojo.subscribe("/entity/history/change",this,this._historySaved);},_getTimeZoneDisplayName:function(_87f){var _880=_87f;if(this._timeZones&&this._timeZones.length>0){var obj=this._timeZones.filter(function(val){return val.Keyname===_87f;});if(obj&&obj[0]){_880=obj[0].Displayname;}}return _880;},_buildGrid:function(){var self=this;_873("Sage.Extensions.Activity.primaryContactCheckBox",dojox.grid.cells.Bool,{format:function(_881,_882){var _883=Sage.Utility.getValue(_882,"IsPrimary");var _884="<input type=\"checkbox\" disabled=\"disabled\" />";if(_883){_884="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _884;}});_873("Sage.Extensions.Activity.isAttendeeCheckBox",dojox.grid.cells.Bool,{format:function(_885,_886){var _887=Sage.Utility.getValue(_886,"IsAttendee");var _888="<input type=\"checkbox\" disabled=\"disabled\" />";if(_887){_888="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _888;}});_873("Sage.Extensions.Activity.AttendeeStatus",dojox.grid.cells.Select,{format:function(_889,_88a){var _88b=Sage.Utility.getValue(_88a,"IsAttendee");if(_88b){return this.inherited(arguments);}else{return "";}}});var _88c=function(data,_88d){_87b.forEach(data,function(item,i){if(item["TimeZone"]){item["TimeZone"]=self._getTimeZoneDisplayName(item["TimeZone"]);}});};var _88e=[{field:"Name",name:this.header_Name,width:"180px"},{field:"AccountName",name:this.header_AccountName,width:"180px"},{field:"EntityType",name:this.header_Type,width:"60px"},{field:"IsPrimary",name:this.header_Primary,width:"40px",type:Sage.Extensions.Activity.primaryContactCheckBox},{field:"IsAttendee",name:this.header_Attendee,width:"40px",type:Sage.Extensions.Activity.isAttendeeCheckBox},{field:"Status",name:this.header_Status,width:"100px",type:Sage.Extensions.Activity.AttendeeStatus,options:["Attended","Not Attended","Declined"],values:["T","F","D"],editable:true},{field:"RoleName",name:this.header_RoleName},{field:"PhoneNumber",name:this.header_Phone,width:"80px"},{field:"Email",name:this.header_Email,width:"150px"},{field:"TimeZone",name:this.header_TimeZone,width:"150px"}];var _88f={columns:_88e,storeOptions:{service:_874.getSDataService("dynamic"),resourceKind:"historyAttendees",select:["EntityType","EntityId","IsPrimary","IsAttendee","Name","Description","Notes","Status"],sort:[{attribute:"Name"}],newItemParentReferenceProperty:"History",onComplete:_88c},slxContext:{"workspace":"",tabId:""},contextualCondition:function(){return "HistoryId eq '"+_875.getCurrentEntityId()+"' and ((SLXUserAssociationId in ('',null) and EntityType eq 'User') or (EntityType in ('Contact','Lead')))";},id:this.id+"_histAttendees",rowsPerPage:40};var _890=_875.getCurrentEntityId();if(!_890){_88f.storeOptions["isInsertMode"]=true;}var grid=new _877.Grid(_88f,this._histAttendeesGridPlaceholder);grid.setSortColumn("Name");this._grid=grid._grid;dojo.connect(this._grid,"markDirty",function(){var _891=dojo.byId(this.dirtyDataMsgID);if(_891){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}var _892=Sage.Services.getService("ClientBindingManagerService");if(_892){_892.clearDirtyAjaxItem(this.id);}});grid.startup();},_dialogHide:function(){this._newItems=[];this._grid.store.clearCache();},_tabfShow:function(){if(this._grid&&!this.gridRefreshed){this._grid.refresh();this.gridRefreshed=true;}},_tabShowdd:function(){if(this._grid&&!this.gridRefreshed){var _893=this._grid.get("mode");var _894=_875.getCurrentEntityId();if((!_894&&_893!=="insert")||(_894&&_893==="insert")){this._grid.set("mode",(!_894)?"insert":"");}this._grid.refresh();this.gridRefreshed=true;}},_tabShow:function(){if(this._grid){var _895=this._grid.get("mode");var _896=_875.getCurrentEntityId();if((!_896&&_895!=="insert")||(_896&&_895==="insert")){this._grid.set("mode",(!_896)?"insert":"");}this._grid.refresh();}},_historySaved:function(_897){this._grid.saveChanges();},_addHistoryAttendee:function(_898){if(!_898.ContactId&&!_898.LeadId){return;}var _899=null;if(_898.ContactId){_876._getContactData(_898.ContactId,function(data){if(data){_899=this._setHistoryAttendeeEntityFromContactLead("Contact",data);_899.History={"$key":_898.$key};this._saveHistoryAttendee(_899);}},this);}else{if(_898.LeadId){_876._getLeadData(_898.LeadId,function(data){if(data){_899=this._setHistoryAttendeeEntityFromContactLead("Lead",data);_899.History={"$key":_898.$key};this._saveHistoryAttendee(_899);}},this);}}},_saveHistoryAttendee:function(_89a){var req=new Sage.SData.Client.SDataSingleResourceRequest(_874.getSDataService("dynamic")).setResourceKind("historyAttendees").create(_89a,{success:function(){},failure:function(){},scope:this});},_setHistoryAttendeeEntityFromContactLead:function(type,_89b){var _89c=false;if(_89b&&_89b.$key){_89c={};_89c.EntityType=type;_89c.EntityId=_89b.$key;_89c.$key=_89b.$key;_89c.IsPrimary=true;_89c.Name=_89b.$descriptor;_89c.$descriptor=_89b.$descriptor;_89c.Account=null;_89c.AccountName=_89b.AccountName||_89b.Company;if(type=="Lead"){_89c.Company=_89b.Company;_89c.LeadFullName=_89b.$descriptor;}_89c.Company=_89b.Company;_89c.Email=_89b.Email;_89c.Description="";_89c.Notes="";if(_89b.Address){_89c.TimeZone=_89b.Address.TimeZone;}_89c.PhoneNumber=_89b.WorkPhone;_89c.RoleName="";_89c.general=false;}return _89c;}});return _87d;});},"Sage/QuickForms/Design/Editors/DateTimePickerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DateTimePickerBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DateTimePickerBasicPropertyEditor"],function(_89d,lang,_89e,_89f,_8a0,_8a1,_8a2,_8a3,_8a4,_8a5,_8a6,_8a7){return _89d("Sage.QuickForms.Design.Editors.DateTimePickerBasicPropertyEditor",[_89e,_8a5,_8a4],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.displayDateTooltipText %}\">","<label>{%= $.displayDateText %}</label>","<div data-dojo-attach-point=\"_displayDate\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onDisplayDateChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.displayTimeTooltipText %}\">","<label>{%= $.displayTimeText %}</label>","<div data-dojo-attach-point=\"_displayTime\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onDisplayTimeChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_displayDate:null,_displayTime:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",displayDateText:"Display Date:",displayDateTooltipText:"Display the date portion.",displayTimeText:"Display Time:",displayTimeTooltipText:"Display the time portion.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_8a7);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._displayDate.set("value",this._designer.get("displayDate"));this._displayTime.set("value",this._designer.get("displayTime"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(_8a8){if(this.isSuspended()){return;}this._designer.set("caption",_8a8);},_onCaptionAlignmentChange:function(_8a9){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_8a9);},_onDisplayDateChange:function(_8aa){if(this.isSuspended()){return;}this._designer.set("displayDate",_8aa);},_onDisplayTimeChange:function(_8ab){if(this.isSuspended()){return;}this._designer.set("displayTime",_8ab);},_onIsReadOnlyChange:function(_8ac){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_8ac);},_onToolTipChange:function(_8ad){if(this.isSuspended()){return;}this._designer.set("toolTip",_8ad);}});});},"Sage/TaskPane/LiteratureManagementTasks":function(){define("Sage/TaskPane/LiteratureManagementTasks",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/Dialogs","dojo/i18n!./nls/LiteratureManagementTasks","dojo/_base/declare"],function(_8ae,_8af,_8b0,_8b1){var _8b2=_8b1("Sage.TaskPane.LiteratureManagementTasks",_8ae,{nlsLitManagementResources:_8b0,selectionInfo:false,fulfillLiteratureTask:function(){this.selectionInfo=this.getSelectionInfo();if(this.verifySelection(this.selectionInfo)){this.saveSelections(this.actionItem,this.selectionInfo);return this.doFulfillment();}else{_8af.showWarning(this.selectRecords,this.selectRecordsTitle);return false;}},validateLiteratureTask:function(){this.selectionInfo=this.getSelectionInfo();if(this.selectionInfo!==null){this.saveSelections(this.actionItem,this.selectionInfo);return true;}else{return false;}},doFulfillment:function(){var _8b3=0;var _8b4=this.selectionInfo.selectionCount;var _8b5=[];var _8b6=[];var sId=dojo.string.substitute("${0}_hfLastFulfilledIds",[this.clientId]);var _8b7=$get(sId);if(_8b7){_8b7.value="";}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_8b8,_8b9){var _8ba=_8b8.GetMailMergeService();var i;if(_8ba){for(i=0;i<_8b4;i++){var _8bb;var _8bc=self.selectionInfo.selections[i].id;var _8bd=_8ba.FulfillLitRequest(_8bc);if(dojo.isArray(_8bd)){var _8be=_8bd[LitReqResult.lrSuccess];if(_8be){_8b3++;_8b6.push(_8bc);continue;}var _8bf=_8bd[LitReqResult.lrCanceled];if(_8bf){_8bb=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentCancelled,[_8bc]);}else{_8bb=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_8bc]);_8bb+=dojo.string.substitute(" ${0}",[_8bd[LitReqResult.lrError]]);}}else{_8bb=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_8bc]);}if(_8bb===""){_8bb=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_8bc]);}_8b5.push(_8bb);}}else{_8af.showError(self.nlsLitManagementResources.errMailMergeService);return false;}if(_8b7){_8b7.value=_8b6.join();}if(_8b3==_8b4){_8af.showInfo(self.nlsLitManagementResources.fulFillmentSuccess);return true;}else{var _8c0=self.nlsLitManagementResources.errFulFillmentRequest;if(dojo.isArray(_8b5)&&_8b5.length>0){_8c0=self.nlsLitManagementResources.errFulFillmentRequestEx;for(i=0;i<_8b5.length;i++){_8c0+=dojo.string.substitute(" [${0}] ${1}",i+1,[_8b5[i]]);}}_8af.showError(_8c0);return false;}});},refreshList:function(){var _8c1=dijit.byId("list");if(_8c1){_8c1.refreshGrid();}},printLabels:function(_8c2,_8c3){var _8c4=Sage.Services.getService("ReportingService");if(_8c4){_8c4.showReport(_8c2,"CONTACT",_8c3);}},actionItem:function(){}});return _8b2;});},"Sage/UI/Dashboard/nls/DashboardWidget":function(){define("Sage/UI/Dashboard/nls/DashboardWidget",["Sage/LanguageList","dojo/_base/lang"],function(_8c5,lang){var nls={root:{noQueryDataText:"The server has no data for query ",initializingText:"Initializing"}};return lang.mixin(_8c5,nls);});},"Sage/QuickForms/Design/Editors/_PropertyEditor":function(){define("Sage/QuickForms/Design/Editors/_PropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-class","../PropertyValueError","dojo/i18n!./nls/_PropertyEditor"],function(_8c6,lang,_8c7,_8c8,_8c9,_8ca){return _8c6("Sage.QuickForms.Design.Editors._PropertyEditor",null,{_designer:null,_suspended:false,titleText:"Properties",_setTitleTextAttr:function(_8cb){this.set("title",_8cb);},designer:null,constructor:function(){lang.mixin(this,_8ca);},buildRendering:function(){this.inherited(arguments);_8c8.add(this.domNode,"design-property-editor");},suspend:function(){this._suspended=true;},resume:function(){this._suspended=false;},isSuspended:function(){return this._suspended;},setup:function(_8cc){},_setDesignerAttr:function(_8cd){this.suspend();this._designer=_8cd;this.setup(_8cd);setTimeout(lang.hitch(this,this.resume),0);},_getDesignerAttr:function(){return this._designer;}});});},"Sage/QuickForms/Design/Editors/nls/NumericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NumericAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_8ce,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",formatTypeText:"Format Type:",formatTypeTooltipText:"Type of format to use when converting number to string.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",strictText:"Strict:",strictTooltipText:"Pads display of number with trailing zeros as necessary.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",numberFormatText:{Number:"Number",Percent:"Percent",Decimal:"Decimal",Scientific:"Scientific"},labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_8ce,nls);});},"Sage/Services/ActivityActionProcessor":function(){define("Sage/Services/ActivityActionProcessor",["dojo/i18n","Sage/UI/Dialogs","dijit/_Widget","Sage/_Templated","dojo/i18n!./nls/ActivityActionProcessor","dojo/_base/declare"],function(i18n,_8cf,_8d0,_8d1,_8d2,_8d3){var _8d4=_8d3("Sage.Services.ActivityActionProcessor",[_8d0,_8d1],{_dialog:false,_currentUserId:null,_action:false,_processing:false,_selectionContext:false,btnOkayText:"OK",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",processingText:"Processing request please wait...",failureText:"I'm sorry, the action was not successful an error occurred.",titleText:"Process",widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"activityProcessActionDialog\" title=\"{%= $.titleText%}\" dojoAttachPoint=\"_dialog\" style=\"width:400px\">","<div class=\"activityProcess-dialog\">","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_envet_General\" title=\"\" dojoAttachPoint=\"cp_General\">","<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" class=\"controlPropForm\" labelWidth=\"140\">","<div id=\"{%= $.id%}_div_actionMessage\"  name=\"div_actionMessage\" dojoAttachPoint=\"div_actionMessage\"></div>","</div>","</div>","<table class=\"button-bar\"><tr><td class=\"alignright valignbottom\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOkayText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCancelText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Close\" name=\"btn_Close\" dojoAttachPoint=\"btn_Close\" dojoAttachEvent=\"onClick:_closeClick\">{%= $. btnCloseText %}</div>","</td><tr></table>","</div>","</div>","</div>"]),constructor:function(){this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";dojo.mixin(this,_8d2);},destroy:function(){this.inherited(arguments);},start:function(_8d5){this._processing=false;if(this._selectionContext.count<1){return;}if(!_8d5){this._setDisplay();this.show();}else{this._execute();}},show:function(){this._dialog.show();},hide:function(){this._action=null;this._dialog.hide();},resize:function(){},_setDisplay:function(){dojo.style(this.btn_Close.domNode,"visibility","hidden");dojo.style(this.btn_OK.domNode,"visibility","visible");dojo.style(this.btn_Cancel.domNode,"visibility","visible");if(this._selectionContext){this.div_actionMessage.innerHTML=this._action.message;this._dialog.set("title",this._action.description);}},_setActionAttr:function(_8d6){this._action=_8d6;},_getActionAttr:function(){return this._action;},_setSelectionContextAttr:function(_8d7){this._selectionContext=_8d7;},_getSelectionContextAttr:function(){return this._selectionContextInfo;},_execute:function(){if(this._processing){return;}var me=this;this.div_actionMessage.innerHTML=this.processingText;this._processing=true;dojo.style(this.btn_Close.domNode,"visibility","visible");dojo.style(this.btn_OK.domNode,"visibility","hidden");dojo.style(this.btn_Cancel.domNode,"visibility","hidden");if(this._action){this._action.execute({scope:this,success:function(_8d8,_8d9){_8d9.hide();_8d9.onActionComplete(_8d8);},failure:function(_8da,_8db){_8db.onActionComplete(_8da);Sage.UI.Dialogs.showError(me.failureText);}});}},_okClick:function(){this._execute();},_cancelClick:function(){this.hide();},_closeClick:function(){this.hide();},onActionComplete:function(_8dc){}});return _8d4;});},"Sage/MainView/IntegrationContract/nls/CustomerPaymentsRTDV":function(){define("Sage/MainView/IntegrationContract/nls/CustomerPaymentsRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_8dd,lang){var nls={root:{dialogCaption:"Payment Details",loadingText:"loading...",lblReferenceCaption:"Receipt Number:",lblDateCaption:"Payment Date:",lblProcessDateCaption:"Process Date:",lblNameCaption:"Name:",lblTypeCaption:"Type:",lblStatusCaption:"Status:",lblCurrencyCaption:"Currency:",lblTenderTypeCaption:"Tender Type:",lblTenderReferenceCaption:"Tender Reference:",lblNetTotalCaption:"Net Total:",lblDiscountsCaption:"Discounts:",lblChargesCaption:"Charges:",lblTaxesCaption:"Taxes:",lblGrossTotalCaption:"Payment Amount:",lblSourceCaption:"Source:",lblTaxCodeCaption:"Tax Code:",grdPayments_Reference:"Receipt Number",grdPayments_Date:"Payment Date",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_GrossTotal:"Payment Amount",grdPayments_Currency:"Currency",btnCloseCaption:"Close"}};return lang.mixin(_8dd,nls);});},"Sage/UI/Filters/nls/FilterPanel":function(){define("Sage/UI/Filters/nls/FilterPanel",["Sage/LanguageList","dojo/_base/lang"],function(_8de,lang){var nls={root:{editText:"Edit Filters",noneText:"No filters selected",clearText:"Clear All"}};return lang.mixin(_8de,nls);});},"Sage/Data/SDataSummaryViewDataManager":function(){define("Sage/Data/SDataSummaryViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_8df,_8e0,_8e1,lang){var _8e2=_8e1("Sage.Data.SDataSummaryRequestQueue",null,{select:[],resourceKind:"",fetching:false,serviceName:"dynamic",include:[],service:null,useBatchRequest:false,expandRecurrences:null,constructor:function(_8e3){lang.mixin(this,_8e3);this.requestHash={};this.fetching=false;},add:function(_8e4,_8e5){var _8e6=this.requestHash[_8e4];if((_8e6)&&(_8e6.id!==_8e5.id)){if(!_8e6.duplicates){_8e6.duplicates=[];}var _8e7=false;for(var i=0;i<_8e6.duplicates.length;i++){if(_8e6.duplicates[i].context.id===_8e5.id){_8e7=true;}}if(!_8e7){_8e6.duplicates.push({id:_8e5.id,context:_8e5});}}else{this.requestHash[_8e4]=_8e5;}},send:function(_8e8,_8e9){this.fetching=true;this.service=_8df.getSDataService(this.serviceName);var _8ea=this;if(this.useBatchRequest){var _8eb=new Sage.SData.Client.SDataBatchRequest(this.service);_8eb.setResourceKind(this.resourceKind);_8eb.setQueryArg("select",this.select.join(","));_8eb.setQueryArg("include",this.include.join(","));_8eb.using(function(){for(var bid in _8ea.requestHash){var _8ec=new Sage.SData.Client.SDataSingleResourceRequest(_8ea.service);_8ec.setResourceKind(_8ea.resourceKind);_8ec.setResourceSelector("'"+bid+"'");if(_8ea.expandRecurrences!==null){_8ec.uri.queryArgs["_expandRecurrences"]=_8ea.expandRecurrences;}_8ec.setQueryArg("include",_8ea.include.join(","));_8ec.read();}});_8eb.commit({success:lang.hitch(_8e9,_8e8,_8ea),failure:lang.hitch(this,this.requestFailed,_8ea)});}else{var _8ed=[];for(var id in this.requestHash){_8ed.push("'"+id+"'");}var _8ee=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);var _8ef="Id in ("+_8ed.join(",")+")";_8ee.setResourceKind(this.resourceKind);_8ee.setQueryArg("select",this.select.join(","));_8ee.setQueryArg("where",_8ef);_8ee.setQueryArg("include",this.include.join(","));_8ee.read({success:lang.hitch(_8e9,_8e8,_8ea),failure:lang.hitch(this,this.requestFailed,_8ea)});}},requestFailed:function(a,b,c){}});var _8f0=_8e1("Sage.Data.SDataSummaryViewDataManager",null,{keyField:"$key",constructor:function(){this._createNewQueue();},_createNewQueue:function(){this.queue=new _8e2();this.requestTimeout=false;},requestData:function(_8f1,_8f2,_8f3){if(this.queue.fetching){this.oldQueue=this.queue;this._createNewQueue();}if(_8f3.keyField){this.keyField=_8f3.keyField;}this.queue.select=_8f3.select;this.queue.resourceKind=_8f3.resourceKind;this.queue.serviceName=_8f3.serviceName;this.queue.include=_8f3.include;this.queue.useBatchRequest=_8f3.useBatchRequest;if(_8f3.expandRecurrences!==null){this.queue.expandRecurrences=_8f3.expandRecurrences;}this.queue.add(_8f1,_8f2);if(this.requestTimeout){window.clearTimeout(this.requestTimeout);}var q=this.queue;var self=this;this.requestTimeout=window.setTimeout(function(){q.send(self.receiveData,self);},250);},requestDataNoWait:function(_8f4,_8f5,_8f6){var _8f7=new _8e2();if(_8f6.keyField){this.keyField=_8f6.keyField;}_8f7.select=_8f6.select;_8f7.resourceKind=_8f6.resourceKind;_8f7.serviceName=_8f6.serviceName;_8f7.include=_8f6.include;_8f7.useBatchRequest=_8f6.useBatchRequest;if(_8f6.expandRecurrences!==null){_8f7.expandRecurrences=_8f6.expandRecurrences;}_8f7.add(_8f4,_8f5);_8f7.send(this.receiveData,this);},receiveData:function(_8f8,data){var i;for(i=0;i<data.$resources.length;i++){var _8f9=data.$resources[i];var id=_8f9.id;if(!id){id=_8f9[this.keyField];_8f9.id=id;}var _8fa=_8f8.requestHash[_8f9.id];if(_8fa){if(_8fa.duplicates){try{if(!_8fa.applied){_8fa.applied=true;_8fa.set("entity",_8f9);var j;for(j=0;j<_8fa.duplicates.length;j++){try{if(!_8fa.duplicates[j].context.applied){_8fa.duplicates[j].context.applied=true;_8fa.duplicates[j].context.set("entity",_8f9);}}catch(err){console.error(err);}}}}catch(err){console.error(err);}}else{try{if(!_8fa.applied){_8fa.applied=true;_8fa.set("entity",_8f9);}}catch(err){console.error(err);}}}}}});return _8f0;});},"Sage/TaskPane/nls/_BaseTaskPaneTasklet":function(){define("Sage/TaskPane/nls/_BaseTaskPaneTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_8fb,lang){var nls={root:{selectRecordsTitle:"Invalid Selection",selectRecords:"Please select a record before continuing.",selectSingleRecord:"Please select a single record before continuing.",noRecordsSelectedProcessAll:"No records selected. The full group, ${0} record(s), will be processed.  Proceed?",invalidSelectionTitle:"Invalid Selection",errorSelectionInfo:"There was an error retrieving information about the selected records.",errorNoData:"No data available.",yesButtonText:"Yes",noButtonText:"No",salesLogixPageTitle:"Saleslogix",okButtonText:"OK",cancelButtonText:"Cancel"}};return lang.mixin(_8fb,nls);});},"Sage/MainView/ReportMgr/nls/ReportManagerFormatter":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerFormatter",{root:({txtTrue:"True",txtFalse:"False"})});},"Sage/UI/nls/OwnerType":function(){define("Sage/UI/nls/OwnerType",["Sage/LanguageList","dojo/_base/lang"],function(_8fc,lang){var nls={root:{teamText:"Team",departmentText:"Department",systemText:"System",userText:"User"}};return lang.mixin(_8fc,nls);});},"Sage/QuickForms/Design/PropertyEditorContainer":function(){define("Sage/QuickForms/Design/PropertyEditorContainer",["dojo/string","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dijit/layout/TabContainer","dijit/layout/BorderContainer","Sage/_EventMapMixin","Sage/_Templated","Sage/Utility","./ControlDesigner","./Help","dojo/i18n!./nls/PropertyEditorContainer"],function(_8fd,_8fe,_8ff,lang,_900,_901,_902,_903,_904,_905,_906,_907,Help,_908){return _8fe("Sage.QuickForms.Design.PropertyEditorContainer",[_903,_905],{widgetsInTemplate:true,contentTemplate:new Simplate(["<div class=\"design-editor-container-toolbar\" data-dojo-type=\"dijit.Toolbar\" data-dojo-props=\"region: 'top', align: 'right', splitter: false\">","<span class=\"design-editor-title\" data-dojo-attach-point=\"titleNode\"></span>","<div data-dojo-type=\"Sage.UI.ImageButton\" icon=\"images/icons/Help_16x16.png\" tooltip=\"{%: $.helpText %}\" data-dojo-attach-event=\"onClick:help\" class=\"design-panel-help\"></div>","</div>","<div data-dojo-type=\"dijit.layout.TabContainer\" data-dojo-attach-point=\"editorTabContainer\" data-dojo-props=\"region: 'center'\"></div>"]),_setTitleAttr:{node:"titleNode",type:"innerText"},_designGroup:null,_designGroupTopics:null,_designer:null,_designerSource:null,editorTabContainer:null,titleNode:null,helpTopicName:"webFormDesigner",helpSubSystemName:"WebForms",designGroup:"default",specificTitleFormatText:"${0} Properties (${1})",genericTitleFormatText:"${0} Properties",constructor:function(){lang.mixin(this,_908);},_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(_909){if(this._designGroupTopics){_8ff.forEach(this._designGroupTopics,function(_90a){this.unsubscribe(_90a);},this);}this._designGroup=_909;this._designGroupTopics=[this.subscribe(_8fd.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected),this.subscribe(_8fd.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),this._onDesignerMoved)];},help:function(){if(this._designer){Help.open(this._designer.helpTopicName,this.helpSubSystemName);}else{Help.open(this.helpTopicName,this.helpSubSystemName);}},buildRendering:function(){this.inherited(arguments);_900.add(this.domNode,"design-editor-container");},uninitialize:function(){this.inherited(arguments);},clear:function(){_8ff.forEach(this.editorTabContainer.getChildren(),function(_90b){this.editorTabContainer.removeChild(_90b);_90b.destroyRecursive(false);},this);this._designer=null;this.set("title","");this.layout();},_setDesignerAttr:function(_90c,_90d){if(_90c===this._designer){return;}var _90e=this.editorTabContainer.selectedChildWidget&&this.editorTabContainer.selectedChildWidget.constructor,_90f;this.clear();_8ff.forEach(_90c.editors,function(_910){var _911=new _910({});this.editorTabContainer.addChild(_911);if(_910===_90e){_90f=_911;}},this);if(_90c.get("controlId")){this.set("title",_8fd.substitute(this.specificTitleFormatText,[_90c.displayNameText,_90c.get("controlId")]));}else{this.set("title",_8fd.substitute(this.genericTitleFormatText,[_90c.displayNameText]));}this._designer=_90c;this._designerSource=_90d;if(_90f){this.editorTabContainer.selectChild(_90f);}this.layout();_8ff.forEach(this.editorTabContainer.getChildren(),function(_912){_912.set("designer",this._designer);},this);},_getDesignerAttr:function(){return this._designer;},_onDesignerSelected:function(_913,_914,_915){if(_913&&_913.editors){this.set("designer",_913,_915);}else{this.clear();}},_onDesignerMoved:function(_916,_917){if(_916!==this._designer){return;}_8ff.forEach(this.editorTabContainer.getChildren(),function(_918){_918.set("designer",this._designer);},this);}});});},"Sage/UI/Columns/ActivityType":function(){define("Sage/UI/Columns/ActivityType",["dojox/grid/cells/_base","Sage/Utility","Sage/Utility/Activity","dojo/string","dojo/_base/declare"],function(_919,util,_91a,_91b,_91c){var _91d=_91c("Sage.UI.Columns.ActivityType",_919,{keyField:false,format:function(_91e,_91f){var type=this.get(_91e,_91f);if(!type){return this.defaultValue;}var key=util.getValue(_91f,this.keyField||"$key");var fmt="<div class=\"Global_Images icon16x16 ${0}\"></div>&nbsp;<a href=\"javascript:Sage.Link.editActivity('${1}')\">${2}</a>";return _91b.substitute(fmt,[_91a.getActivityImageClass(type,"small"),key,_91a.getActivityTypeName(type)]);}});return _91d;});},"Sage/MainView/ActivityMgr/AttendeeLookup/LookupService":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/LookupService",["Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig","Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig","dojo/_base/declare"],function(_920,_921,_922){var _923=_922("Sage.MainView.ActivityMgr.AttendeeLookup.LookupService",null,{_lookupConfigs:null,constructor:function(){},_initLookupConfigs:function(){this._lookupConfigs=[{lookupName:"Contact",lookupDisplayName:"Contact",configProviderType:_920,instance:false},{lookupName:"Lead",lookupDisplayName:"Lead Loookup",configProviderType:_921,instance:false}];},getLookupConfigs:function(){if(this._lookupConfigs){return this._lookupConfigs;}this._initLookupConfigs();return this._lookupConfigs;},getLookupConfig:function(_924){var _925=this.getLookupConfigs();for(var i=0;i<_925.length;i++){if(_925[i].lookupName.toUpperCase()===_924.toUpperCase()){return _925[i];}}return null;},AddLookupConfig:function(_926){var _927=this.getLookupConfig(_926.lookupName);if(_927){_927.configuration=_926;}else{var _928={lookupName:_926.lookupName,lookupDisplayName:_926.lookupDisplayName,configProviderType:_926,instance:false};var _929=this.getLookupConfigs();_929.push(_928);}},RemoveLookupConfig:function(_92a){},getLookupConfigInstance:function(_92b){var _92c=this.getLookupConfig(_92b);if(_92c){if(!_92c.instance){_92c.instance=new _92c.configProviderType();return _92c.instance;}else{_92c.instance.rebuild();return _92c.instance;}}},getLookupInstance:function(_92d,uiid){var _92e=this.getLookupConfigInstance(_92d);var _92f=null;if(_92e){_92f=_92e.getLookupInstance(uiid);}return _92f;}});if(!Sage.Services.hasService("LookupService")){Sage.Services.addService("LookupService",new _923());}else{var srvc=Sage.Services.getService("LookupService");if(actSvc.declaredClass!=="Sage.MainView.ActivityMgr.AttendeeLookup.LookupService"){Sage.Services.removeService("LookupService");Sage.Services.addService("LookupService",new _923()());}}return _923();});},"Sage/TaskPane/nls/LeadTasksTasklet":function(){define("Sage/TaskPane/nls/LeadTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_930,lang){var nls={root:{updateLeadsTitle:"Update Leads",deleteLeadsTitle:"Delete Leads",deleteJobError:"Sorry an error occurred during the delete lead job: ${0}",confirmDeleteLeads:"Are you sure you want to delete the selected records?"}};return lang.mixin(_930,nls);});},"url:Sage/templates/ToggleButton.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\r\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\t\t\t\tid=\"${id}_label\"\r\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\t\t\t></span\r\t\t></span\r\t></span\r\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r","Sage/UI/Dashboard/DashboardWidgetCell":function(){define("Sage/UI/Dashboard/DashboardWidgetCell",["dojo/i18n","dojo/i18n!./nls/DashboardWidgetCell","Sage/UI/WidgetEditor","Sage/UI/Dashboard/DashboardWidget","dojox/data/dom","dojox/widget/Portlet","dojo/_base/declare"],function(i18n,_931,_932,_933,dom,_934,_935){var _936=_935("Sage.UI.Dashboard.DashboardWidgetCell",[_934],{onClose:function(evt){var pg=dijit.byId(this._parentId);pg._childWidgets.removeByAttr("id",this.id);dojo.publish("/ui/dashboard/pageSave",[pg._page]);this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.redrawOnShow){this.redrawOnShow=false;this.refresh(true);}},onHide:function(){this.redrawOnShow=true;this.inherited(arguments);},onDownloadEnd:function(data){if(data){var doc=data.documentElement;for(var i=0,len=doc.childNodes.length;i<len;i++){if(doc.childNodes[i].tagName==="Content"){var _937=dom.textContent(doc.childNodes[i]);Sage.UI.WidgetDefinitions[this.widgetOptions.name]=dojo.fromJson(_937);this.widgetDefined=true;dojo.publish("/ui/widget/defined");this._widgetInit();}}}else{}},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardWidgetCell"));if(this._page>=0){this.preload=true;}this.href="slxdata.ashx/slx/crm/-/dashboard/widget";this.ioArgs={handleAs:"xml",content:{name:this.widgetOptions.name,family:this.widgetOptions.family||"system"}};this._drawLegend();this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.subscribe("/ui/widget/dropped",function(id,p,c,i){if(id===this.id){return;}if(p!==this._page){return;}if(c!==this.column){return;}if(i>this.index){return;}this._indexUp();});this.connect(this.containerNode,"onmousedown",function(evt){if(dojo.hasClass(evt.target,"dojoxGridScrollbox")){dojo.stopEvent(evt);return false;}return true;});this.arrowNode.title=this.minimizeTooltipText;},refresh:function(_938){if(_938){var _939=this._dashboardWidget;if(_939){dojo.disconnect(_939._winResize);dojo.unsubscribe(_939.dropSub);}this.destroyDescendants();this._removeIcons();}this.inherited(arguments);this._drawLegend();},_drawLegend:function(){if(this.widgetOptions.showLegend==="true"){this.chartWidth="67";this.legendDisplay="block";}else{this.chartWidth="100";this.legendDisplay="none";}},_redrawCharts:function(){if(this._dashboardWidget&&this._dashboardWidget.definition&&this._dashboardWidget.definition.declaredClass==="Sage.UI.Dashboard.ChartingWidget"){this.refresh(true);}},_createIcon:function(_93a,_93b,fn){var _93c="";if(_93a==="dojoxPortletSettingsIcon"){_93c=this.settingsTooltipText;}else{if(_93a==="dojoxCloseNode"){_93c=this.closeTooltipText;}}if(!this._tbarIcons){this._tbarIcons=[];}var icon=dojo.create("div",{"class":"dojoxPortletIcon "+_93a,"waiRole":"presentation","title":_93c});if(this.isNew){if(_93a==="dojoxPortletSettingsIcon"||this._tbarIcons.length<1){dojo.place(icon,this.arrowNode,"before");}else{dojo.place(icon,this._tbarIcons[0],"before");}}else{if(this._tbarIcons.length==1&&_93a==="dojoxPortletSettingsIcon"){try{dojo.place(icon,this._tbarIcons[0],"replace");}catch(e){dojo.place(icon,this.arrowNode,"before");}}else{dojo.place(icon,this.arrowNode,"before");}}if(_93b){this.iconMouseOverEvent=this.connect(icon,"onmouseover",function(){dojo.addClass(icon,_93b);});this.iconMouseOutEvent=this.connect(icon,"onmouseout",function(){dojo.removeClass(icon,_93b);});}if(_93a==="dojoxPortletSettingsIcon"){if(this._tbarIcons.length==1){this._tbarIcons[0]=icon;}else{this._tbarIcons.push(icon);}this.iconClickEvent=this.connect(icon,"onclick",fn);}else{this.connect(icon,"onclick",fn);}return icon;},_removeIcons:function(){this.disconnect(this.iconClickEvent);this.disconnect(this.iconMouseOverEvent);this.disconnect(this.iconMouseOutEvent);if(this._tbarIcons.length>0){dojo.empty(this._tbarIcons[0]);}},_editorAdded:function(){var _93d=this.getChildren();this._placeSettingsWidgets();dojo.forEach(_93d,function(_93e){try{if(!_93e.started&&!_93e._started){_93e.startup();}}catch(e){}});},_load:function(){if(!this.preventRender){this._setContent(this.onDownloadStart(),true);if(!Sage.UI.WidgetDefinitions[this.widgetOptions.name]&&!this.requestPending){this.requestPending=true;var that=this;var _93f={preventCache:false,url:this.href};if(dojo.isObject(this.ioArgs)){dojo.mixin(_93f,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_93f));hand.addCallback(function(data){try{that._isDownloaded=true;that.requestPending=false;that._setContent(that.processingData||"",true);that.onDownloadEnd(data);}catch(err){that._onError("Content",err);}delete that._xhrDfd;});hand.addErrback(function(err){if(!hand.canceled){that._onError("Download",err);}delete that._xhrDfd;return err;});delete this._hrefChanged;}else{if(this.requestPending){this._waitForDefinition();}else{this.widgetDefined=true;this._widgetInit();}}}},_setColumn:function(n){this.column=n;},_setIndex:function(n){this.index=n;},_indexUp:function(){this.index+=1;},_waitForDefinition:function(){this.subscription=this.subscribe("/ui/widget/defined",this,function(){this.widgetDefined=true;this._widgetInit();});},_widgetInit:function(){if(this.widgetDefined&&!this._Widget){this._dashboardWidget=new _933({options:this.widgetOptions,parentCell:this});}}});return _936;});},"Sage/UI/Dashboard/Dashboard":function(){define("Sage/UI/Dashboard/Dashboard",["dojo/i18n","dijit/layout/ContentPane","dijit/layout/TabContainer","Sage/UI/Dashboard/DashboardTabController","Sage/UI/Dashboard/DashboardPage","Sage/Utility","dijit/Menu","dijit/MenuItem","dojo/_base/declare","dojo/i18n!./nls/DashboardTabController","dojo/i18n!./nls/Dashboard"],function(i18n,_940,_941,_942,_943,_944,menu,_945,_946){var _947=_946("Sage.UI.Dashboard.Dashboard",_941,{controllerWidget:"Sage.UI.Dashboard.DashboardTabController",_stTableOuter:new Simplate(["<div id=\"stTable\" class=\"show-tab-table\"><table>","{%= $.content %}","</table><div class=\"button-bar alignright\"><button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnSTOk\" title=\"{%= $.buttonOk %}\">{%= $.buttonOk %}</button>","</div></div>"]),_stTableInner:new Simplate(["<tr id=\"row_{%= $.id %}\"><td><button data-dojo-type=\"dijit.form.Button\"","type=\"button\" id=\"btn_{%= $.id %}\" class=\"btn-show-tab\">{%= $.showText %}</button></td>","<td><span>{%= $.title %}</span></td></tr>"]),_copyNameForm:new Simplate(["<div id=\"copyNameForm\"><table width=\"100%\">","<tr><td>{%= $.titleText %}</td><td><div data-dojo-type=\"dijit.form.ValidationTextBox\" id=\"txtCopyName\""," regExp=\"[^<>;]*\" value=\"\" required=\"true\" invalidMessage=\"{%= $.invalidMessage %}\"></div></td></tr>","<tr><td colspan=\"2\" align=\"right\"><div class=\"button-bar\"><button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnCNOK\" title=\"{%= $.buttonOk %}\">{%= $.buttonOk %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnCNCancel\" title=\"{%= $.buttonCancel %}\" >{%= $.buttonCancel %}</button>","</div></td></tr></table></div>"]),resources:{},addRemovePageContextMenu:function(){var _948=true;for(var i=0;i<this._childPages.length;i++){if(!this._childPages[i]._beingDestroyed){var _949=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);_948=false;if(_949&&_949.tabContent.style.display=="none"){_948=true;}else{break;}}}if(_948){if(this._contextMenu){this._contextMenu.destroyRecursive();}this._contextMenu=new menu({id:this.id+"_ContextMenu",dir:this.dir,targetNodeIds:[this.domNode]});this._contextMenu.addChild(new _945({label:this.newTabText,dir:this.dir,onClick:function(){var db=dijit.byId("Dashboard");db._createPage(true,db.newTabText);}}));this._contextMenu.addChild(new _945({label:this.showTabText,dir:this.dir,onClick:dojo.hitch(this,function(){var d=dijit.byId("Dashboard");d._showTabMenu();})}));this.selectShownTab=true;}else{if(this._contextMenu){this._contextMenu.destroyRecursive();this.selectShownTab=false;}}},postCreate:function(){if(!Sage.UI.WidgetDefinitions){Sage.UI.WidgetDefinitions={};}this._getUserOptions();this.subscribe("/ui/dashboard/pageDelete",function(pg){this.closeChild(pg);this._deletePage(pg);this.addRemovePageContextMenu();});this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","Dashboard"));dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this.resources,i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition"));dojo.mixin(this,i18n.getLocalization("dijit","common"));this.inherited(arguments);},_childPages:[],_createPage:function(ans,name){if(!ans){return;}var obj={closable:true,onClose:function(){return true;},name:name,title:name,family:"System",acceptTypes:["Portlet"],hasResizableColumns:false,_columns:[],_page:this._childPages.length,_parentId:this.id,permission:true,_childWidgets:[]};var _94a=new _943(obj);this._childPages.push(_94a);this.addChild(this._childPages[this._childPages.length-1]);this.selectChild(this._childPages[this._childPages.length-1]);_94a.isNew=true;_94a._editOptionsMenu();},_showPage:function(_94b){var _94c=Sage.UI.DataStore.Dashboard.userOptions.hidden,pg=_94c[_94b],_94d=false,len;for(var i=0;i<this._childPages.length;i++){if(this._childPages[i].title==pg){var _94e=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);if(_94e){dojo.style(_94e.tabContent,"display","block");_94d=true;if(this.selectShownTab){this.selectChild(this._childPages[i]);this._showChild(this._childPages[i]);}break;}}}if(!_94d){var _94f=function(){return true;};for(i=0,len=this.info.userPages.length;i<len;i++){var ttl=Sage.Utility.htmlDecode(this.pages[i]["@title"]);var _950=ttl;while(_950.indexOf(" ")!==-1){_950=_950.replace(" ","_");}_950=_950.replace(/'/g,"_").replace(/"/g,"_");if(ttl==pg){var _951;if(this.pages[i]["@colWidths"]){_951=this.pages[i]["@colWidths"].split(",").length;}var _952=this.info.permissions[_950];this.pages[i].Columns.Column=_944.Convert.toArrayFromObject(this.pages[i].Columns.Column);this._childPages.push(new _943({id:_950,closable:true,onClose:_94f,name:ttl,title:this.resources[_950]||ttl,family:this.pages[i]["@family"]||"System",nbZones:_951||1,acceptTypes:["Portlet"],hasResizableColumns:false,firstButNotDefault:false,colWidths:this.pages[i]["@colWidths"],_columns:this.pages[i].Columns.Column,_page:i,_parentId:this.id,permission:_952,_childWidgets:[]}));if(this.pages[i]["@colWidths"]){this._childPages[this._childPages.length-1]._colWidths=this.pages[i]["@colWidths"];}this.addChild(this._childPages[this._childPages.length-1]);if(this.selectShownTab){this.selectChild(this._childPages[this._childPages.length-1]);}break;}}}if(_94b in _94c){delete _94c[_94b];this._updateUserOptions();}},_copyPageContent:function(pg,_953){var page=pg.Dashboard;var len=this._childPages.length;var ttl=_953?_953:page["@title"];var _954=page["@id"];while(_954.indexOf(" ")!==-1){_954=_954.replace(" ","_");}var _955;if(page["@colWidths"]){_955=page["@colWidths"].split(",").length;}var _956=false;if(_953){_956=true;}else{if(page["@permission"]){_956=page["@permission"];}}this._childPages.push(new _943({closable:true,onClose:function(){return true;},name:ttl,title:ttl,family:page["@family"]||"System",nbZones:_955||1,acceptTypes:["Portlet"],hasResizableColumns:false,colWidths:page["@colWidths"],_columns:page.Columns.Column,_page:len,_parentId:this.id,permission:_956,_childWidgets:[]}));if(page["@colWidths"]){this._childPages[len]._colWidths=page["@colWidths"];}this.addChild(this._childPages[len]);this._childPages[len]._init();this._childPages[len].copyNotDrawn=true;var uo=Sage.UI.DataStore.Dashboard.userOptions;if(uo.hidden&&_954 in uo.hidden){delete uo.hidden[_954];this._updateUserOptions();}this._childPages[len]._save();},_copyPage:function(pg){var d=new dijit.Dialog({title:this.copyTabText,style:"width:250px"});d.set("content",this._copyNameForm.apply({titleText:this.titleText,buttonOk:this.okButton,buttonCancel:this.buttonCancel,invalidMessage:this.invalidMessage}));var _957=function(){dojo.disconnect(_958);dojo.disconnect(ok);dojo.disconnect(_959);d.destroyRecursive();};var ok=dojo.connect(dijit.byId("btnCNOK"),"onClick",this,function(){var _95a=dijit.byId("txtCopyName");if(!_95a.isValid()||!this._isTitleUnique(_95a.value)){return false;}if(!pg.pageRendered){pg.copyNotDrawn=true;pg._init();}var ttl=_95a.value;var _95b=pg._copy();this._copyPageContent(_95b,ttl);d.hide();});var _959=dojo.connect(dijit.byId("btnCNCancel"),"onClick",this,function(){d.hide();});var _958=dojo.connect(d,"hide",this,_957);d.show();},_createPages:function(){this.pages={};var def=this.info.userOptions.defaultTab;var uo=Sage.UI.DataStore.Dashboard.userOptions;var _95c;var _95d=0;var _95e=function(){return true;};for(var i=0,len=this.info.userPages.length;i<len;i++){var page=dojo.fromJson(this.info.userPages[i]);this.pages[i]=page.Dashboard;var ttl=Sage.Utility.htmlDecode(this.pages[i]["@title"]);var _95f=ttl;while(_95f.indexOf(" ")!==-1){_95f=_95f.replace(" ","_");}_95f=_95f.replace(/'/g,"_").replace(/"/g,"_");if(!uo.hidden||!uo.hidden[_95f]){var _960;if(this.pages[i]["@colWidths"]){_960=this.pages[i]["@colWidths"].split(",").length;}else{this.pages[i]["@colWidths"]=0;_960=1;}var _961=this.info.permissions[_95f];this.pages[i].Columns.Column=_944.Convert.toArrayFromObject(this.pages[i].Columns.Column);this._childPages.push(new _943({id:_95f,closable:true,onClose:_95e,name:ttl,title:this.resources[_95f]||ttl,family:this.pages[i]["@family"]||"System",nbZones:_960||1,acceptTypes:["Portlet"],hasResizableColumns:false,firstButNotDefault:i===0&&ttl!==def,colWidths:this.pages[i]["@colWidths"],_columns:this.pages[i].Columns.Column,_page:i,_parentId:this.id,permission:_961,_childWidgets:[]}));if(this.pages[i]["@colWidths"]){this._childPages[_95d]._colWidths=this.pages[i]["@colWidths"];}this.addChild(this._childPages[_95d]);if(ttl===def){_95c=_95d;}_95d++;}}if(_95c){this._childPages[_95c].selected=true;this._childPages[_95c]._init();}else{if(this._childPages.length>0){this._childPages[0].selected=true;this._childPages[0]._init();}}this.addRemovePageContextMenu();},_deletePage:function(pg,_962){var uo=Sage.UI.DataStore.Dashboard.userOptions;if(pg.title===uo.defaultTab){uo.defaultTab="";if(!_962){this._updateUserOptions();}}var vURL="SLXGroupBuilder.aspx?method=GetGroupIdFromNameFamilyAndType&name="+pg.name+"&family=System&type=36";dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_963){}),load:dojo.hitch(this,function(_964){Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"DeleteGroup&gid="+_964,"text",function(){},function(req){});})});},_hidePage:function(pg){var uo=Sage.UI.DataStore.Dashboard.userOptions;var _965=dijit.byId("Dashboard_tablist_"+pg.id);dojo.style(_965.tabContent,"display","none");if(this.selectedChildWidget==pg){this.selectFirstVisible();}if(!uo.hidden){uo.hidden={};}uo.hidden[pg.id]=pg._hide();this._updateUserOptions();this.addRemovePageContextMenu();},_showTabMenu:function(){var _966=Sage.UI.DataStore.Dashboard.userOptions.hidden;var _967=[];var id;if(_966&&Sage.Utility.size(_966)){for(id in _966){_967.push(this._stTableInner.apply({title:_966[id],id:id,buttonCancel:this.buttonCancel,showText:this.showText}));}}var d=new dijit.Dialog({title:this.showTabText,style:"width:350px"});d.set("content",this._stTableOuter.apply({content:_967.join(""),buttonOk:this.buttonOk}));d.show();var _968=[];if(_966){for(id in _966){var _969=dijit.byId("btn_"+id);_968.push(dojo.connect(_969,"onClick",_969,function(){var db=dijit.byId("Dashboard"),_96a=this.id.replace("btn_",""),_96b=dojo.byId("row_"+_96a);db._showPage(_96a);db.addRemovePageContextMenu();dojo.style(_96b,"display","none");}));}}var ok=dojo.connect(dijit.byId("btnSTOk"),"onClick",null,function(){d.hide();});var _96c=dojo.connect(d,"hide",null,function(){dojo.disconnect(ok);dojo.disconnect(_96c);dojo.forEach(_968,dojo.disconnect);d.destroyRecursive();});},_isTitleUnique:function(_96d,_96e){var _96f=true;var _970=this._childPages;var _971="";if(_96e){_971=_96e;}for(var i=0;i<_970.length;i++){if(_970[i].id!=_971&&!_970[i]._destroyed&&_970[i].title===_96d){_96f=false;var opts={title:this.warningText,query:this.invalidDuplicateMessage,yesText:this.okButton,style:{width:"300px"}};Sage.UI.Dialogs.raiseQueryDialogExt(opts);break;}}return _96f;},selectFirstVisible:function(){var _972=false;for(var i=0;i<this._childPages.length;i++){var _973=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);if(_973&&_973.tabContent.style.display!="none"){_972=true;this.selectChild(this._childPages[i]);break;}}if(!_972){try{this.selectChild();}catch(err){}}},selectChild:function(_974){this.inherited(arguments);if(_974._init){_974._init();}if(_974.copyNotDrawn){_974.copyNotDrawn=false;_974._redrawWidgets();}},_getUserOptions:function(){if(Sage.UI.DataStore.Dashboard){this.info=Sage.UI.DataStore.Dashboard;this._createPages();}else{this.subscribe("/ui/dashboard/info",function(info){this.info=info;this._createPages();});}},_updateUserOptions:function(){var uo=Sage.UI.DataStore.Dashboard.userOptions;var uri="slxdata.ashx/slx/crm/-/dashboard/useroption?name=Options&category=Dashboard";var def=dojo.xhrPut({url:uri,handleAs:"text",postData:dojo.toJson(uo),load:function(data){},error:function(_975){}});}});return _947;});},"Sage/UI/NumberTextBox":function(){define("Sage/UI/NumberTextBox",["dijit/form/NumberTextBox","dijit/form/ValidationTextBox","dojo/number","Sage/Utility","dojo/_base/declare"],function(_976,_977,_978,_979,_97a){var _97b=_97a("Sage.UI.NumberTextBox",_976,{shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",maxLength:"",formatType:"",attributeMap:{hotKey:{node:"textbox",type:"attribute",attribute:"accessKey"},maxLength:{node:"textbox",type:"attribute",attribute:"maxLength"}},textAlign:"",_getValueAttr:function(){var _97c=this.inherited(arguments);if((typeof _97c==="undefined"||isNaN(_97c))&&this.textbox.value!==""){_97c=this.getTextBoxValue();}return _97c;},_setValueAttr:function(v){this.constraints["locale"]=Sys.CultureInfo.CurrentCulture.name;this.inherited(arguments);},_onFocus:function(){this.onFocusFiring=true;this.inherited(arguments);if(this.constraints.type==="percent"){var _97d=Math.round(this.value*10000)/100;this.textbox.value=_978.format(_97d,{locale:Sys.CultureInfo.CurrentCulture.name});}this.onFocusFiring=false;},_onBlur:function(){this.onBlurFiring=true;if(this.formatType==="Percent"||this.constraints.type==="percent"){if(this.textbox.value.indexOf(Sys.CultureInfo.CurrentCulture.numberFormat.PercentSymbol)===-1){var _97e=this.getTextBoxValue();var _97f=_97e/100;this.set("displayedValue",_978.format(_97f,{locale:Sys.CultureInfo.CurrentCulture.name}));}}this.onBlurFiring=false;this.inherited(arguments);},_sageUINumberTextBox_IsValid:function(){if(this.formatType!=="Percent"||this.constraints.type!=="percent"){if(dojo.isIE){if(this.oldValue!==this.textbox.value){var trim=this._restrictDD();if(trim!==this.textbox.value){this.textbox.value=trim;}}this.oldValue=this.textbox.value;}else{this.textbox.value=this._restrictDD();}}this.inherited(arguments);},_restrictDD:function(){var _980=this.textbox.value;if(this.onBlurFiring||this.onFocusFiring){return _980;}if(this.constraints.places){_980=_979.restrictDecimalDigit(this.textbox.value,this.constraints.places);}return _980;},_sageUINumberTextBox_KeyPress:function(e){var type=this.constraints.type;if(!_979.restrictToNumberOnKeyPress(e,type)){dojo.stopEvent(e);}},_sageUINumberTextBox_OnFocus:function(e){dojo.setSelectable(this.domNode,true);},startup:function(){this.inherited(arguments);var self=this;dojo.style(self.focusNode,"textAlign",self.textAlign);self.value=self.value||0;self.onBlurFiring=false;self.onFocusFiring=false;this.connect(self,"isValid",self._sageUINumberTextBox_IsValid);this.connect(self,"onKeyPress",self._sageUINumberTextBox_KeyPress,true);this.connect(self,"onFocus",self._sageUINumberTextBox_OnFocus,true);if(!this.ignorechange){this.connect(self,"onChange",self.valueChanged);}},valueChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}},getTextBoxValue:function(){var _981=0;var _982=this.textbox.value;if(_982.lastIndexOf(Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator)===_982.length-1){_982=_982.slice(0,_982.length-1);}_981=_978.parse(_982,{locale:Sys.CultureInfo.CurrentCulture.name});if(isNaN(_981)){_981=this.value;}return _981;}});return _97b;});},"Sage/UI/_DetailPane":function(){define("Sage/UI/_DetailPane",["dijit/_Widget","dojo/_base/declare"],function(_983,_984){var _985=_984("Sage.UI._DetailPane",[_983],{constructor:function(){},_applyConfiguration:function(_986){this._configuration=_986;},_setConfigurationAttr:function(_987){this._applyConfiguration(_987);},_setOwnerAttr:function(_988){if(this._owner===_988){return;}if(this._owner){throw new Error("Sage.UI._DetailPane can only be bound to a single Sage.UI.ListPanel.");}this._owner=_988;this.connect(this._owner,"onRowClick",this._onRowClick);this.connect(this._owner,"onSelected",this._onSelected);},_getOwnerAttr:function(){return this._owner;},_onRowClick:function(_989,row,grid){},_onSelected:function(_98a,row,grid){}});return _985;});},"url:Sage/MainView/ReportMgr/Common/templates/ExportOptionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"containerDiv\" id=\"containerDiv\" style=\"height:350px; overflow:auto\">\r\n                    <table cellspacing=\"10\">\r\n                        <tr dojoAttachpoint=\"trScheduleDescription\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtScheduleDescription_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"text\" dojoAttachPoint=\"txtScheduleDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:300px\" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtOutputFormat_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOutputFormat\" sortByLabel=\"false\" style=\"width:300px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trRunAsUserId\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtRunAs_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.txtRunAs_Caption %}\" dojoAttachPoint=\"container_lkpRunAsUserId\" style=\"padding: 0 !important;\"></div>                            \r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trSchedulingWidget\">                            \r\n                            <td colspan=\"2\">\r\n                                <div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","Sage/Services/CalendarSecurityService":function(){define("Sage/Services/CalendarSecurityService",["Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/_base/declare"],function(_98b,_98c,_98d){var _98e=_98d("Sage.Services.CalendarSecurityService",null,{_rawList:[],_accessList:{},_dataAvailable:false,constructor:function(opts){this._dataAvailable=false;this._loading=false;},_waiting:[],hasAccess:function(_98f,_990,_991,_992){if(this._dataAvailable){var item=this._accessList[_98f];var _993=false;if(item){_993=item[_990];}if(_991){_991.call(_992||this,_993);}}else{this._waiting.push(dojo.connect(this,"onDataAvailable",this,function(){this.hasAccess(_98f,_990,_991,_992);}));if(!this._loading){this._loadData();}}},getListByAccessLevel:function(_994,_995,_996,_997,_998){var _999=_997||"userid";var _99a=_998||"name";if(this._dataAvailable){var list=[];for(var i=0;i<this._rawList.length;i++){var item=this._rawList[i];if(_994==="view"||item[_994]){var obj={};obj[_999]=item["accessUserId"];obj[_99a]=item["accessUserName"];list.push(obj);}}_995.call(_996||this,list);}else{this._waiting.push(dojo.connect(this,"onDataAvailable",this,function(){this.getListByAccessLevel(_994,_995,_996,_997,_998);}));if(!this._loading){this._loadData();}}},_loadData:function(){this._loading=true;var svc=_98b.getSDataService("mashups",false,true,true);var uid=_98c.getClientContextByKey("userID")||"";var _99b=new Sage.SData.Client.SDataNamedQueryRequest(svc);_99b.setApplicationName("$app");_99b.setResourceKind("mashups");_99b.uri.setCollectionPredicate("'UserCalendarQueries'");_99b.setQueryName("execute");_99b.setQueryArg("_resultName","UserHasAccessToTheseCalendars");_99b.setQueryArg("_userId",uid);_99b.read({success:this._dataReceived,failure:function(){},scope:this});},_dataReceived:function(data){this._rawList=data["$resources"];var i;for(i=0;i<this._rawList.length;i++){var item=this._rawList[i];this._accessList[item["accessUserId"]]={"name":item["accessUserName"],"userid":item["accessUserId"],"allowAdd":item["allowAdd"],"allowDelete":item["allowDelete"],"allowEdit":item["allowEdit"],"allowSync":item["allowSync"]};}this._dataAvailable=true;this._loading=false;this.onDataAvailable();for(i=0;i<this._waiting.length;i++){dojo.disconnect(this._waiting[i]);}this._waiting=[];},onDataAvailable:function(){}});Sage.Services.addService("CalendarSecurityService",new _98e());});},"Sage/UI/Filters/FilterPanel":function(){define("Sage/UI/Filters/FilterPanel",["dijit/_Widget","dijit/_Container","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/UI/Filters/CheckBoxFilter","Sage/UI/Filters/LookupFilter","Sage/UI/Filters/EditFilters","dojo/_base/declare","dojo/i18n","dojo/_base/array","dojo/_base/lang","dojo/query","dojo/on","dojo/i18n!./nls/FilterPanel","dojo/has","dojo/_base/sniff","dojo/ready","dojo/json","dojo/DeferredList","dojo/_base/Deferred","dojo/string"],function(_99c,_99d,_99e,_99f,_9a0,_9a1,_9a2,_9a3,_9a4,i18n,_9a5,lang,_9a6,on,nls,has,_9a7,_9a8,json,_9a9,_9aa,_9ab){var _9ac=_9a4("Sage.UI.Filters.FilterPanel",[_99c,_99d,_99f,_99e],{serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"}},knownFilterTypes:{"checkedList":_9a1,"comboWithArgument":_9a2},widgetsInTemplate:false,widgetTemplate:new Simplate(["<div class=\"filter-panel\" data-dojo-attach-point=\"containerNode\">","<div class=\"filter-edit\"><a href=\"#\" data-dojo-attach-point=\"clearAllFiltersNode\">{%= $.clearText %}</a> | <a href=\"#\" data-dojo-attach-point=\"editFiltersNode\">{%= $.editText %}</a></div>","<div class=\"filter-summary\" data-dojo-attach-point=\"filterSummaryNode\">{%= $.noneText %}</div>","</div>"]),_filterGroup:null,_filterSubscriptions:null,_configuration:null,_configurationConnects:null,_configurationProvider:null,_configurationProviderType:null,_appliedSet:null,configurationProvider:null,configurationProviderType:null,autoConfigure:true,store:null,filterGroup:"default",filterManager:null,_appliedFilters:null,_isApplyingConfig:false,_isFirstLoad:true,_editFilters:null,_editFiltersHandle:null,_isFetchingData:false,editText:"Edit Filters",noneText:"No filters selected.",clearText:"Clear All",constructor:function(){var _9ad=Sage.Utility.getValue(window,"Sage.UI.DataStore.Filters");if(_9ad&&_9ad[this.filterGroup]){this._appliedSet=_9ad[this.filterGroup].applied;}if(nls){this.editText=nls.editText;this.noneText=nls.noneText;this.clearText=nls.clearText;}this._appliedFilters=[];dojo.subscribe("/group/context/changed",lang.hitch(this,function(){this._isFirstLoad=true;}));},postCreate:function(){this.inherited(arguments);this.startup();},startup:function(){this.inherited(arguments);if(!this._configurationProvider&&this._configurationProviderType){this.set("configurationProvider",new this._configurationProviderType());}if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._editFilters){this._editFilters.destroy();this._editFiltersHandle.remove();}if(this._configurationProvider){this._configurationProvider.destroy();}},_setFilterGroupAttr:function(_9ae){if(this._filterSubscriptions){dojo.forEach(this._filterSubscriptions,function(_9af){this.unsubscribe(_9af);},this);}this._filterGroup=_9ae;this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(_9ab.substitute("/ui/filters/${0}/apply",[this._filterGroup]),lang.hitch(this,this._onApply)));this._filterSubscriptions.push(this.subscribe(_9ab.substitute("/ui/filters/${0}/change",[this._filterGroup]),lang.hitch(this,this._onChange)));},_getFilterGroupAttr:function(){return this._filterGroup;},_onChange:function(_9b0,name,_9b1,_9b2){var _9b3=false,_9b4,_9b5=false;if((_9b0.details.lookupFilter)||(_9b0.details.userLookupFilter)){_9b5=true;if(_9b1!==null){if(_9b1.hasOwnProperty("value")){if((_9b1.value===null)||(_9b1.value==="")){_9b3=true;}}else{if((_9b1===null)||(_9b1==="")){_9b3=true;}}}}_9a5.forEach(this._appliedFilters,function(_9b6,i){var _9b7=false;if(_9b6.filterName===_9b0.filterName){_9b4=this._appliedFilters[i];_9b7=_9a5.some(_9b4.items,function(item){return item===name;});if(_9b7){if(_9b5){if(_9b1===null){}else{if((_9b1.value===null)||(_9b1.value==="")){_9b4.items=[];this._appliedFilters.splice(i,1);}}}else{_9a5.forEach(_9b4.items,function(item,x){if(item===name){_9b4.items.splice(x,1);}},this);}}else{_9b4.items.push(name);}_9b3=true;}},this);if(!_9b3){this._appliedFilters.push({"filterName":_9b0.filterName,"displayName":_9b0.$descriptor||_9b0.displayName,items:[name]});}this._updateFilterSummary();},_updateFilterSummary:function(){var _9b8=[];_9a5.forEach(_9a5.filter(this._appliedFilters,function(_9b9){return (typeof _9b9.displayName!=="undefined"&&_9b9.displayName!=="")&&(_9b9.items&&_9b9.items.length>0);}),function(_9ba){_9b8.push(_9ba.displayName+" ("+_9ba.items.length+")");},this);if(_9b8.length===0){this.filterSummaryNode.innerHTML=this.noneText;}else{this.filterSummaryNode.innerHTML=_9b8.join(", ");}},_onApply:function(_9bb,_9bc,_9bd){var key,_9be,_9bf,_9c0;if(_9bd&&this._configuration){var _9c1=_9bd.getContext();if(_9c1.CurrentGroupID.toUpperCase()!==this._configuration.groupId.toUpperCase()){return;}}this._appliedFilters=[];this._appliedSet=_9bb;var _9c2=false;for(key in this._appliedSet){if(this._appliedSet.hasOwnProperty(key)){_9c2=true;_9c0=_9bc[key];_9be=this._appliedSet[key];if(_9c0.details.lookupFilter){if(_9be.hasOwnProperty("value")){this._onChange(_9c0,_9c0.filterName,_9be.value);}}else{for(_9bf in _9be){if(_9be.hasOwnProperty(_9bf)){this._onChange(_9c0,_9bf);}}}}}if((this._configuration)){this.requestData();}},_handleConfigurationChange:function(){this.requestConfiguration();},_setConfigurationProviderAttr:function(_9c3){if(this._configurationConnects){dojo.forEach(this._configurationConnects,function(_9c4){this.disconnect(_9c4);},this);}if(this._configurationProvider&&this._configurationProvider!==_9c3){this._configurationProvider.destroy();}this._configurationProvider=_9c3;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setConfigurationProviderTypeAttr:function(_9c5){this._configurationProviderType=_9c5;},_getConfigurationProviderTypeAttr:function(){return this._configurationProviderType;},requestConfiguration:function(){if(this._configurationProvider&&!this._isApplyingConfig){this._isApplyingConfig=true;this._configurationProvider.requestConfiguration({success:lang.hitch(this,this._applyConfiguration)});}},_applyConfiguration:function(_9c6){this._configuration=_9c6;this.store=_9c6.store;this.filterManager=_9c6.getFilterManager();if(this._editFilters){this._editFilters.destroy();this._editFiltersHandle.remove();}this._editFilters=new _9a3({store:this.store,filterPanel:this});this._editFiltersHandle=on(this.editFiltersNode,"click",lang.hitch(this,function(){this._editFilters.showDialog();}));on(this.clearAllFiltersNode,"click",lang.hitch(this,this._clearAllFilters));this._appliedSet={};this._appliedFilters=[];this._updateFilterSummary();if(this._appliedSet){this.requestData(function(){var _9c7=Sage.Services.getService("ClientGroupContext");_9c7.publishFiltersApplied();});}this._ensureApplyFilterWasPublished();},_ensureApplyFilterWasPublished:function(){var _9c8,_9c9;_9c8=Sage.Services.getService("ClientGroupContext");_9c9=_9c8&&_9c8.getContext();if(_9c9&&_9c9.AppliedFilterInfo){_9c8.publishFiltersApplied(_9c9.AppliedFilterInfo);}},_clearAllFilters:function(){var q=_9a6("li.filter-selected",this.containerNode),evt;_9a5.forEach(q,function(node){if(node.click){node.click();}else{evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(evt);}});q=_9a6(".filter-lookup-input input",this.containerNode);_9a5.forEach(q,function(node){if(node.value){node.value="";if(has("ie")<9){node.fireEvent("onkeydown");}else{evt=document.createEvent("KeyboardEvent");if(evt.initKeyEvent){evt.initKeyEvent("keydown",true,true,null,false,false,false,false,13,0);}else{evt.initKeyboardEvent("keydown",true,true,null,13,null,null,1,null);}node.dispatchEvent(evt);}}});},refreshFilters:function(_9ca){this._refreshing=true;if(_9ca!==true){this._clearAllFilters();}this.requestConfiguration();},requestData:function(_9cb){if(this._isFetchingData){return;}this._isFetchingData=true;this.destroyDescendants();var _9cc,_9cd,_9ce,_9cf,data;_9cd=Sage.Services.getService("ClientGroupContext");_9ce=_9cd&&_9cd.getContext();_9cc=_9ab.substitute("METADATA_FILTERS_${0}_${1}",[_9ce.CurrentEntity,_9ce.CurrentGroupID]);_9cf=sessionStorage.getItem(_9cc);if(_9cf){data=json.parse(_9cf);this._iterateFetchedItems(data);if(_9cb){_9cb();}}else{this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete,_9cc,_9cb)});}},onRequestDataFailure:function(_9d0){},_onFetchError:function(){this._isFetchingData=false;},_onFetchItem:function(_9d1){var data=this._configuration._hiddenFilters||{},_9d2=Sage.Services.getService("ClientGroupContext"),_9d3=_9d2&&_9d2.getContext(),prop=_9d3.CurrentEntity+"_"+_9d1.filterName,_9d4=false,type=_9d1.filterType,_9d5=false,_9d6=new _9aa(),_9d7=false;if(data[prop]){_9d4=data[prop].hidden;_9d5=data[prop].expanded;}if(this.knownFilterTypes[type]){if(_9d4===false||typeof _9d4==="undefined"||_9d4===null){this.addChild(new this.knownFilterTypes[type]({configurationProvider:this._configurationProvider,filter:_9d1,store:this._configuration.createStoreForFilter(_9d1),appliedValues:this._appliedSet&&this._appliedSet[_9d1.$key],parent:this,groupId:_9d3.CurrentGroupID,expanded:_9d5,deferred:_9d6}));_9d7=true;}}if(!_9d7){_9d6.resolve();}return _9d6;},_onFetchComplete:function(_9d8,_9d9,_9da){sessionStorage.setItem(_9d8,json.stringify(_9da));this._iterateFetchedItems(_9da);if(_9d9){_9d9();}},_iterateFetchedItems:function(_9db){if(!_9db||!_9db.length){return;}var i,_9dc,_9dd;_9dc=_9db.length;_9dd=[];for(i=0;i<_9dc;i++){_9dd[i]=this._onFetchItem(_9db[i]);}_9dd=new _9a9(_9dd);_9dd.then(lang.hitch(this,function(){this._isFetchingData=false;this._isApplyingConfig=false;if(this._isFirstLoad){this._isFirstLoad=false;this.requestData(function(){var _9de=Sage.Services.getService("ClientGroupContext");_9de.publishFiltersApplied();});}}));}});return _9ac;});},"url:Sage/MainView/Lead/templates/LeadDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Lead.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svCompany_Caption || \"Company:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountname %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","Sage/MainView/ActivityMgr/ActivityGroupContextService":function(){define("Sage/MainView/ActivityMgr/ActivityGroupContextService",["Sage/Groups/BaseGroupContextService","Sage/Services/ActivityService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/ActivityMgr/ActivityListPanelConfig","Sage/MainView/ActivityMgr/AlarmListPanelConfig","Sage/MainView/ActivityMgr/AllOpenListPanelConfig","Sage/MainView/ActivityMgr/ConfirmListPanelConfig","Sage/MainView/ActivityMgr/EventListPanelConfig","Sage/MainView/ActivityMgr/LitRequestListPanelConfig","Sage/MainView/ActivityMgr/PastDueListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/ActivityGroupContextService"],function(_9df,_9e0,_9e1,_9e2,lang,_9e3,_9e4,_9e5,_9e6,_9e7,_9e8,_9e9,_9ea,_9eb,_9ec){var _9ed=_9eb("Sage.MainView.ActivityMgr.ActivityGroupContextService",_9df,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_currentListConfiguration:false,groupConfigTypes:[{key:"activities",descriptor:_9ec.activityTabDisplayName,keyField:"$key",configProviderType:_9e3},{key:"allopen",descriptor:_9ec.allOpenTabDisplayName,keyField:"$key",configProviderType:_9e5},{key:"pastdue",descriptor:_9ec.pastDueTabDisplayName,keyField:"$key",isCompostie:true,configProviderType:_9e9},{key:"alarms",descriptor:_9ec.alarmTabDisplayName,keyField:"$key",isCompostie:true,configProviderType:_9e4},{key:"events",descriptor:_9ec.eventTabDisplayName,keyField:"$key",configProviderType:_9e7},{key:"confirmations",descriptor:_9ec.confirmTabDisplayName,keyField:"$key",configProviderType:_9e6},{key:"literature",descriptor:_9ec.litTabDisplayName,keyField:"$key",configProviderType:_9e8}],_configsHash:false,_LOCALSTORE_NAMESPACE:"Sage-ActivityManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _9ee=this._getDefaultTabId();this.setContext(_9ee,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_9e1.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},buildCurrentEntityContext:function(){var _9ef=this._currentContext.CurrentGroupID;if(!_9ef){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_9ef);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_9ef);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var _9f0=this._currentContext.CurrentGroupID;var _9f1=(this.configsHash.hasOwnProperty(_9f0))?this.configsHash[_9f0]:this.configsHash["activities"];if(!_9f1.instance){_9f1.instance=new _9f1.configProviderType();this.onTabConfigCreated(_9f1.instance);}else{_9f1.instance.rebuild();}this._currentListConfiguration=_9f1.instance;return;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(_9f2){this._ensureConfigsHash();var _9f3="$key";if(this.configsHash[_9f2]){_9f3=this.configsHash[_9f2]["keyField"]||"$key";}return _9f3;},getGroupName:function(_9f4){this._ensureConfigsHash();var name="default";if(this.configsHash[_9f4]){name=this.configsHash[_9f4]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_9f5){this._clearFilterManager();var self=this;this._onDefaultFilterLoad(function(){var _9f6=self.getContext();dojo.publish("/group/context/changed",[_9f5,self]);self._saveToLocalStorage(self._STORE_KEY_LASTAB,_9f6.CurrentGroupID);});},_clearFilterManager:function(){var _9f7={};var _9f8={};dojo.publish("/ui/filters/default/apply",[_9f7,_9f8,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_9f9){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_9f9){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_9f9;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_9fa){var _9fb=this.getContext(),_9fc=_9e2.getSDataService("system"),_9fd,_9fe={"$name":"getEntityFilters","request":{"entityName":_9fb.CurrentEntity,"key":_9fb.CurrentGroupID}};_9fd=new Sage.SData.Client.SDataServiceOperationRequest(_9fc).setOperationName("getEntityFilters");_9fd.execute(_9fe,{success:lang.hitch(this,function(_9ff){try{if(_9ff.response.appliedFilterInfo){this._currentContext.AppliedFilterInfo.applied=_9ff.response.appliedFilterInfo.applied;this._currentContext.AppliedFilterInfo.definitionSet=_9ff.response.appliedFilterInfo.definitionSet;if(_9fa){_9fa();}}}catch(err){console.error(err);}}),failure:function(_a00){console.error(_a00);},async:false});},_onDefaultFilterRefresh:function(_a01,_a02,_a03){var _a04=this.getContext(),_a05=_9e2.getSDataService("system"),_a06={"$name":"applyFilterToEntity","request":{"entityName":_a04.CurrentEntity,"filter":dojo.toJson(_a03.createValueSet()),"key":_a04.CurrentGroupID}},_a07=new Sage.SData.Client.SDataServiceOperationRequest(_a05).setOperationName("applyFilterToEntity");_a07.execute(_a06,{});},getStaticTabs:function(){return this.groupConfigTypes;},_saveToLocalStorage:function(key,_a08,_a09){this._saveToSessionStorage(key,_a08,_a09);return;},_getFromLocalStorage:function(key,_a0a){return this._getFromSessionStorage(key,_a0a);},_getFromSessionStorage:function(key,_a0b){if(!_a0b){_a0b=this._LOCALSTORE_NAMESPACE;}var _a0c=_a0b+"_"+key;return sessionStorage.getItem(_a0c);},_saveToSessionStorage:function(key,_a0d,_a0e){if(!_a0e){_a0e=this._LOCALSTORE_NAMESPACE;}var _a0f=_a0e+"_"+key;sessionStorage.setItem(_a0f,_a0d);},_getDefaultTabId:function(){var _a10="activities",_a11=this._getUrlTabId(),_a12;if(_a11){_a11=this._validateTabId(_a11);if(_a11){return _a11;}}var _a13=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_a13){_a10=_a13;}else{_a12=Sage.Services.getService("ActivityService");if(_a12){_a10=_a12.getDefaultActivityManagerTabId();}}if(!this._configsHash){for(var i=0;i<this.groupConfigTypes;i++){if(_a10===this.groupConfigTypes[i]["key"]){return _a10;}}}return _a10;},_getUrlTabId:function(){var _a14=false,_a15="[\\?&]tabId=([^%#]*)",_a16=new RegExp(_a15),_a17=_a16.exec(window.location.href);if(_a17!==null){_a14=_a17[1];}return _a14;},_validateTabId:function(_a18){if(_a18){for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];if(cfg.key.toUpperCase()===_a18.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_a19){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _9ed());}else{var _a1a=Sage.Services.getService("ClientGroupContext");if(_a1a.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){_a1a.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _9ed());}}return _9ed;});},"Sage/MainView/ActivityMgr/nls/SnoozeOptions":function(){define("Sage/MainView/ActivityMgr/nls/SnoozeOptions",["Sage/LanguageList","dojo/_base/lang"],function(_a1b,lang){var nls={root:{fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",snoozeTitle:"Snooze Alarms"}};return lang.mixin(_a1b,nls);});},"url:Sage/UI/Controls/templates/AddressEdit.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table style=\"width:100%;height:100%;\">\r\n                {% for (var i = 0; i < $.fields.length; i++) { %}\r\n                {% if ($.fields[i].visible) { %}\r\n                    <tr>\r\n                        <td><label>{%= $.fields[i].fieldLabel %}</label></td>\r\n                        <td style=\"width: 150px;\">\r\n                            {% if ($.fields[i].xtype === 'picklistcombo') { %}\r\n                            <select data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                                dojoAttachPoint=\"_valueBox\"\r\n                                pickListName=\"{%= $.fields[i].pickList.pickListName %}\"\r\n                                storeMode=\"text\"\r\n                                style=\"width: 100%;\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'checkbox') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.CheckBox\"\r\n                                       checked=\"{%= $.fields[i].value %}\"\r\n                                       disabled=\"{%= $.fields[i].disabled %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'textfield') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                                style=\"width: 100%;\" type=\"text\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                                id=\"{%= $.id %}-{%= $.fields[i].name %}\"\r\n                                name=\"{%= $.fields[i].formClientId %}\"\r\n                                shouldPublishMarkDirty=\"false\"\r\n                                onChange=\"dijit.byId('{%= $.id %}').editorChange();\"\r\n                                textAlign=\"{%= $.fields[i].textAlign %}\" data-dojo-attach-point=\"focusNode\"\r\n                                maxLength=\"{%= $.fields[i].maxLength %}\" />\r\n                        </td>\r\n                   </tr>\r\n                {% } %}          \r\n                {% } %}            \r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>","Sage/QuickForms/Design/Editors/nls/OwnerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/OwnerAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_a1c,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_a1c,nls);});},"Sage/Groups/main":function(){define("Sage/Groups/main",["Sage/Groups/GroupNavigator","Sage/Groups/GroupContextService","Sage/Groups/GroupLookup","Sage/Groups/GroupManager"],function(){});},"Sage/Utility/Jobs":function(){define("Sage/Utility/Jobs",["Sage/Utility","dijit/registry","dojo/date/locale","dojo/string","dojo/_base/declare","Sage/UI/Dialogs","dojo/i18n!./nls/Jobs","dijit/ProgressBar","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/_base/array"],function(_a1d,_a1e,_a1f,_a20,_a21,_a22,_a23,_a24,_a25,lang,_a26){Sage.namespace("Utility.Jobs");lang.mixin(Sage.Utility.Jobs,{_intervalId:null,_triggerId:null,_jobService:null,_options:null,_pollIntervalInSeconds:5,progressDialog:false,progressBar:false,triggerJobAndDisplayProgressDialog:function(_a27){var self=this;self._reset();if(!this._validateOptions(_a27)){return;}self._options={key:_a27.key,closable:(typeof _a27.closable==="boolean")?_a27.closable:true,infoMessage:(typeof _a27.infoMessage==="string")?_a27.infoMessage:"",title:(typeof _a27.title==="string")?_a27.title:_a23.defaultProgressDialogTitle,showDismissButton:(typeof _a27.showDismissButton==="boolean")?_a27.showDismissButton:true,width:(typeof _a27.width==="number")?_a27.width:400,indeterminate:(typeof _a27.indeterminate==="boolean")?_a27.indeterminate:false,maximum:(typeof _a27.maximum==="number")?_a27.maximum:100,showCompleteNotification:(typeof _a27.showCompleteNotification==="boolean")?_a27.showCompleteNotification:false,showErrorNotification:(typeof _a27.showErrorNotification==="boolean")?_a27.showErrorNotification:true,failure:_a27.failure,complete:_a27.complete,ensureZeroFilters:_a27.ensureZeroFilters===true?true:false};if(self._options.ensureZeroFilters&&self._getAppliedFilterCount()>0){_a22.showError(_a23.filtersAppliedError,self._options.dialogTitle);return;}var _a28={descriptor:_a27.descriptor,key:_a27.key,parameters:_a27.parameters,success:function(_a29){self._showProgressDialog(_a29.response?_a29.response.triggerId:_a29.$key);},failure:function(xhr){var _a2a=self._getErrorMessage(xhr);if(self._options.showErrorNotification){_a22.showError(_a2a,self._options.dialogTitle);}if(self._options.failure){self._options.failure(_a2a);}}};this._jobService=Sage.Services.getService("JobService");this._jobService.scheduleJob(_a28);dojo.publish("/job/execution/changed",[self]);},_getAppliedFilterCount:function(){var list=_a1e.byId("list");return list&&list.getAppliedFilterCount();},formatElapsedTime:function(_a2b){if(!_a2b){_a2b="00:00:00.00000";}var _a2c=_a2b.split(".");return _a2c[0];},formatJobDescription:function(job){return !job?"":job.$descriptor;},formatDate:function(_a2d){if(!_a2d){return "";}var _a2e=new Date(parseInt(_a2d.substr(6)));return _a1f.format(_a2e,{selector:"datetime",fullYear:true});},formatUser:function(user){return user?user.$descriptor:"";},formatRepeatCount:function(_a2f){if(_a2f===-1){return _a23.repeatIndefinitely;}return _a2f;},getTriggerDescription:function(_a30){if(_a30){if(_a30.$descriptor){return _a30.$descriptor;}else{return _a30.$key;}}return "";},formatProgress:function(_a31){if(!_a31||typeof _a31!=="number"){_a31=0;}var _a32=new _a24({indeterminate:false,maximum:100,value:_a31});return _a32;},_validateOptions:function(_a33){if(!_a33){return false;}if(typeof _a33.key!=="string"){return false;}return true;},_reset:function(){this._intervalId=null;this._options=null;this._triggerId=null;},_getErrorMessage:function(xhr){var _a34=_a20.substitute(_a23.errorMessage,[this._options.key,xhr.status,xhr.statusText]);return _a34;},_getUnexpectedErrorMessage:function(){var _a35=_a20.substitute(_a23.unexpectedErrorMessage,[this._options.key]);return _a35;},getParameterRunAsUser:function(_a36){if(_a36){var _a37=this._getParameterValue(_a36,"RunAsUserId");return _a1d.getUserName(_a37);}return "";},_getParameterValue:function(_a38,name){var _a39="";if(_a38){_a26.some(_a38,function(_a3a,i){if(_a3a.name===name){_a39=_a3a.value;return true;}});}return _a39;},_updateProgressDialog:function(_a3b){if(this.progressBar){if(_a3b&&typeof _a3b.progress==="number"){this.progressBar.update({progress:_a3b.progress});}if(_a3b&&typeof _a3b.title==="string"){this.progressBar.update({title:_a3b.title});}if(_a3b&&typeof _a3b.infoMessage==="string"){var _a3c=dojo.byId("progressDialogMessageDiv");if(_a3c){_a3c.innerHTML=_a3b.infoMessage;}}}},_showProgressDialog:function(_a3d){var self=this;self._triggerId=_a3d;var _a3e=self._options;this.progressDialog=new dijit.Dialog({title:_a3e.title,style:dojo.string.substitute("width: ${0}px;",[_a3e.width]),closable:_a3e.closable});var _a3f=new dojo.create("div",{innerHTML:_a3e.infoMessage,style:"text-align: left; margin-top: 5px; margin-bottom: 10px",id:"progressDialogMessageDiv"});this.progressDialog.containerNode.appendChild(_a3f);var _a40=new dojo.create("div",{style:"text-align: left; margin-top: 5px; margin-bottom: 10px",id:"progressDialogLinkDiv","class":"display-none"});this.progressDialog.containerNode.appendChild(_a40);this.progressBar=new dijit.ProgressBar({style:"margin-top: 10px; margin-bottom: 20px",indeterminate:_a3e.indeterminate,maximum:_a3e.maximum,progress:0});this.progressDialog.containerNode.appendChild(this.progressBar.domNode);if(_a3e.showDismissButton){var _a41=new dijit.form.Button({label:_a23.cancelButtonCaption,id:"progressDialogCancelButton",style:"margin-right: 3px;",dojoType:"dijit.form.Button",onClick:function(_a42){self._cancelJob();}});var _a43=new dijit.form.Button({label:_a23.closeButtonCaption,id:"progressDialogCloseButton",onClick:function(_a44){self._closeProgressDialog();}});var _a45=new dojo.create("div",{id:"progressDialogButtonDiv",style:"text-align: center;"});_a45.appendChild(_a41.domNode);_a45.appendChild(_a43.domNode);this.progressDialog.containerNode.appendChild(_a45);}this.progressDialog.show();if(!this.progressDialog.helpIcon){lang.mixin(this.progressDialog,new _a25());this.progressDialog.createHelpIconByTopic("jobsProgressDialog");}this._intervalId=setInterval(function(){Sage.Utility.Jobs._updateProgress();},this._pollIntervalInSeconds*1000);},_cancelJob:function(){clearInterval(this._intervalId);if(!this.jobService){this._jobService=Sage.Services.getService("JobService");}this._jobService.interruptExecution(this._options);this._closeProgressDialog();},_closeProgressDialog:function(){clearInterval(this._intervalId);if(this.progressDialog){this.progressDialog.hide();this.progressDialog.destroyDescendants();}},_updateProgress:function(){var self=this;var _a46=Sage.Services.getService("JobService");var _a47={triggerId:this._triggerId,success:function(_a48){_a47={progress:_a48.progress};self._updateProgressDialog(_a47);var _a49=dijit.byId("progressDialogCancelButton");if(_a48.status==="Complete"){clearInterval(self._intervalId);var _a4a=dojo.byId("progressDialogMessageDiv");if(_a4a){_a4a.innerHTML=_a23.jobCompletedSuccessfully;}var _a4b=dojo.byId("progressDialogLinkDiv");if(_a4b&&_a48.result){var _a4c=_a48.result.split("://");if(_a4c.length>1){dojo.removeClass(_a4b,"display-none");_a4b.innerHTML=_a20.substitute("<a onclick=\"Sage.Utility.Jobs._closeProgressDialog();\" href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${1}');\" title=\"${0}\">${0}</a>",[_a48.trigger?_a48.trigger.$descriptor:"",_a4c[1]]);}}if(_a49){_a49.destroyRecursive();}if(self._options.showCompleteNotification){_a22.showInfo(_a23.jobCompletedSuccessfully,self._options.title);}if(self._options.complete){self._options.complete(_a48);}dojo.publish("/job/execution/changed",[self]);}if(_a48.status==="Error"){clearInterval(self._intervalId);_a22.closeProgressBar();if(self._options.showErrorNotification){var _a4d=_a48.statusText?self._getErrorMessage(_a48):self._getUnexpectedErrorMessage();_a22.showError(_a4d,self._options.title);}if(self._options.failure){self._options.failure(_a48);}if(_a49){_a49.destroyRecursive();}}},failure:function(_a4e){clearInterval(self._intervalId);_a22.closeProgressBar();if(self._options.showErrorNotification){var _a4f=_a4e.statusText?self._getErrorMessage(_a4e):self._getUnexpectedErrorMessage();_a22.showError(_a4f,self._options.title);}if(self._options.failure){self._options.failure(_a4e);}var _a50=dijit.byId("progressDialogCancelButton");if(_a50){_a50.destroyRecursive();}}};_a46.getExecution(_a47);},refreshList:function(_a51){try{var _a52=dijit.byId("list");if(_a52){var _a53=Sage.Services.getService("ClientGroupContext");if(_a53){var ctx=_a53.getContext();if(_a51===ctx.CurrentGroupID){_a52.refreshView(_a51);}}}}catch(e){}},getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _a54=svc.getContext();return _a54.CurrentGroupID;}});return Sage.Utility.Jobs;});},"Sage/QuickForms/Design/Editors/nls/NonVisibleAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NonVisibleAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_a55,lang){var nls={root:{titleText:"Advanced",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type."}};return lang.mixin(_a55,nls);});},"Sage/MainView/IntegrationContract/nls/InvoiceRTDV":function(){define("Sage/MainView/IntegrationContract/nls/InvoiceRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_a56,lang){var nls={root:{dialogCaption:"Invoice Details",loadingText:"loading...",lblInvoiceCaption:"Invoice:",lblNetTotalCaption:"Invoice Amount:",lblInvoiceDateCaption:"Invoice Date:",lblInvoiceDiscountAmountCaption:"Discount:",lblDueDateCaption:"Due Date:",lblInvoiceDiscountPercentCaption:"Discount Percent:",lblCustomerPOCaption:"Customer PO:",lblCarrierTotalPriceCaption:"Shipping:",lblSettlementDiscountPercentCaption:"Settlement Discount Percent:",lblTaxCaption:"Tax:",lblSettlementDiscountTermsCaption:"Payment Terms:",lblNotesCaption:"Comments:",lblOperatingCompanyCurrencyCaption:"Operating Company Currency:",lblCostTotalCaption:"Total Cost:",lblOperatingCompanyCurrencyExchangeRateDateCaption:"Exchange Rate Date:",lblProfitTotalCaption:"Profit Total:",lblOperatingCompanyCurrencyExchangeRateCaption:"Exchange Rate:",lblPriceListCaption:"Price List:",lblOCCurrencyCaption:"Operating Company Currency:",lblCurrencyCaption:"Currency:",lblSalesPersonCaption:"Sales Person:",detailsTabTitle:"Details",addressTabTitle:"Addresses",invoiceLinesTabTitle:"Invoice Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdInvoice_Name:"Invoice #",grdInvoice_Date:"Invoice Date",grdInvoice_Amount:"Invoice Amount",grdInvoice_PO:"Customer PO",grdInvoice_PaymentTerms:"Payment Terms",grdInvoice_NetTotal:"Net Total",grdInvoice_Tax:"Tax",grdAddress_Name:"Description",grdAddress_address1:"Address 1",grdAddress_address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Postal Code",grdItems_ActualPrice:"Actual Price",grdItems_ChargesTotal:"Charges Total",grdItems_Commodity:"Commodity",grdItems_CommodityDimension:"Dimension",grdItems_CommodityVariant:"Variant",grdItems_DiscountTotal:"Discount Total",grdItems_GrossTotal:"Gross Total",grdItems_InitialPrice:"Initial Price",grdItems_Line:"Line Number",grdItems_NetTotal:"Net Total",grdItems_Quantity:"Quantity",grdItems_Status:"Status",grdItems_TaxTotal:"Tax Total",grdItems_Type:"Line Type",grdItems_UnitOfMeasure:"Unit",grdPayments_Charges:"Charges",grdPayments_Currency:"Currency",grdPayments_Date:"Date",grdPayments_Discounts:"Discounts",grdPayments_GrossTotal:"Gross Total",grdPayments_Name:"Name",grdPayments_NetTotal:"Net Total",grdPayments_ProcessDate:"Date Processed",grdPayments_Status:"Status",grdPayments_Tax:"Taxes",grdPayments_TenderReference:"Tender Reference",grdPayments_TenderType:"Tender Type",grdPayments_Type:"Type",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_ExceptionReason:"Exception Reason",grdDeliveries_Method:"Method",grdDeliveries_Number:"Number",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_Status:"Status",grdDeliveries_Type:"Type",btnCloseCaption:"Close"}};return lang.mixin(_a56,nls);});},"Sage/UI/ToggleButton":function(){require({cache:{"url:Sage/templates/ToggleButton.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\r\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\t\t\t\tid=\"${id}_label\"\r\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\t\t\t></span\r\t\t></span\r\t></span\r\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r"}});define("Sage/UI/ToggleButton",["dijit/form/Button","dijit/_Widget","dojo/text","dojo/text!../templates/ToggleButton.html","dojo/_base/declare"],function(_a57,_a58,text,_a59,_a5a){var _a5b=_a5a("Sage.UI.ToggleButton",_a57,{templateString:_a59,__setValueAttr:{node:"valueNode",type:"attribute",attribute:"value"},getValue:function(){return this.get("label");},setValue:function(val){this.set("label",val);},_onButtonClick:function(e){}});return _a5b;});},"Sage/UI/nls/SDataLookup":function(){define("Sage/UI/nls/SDataLookup",["Sage/LanguageList","dojo/_base/lang"],function(_a5c,lang){var nls={root:{closeText:"Close",cancelText:"Cancel",loadingText:"Loading...",noDataText:"No records returned"}};return lang.mixin(_a5c,nls);});},"Sage/QuickForms/Design/nls/RowDesigner":function(){define("Sage/QuickForms/Design/nls/RowDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_a5d,lang){var nls={root:{displayNameText:"Row"}};return lang.mixin(_a5d,nls);});},"Sage/MainView/ActivityMgr/ActivityListPanelConfig":function(){define("Sage/MainView/ActivityMgr/ActivityListPanelConfig",["dojo/i18n","Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(i18n,_a5e,_a5f,_a60,_a61,_a62,_a63,_a64,_a65,_a66,_a67){var _a68=_a66("Sage.MainView.ActivityMgr.ActivityListPanelConfig",[_a5e],{constructor:function(){this._nlsResources=_a67;this._listId="Activities";this._resourceKind="userActivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_a65.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);dojo.subscribe("/entity/activityAttendees/updated",this._onListRefresh);},_onListRefresh:function(_a69){var _a6a=Sage.Services.getService("ActivityService");_a6a.refreshList("activities");},_getSelect:function(){var _a6b=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status","Activity/Details/AttendeeCount"];return _a6b;},_getInclude:function(){var _a6c=["Activity","$descriptors"];return _a6c;},_getSort:function(){var sort=[{attribute:"Activity.StartDate",descending:true}];return sort;},_getWhere:function(){var _a6d=(this._currentUserId)?dojo.string.substitute("(User.Id eq \"${0}\") and (Status ne \"asDeclned\" ) and (Activity.Type ne \"atLiterature\" ) ",[this._currentUserId]):"";return _a6d;},_getStructure:function(){var _a6e="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _a6f="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _a70="<img src='images/icons/Alarm_16x16.gif' title='"+this._nlsResources.colNameAlarm+"' alt='"+this._nlsResources.colNameAlarm+"' />";var _a71="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _a72=this._nlsResources.colNameType||"Activity Type";var _a73=this._nlsResources.colNameStartDate||"Start Date";var _a74=this._nlsResources.colNameDuration||"Duration";var _a75=this._nlsResources.colNameAccount||"Account/Company";var _a76=this._nlsResources.colNameRegarding||"Regarding";var _a77=this._nlsResources.colNamePriority||"Priority";var _a78=this._nlsResources.colNameUserId||"Leader";var _a79=this._nlsResources.colNameTypeName||"Type";var _a7a=this._nlsResources.colNameContactName||"Name";var _a7b=this._nlsResources.colNameAssociationCount||"Participant Count";var _a7c=[{field:"Status",name:_a71,type:_a5f.activityConfirmStatusCell,width:"20px"},{field:"Alarm",name:_a70,type:_a5f.activityAlarmCell,width:"20px"},{field:"Activity.Attachment",name:_a6e,type:_a5f.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_a6f,type:_a5f.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_a72,type:_a5f.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_a73,type:_a64,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_a74,type:_a5f.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_a79,type:_a5f.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_a7a,type:_a5f.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_a75,type:_a5f.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_a76,width:"100px"},{field:"Activity.Priority",name:_a77,width:"40px"},{field:"Activity.Leader",name:_a78,type:_a5f.activityLeaderCell,width:"200px"},{field:"Activity.Details.AttendeeCount",name:_a7b,width:"90px"}];return _a7c;},_getSummaryConfig:function(){var _a7d=new _a63({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _a7e=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _a7f=this._getFormatterScope();var _a80={structure:_a7e,layout:"layout",store:_a7d,rowHeight:170,rowsPerPage:10,formatterScope:_a7f};return _a80;},_getDetailConfig:function(){var _a81=this._getFormatterScope();var _a82=this._getSummaryDetailRequestConfig();var _a83={resourceKind:this._resourceKind,requestConfiguration:_a82,templateLocation:"MainView/ActivityMgr/Templates/UserActivityDetailSummary.html"};return _a83;},_getSummaryListRequestConfig:function(){var _a84={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _a84;},_getSummaryDetailRequestConfig:function(){var _a85={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _a85;},_getFormatterScope:function(){var _a86=this._getSummaryListRequestConfig();var _a87=new _a61({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_a86});return _a87;},_getToolBars:function(){var _a88={items:[]};return _a88;},getTimelessProperty:function(_a89){return "Activity.Timeless";}});return _a68;});},"Sage/Utility/_LocalStorageMixin":function(){define("Sage/Utility/_LocalStorageMixin",["dojo/_base/declare","dojox/storage/LocalStorageProvider"],function(_a8a,_a8b){return _a8a("Sage.Utility._LocalStorageMixin",null,{localStorageProvider:null,_setLocalStorageProviderAttr:function(_a8c){this.localStorageProvider=_a8c;},_getLocalStorageProviderAttr:function(){this._ensureProvider();return this.localStorageProvider;},_ensureProvider:function(){var _a8d;if(!this.localStorageProvider){_a8d=new _a8b();_a8d.initialize();this._setLocalStorageProviderAttr(_a8d);}},saveToLocalStorage:function(key,_a8e,ns){var _a8f=this._getLocalStorageProviderAttr(),_a90=ns,_a91=key;if(!_a8f.isValidKey(key)){_a91=this._stripBadValues(key);}if(!_a8f.isValidNamespace(ns)){_a90=this._stripBadValues(ns);}_a8f.put(_a91,_a8e,function(_a92,key,_a93){if(_a92===_a8f.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_a93);}},_a90);var mod=new Date(Date.now());_a8f.put(_a91+"_modified_at",mod,function(_a94,key,_a95){if(_a94===_a8f.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_a95);}},_a90);_a8f.put("modified_at",mod,function(_a96,key,_a97){if(_a96===_a8f.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_a97);}},_a90);},getFromLocalStorage:function(key,ns){var _a98=this._getLocalStorageProviderAttr(),_a99=ns,_a9a=key;if(!_a98.isValidKey(key)){_a9a=this._stripBadValues(key);}if(!_a98.isValidNamespace(ns)){_a99=this._stripBadValues(ns);}return _a98.get(_a9a,_a99);},getKeys:function(ns){var _a9b=this._getLocalStorageProviderAttr();return _a9b.getKeys(ns);},clear:function(ns){var _a9c=this._getLocalStorageProviderAttr();if(ns){_a9c.clear(ns);}else{_a9c.clear();}},_stripBadValues:function(key){return key.replace(/[^A-Za-z0-9]/g,"-");}});});},"url:Sage/MainView/IntegrationContract/templates/SalesOrderRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesOrderDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesOrderDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesOrder_reference\">{%= $.lblSalesOrderCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesOrderContainer\" dojoAttachPoint=\"salesOrderContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesOrderContent\" dojoAttachPoint=\"salesOrderContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_OrderDate\">{%= $.lblOrderDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_OrderDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesOrder_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderAddresses\" dojoAttachPoint=\"sdgrdSalesOrderAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesOrderAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesOrderLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderLines_Grid\" dojoAttachPoint=\"sdgrdSalesOrderLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/UI/SummaryContents":function(){define("Sage/UI/SummaryContents",["dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/_base/declare"],function(_a9d,_a9e,lang,_a9f){var _aa0=_a9f("Sage.UI.SummaryContents",[_a9d,_a9e],{widgetsInTemplate:true,templateLocation:"",templateString:"",widgetTemplate:"",constructor:function(_aa1){var _aa2=["Sage"];var _aa3=_aa1.templateLocation.split("/");for(var i=0;i<_aa3.length-1;i++){_aa2.push(_aa3[i]);}var path="dojo/i18n!"+_aa2.join("/")+"/nls/"+_aa3[_aa3.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));this.templateString=dojo["cache"]("Sage",_aa1.templateLocation||this.templateLocation);var _aa4=eval(this.templateString);this.widgetTemplate=new Simplate(_aa4);}});return _aa0;});},"Sage/TaskPane/nls/OpportunityTasksTasklet":function(){define("Sage/TaskPane/nls/OpportunityTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_aa5,lang){var nls={root:{updateOpportunitiesTitle:"Update Opportunities",opportunityStatisticsTitle:"Opportunity Statistics"}};return lang.mixin(_aa5,nls);});},"Sage/UI/Filters/nls/CheckBoxFilter":function(){define("Sage/UI/Filters/nls/CheckBoxFilter",["Sage/LanguageList","dojo/_base/lang"],function(_aa6,lang){var nls={root:{loadingText:"Loading...",moreText:"Edit Items",clearText:"Clear",emptyText:"(Blank)",nullText:"(Null)",ofText:"/"}};return lang.mixin(_aa6,nls);});},"Sage/UI/Alarms/UnconfirmedAlarm":function(){define("Sage/UI/Alarms/UnconfirmedAlarm",["Sage/_Templated","dijit/_Widget","dijit/form/CheckBox","Sage/Utility/Activity","Sage/UI/Alarms/AlarmCountDown","Sage/Link","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n","dojo/i18n!./nls/ActivityAlarm","dojo/_base/declare"],function(_aa7,_aa8,_aa9,_aaa,_aab,link,_aac,i18n,_aad,_aae){var _aaf=_aae("Sage.UI.Alarms.UnconfirmedAlarm",[_aa8,_aa7],{widgetsInTemplate:true,userNotification:null,selected:false,key:"",_tooltips:[],widgetTemplate:new Simplate(["<div class=\"alarm-item\">","<table style=\"width:100%\" dojoAttachPoint=\"_item\" dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">","<col width=\"50px\" />","<col width=\"50%\" />","<col width=\"50%\" />","<tr>","{% var imageClass = Sage.Utility.Activity.getActivityImageClass($.userNotification.Activity.Type, \"medium\"); %}","<td class=\"alarm-icon\">","<div class=\"dijitIcon dijitMenuItemIcon Global_Images icon24x24 {%= imageClass %}\" title=\"{%= $.cleanText($.userNotification.Activity.Description) %}\"></div>","<input type=\"checkbox\" data-dojo-type=\"dijit.form.CheckBox\" size=\"30px\" dojoAttachPoint=\"_checkbox\" />","</td>","<td class=\"alarm-content\">","{% var desc = $.userNotification.Activity.Description;if (!desc) { desc = Sage.Utility.Activity.getActivityTypeName($.userNotification.Activity.Type); } %}","<div class=\"alarm-description\">","{% if ($.userNotification.Activity.Recurring) { %}<div class=\"Global_Images icon16x16 icon_recurring\" title=\"{%= $.recurringText %}\" > </div>&nbsp;&nbsp;{% } %}","<a href=\"javascript:Sage.Link.editConfirmation('{%= $.userNotification.$key %}')\">{%= desc %}</a>","</div>","<div>{%= Sage.Utility.Activity.formatActivityStartDate($.userNotification.Activity.StartDate) %}</div>","<div>{%= $.leaderText %}: {%= $.userNotification.Activity.Leader.$descriptor %}</div>","{% if (($.userNotification.Activity.LeadId) && ($.userNotification.Activity.LeadId.trim() !== \"\")) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_lead\" dojoAttachPoint=\"_leadnode\">","{%= $.leadText %}: <a href=\"Lead.aspx?entityid={%= $.userNotification.Activity.LeadId %}\">{%= $.userNotification.Activity.LeadName %}</a>","</div>","{% if ($.userNotification.Activity.AccountName !== \"\") { %}","<div>{%= $.companyText %}: {%= $.userNotification.Activity.AccountName %}</div>","{% } %}","{% } else { %}","{% if ($.userNotification.Activity.ContactName !== \"\") { %}","<div id=\"{%= $.userNotification.Activity.$key %}_con\" dojoAttachPoint=\"_connode\">","{%= $.contactText %}: <a href=\"Contact.aspx?entityid={%= $.userNotification.Activity.ContactId %}\">{%= $.userNotification.Activity.ContactName %}</a>","</div>","{% } %}","{% if ($.userNotification.Activity.AccountName !== \"\") { %}","<div id=\"{%= $.userNotification.Activity.$key %}_acc\" dojoAttachPoint=\"_accnode\">","{%= $.accountText %}: <a href=\"Account.aspx?entityid={%= $.userNotification.Activity.AcountId %}\">{%= $.userNotification.Activity.AccountName %}</a>","</div>","{% } %}","{% } %}","</td><td class=\"alarm-content\">","{% if ($.userNotification.Activity.Location) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_Location\" dojoAttachPoint=\"_location\">","{%= $.locationText %}: {%= $.userNotification.Activity.Location %}&nbsp;","</div>","{% } %}","{% if ($.userNotification.Activity.OpportunityName) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_opp\" dojoAttachPoint=\"_oppnode\">","{%= $.opportunityText %}: <a href=\"Opportunity.aspx?entityid={%= $.userNotification.Activity.OpportunityId %}\">{%= $.userNotification.Activity.OpportunityName %}</a>","</div>","{% } %}","{% if ($.userNotification.Activity.TicketNumber) { %}","<div id=\"{%= $.userNotification.Activity.$key %}_tick\" dojoAttachPoint=\"_ticknode\">","{%= $.ticketText %}: <a href=\"Ticket.aspx?entityid={%= $.userNotification.Activity.TicketId %}\">{%= $.userNotification.Activity.TicketNumber %}</a>","</div>","{% } %}","</td>","</tr>","</table>","</div>"]),constructor:function(){dojo.mixin(this,_aad);},postCreate:function(){this.inherited(arguments);this._checkbox.set("checked",this.selected);this._setupTooltips();},_setuserNotificationAttr:function(un){this.userNotification=un;this.key=un["$key"];},_setupTooltips:function(){if(this.userNotification.Activity.AccountName!==""){this._tooltips.push(new _aac({connectId:this._accnode,position:["below"],entityName:"accounts",entityId:this.userNotification.Activity.AccountId}));}if(this.userNotification.Activity.ContactName!==""){this._tooltips.push(new _aac({connectId:this._connode,position:["below"],entityName:"contacts",entityId:this.userNotification.Activity.ContactId}));}if(this.userNotification.Activity.LeadName!==""){this._tooltips.push(new _aac({connectId:this._leadnode,position:["below"],entityName:"leads",entityId:this.userNotification.Activity.LeadId}));}},closeTooltips:function(){for(var i=0;i<this._tooltips.length;i++){this._tooltips[i].close();}},cleanText:function(str){if(!str){return "";}var _ab0=new RegExp("[/:\"*?<>|\r\n'\"`]+","g");return str.replace(_ab0,"");},_onHover:function(){dojo.addClass(this.domNode,"alarm-item-hover");},_onUnhover:function(){dojo.removeClass(this.domNode,"alarm-item-hover");},_onClick:function(){this.selected=!this.selected;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_setSelectedAttr:function(_ab1){this.selected=_ab1;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_getSelectedAttr:function(){return this.selected;},_setSelectedStyle:function(){if(this.selected){dojo.addClass(this.domNode,"alarm-item-selected");}else{dojo.removeClass(this.domNode,"alarm-item-selected");}}});return _aaf;});},"Sage/Utility/File/nls/LibraryDocument":function(){define("Sage/Utility/File/nls/LibraryDocument",["Sage/LanguageList","dojo/_base/lang"],function(_ab2,lang){var nls={root:{failureNumber:"Failure #${0}: ",percentComplete:"Uploading, please wait...",uploadError:"There was an error attempting to upload one or more files (failed: ${0}; succeeded: ${1}).",invalidContext:"The file(s) cannot be uploaded outside of the Sales Library.",unknownError:"An unknown error occurred uploading a file."}};return lang.mixin(_ab2,nls);});},"Sage/UI/Controls/EntityInfoToolTip":function(){define("Sage/UI/Controls/EntityInfoToolTip",["dijit/Tooltip","Sage/Data/SingleEntrySDataStore","Sage/Utility","dojo/string","dojo/html","dojo/i18n!./nls/EntityInfoToolTip","dojo/_base/lang","dojo/_base/declare"],function(_ab3,_ab4,util,_ab5,_ab6,_ab7,lang,_ab8){var _ab9=_ab8("Sage.UI.Controls.EntityInfoToolTip",_ab3,{entityName:"",entityId:"",dataProps:[],include:[],_store:null,_storeOptions:null,constructor:function(_aba){lang.mixin(this,_ab7);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.label="Loading...";},open:function(_abb){if(!this.entityId||this.entityId.trim()===""){this.set("label",this.noInfoText);}else{if(!this._store){if(this.dataProps.length<1){this.dataProps=this._findPredefined(this.entityName);}if(this.dataProps.length<1){this.set("label",this.errorText);return;}this._setupStore();this._fetchData(_abb);}}this.inherited(arguments);},_setDataPropsAttr:function(_abc){this._store=false;this.set("label",this.loadingText);this.dataProps=_abc;},_getDataPropsAttr:function(){return this.dataProps;},_setEntityIdAttr:function(_abd){this._store=false;this.set("label",(_abd==="")?this.noInfoText:this.loadingText);this.entityId=_abd;},_getEntityIdAttr:function(){return this.entityId;},_setupStore:function(){var _abe=[],sel="",_abf=[],_ac0={};for(var i=0;i<this.dataProps.length;i++){sel=this.dataProps[i].property;if(sel.indexOf(".")>0){var _ac1=sel.split("."),inc="";for(var p=0;p<_ac1.length-1;p++){inc+=_ac1[p];if(!_ac0[inc]){_abf.push(inc);_ac0[inc]=true;}inc+="/";}sel=sel.replace(/\./g,"/");}_abe.push(sel);}var self=this;var _ac2={include:dojo.isArray(this.include)?this.include:[],select:_abe,resourceKind:self.entityName};if(_abf.length>0){_ac2["include"]=_abf;}var _ac3=new _ab4(_ac2);self._storeOptions=_ac2;self._store=_ac3;},_fetchData:function(_ac4){var t=_ac4;this._store.fetch({predicate:"\""+this.entityId+"\"",onComplete:function(data){this.displayResults(data,t);},onError:function(e){this.set("label",this.errorText);},scope:this});},displayResults:function(data,_ac5){var html="<table class=\"propertyTip\">";for(var i=0;i<this.dataProps.length;i++){var dp=this.dataProps[i];var val=util.getValue(data,dp.property);if(val){html+=_ab5.substitute("<tr><td class=\"caption\">${0}</td><td class=\"value\">${1}</td></tr>",[dp.label,val]);}}html+="</table>";this.set("label",html);this.close();this.open(_ac5);},_findPredefined:function(_ac6){switch(_ac6){case "accounts":return [{label:this.mainText||"Main Phone:",property:"MainPhone"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.tollFreeText||"Toll Free",property:"TollFree"},{label:this.urlText||"Web URL",property:"WebAddress"}];case "contacts":return [{label:this.workText||"Work:",property:"WorkPhone"},{label:this.mobileText||"Mobile:",property:"Mobile"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.emailText||"Email:",property:"Email"}];case "leads":return [{label:this.workText||"Work:",property:"WorkPhone"},{label:this.mobileText||"Mobile:",property:"Mobile"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.emailText||"Email:",property:"Email"}];case "tickets":return [{label:this.contactNameText||"Contact:",property:"Contact.Name"},{label:this.phoneText||"Phone:",property:"Contact.WorkPhone"},{label:this.emailText||"Email:",property:"Contact.Email"}];case "opportunities":return [{label:this.accountText||"Account:",property:"Account.AccountName"},{label:this.mainText||"Main Phone:",property:"Account.MainPhone"}];}return [];}});return _ab9;});},"Sage/QuickForms/Design/Editors/TextBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/TextBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/TextBoxBasicPropertyEditor"],function(_ac7,lang,_ac8,_ac9,_aca,_acb,_acc,_acd,_ace,_acf,_ad0,_ad1){return _ac7("Sage.QuickForms.Design.Editors.TextBoxBasicPropertyEditor",[_ac9,_acf,_ace],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.linesTooltipText %}\">","<label>{%= $.linesText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_lines\" data-dojo-props=\"constraints:{min:0,max:1000,places:0}\" data-dojo-attach-event=\"onChange:_onLinesChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_lines:null,_isReadOnly:null,_tooltip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",linesText:"Lines:",linesTooltipText:"Number of lines of text displayed.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_ad1);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._lines.set("value",this._designer.get("lines"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));var D=Sage.QuickForms.Design,_ad2=this._designer;if(_ad2 instanceof D.PhoneControlDesigner||_ad2 instanceof D.UrlControlDesigner||_ad2 instanceof D.EmailControlDesigner){_ac8.set(this._lines.domNode.parentNode,"display","none");}},_onCaptionChange:function(_ad3){if(this.isSuspended()){return;}this._designer.set("caption",_ad3);},_onCaptionAlignmentChange:function(_ad4){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_ad4);},_onLinesChange:function(_ad5){if(this.isSuspended()||!this._lines.isValid()){return;}this._designer.set("lines",_ad5);},_onIsReadOnlyChange:function(_ad6){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_ad6);},_onToolTipChange:function(_ad7){if(this.isSuspended()){return;}this._designer.set("toolTip",_ad7);}});});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/SpeedSearchLookup":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/SpeedSearchLookup",["Sage/LanguageList","dojo/_base/lang"],function(_ad8,lang){var nls={root:{dialogTitle:"Lookup Participants",okText:"Add Selected",cancelText:"Close",noDataText:"No records match the selection criteria",srchBtnCaption:"Search",colName:"Name",colType:"Type",colAccount:"Company/Account",colTitle:"Title",colEmail:"Email",colWorkPhone:"Work Phone"}};return lang.mixin(_ad8,nls);});},"Sage/MainView/ReportMgr/Crystal/MultiselectStringParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectStringParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint=\"divMultipleValues\" style=\"padding-top: 5px;\">\r\n            <center>\r\n                <table cellspacing=\"10\">\r\n                    <tr>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msAvailableValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAdd\" dojoAttachEvent=\"onClick:_cmdAdd_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdRemove\" dojoAttachEvent=\"onClick:_cmdRemove_OnClick\" >{%= Sage.Utility.htmlEncode(\"<\") %}</div>\r\n                        </td>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msSelectedValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px; padding-left: 10px\">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" />\r\n            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/MultiselectStringParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/MultiselectStringParameterEditor","dojo/text!./templates/MultiselectStringParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","dijit/form/MultiSelect","dijit/form/TextBox","Sage/Utility"],function(_ad9,_ada,_adb,_adc,_add,_ade,_adf,_ae0,_ae1,_ae2,_ae3){var _ae4=_ae3.makeTemplateFromString(_adc);var _ae5=_ad9("Sage.MainView.ReportMgr.Crystal.MultiselectStringParameterEditor",[_add],{_nlsResources:_adb,widgetTemplate:_ae4,value:null,_setValueAttr:function(_ae6){this._set("value",_ae6);},_getValueAttr:function(){var self=this;this._promptParameter.currentValues=[];var _ae7=null;_ada.forEach(this.msSelectedValuesWidget.domNode,function(_ae8,i){var _ae9=_ae8.value;if(!isNaN(_ae9)&&_ae9!==""){_ae7=self._getOriginalParameterValue(_ae9);self._promptParameter.currentValues.push(_ae7);}else{var _aea=_ae8.innerHTML;_ae7=self._getParameterValue(_aea);self._promptParameter.currentValues.push(_ae7);}});return this._promptParameter;},constructor:function(_aeb){},startup:function(){this.inherited(arguments);_ade.setDomNodeVisible(this.divValidationMessage,false);_ade.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);this._initializeValuesMultiselect();this._initializeMessages();},isValid:function(){var msg="";var _aec=true;if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.msSelectedValuesWidget.domNode.length===0){msg=_adb.txtPleaseSpecifyValue;_aec=false;}}this._showValidationMessage(msg);return _aec;},_cmdAddCustom_OnClick:function(){var _aed=this.txtCustomValue.get("value");if(_aed&&_aed!==""){if(this._valueWithinMinMaxLength(_aed)){var _aee=dojo.doc.createElement("option");_aee.innerHTML=_aed;_aee.value=_aed;this.msSelectedValuesWidget.containerNode.appendChild(_aee);this._showValidationMessage("");}else{this._showValidationMessage(this._getMinMaxLengthValidationMessage(_aed));}}else{this._showValidationMessage(_adb.txtPleaseSpecifyValue);}},_cmdAdd_OnClick:function(){this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);},_cmdRemove_OnClick:function(){_ada.forEach(this.msSelectedValuesWidget.domNode,function(_aef,i){if(_aef.selected&&(isNaN(_aef.value)||_aef.value==="")){dojo.destroy(_aef);}});this.msAvailableValuesWidget.addSelected(this.msSelectedValuesWidget);},_initializeMessages:function(){var _af0=null;if(this._minimum&&!this._maximum){_af0=dojo.replace(_adb.txtTheMinimumLengthForThisField,[this._minimum]);}if(!this._minimum&&this._maximum){_af0=dojo.replace(_adb.txtTheMaximumLengthForThisField,[this._maximum]);}if(this._minimum&&this._maximum){_af0=dojo.replace(_adb.txtTheValueMustBeBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_af0);_ade.setDomNodeVisible(this.divMinMaxMessage,(_af0!==null));},_valueWithinMinMaxLength:function(_af1){if(this._minimum&&(_af1.length<this._minimum)){return false;}if(this._maximum&&(_af1.length>this._maximum)){return false;}return true;},_getMinMaxLengthValidationMessage:function(_af2){var _af3="";if(this._minimum&&(_af2.length<this._minimum)){_af3=dojo.replace(_adb.txtTheMinimumLengthForThisField,[this._minimum]);return _af3;}if(this._maximum&&(_af2.length>this._maximum)){_af3=dojo.replace(_adb.txtTheMaximumLengthForThisField,[this._maximum]);return _af3;}return "";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_ade.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getParameterValue:function(_af4){var _af5={className:"CrystalReports.ParameterFieldDiscreteValue",computedText:"\""+_af4+"\"",description:_af4,displayText:_af4,discreteValue:{actualValue:_af4,actualValueType:"String",value:_af4,valueType:"String"},rangeValue:{beginValue:null,beginValueType:"Empty",endValue:null,endValueType:"Empty",lowerBoundType:"NoBound",upperBoundType:"NoBound"}};return _af5;},_initializeValuesMultiselect:function(){var self=this;_ada.forEach(this._values,function(_af6,i){var _af7=dojo.doc.createElement("option");_af7.innerHTML=_af6.description;_af7.value=_af6._id;_ada.some(self._initialIds,function(_af8,i){if(_af6._id===_af8){_af7.selected=true;return true;}});self.msAvailableValues.appendChild(_af7);});this.msAvailableValuesWidget=new dijit.form.MultiSelect({},this.msAvailableValues);dojo.setStyle(this.msAvailableValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget=new dijit.form.MultiSelect({},this.msSelectedValues);dojo.setStyle(this.msSelectedValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);_ada.forEach(this._initialCustomValues,function(_af9,i){var _afa=_af9.value;var _afb=dojo.doc.createElement("option");_afb.innerHTML=_afa;_afb.value=_afa;_afb.selected=true;self.msSelectedValuesWidget.containerNode.appendChild(_afb);});}});return _ae5;});},"Sage/QuickForms/Design/Editors/DataGridAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DataGridAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DataGridAdvancedPropertyEditor"],function(_afc,lang,_afd,_afe,_aff,_b00,_b01,_b02,_b03,_b04,_b05){return _afc("Sage.QuickForms.Design.Editors.DataGridAdvancedPropertyEditor",[_afd,_b03,_b02],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.renderVerticalTooltipText %}\">","<label>{%= $.renderVerticalText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_renderVertical\" data-dojo-attach-event=\"onChange:_onRenderVerticalChange\"></div>","</div>","<div class=\"editor-field\" style=\"display:none;\" title=\"{%= $.showSortIconTooltipText %}\">","<label>{%= $.showSortIconText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_showSortIcon\" data-dojo-attach-event=\"onChange:_onShowSortIconChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.emptyTableRowTooltipText %}\">","<label>{%= $.emptyTableRowText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_emptyTableRowString\" data-dojo-attach-event=\"onChange:_onEmptyTableRowStringChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.expandableRowsTooltipText %}\">","<label>{%= $.expandableRowsText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_expandableRows\" data-dojo-attach-event=\"onChange:_onExpandableRowsChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.dataSourceTooltipText %}\">","<label>{%= $.dataSourceText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_dataSource\" data-dojo-attach-event=\"onChange:_onDataSourceChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlId:null,_controlType:null,_dataSource:null,_emptyTableRowString:null,_expandableRows:null,_renderVertical:null,_showSortIcon:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",emptyTableRowText:"Empty Table Row Text:",emptyTableRowTooltipText:"Text to display if grid shows no data.",expandableRowsText:"Expandable Rows:",expandableRowsTooltipText:"Allows user to expand grid rows to show more text.",renderVerticalText:"Render Vertically:",renderVerticalTooltipText:"Show grid rows as columns.",showSortIconText:"Show Sort Icon:",showSortIconTooltipText:"Show sort icon on columns that are sortable.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",constructor:function(){lang.mixin(this,_b05);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._dataSource.set("value",this._designer.get("dataSource"));this._emptyTableRowString.set("value",this._designer.get("emptyTableRowText"));this._expandableRows.set("value",this._designer.get("expandableRows"));this._renderVertical.set("value",this._designer.get("renderVertical"));this._showSortIcon.set("value",this._designer.get("showSortIcon"));this._visible.set("value",this._designer.get("visible"));},_onControlTypeChange:function(_b06){},_onControlIdChange:function(_b07){},_onDataSourceChange:function(_b08){},_onEmptyTableRowStringChange:function(_b09){if(this.isSuspended()){return;}this._designer.set("emptyTableRowText",_b09);},_onExpandableRowsChange:function(_b0a){if(this.isSuspended()){return;}this._designer.set("expandableRows",_b0a);},_onRenderVerticalChange:function(_b0b){if(this.isSuspended()){return;}this._designer.set("renderVertical",_b0b);},_onShowSortIconChange:function(_b0c){if(this.isSuspended()){return;}this._designer.set("showSortIcon",_b0c);},_onVisibleChange:function(_b0d){if(this.isSuspended()){return;}this._designer.set("visible",_b0d);}});});},"Sage/UI/Alarms/AlertPane":function(){define("Sage/UI/Alarms/AlertPane",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dojo/_base/declare"],function(_b0e,_b0f,_b10,_b11){var _b12=_b11("Sage.UI.Alarms.AlertPane",[_b10,_b0e,_b0f],{widgetsInTemplate:true,constructor:function(){this.alertItems=[];this.alertWidgets=[];this.store=null;this._drawn=false;this.selectedAlerts={};},onShow:function(){},_hasDifferentItems:function(_b13){if(_b13.length!==this.alertWidgets.length){return true;}if(this.alertItems.length===_b13.length){for(var i=0;i<_b13.length;i++){if(this.alertItems[i]["$key"]!==_b13[i]["$key"]){return true;}}return false;}return true;},_setAlertItemsAttr:function(_b14,_b15){if(!this._hasDifferentItems(_b14)){return;}this.alertItems=_b14;this._drawn=false;this.selectedAlerts={};var len=this.alertWidgets.length;for(var i=0;i<len;i++){var wid=this.alertWidgets.pop();if(wid.selected){this.selectedAlerts[wid.key]=1;}wid.destroy();}if(len===0&&this.alertItems.length>0){this.selectedAlerts[this.alertItems[0]["$key"]]=1;}this._drawAlerts();this._alertChanged(this.alertWidgets.length);},_ensureOneSelected:function(){var len=this.alertWidgets.length-1;for(var i=0;i<len;i++){if(this.alertWidgets[i].get("selected")){return;}}if(this.alertWidgets.length>0){this.alertWidgets[0].set("selected",true);}},_drawAlerts:function(){if(this._drawn){return;}dojo.html.set(this._alertContents,"");if(this.alertItems){for(var i=0;i<this.alertItems.length;i++){this._addAlert(this.alertItems[i]);}this._drawn=true;}},getUnhandledAlertCount:function(){return this.alertWidgets.length;},_addAlert:function(_b16){},closeTooltips:function(){for(var i=0;i<this.alertWidgets.length;i++){this.alertWidgets[i].closeTooltips();}},_alertChanged:function(_b17){this._ensureOneSelected();this.onAlertChanged(_b17);},onAlertChanged:function(_b18){}});return _b12;});},"Sage/TaskPane/SecuredActionTasklet":function(){define("Sage/TaskPane/SecuredActionTasklet",["dojo/i18n!./nls/SecuredActionTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Utility","dojo/_base/declare"],function(_b19,_b1a,_b1b,_b1c,_b1d){var _b1e=_b1d("Sage.TaskPane.SecuredActionTasklet",[_b1a,_b1b],{addToRoleTitle:"Add To Role",taskItems:[],constructor:function(){dojo.mixin(this,_b19);this.taskItems=[{taskId:"AddToRole",type:"Link",displayName:this.addToRoleTitle,clientAction:"securedActionTaskletActions.addSecuredActionToRole();",securedAction:"Entities/SecuredAction/Add"}];},addSecuredActionToRole:function(){if(_b1c.getModeId()==="detail"){dojo.byId([this.clientId,"_tskAddSecuredActionsToRole"].join("")).click();}else{this.prepareSelectedRecords(this.actionItem(this));}},actionItem:function(self){return function(){dojo.byId([self.clientId,"_tskAddSecuredActionsToRole"].join("")).click();};}});return _b1e;});},"Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter",["dojo/_base/declare","dojo/i18n!./nls/CrystalReportsFormatter","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/date/locale","dojo/string"],function(_b1f,_b20,_b21,_b22,_b23,_b24){Sage.namespace("Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter");dojo.mixin(Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter,{formatConditionType:function(_b25){return _b21.getReportConditionTypeCaption(_b25);},formatOperator:function(_b26){return _b21.getReportConditionOperatorCaption(_b26);},formatEditCondition:function(_b27,_b28,cell){return "<a href=javascript:dijit.byId('dlgCrystalReportConditions')._editCondition("+_b28+")>"+_b20.txtEdit+"</a>";},formatDeleteCondition:function(item){return "<a href=javascript:dijit.byId('dlgCrystalReportConditions')._deleteCondition("+item._id+")>"+_b20.txtDelete+"</a>";},formatConditionValue:function(item){var _b29=null;var _b2a=null;var _b2b=null;switch(String(item.conditionType)){case String(_b21.ReportConditionType.Group):var _b2c=_b22.getGroup(item.tag);var _b2d=_b2c?_b2c.$descriptor:"";return _b2d;case String(_b21.ReportConditionType.DateRange):if(item.operator===_b21.ReportConditionOperator.IsInTheRange){_b2a=_b23.format(item.fromRange,{selector:"datetime",fullYear:true});_b2b=_b23.format(item.toRange,{selector:"datetime",fullYear:true});_b29=_b24.substitute(_b20.txtRangeValue,[_b2a,_b2b]);return _b29;}else{return item.value;}break;case String(_b21.ReportConditionType.User):return item.value;case String(_b21.ReportConditionType.Query):var _b2e=item.operator;switch(item.dataType){case _b21.FieldDataTypes.Numeric:if(_b2e==_b21.ReportConditionOperator.IsInTheRange){_b29=_b24.substitute(_b20.txtRangeValue,[item.fromRange,item.toRange]);return _b29;}else{return item.value;}break;case _b21.FieldDataTypes.DateTime:if(_b2e==_b21.ReportConditionOperator.IsInTheRange){_b2a=_b23.format(item.fromRange,{selector:"datetime",fullYear:true});_b2b=_b23.format(item.toRange,{selector:"datetime",fullYear:true});_b29=_b24.substitute(_b20.txtRangeValue,[_b2a,_b2b]);return _b29;}else{var _b2f=_b23.format(item.value,{selector:"datetime",fullYear:true});return _b2f;}break;case _b21.FieldDataTypes.String:return item.value;default:console.error("Unsupported field type: "+item.dataType);}break;default:console.error("Unsupported condition type: "+item.conditionType);}}});return Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter;});},"Sage/QuickForms/Design/DesignPanel":function(){define("Sage/QuickForms/Design/DesignPanel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/string","dojo/topic","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/form/Select","Sage/Services/_ServiceMixin","Sage/_Templated","Sage/Utility","Sage/UI/ImageButton","./Help","./DesignSurface","./FormDesigner","./NonVisibleControlContainer","./PropertyEditorContainer","dojo/i18n!./nls/DesignPanel"],function(_b30,_b31,lang,json,_b32,_b33,_b34,_b35,_b36,_b37,_b38,_b39,_b3a,_b3b,_b3c,_b3d,Help,_b3e,_b3f,_b40,_b41,_b42){return _b30("Sage.QuickForms.Design.DesignPanel",[_b37,_b3a,_b3b],{serviceMap:{"dataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:true,contentTemplate:new Simplate(["<div class=\"design-panel-toolbar\" data-dojo-type=\"dijit.Toolbar\" data-dojo-props=\"region: 'top', align: 'right', splitter: false\">","<span class=\"design-panel-culture-label\">{%: $.cultureText %}</span><div class=\"design-panel-culture\" data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_cultureSelect\" data-dojo-attach-event=\"onChange:_onCultureChange\"></div>","<div data-dojo-type=\"Sage.UI.ImageButton\" icon=\"images/icons/Save_16x16.gif\" tooltip=\"{%: $.saveText %}\" data-dojo-attach-point=\"saveIcon\" data-dojo-attach-event=\"onClick:save\" class=\"design-panel-save\"></div>","<div data-dojo-type=\"Sage.UI.ImageButton\" icon=\"images/icons/Help_16x16.png\" tooltip=\"{%: $.helpText %}\" data-dojo-attach-event=\"onClick:help\" class=\"design-panel-help\"></div>","</div>","<div class=\"design-panel-surface\" data-dojo-type=\"Sage.QuickForms.Design.DesignSurface\"  data-dojo-attach-point=\"designSurface\" data-dojo-props=\"region: 'center'\"></div>","<div class=\"design-panel-hidden\" data-dojo-type=\"Sage.QuickForms.Design.NonVisibleControlContainer\" data-dojo-attach-point=\"nonVisibleContainer\" data-dojo-props=\"region: 'bottom', layoutPriority:2, splitter: true\"></div>","<div class=\"design-panel-editor\" data-dojo-type=\"Sage.QuickForms.Design.PropertyEditorContainer\" data-dojo-attach-point=\"editorContainer\" data-dojo-props=\"region: 'bottom', layoutPriority:1, splitter: true\"></div>"]),loadingTemplate:new Simplate(["<div class=\"design-panel-loading-indicator\"><span>{%: $.loadingText %}</span></div>"]),savingTemplate:new Simplate(["<div class=\"design-panel-saving-indicator\"><span>{%: $.savingText %}</span></div>"]),_designGroup:null,_designGroupTopics:null,_cultureSelect:null,_previousName:null,_previousEntry:null,currentCulture:"iv",designSurface:null,nonVisibleContainer:null,editorContainer:null,form:null,formDirty:false,helpTopicName:"Working_with_forms",helpSubSystemName:"WebForms",designGroup:"default",_saveMode:false,cultureList:["iv","de-DE","fr-FR","it-IT","ru-RU"],cultureListText:{"iv":"[invariant]","de_DE":"de-DE","fr_FR":"fr-FR","it_IT":"it-IT","ru_RU":"ru-RU"},helpText:"Help",saveText:"Save",cultureText:"Culture:",loadingText:"Loading...",savingText:"Saving...",saveErrorText:"An error occurred saving the form.",readErrorText:"Could not load the requested form.",cultureReloadConfirmText:"You have unsaved changes.  Are you sure you want to reload the form with a different culture?",constructor:function(){lang.mixin(this,_b42);},_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(_b43){if(this._designGroupTopics){_b31.forEach(this._designGroupTopics,function(_b44){this.unsubscribe(_b44);},this);}this._designGroup=_b43;this._designGroupTopics=[this.subscribe("/quickforms/design/designerModified",this._onDesignerModified)];},_ignoreModifiedOn:{"focused":true},_onDesignerModified:function(_b45,name,_b46,_b47,_b48){if(!this._ignoreModifiedOn[name]&&_b45.get("form")===this.form){this.formDirty=true;}},buildRendering:function(){this.inherited(arguments);_b35.add(this.domNode,"design-panel");_b34.place(this.loadingTemplate.apply(this),this.designSurface.domNode);_b34.place(this.savingTemplate.apply(this),this.designSurface.domNode);},startup:function(){this.inherited(arguments);_b31.forEach(this.cultureList,function(item){this._cultureSelect.addOption({value:item,label:this.cultureListText[item.replace("-","_")]||item,selected:item==this.currentCulture});},this);},_onCultureChange:function(_b49){if(this.currentCulture===_b49){return;}if(this.form&&this.formDirty){if(!confirm(this.cultureReloadConfirmText)){this._cultureSelect._onChangeActive=false;this._cultureSelect.set("value",this.currentCulture);this._cultureSelect._onChangeActive=true;return;}}this.currentCulture=_b49;if(this._previousName){this.read(this._previousName);}else{if(this._previousEntry){this.load(this._previousEntry);}}},help:function(){Help.open(this.helpTopicName,this.helpSubSystemName);},save:function(){if(this._saveMode){return;}this._saveMode=true;var _b4a=new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("forms").setResourceSelector(_b32.substitute("\"${0}\"",[this.form.get("name")])).setQueryArg("language",this.currentCulture!="iv"?this.currentCulture:"");var _b4b=lang.clone(this.form.get("entry"));_b4b["$etag"]=_b4b["etag"];delete _b4b["etag"];delete _b4b["ifMatch"];delete _b4b["httpStatus"];this._showSavingIndicator();_b4a.update(_b4b,{success:lang.hitch(this,this._onSaveFormSuccess,this.form),failure:lang.hitch(this,this._onSaveFormFailure,this.form)});},_onSaveFormSuccess:function(form,_b4c){this._hideSavingIndicator();this._saveMode=false;form.set("etag",_b4c["etag"]);this.formDirty=false;},_onSaveFormFailure:function(form,xhr){this._hideSavingIndicator();this._saveMode=false;alert(this.saveErrorText);},_showLoadingIndicator:function(){_b35.add(this.domNode,"design-panel-loading");},_showSavingIndicator:function(){_b36.set(this.saveIcon,"disabled",true);_b35.add(this.domNode,"design-panel-saving");},_hideLoadingIndicator:function(){_b35.remove(this.domNode,"design-panel-loading");},_hideSavingIndicator:function(){_b35.remove(this.domNode,"design-panel-saving");_b36.set(this.saveIcon,"disabled",false);},read:function(form){this.clear();this._previousName=form;this._previousEntry=null;var _b4d=new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("forms").setResourceSelector(_b32.substitute("\"${0}\"",[form])).setQueryArg("language",this.currentCulture!="iv"?this.currentCulture:"");this._showLoadingIndicator();_b4d.read({success:lang.hitch(this,this._onRequestFormSuccess),failure:lang.hitch(this,this._onRequestFormFailure)});},_onRequestFormSuccess:function(_b4e){this._hideLoadingIndicator();this._apply(_b4e);},_onRequestFormFailure:function(xhr){this._hideLoadingIndicator();alert(this.readErrorText);},clear:function(){_b33.publish(_b32.substitute("/quickforms/design/${0}/clear",[this._designGroup]),this);this.designSurface.clear();this.nonVisibleContainer.clear();this.editorContainer.clear();if(this.form){this.form.destroy();}this.form=null;this.formDirty=false;},load:function(_b4f){this.clear();this._previousName=null;this._previousEntry=_b4f;this._apply(_b4f);},_apply:function(_b50){this.original=_b50;this.form=new _b3f({entry:lang.clone(_b50)});this.designSurface.set("form",this.form);_b31.forEach(this.form.get("controls"),function(_b51){if(_b51.designSupport&&_b51.designSupport.visible){this.designSurface.addChild(_b51);}else{this.nonVisibleContainer.addChild(_b51);}},this);this.designSurface.layout();this.nonVisibleContainer.layout();_b33.publish(_b32.substitute("/quickforms/design/${0}/load",[this._designGroup]),_b50,this);_b33.publish(_b32.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this.form,false,this);}});});},"Sage/Services/SelectionContextService":function(){define("Sage/Services/SelectionContextService",["dojo/_base/declare"],function(_b52){var _b53=_b52("Sage.Services.SelectionContextService",null,{_url:"",constructor:function(){this._url="slxdata.ashx/slx/crm/-/SelectionService";},getSelectionInfo:function(key,_b54){if(typeof key==="undefined"||key===null){key="";}dojo.xhrGet({url:this._url,handleAs:"json",load:function(data){_b54(data);},error:function(_b55,_b56,_b57){}});},getSelectedIds:function(_b58,_b59){dojo.xhrGet({url:this._url,handleAs:"json",load:function(data){_b59(data);},error:function(_b5a,_b5b,_b5c){}});},setSelectionContext:function(key,_b5d,_b5e){dojo.xhrPost({url:dojo.string.substitute("${0}/SetSelectionContext?key=${1}",[this._url,key]),handleAs:"json",load:function(data){_b5e(data);},error:function(_b5f,_b60,_b61){_b5e(_b61);},postData:dojo.toJson(_b5d)});}});Sage.Services.addService("SelectionContextService",new Sage.Services.SelectionContextService());return _b53;});},"Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig":function(){define("Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig",[],function(){return {};});},"Sage/UI/_DialogLoadingMixin":function(){define("Sage/UI/_DialogLoadingMixin",["dojo/_base/declare","dojox/widget/Standby"],function(_b62,_b63){return _b62("Sage.UI._DialogLoadingMixin",null,{_standby:false,showLoading:function(){if(!this._standby&&this.domNode){var _b64=this.domNode;if(this.containerNode){_b64=this.containerNode;}this._standby=new _b63({target:_b64,color:"white",image:"images/loader_lg.gif",duration:50});document.body.appendChild(this._standby.domNode);this._standby.startup();}var self=this;window.setTimeout(function(){self._standby.show();},0);},hideLoading:function(){var self=this;window.setTimeout(function(){if(self._standby){self._standby.hide();}},1);}});});},"Sage/MainView/JobMgr/SDataSummaryFormatterScope":function(){define("Sage/MainView/JobMgr/SDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/JobMgr/SDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_b65,i18n,_b66,_b67,_b68,_b69){var _b6a=_b69("Sage.MainView.JobMgr.SDataSummaryFormatterScope",[_b66],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _b67(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _b6a;});},"Sage/UI/nls/ConditionManager":function(){define("Sage/UI/nls/ConditionManager",["Sage/LanguageList","dojo/_base/lang"],function(_b6b,lang){var nls={root:{addimgalttext:"Add Condition",hideimgalttext:"Remove Condition",addrowlabel:"Lookup by:",hiderowlabel:"And:",srchBtnCaption:"Search",errorOperatorRequiresValue:"The operator requires a value",startingWith:"Starting With",endsWith:"Ends With",contains:"Contains",equalTo:"Equal to",notEqualTo:"Not Equal to",equalOrLessThan:"Equal or Less than",equalOrGreaterThan:"Equal or Greater than",lessThan:"Less than",greaterThan:"Greater than"}};return lang.mixin(_b6b,nls);});},"Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase":function(){define("Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase",["dojo/_base/declare","dojo/_base/array","dojo/number","dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/Reporting/Enumerations"],function(_b6c,_b6d,_b6e,_b6f,_b70,_b71,_b72){var _b73=_b6c("Sage.MainView.ReportMgr.Crystal._ParameterEditorBase",[_b6f,_b70],{widgetsInTemplate:true,_promptParameter:null,_multiSelect:false,_mode:"Discrete",_values:null,_initialValues:null,_initialCustomValues:null,_initialIds:null,_allowCustomValues:false,_minimum:null,_maximum:null,constructor:function(_b74){this._values=[];this._initialValues=[];this._initialCustomValues=[];this._initialIds=[];this._promptParameter=_b74;this._initializeParameterProperties();},isValid:function(){return true;},_initializeParameterProperties:function(){var self=this;this._allowCustomValues=this._promptParameter.allowCustomCurrentValues;this._multiSelect=this._promptParameter.allowMultiValue;this._mode=this._promptParameter.valueRangeKind;var _b75=(this._promptParameter.defaultValueDisplayType=="DescriptionAndValue");var _b76=0;if(this._promptParameter.defaultValues){_b6d.forEach(this._promptParameter.defaultValues,function(_b77,i){var _b78=_b76+"";_b77._id=_b78;var _b79=(_b77.className==="CrystalReports.ParameterFieldDiscreteValue")?_b77.discreteValue.actualValue:_b77.rangeValue;var _b7a=(_b77.className==="CrystalReports.ParameterFieldDiscreteValue")?_b77.description:"Range";var _b7b=(_b77.className==="CrystalReports.ParameterFieldDiscreteValue")?"Discrete":"Range";if(_b75&&dojo.isString(_b7a)){_b7a=_b79+" - "+_b7a;}if(!dojo.isString(_b7a)){_b7a=_b79;}var _b7c={_id:_b78,value:_b79,description:_b7a,parameterClass:_b7b};self._values.push(_b7c);_b76++;});}var _b7d=this._promptParameter.currentValues.length>0?this._promptParameter.currentValues:this._promptParameter.initialValues;if(_b7d){_b6d.forEach(_b7d,function(_b7e,i){var _b7f=(_b7e.className==="CrystalReports.ParameterFieldDiscreteValue")?_b7e.discreteValue.actualValue:_b7e.rangeValue;var _b80=(_b7e.className==="CrystalReports.ParameterFieldDiscreteValue")?_b7e.description:"Range";var _b81=(_b7e.className==="CrystalReports.ParameterFieldDiscreteValue")?"Discrete":"Range";var _b82={value:_b7f,description:_b80,parameterClass:_b81};self._initialValues.push(_b82);});}if(this._initialValues.length>0){_b6d.forEach(this._initialValues,function(_b83,i){var _b84=false;_b6d.some(self._values,function(_b85,i){if(_b85.value===_b83.value){self._initialIds.push(_b85._id);_b84=true;return true;}});if(!_b84){self._initialCustomValues.push(_b83);}});}switch(this._promptParameter.parameterValueKind){case _b72.SlxParameterValueKind.DateParameter:if(this._promptParameter.minimumValue&&this._promptParameter.minimumValue.discreteValue){this._minimum=_b71.Convert.toDateFromString(this._getDateOnlyIsoString(this._promptParameter.minimumValue.discreteValue.actualValue));}if(this._promptParameter.maximumValue&&this._promptParameter.maximumValue.discreteValue){this._maximum=_b71.Convert.toDateFromString(this._getDateOnlyIsoString(this._promptParameter.maximumValue.discreteValue.actualValue));}break;case _b72.SlxParameterValueKind.NumberParameter:case _b72.SlxParameterValueKind.StringParameter:if(this._promptParameter.minimumValue&&this._promptParameter.minimumValue.discreteValue){this._minimum=_b6e.parse(this._promptParameter.minimumValue.discreteValue.actualValue);}if(this._promptParameter.maximumValue&&this._promptParameter.maximumValue.discreteValue){this._maximum=_b6e.parse(this._promptParameter.maximumValue.discreteValue.actualValue);}break;}},_getOriginalParameterValue:function(_b86){var _b87=null;_b6d.some(this._promptParameter.defaultValues,function(_b88,i){if(_b88._id==_b86){_b87=dojo.clone(_b88);delete _b87._id;return true;}});return _b87;},_getValue:function(_b89){var _b8a=null;_b6d.some(this._values,function(_b8b,i){if(_b8b._id==_b89){_b8a=dojo.clone(_b8b);return true;}});return _b8a;},_getSelectionMode:function(){var _b8c="";if(this._multiSelect){_b8c="MultiSelect";}else{_b8c="SingleSelect";}if(this._allowCustomValues){_b8c=_b8c+"WithCustom";}else{_b8c=_b8c+"NoCustom";}return _b8c;},_getDateOnlyIsoString:function(_b8d){var _b8e=null;if(_b8d.indexOf("T")!==-1){_b8e=_b8d.split("T")[0];}return _b8e;}});return _b73;});},"Sage/MainView/JobMgr/ExecutionsListPanelConfig":function(){define("Sage/MainView/JobMgr/ExecutionsListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/ExecutionsListPanelConfig","dojo/_base/lang","Sage/Utility/Jobs","dijit/ProgressBar"],function(_b8f,_b90,_b91,_b92,_b93,_b94){var _b95=_b91("Sage.MainView.JobMgr.ExecutionsListPanelConfig",[_b8f],{constructor:function(){_b93.mixin(this,_b92);this._listId="Executions";this._resourceKind="executions";this.entityName="Execution";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="ExecutionsListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){var _b96=[{field:"job",name:this.colNameJobName,width:"75px",formatter:_b94.formatJobDescription},{field:"user",name:this.colNameUser,width:"50px",formatter:_b94.formatUser},{field:"phase",name:this.colNamePhase,width:"50px"},{field:"phaseDetail",name:this.colNamePhaseDetail,width:"50px"},{field:"progress",name:this.colNameProgress,width:"50px",formatter:_b94.formatProgress},{field:"elapsed",name:this.colNameElapsed,width:"50px",formatter:_b94.formatElapsedTime},{field:"status",name:this.colNameStatus,width:"50px"},{field:"result",name:this.colNameResult,width:"50px"}];return _b96;},_getSelect:function(){var _b97=["$key","job","trigger","user","phase","phaseDetail","progress","elapsed","status","result"];return _b97;},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getInclude:function(){var _b98=["$descriptors"];return _b98;},_getSummaryListRequestConfig:function(){var _b99={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _b99;},_getFormatterScope:function(){var _b9a=this._getSummaryListRequestConfig();var _b9b=new _b90({templateLocation:"MainView/JobMgr/templates/ExecutionsListSummary.html",resetDataManager:true,requestConfiguration:_b9a});return _b9b;},_getSummaryDetailRequestConfig:function(){var _b9c={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","phase","phaseDetail","progress","elapsed","status","result"],include:["$descriptors"],useBatchRequest:false};return _b9c;},_getDetailConfig:function(){var _b9d=this._getFormatterScope();var _b9e=this._getSummaryDetailRequestConfig();var _b9f={resourceKind:this._resourceKind,requestConfiguration:_b9e,templateLocation:"MainView/JobMgr/Templates/ExecutionDetailSummary.html"};return _b9f;},_getToolBars:function(){var _ba0={items:[]};return _ba0;},_getResult:function(){return this._nlsResources.loadingText;}});return _b95;});},"Sage/UI/Dashboard/nls/WidgetDefinition":function(){define("Sage/UI/Dashboard/nls/WidgetDefinition",["Sage/LanguageList","dojo/_base/lang"],function(_ba1,lang){var nls={root:{defaultWidgetText:"Edit Widget Settings",settingsText:"Settings",viewGroupText:"View Group",Bar_Chart:"Bar Chart",Column_Chart:"Column Chart",Group_List:"Group List",Pie_Chart:"Pie Chart",Funnel_Chart:"Funnel Chart",Line_Chart:"Line Chart",SData_Feed:"SData Feed",Web_Feed:"Web Feed",Website:"Website",Default:"Default",Links:"Link",Recently_Viewed:"Recently Viewed",Todays_Activities:"Today's Activities",Today_s_Activities:"Today's Activities",Welcome:"Welcome",Closing_Opportunities:"Closing Opportunities",Quick_Actions:"Quick Actions",Do_You_Know___:"Do You Know...",All_Leads:"All Leads",My_Notes:"My Notes",Open_Opportunities:"Open Opportunities",My_Top_Opportunities:"My Top Opportunities",My_Pipeline:"My Pipeline",Recent_Lead_Creation_History:"Recent Lead Creation History",My_Activity_trend:"My Activity trend",My_Completed_Activities_by_Type:"My Completed Activities by Type",Active_Campaigns:"Active Campaigns",All_Open_Opportunities:"All Open Opportunities",Top_Opportunities:"Top Opportunities",Open_Defect_Distribution:"Open Defect Distribution",My_Dashboard:"My Dashboard",Sales:"Sales",Group_List_Description:"Displays a list of group records by entity. For example, a group of active campaigns.",Welcome_Description:"Displays an introduction to Saleslogix with a link to the help topic Introducing Saleslogix for Web.",Line_Chart_Description:"Displays data as a series of data points connected by a line. Useful when the data represents many groups or categories.",Bar_Chart_Description:"Displays data as a set of horizontal bars. Useful for comparing several sets of data.",Column_Chart_Description:"Displays data as a set of vertical bars grouped by category. Useful for showing data changes over a period of time or for illustrating comparisons among items.",Funnel_Chart_Description:"Displays data as progressive proportions in a funnel shape. The data is represented as portions of 100%, and there are no axes.",Pie_Chart_Description:"Displays data as proportions of the whole. Each value is calculated as a percentage of the total. This chart has no axes.",Recently_Viewed_Description:"Displays links to recently viewed records with an icon that identifies the type. For example, Account or Contact.",Todays_Activities_Description:"Displays links to your activities for today.",Links_Description:"Displays links you create. For example, to a detail view in Saleslogix or to an external Web site.",SData_Feed_Description:"Displays a web feed using SData (Sage Data) feeds. For example, a feed from your accounting integration or Saleslogix database.",Web_Feed_Description:"Displays RSS or Atom Feed information.",Website_Description:"Displays a website of your choice."}};return lang.mixin(_ba1,nls);});},"Sage/UI/SummaryDetailPane":function(){define("Sage/UI/SummaryDetailPane",["Sage/UI/_DetailPane","Sage/_Templated","Sage/UI/SummaryContainer","dojo/_base/declare"],function(_ba2,_ba3,_ba4,_ba5){var _ba6=_ba5("Sage.UI.SummaryDetailPane",[_ba2,_ba3],{widgetsInTemplate:false,contentNode:null,paneContents:null,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"EntityCard\">","<div dojoAttachPoint=\"contentNode\"></div>","</div>"]),clear:function(){if(this.paneContents){this.paneContents.destroyRecursive();}},_onSelected:function(_ba7,row,grid){if(!this._configuration){return;}if(this.paneContents){this.paneContents.destroyRecursive();}var _ba8=Sage.Services.getService("ClientGroupContext");var _ba9=_ba8.getContext();var _baa=_ba9.CurrentTableKeyField;if(_baa&&this._configuration.requestConfiguration){if(this._configuration.keyField){_baa=this._configuration.keyField;}var _bab=this._getKeyValue(row,_baa);var _bac=Sage.Services.getService("SummaryViewDataManager");var pane=new _ba4({id:"det_"+_bab,templateLocation:this._configuration.templateLocation});pane.postProcessCallBack=this._configuration.postProcessCallBack;dojo.place(pane.domNode,this.contentNode,"only");this.paneContents=pane;_bac.requestDataNoWait(_bab,pane,this._configuration.requestConfiguration);}else{this.set("content","Please check the configuration for this panel.");}},_getKeyValue:function(data,_bad){var _bae=_bad.split(".");if(_bae.length<2){return data[_bad];}else{return this._getKeyValue(data[_bae[0]],_bae[1]);}}});return _ba6;});},"Sage/Utility/File/AddURLAttachment":function(){define("Sage/Utility/File/AddURLAttachment",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility/File","Sage/Utility","Sage/Utility/File/Attachment","Sage/UI/Dialogs","dojo/i18n","dojo/i18n!./nls/AddURLAttachment","dojo/_base/declare"],function(_baf,_bb0,_bb1,_bb2,_bb3,_bb4,_bb5,_bb6,_bb7,_bb8,_bb9,_bba,_bbb,i18n,_bbc,_bbd){var _bbe=_bbd("Sage.Utility.File.AddURLAttachment",[_baf,_bb0],{descriptionText:"Description",urlText:"URL",titleText:"Add URL Attachment",okText:"OK",cancelText:"Cancel",requestFailedMsg:"The requested operation could not be completed, please try again later.",urlBlankMsg:"The URL or description property cannot be blank.",attachmentId:"",attachment:false,widgetsInTemplate:true,_bindingMgr:false,_store:false,id:"",widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" id=\"addUrlAttachDialog\" title=\"{%= $.titleText %}\" dojoAttachPoint=\"_dialog\">","<div  class=\"attachment-properties-form\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" >","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.urlText %}\" id=\"{%= $.id %}_tb_Url\" dojoAttachPoint=\"tb_Url\" ></div>","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnOK\" name=\"_btnOK\" dojoAttachPoint=\"_btnOK\" dojoAttachEvent=\"onClick:_okClick\" >{%= $.okText %}</div>","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnCancel\" name=\"_btnCancel\" dojoAttachPoint=\"_btnCancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>","</div>","</div>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","AddURLAttachment"));this.inherited(arguments);},show:function(){this._dialog.show();if(!this._dialog._standby){_bb4.mixin(this._dialog,new _bb3());}this._loadData();},hide:function(){this.attachmentId="";this.attachment=false;if(this._dialog._standby){this._dialog.hideLoading();}this._dialog.hide();},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}if(!this._store){this._store=new _bb5({include:[],resourceKind:"attachments",service:_bb6.getService("system")});}this._store.newItem({onComplete:this._receiveAttachment,onError:this._requestFail,scope:this});},_receiveAttachment:function(_bbf){if(this._dialog._standby){this._dialog.hideLoading();}this.attachment=_bbf;_bba.getKnownRelationships(this._receiveRelationships,this);},_ensureBindings:function(){if(!this._bindingMgr){this._bindingMgr=new _bb7({defaultBinding:{boundEntity:this.attachment},items:[{boundWidget:this.tb_Description,entityProperty:"description"},{boundWidget:this.tb_Url,entityProperty:"url",onChange:dojo.hitch(this,this._urlChange)}]});}},_bind:function(){if(!this._bindingMgr.boundEntity||(this.attachment.$key!==this._bindingMgr.boundEntity.$key)){this._bindingMgr.setBoundEntity(this.attachment);}else{this._bindingMgr.bind();}if(this._dialog._standby){this._dialog.hideLoading();}},_receiveRelationships:function(rels){this.attachment=_bb4.mixin(this.attachment,rels);this.attachment.user={"$key":_bb9.getClientContextByKey("userID")||""};this.attachment.attachDate=_bb9.Convert.toIsoStringFromDate(new Date());this._ensureBindings();this._bind();},_urlChange:function(){var desc=this.tb_Description.get("value");if(!desc){var _bc0=this.tb_Url.get("value");if(_bc0){var r=new RegExp(/\.([\w]*)/);var _bc1=r.exec(_bc0);if(_bc1.length>1){this.tb_Description.set("value",_bc1[1]);}}}},_cancelClick:function(){this.hide();},_okClick:function(){if(this._dialog._standby){this._dialog.showLoading();}if((this.attachment.url===null)||(this.attachment.url.trim()==="")){_bbb.showError(this.urlBlankMsg);return;}if((this.attachment.description===null)||(this.attachment.description.trim()==="")){_bbb.showError(this.urlBlankMsg);return;}this._saveAndHide();},_saveAndHide:function(){if(this._dialog._standby){this._dialog.showLoading();}var self=this;window.setTimeout(function(){var _bc2=self.attachment;self._store.saveNewEntity(_bc2,function(_bc3){dojo.publish("/entity/attachment/create",_bc3);this.hide();},self._requestFail,self);},10);},_requestFail:function(req){_bbb.showError(this.requestFailedMsg);this.hide();}});return _bbe;});},"Sage/QuickForms/Design/Editors/ColumnBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ColumnBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojox/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ColumnBasicPropertyEditor"],function(_bc4,lang,_bc5,_bc6,_bc7,_bc8,_bc9,_bca,_bcb,_bcc,_bcd){return _bc4("Sage.QuickForms.Design.Editors.ColumnBasicPropertyEditor",[_bc5,_bcb,_bca],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.indexTooltipText %}\">","<label>{%= $.indexText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_index\" data-dojo-attach-event=\"onChange:_onIndexChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.widthTooltipText %}\">","<label>{%= $.widthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_width\" data-dojo-attach-event=\"onChange:_onWidthChange\" required=\"true\" data-dojo-props=\"constraints:{min:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.sizeTypeTooltipText %}\">","<label>{%= $.sizeTypeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_sizeType\" data-dojo-attach-event=\"onChange:_onSizeTypeChange\">","{% for (var type in $.rowSizeTypeText) { %}","<span value=\"{%= type %}\">{%= $.rowSizeTypeText[type] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>"]),_index:null,_width:null,_sizeType:null,titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",widthText:"Width:",widthTooltipText:"Width of this column of controls.",sizeTypeText:"Size Type:",sizeTypeTooltipText:"Method of sizing: Absolute, AutoSize, or Percent.",rowSizeTypeText:{"Absolute":"Absolute","Percent":"Percent","AutoSize":"AutoSize"},constructor:function(){lang.mixin(this,_bcd);},setup:function(){this.inherited(arguments);this._index.set("value",this._designer.get("index"));this._width.set("value",this._designer.get("width"));this._sizeType.set("value",this._designer.get("sizeType"));},_onWidthChange:function(_bce){if(this.isSuspended()){return;}this._designer.set("width",_bce);},_onSizeTypeChange:function(_bcf){if(this.isSuspended()){return;}this._designer.set("sizeType",_bcf);},_onIndexChange:function(_bd0){if(this.isSuspended()){return;}this._designer.set("index",_bd0);}});});},"Sage/UI/nls/SearchConditionWidget":function(){define("Sage/UI/nls/SearchConditionWidget",["Sage/LanguageList","dojo/_base/lang"],function(_bd1,lang){var nls={root:{trueText:"True",falseText:"False",networkText:"Network",remoteText:"Remote",webText:"Web",webViewerText:"Web Viewer",concurrentText:"Concurrent",retiredText:"Retired",templateText:"Template",addonText:"Addon",adminText:"Admin",userText:"User",teamText:"Team",departmentText:"Department",systemText:"System"}};return lang.mixin(_bd1,nls);});},"Sage/QuickForms/Design/UserControlDesigner":function(){define("Sage/QuickForms/Design/UserControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/UserBasicPropertyEditor","./Editors/UserAdvancedPropertyEditor","dojo/i18n!./nls/UserControlDesigner"],function(_bd2,_bd3,lang,_bd4,_bd5,_bd6,_bd7,_bd8,_bd9,_bda,_bdb){return _bd2("Sage.QuickForms.Design.UserControlDesigner",[_bd5,_bd6,_bd4,_bd7],{designSupport:{visible:true},editors:[_bd9,_bda,_bd8],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-user",helpTopicName:"User_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXUser, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"User",constructor:function(){lang.mixin(this,_bdb);},_setCaptionAttr:function(_bdc){this.inherited(arguments);this.set("designCaption",_bdc);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_bdd){return (_bdd["ControlItemName"]=="LookupResultValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(_bde){lang.setObject("ControlLabelPlacement",_bde,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(_bdf){lang.setObject("Required",_bdf,this.entry);},_getLookupBindingModeAttr:function(){return lang.getObject("LookupBindingMode",false,this.entry);},_setLookupBindingModeAttr:function(_be0){lang.setObject("LookupBindingMode",_be0,this.entry);},setupFor:function(_be1){this.inherited(arguments);this.set("lookupBindingMode","Object");this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"LookupResultValue",DataItemName:_be1.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:"null"}]);this.set("designBinding",_be1.propertyPath||"");},startup:function(){this.inherited(arguments);var _be2=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_be2&&_be2["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/SearchConditionWidget":function(){define("Sage/UI/SearchConditionWidget",["dojo/parser","dojo/i18n","dojo/_base/lang","dojo/has","dojo/_base/array","dijit/_Widget","dijit/form/Button","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/DateTextBox","Sage/_Templated","Sage/UI/ImageButton","Sage/UI/Controls/DropDownSelectPickList","Sage/UI/Controls/DropDownSelectUser","Sage/UI/Controls/Phone","dojo/i18n!./nls/SearchConditionWidget","dojo/_base/declare"],function(_be3,i18n,lang,has,_be4,_be5,_be6,_be7,_be8,_be9,_bea,_beb,_bec,_bed,_bee,_bef,_bf0,_bf1){var _bf2=_bf1("Sage.UI.SearchConditionWidget",[_be5,_beb],{widgetsInTemplate:true,isFirstCondition:false,conditionManager:false,label:"",defaultOperator:null,defaultField:null,defaultValue:null,id:"",_valueBox:null,visible:true,_loaded:false,trueText:"true",falseText:"false",networkText:"Network",remoteText:"Remote",webText:"Web",webViewerText:"Web Viewer",concurrentText:"Concurrent",retiredText:"Retired",templateText:"Template",addonText:"Addon",adminText:"Admin",userText:"User",teamText:"Team",departmentText:"Department",systemText:"System",propertyTypeHandler:{},widgetTemplate:new Simplate(["<div id=\"{%= $.id %}\" class=\"lookup-condition-row\" dojoAttachPoint=\"_conditionRow\">","<label class=\"slxlabel lookupLabel\">","{%= $.label %}","</label>","<select id=\"{%= $.id %}_fieldName\" name=\"{%= $.id %}_fieldName\" dojoAttachPoint=\"_fieldNameSelect\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">","{% for (var i=0; i < $.conditionManager.fields.length;i++) { %}","<option id=\"{%= $.id %}_fieldOption{%= i %}\" value=\"{%= $.conditionManager.fields[i][$.conditionManager.fieldNameProperty] %}\">{%= $.conditionManager.fields[i][$.conditionManager.fieldDisplayNameProperty] %}</option>","{% } %}","</select>","<select id=\"{%= $.id %}_operators\" name=\"{%= $.id %}_operators\" dojoAttachPoint=\"_operatorSelect\" data-dojo-type=\"dijit.form.Select\" style=\"width:130px\">","</select>","<div style=\"display: inline;\" class=\"searchConditionInput\" dojoAttachPoint=\"_inputWidgetPlaceHolder\"></div>","<div class=\"conditionButton\">","{% if ( $.isFirstCondition ) { %}","<div id=\"{%= $.id %}-AddImageButton\" data-dojo-type=\"Sage.UI.ImageButton\" icon=\"{%= $.conditionManager.addimgurl %}\" tooltip=\"{%= $.conditionManager.addimgalttext %}\" dojoAttachPoint=\"_addConditionButton\" dojoAttachEvent=\"onClick:_addLookupCondition\"></div>","{% } else { %}","<div id=\"{%= $.id %}-RemoveImageButton\" data-dojo-type=\"Sage.UI.ImageButton\" icon=\"{%= $.conditionManager.hideimgurl %}\" tooltip=\"{%= $.conditionManager.hideimgalttext %}\" dojoAttachPoint=\"_removeConditionButton\" dojoAttachEvent=\"onClick:_removeLookupCondition\"></div>","{% } %}","</div>","</div>"]),constructor:function(_bf3){if(_bf0){this.trueText=_bf0.trueText;this.falseText=_bf0.falseText;this.networkText=_bf0.networkText;this.remoteText=_bf0.remoteText;this.webText=_bf0.webText;this.webViewerText=_bf0.webViewerText;this.concurrentText=_bf0.concurrentText;this.retiredText=_bf0.retiredText;this.templateText=_bf0.templateText;this.addonText=_bf0.addonText;this.adminText=_bf0.adminText;this.userText=_bf0.userText;this.teamText=_bf0.teamText;this.departmentText=_bf0.departmentText;this.systemText=_bf0.systemText;}this.registerTypeHandlers();},registerTypeHandlers:function(){this.propertyTypeHandler["default"]={getValue:function(){var _bf4=this._valueBox.get("value");return _bf4;},getTemplate:function(){return ["<input id=\"{%= $.id %}-TextValue\" data-dojo-type=\"dijit.form.TextBox\" dojoAttachPoint=\"_valueBox\" />"];}};this.propertyTypeHandler["System.Boolean"]={getValue:function(){var _bf5;if(this._valueBox.value==="true"){_bf5=true;}else{_bf5=false;}return _bf5;},getTemplate:function(){return ["<select id=\"{%= $.id %}-SelectValue\" class=\"dijitDropDown\" data-dojo-type=\"dijit.form.Select\" dojoAttachPoint=\"_valueBox\">","<option id=\"{%= $.id %}-BooleanOptionTrue\" value=\"true\">{%= $.trueText %}</option>","<option id=\"{%= $.id %}-BooleanOptionFalse\" value=\"false\">{%= $.falseText %}</option>","</select>"];}};this.propertyTypeHandler["Boolean"]={getValue:function(){var _bf6;if(this._valueBox.value==="true"){_bf6="T";}else{_bf6="F";}return _bf6;},getTemplate:function(){return lang.hitch(this,this.propertyTypeHandler["System.Boolean"].getTemplate)();}};this.propertyTypeHandler["SalesLogix.PickList"]={getValue:function(){return lang.hitch(this,this.propertyTypeHandler["default"].getValue)();},getTemplate:function(){return ["<select id=\"{%= $.id %}-PickValue\" class=\"dijitDropDown\" ","data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\" ","dojoAttachPoint=\"_valueBox\" ","pickListName=\"{%= $.pickListName %}\" ","storeMode=\"{%= $.pickListStorageMode %}\" ","style=\"display: inline-block\"","/>"];}};this.propertyTypeHandler["System.DateTime"]={getValue:function(){var _bf7=this._valueBox.value;return _bf7;},getTemplate:function(){return ["<input data-dojo-type=\"dijit.form.DateTextBox\" id=\"{%= $.id %}-Date\" dojoAttachPoint=\"_valueBox\"","/>"];}};this.propertyTypeHandler["DateTime"]=this.propertyTypeHandler["System.DateTime"];this.propertyTypeHandler["Fixed"]={getValue:function(){var _bf8=this._valueBox.get("value");return _bf8;},getTemplate:function(){return ["<input id=\"{%= $.id %}-NumericValue\" data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_valueBox\" constraints=\"{ type: 'decimal' }\" value=\"0\" name=\"{%= $.id %}-NumberValue\" />"];}};this.propertyTypeHandler["Integer"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Positive Integer"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Percent"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Currency"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Int32"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Double"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Decimal"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Int16"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Phone"]={getValue:function(){var _bf9=this._valueBox.get("unformattedValue");return _bf9;},getTemplate:function(){return ["<input id=\"{%= $.id %}-PhoneValue\" data-dojo-type=\"Sage.UI.Controls.Phone\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"_valueBox\" />"];}};this.propertyTypeHandler["User"]={getValue:function(){var _bfa=this._valueBox.get("value");return _bfa;},getTemplate:function(){return ["<select id=\"{%= $.id %}-UserValue\" ","data-dojo-type=\"Sage.UI.Controls.DropDownSelectUser\" ","dojoAttachPoint=\"_valueBox\" ","style=\"display: inline-block;\" ","></select>"];}};this.propertyTypeHandler["Sage.Entity.Interfaces.UserType"]={getValue:function(){var _bfb=parseInt(this._valueBox.get("value"),10);return _bfb;},getTemplate:function(){return ["<select id=\"{%= $.id %}-UserTypeValue\" class=\"dijitDropDown\" data-dojo-type=\"dijit.form.Select\" dojoAttachPoint=\"_valueBox\">","<option id=\"{%= $.id %}-UserTypeOption0\" value=\"0\">{%= $.networkText %}</option>","<option id=\"{%= $.id %}-UserTypeOption1\" value=\"1\">{%= $.remoteText %}</option>","<option id=\"{%= $.id %}-UserTypeOption2\" value=\"2\">{%= $.webText %}</option>","<option id=\"{%= $.id %}-UserTypeOption3\" value=\"3\">{%= $.webViewerText %}</option>","<option id=\"{%= $.id %}-UserTypeOption4\" value=\"4\">{%= $.concurrentText %}</option>","<option id=\"{%= $.id %}-UserTypeOption5\" value=\"5\">{%= $.retiredText %}</option>","<option id=\"{%= $.id %}-UserTypeOption6\" value=\"6\">{%= $.templateText %}</option>","<option id=\"{%= $.id %}-UserTypeOption7\" value=\"7\">{%= $.addonText %}</option>","<option id=\"{%= $.id %}-UserTypeOption8\" value=\"8\">{%= $.adminText %}</option>","</select>"];}};this.propertyTypeHandler["Sage.Entity.Interfaces.OwnerType"]={getValue:function(){var _bfc=parseInt(this._valueBox.get("value"),10);return _bfc;},getTemplate:function(){return ["<select id=\"{%= $.id %}-OwnerTypeValue\" class=\"dijitDropDown\" data-dojo-type=\"dijit.form.Select\" dojoAttachPoint=\"_valueBox\">","<option id=\"{%= $.id %}-OwnerTypeOption0\" value=\"1\">{%= $.userText %}</option>","<option id=\"{%= $.id %}-OwnerTypeOption1\" value=\"2\">{%= $.teamText %}</option>","<option id=\"{%= $.id %}-OwnerTypeOption2\" value=\"3\">{%= $.departmentText %}</option>","<option id=\"{%= $.id %}-OwnerTypeOption3\" value=\"0\">{%= $.systemText %}</option>","</select>"];}};this.propertyTypeHandler["Owner"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["None"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["System.String"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["defaultOperators"]=this.propertyTypeHandler["default"];},postCreate:function(){this.refreshDefaults();if(!this.visible){dojo.style(this._conditionRow,"display","none");}this._fieldNameSelect.on("change",lang.hitch(this,this._fieldChanged));this.inherited(arguments);},getCondition:function(){var _bfd=false;if(this.isValidCondition()){_bfd={fieldname:this._fieldNameSelect.get("value"),operator:this._operatorSelect.get("value"),val:this._getFieldValue()};}return _bfd;},isValidCondition:function(){var val=this._getFieldValue(),_bfe=false;if(typeof val==="string"){_bfe=(val.trim()!=="");}else{_bfe=(val!==null&&val!==undefined);}return _bfe;},_getFieldValue:function(){var _bff=this._fieldNameSelect.get("value"),_c00=this._operatorSelect.get("value"),_c01=this._getField(_bff),_c02,_c03,_c04;if(_c01){_c03=this._getFieldPropertyTypeValue(_c01);_c04=this.propertyTypeHandler[_c03];if(typeof _c04==="undefined"){_c04=this.propertyTypeHandler["default"];}_c02=lang.hitch(this,_c04.getValue)();}return _c02;},_renderFieldTemplates:function(){var _c05,_c06,_c07,_c08,val=this._fieldNameSelect.get("value"),_c09=this._getField(val),_c0a,temp,_c0b;if(_c09){_c0a=this._getFieldPropertyTypeValue(_c09);_c0b=this.propertyTypeHandler[_c0a];if(typeof _c0b==="undefined"){_c0b=this.propertyTypeHandler["default"];}_c06=lang.hitch(this,_c0b.getTemplate)();_c07=new Simplate(_c06);temp={};dojo.mixin(temp,this);dojo.mixin(temp,{pickListName:_c09.pickListName});dojo.mixin(temp,{pickListStorageMode:_c09.pickListStorageMode});_c08=_c07.apply(temp);if(_c08){dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.destroy();},this);this._inputWidgetPlaceHolder.innerHTML="";dojo.place(_c08,this._inputWidgetPlaceHolder);_be3.parse(this._inputWidgetPlaceHolder);dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.startup();this._valueBox=wid;dojo.connect(this._valueBox,"onKeyDown",this,"_onKeyDown");},this);}}},uninitialize:function(){if(this._inputWidgetPlaceHolder){dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.destroy();},this);}this.inherited(arguments);},_fieldChanged:function(_c0c){var val=this._fieldNameSelect.get("value"),_c0d=this._getField(val),_c0e,_c0f,len,i;if(_c0d){this._renderFieldTemplates();_c0e=this.conditionManager.getOperatorsByField(_c0d);if(_c0e){_c0f=this._operatorSelect;len=_c0f.options.length;for(i=len-1;i>=0;i--){_c0f.removeOption(i);}for(i=0;i<_c0e.length;i++){_c0e[i].selected=false;}_c0f.addOption(_c0e);}this._setToDefaultOperator();this._setToDefaultValue();}},_onKeyDown:function(_c10){if(_c10.keyCode===13){this.conditionManager._doSearch();}},_getField:function(_c11){if(this.conditionManager.fieldsHash.hasOwnProperty(_c11)){return this.conditionManager.fieldsHash[_c11];}return false;},_getFieldPropertyTypeValue:function(_c12){if(_c12&&_c12.hasOwnProperty(this.conditionManager.fieldTypeProperty)){return _c12[this.conditionManager.fieldTypeProperty];}return null;},_addLookupCondition:function(){this.onAddLookupCondition();dojo.publish("onAddLookupCondition",this);},onAddLookupCondition:function(){},_removeLookupCondition:function(){this.onRemoveLookupCondition(this);dojo.publish("onRemoveLookupCondition",this);},onRemoveLookupCondition:function(_c13){},_setToDefaultValue:function(){if(!this._isOnDefaultField()){return;}if(this.defaultValue){this._valueBox.set("value",this.defaultValue);}},_setToDefaultField:function(){var i,_c14;if(this.defaultField){_c14=this._fieldNameSelect.getOptions();for(i=0;i<_c14.length;i++){if(_c14[i].value===this.defaultField){this._fieldNameSelect.set("value",_c14[i].value);break;}}}},_setToDefaultOperator:function(){var _c15,j;if(!this._isOnDefaultField()){return;}if(this.defaultOperator&&typeof this.defaultOperator==="string"){_c15=this._operatorSelect.getOptions();for(j=0;j<_c15.length;j++){if(_c15[j].label===this.defaultOperator||_c15[j].value===this.defaultOperator){this._operatorSelect.set("value",_c15[j].value);break;}}}},_isOnDefaultField:function(){var _c16=false,_c17;if(this.defaultField){_c17=this._fieldNameSelect.get("value");_c16=(_c17===this.defaultField);}else{_c16=true;}return _c16;},refreshDefaults:function(){this._setToDefaultField();this._fieldChanged();}});return _bf2;});},"Sage/MainView/ActivityMgr/FilterConfigurationProvider":function(){define("Sage/MainView/ActivityMgr/FilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Utility","Sage/Utility/Activity","Sage/Data/SDataStore","Sage/Services/ActivityService","Sage/MainView/ActivityMgr/ActivityGroupContextService","dijit/registry","dojo/_base/declare","Sage/Utility/Filters","dojo/_base/lang","dojo/json"],function(_c18,_c19,_c1a,_c1b,_c1c,_c1d,_c1e,_c1f,_c20,_c21,lang,json){var _c22=_c20("Sage.MainView.ActivityMgr.FilterConfigurationProvider",[_c19,_c18],{_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,_currentUserId:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_c23){this.inherited(arguments);if(this.groupContextService.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){Sage.Services.removeService("ClientGroupContext");this.groupContextService=new _c1e();Sage.Services.addService("ClientGroupContext",this.groupContextService);}var _c24=Sage.Services.getService("ClientContextService");if(_c24){if(_c24.containsKey("userID")){this._currentUserId=_c24.getValue("userID");}}this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(_c25,_c26){var _c27=this.groupContextService.getCurrentListConfig();this._configuration=_c27.getFilterConfig(this.metaDataService,_c25,_c26);if(!this._configuration){this._configuration={};}this._configuration.getFilterManager=function(){var _c28=_c1f.byId("list");return _c28&&_c28.get("filterManager");};this._hasLayoutConfiguration=true;},requestConfiguration:function(_c29){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;this._onRequestConfigurationSuccess(_c29,null);this._getHiddenFilters(_c29);},_onRequestConfigurationSuccess:function(_c2a,_c2b){this._createConfiguration(_c2b,_c2a);this._callOptionsSuccess(_c2a);},_onRequestConfigurationFailure:function(_c2c,_c2d){if(_c2c.failure){_c2c.failure.call(_c2c.scope||this,_c2d,_c2c,this);}},getFilterFormatter:function(_c2e){if(_c2e){if(_c2e.filterName==="Duration"){return _c1b.formatDuration;}}return false;},ModifyFilterQuery:function(_c2f,_c30){var _c31=false;if(_c30){_c31=true;}if(_c2f.propertyName==="Activity.Duration"){if(_c31){_c30="("+_c30+") and (Activity.Timeless ne true)";}else{_c30="(Activity.Timeless ne true)";}}else{if(_c2f.propertyName==="Duration"){if(_c31){_c30="("+_c30+") and (Timeless ne true)";}else{_c30="(Timeless ne true)";}}}return _c30;},_getHiddenFilters:function(_c32){var key=this._getHiddenFiltersKey();if(key){_c21.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_c32||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_c21.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_c33,_c34){if(_c34&&_c34.response&&_c34.response.value){this._configuration._hiddenFilters=json.parse(_c34.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_c33);},_callOptionsSuccess:function(_c35){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_c35.success){_c35.success.call(_c35.scope||this,this._configuration,_c35,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _c22;});},"Sage/QuickForms/Design/Editors/nls/GenericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/GenericBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_c36,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_c36,nls);});},"Sage/MainView/JobMgr/nls/JobManagerActions":function(){define("Sage/MainView/JobMgr/nls/JobManagerActions",["Sage/LanguageList","dojo/_base/lang"],function(_c37,lang){var nls={root:{txtInterruptExecutionMessage:"A signal has been sent to the job to cancel execution.",txtInterruptExecutionTitle:"Cancel Job",txtInterruptExecutionConfirmationMessage:"Are you sure you want to cancel execution of job ${0}?",txtYes:"Yes",txtNo:"No",completedJobMessage:"The selected job has already been completed.",jobStatusComplete:"Complete",error_NoRecordSelected:"You must select a record before continuing.",confirm_ScheduleDeletion:"Are you sure you want to delete the selected schedule?"}};return lang.mixin(_c37,nls);});},"Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig",["Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig","Sage/UI/SDataLookup","dojo/i18n!./nls/ContactLookupConfig","dojo/_base/declare","dojo/_base/lang"],function(_c38,_c39,_c3a,_c3b,lang){var _c3c=_c3b("Sage.MainView.ActivityMgr.AttendeeLookup.ContactLookupConfig",[_c38],{constructor:function(){lang.mixin(this,_c3a);this.lookupType=_c39;this._initConfig();},_initConfig:function(){this.id="_contactLookup",this.lookupName="Contact";this.lookupDisplayName="Contact Lookup";this.entityName="Contact";this.dialogTitle=this.dialogTitleText,this.cells=null;this.cells=this.getCells();this.defaultCell={"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""};this.storeOptions={resourceKind:"contacts",select:["LastName","FirstName","Title","Type","SlxUserAssociation/$key","Account/$key","Account/AccountName","ContactUser/Userid","Address/Timezone"],sort:[{attribute:"LastName"}]};this.preFilters=[];this.gridOptions={};this.query={};this.displayMode=5;this.isModal=true;this.initialLookup=false;this.seedValue="X";this.seedProperty="Account.Id";},getCells:function(){if(this.cells){return this.cells;}this.cells=[{name:this.colFirstName,field:"FirstName"},{name:this.colLastName,field:"LastName"},{name:this.colTitle,field:"Title"},{name:this.colAccount,field:"AccountName"},{name:this.colWorkPhone,field:"WorkPhone"},{name:this.colEmail,field:"Email"}];return this.cells;},doSelected:function(_c3d){alert("overide the doSelect method");},getConfig:function(uiid){var _c3e={id:this.id+"_base_"+uiid,btnToolTip:"",structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,displayMode:this.displayMode,storeOptions:this.storeOptions,isModal:this.isModal,initialLookup:this.initialLookup,preFilters:this.preFilters,query:this.query,seedValue:this.seedValue,seedProperty:this.seedProperty,overrideSeedValueOnSearch:true,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:this.doSelected,cancelText:this.cancelText};return _c3e;},getLookupInstance:function(uiid){var _c3f=this.getConfig(uiid);var _c40=new this.lookupType(_c3f);return _c40;}});return _c3c;});},"Sage/UI/Columns/RadioGroup":function(){define("Sage/UI/Columns/RadioGroup",["dojox/grid/cells/_base","dojo/_base/declare"],function(_c41,_c42){var _c43=_c42("Sage.UI.Columns.RadioGroup",dojox.grid.cells.AlwaysEdit,{options:null,values:null,labels:[],constructor:function(_c44){this.values=this.values||this.options;if(this.labels&&this.labels.length>0){var _c45=["<table style=\"width:100%\"><tr>"];for(var i=0;i<this.labels.length;i++){_c45.push("<td style=\"text-align: center;\">"+this.labels[i]+"</td>");}this.name=_c45.join("");}},formatEditing:function(_c46,_c47){var _c48=["<table style=\"width:100%\"><tr>"];for(var i=0;i<this.values.length;i++){_c48.push(["<td style=\"text-align: center;\">","<input type=\"radio\""," id=\""+this.values[i]+"_"+_c47+"\""," name=\""+this.field+"_"+_c47+"\""," value=\""+this.values[i]+"\"",_c46===this.values[i]?" checked=\"checked\" />":" />"].join(""));}_c48.push("</tr></table>");return _c48.join("");},doclick:function(e){if(e.target.tagName==="INPUT"){var _c49=this.grid.edit;_c49.applyCellEdit(e.target.value,this,e.rowIndex);}}});return _c43;});},"Sage/UI/Columns/Cell":function(){define("Sage/UI/Columns/Cell",["dojox/grid/cells","dojox/grid/cells/dijit","dojo/_base/declare"],function(_c4a,_c4b,_c4c){var _c4d=_c4c("Sage.UI.Columns.Cell",_c4a._Widget,{formatNode:function(_c4e,_c4f,_c50){if(!this.widgetClass){return _c4f;}var _c51=dijit.byId(this._getControlId());if(!_c51){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_c51;if(_c51.value!==_c4f||this.widget.focusNode.value!==_c4f){if(this.widget.focusNode.set){this.widget.focusNode.set("value",_c4f);}else{this.widget.set("value",_c4f);}}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_c50);this.grid.scroller.rowHeightChanged(_c50,true);this.focus();return undefined;},setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},_getControlId:function(){this.setCurrentItems();return [this.item.$key,this.editInfo.cell.field,this.index].join("_");}});return _c4d;});},"Sage/UI/Columns/UserType":function(){define("Sage/UI/Columns/UserType",["Sage/Utility","dojo/i18n!../nls/UserType","dojo/_base/declare"],function(_c52,_c53,_c54){var _c55=_c54("Sage.UI.Columns.UserType",dojox.grid.cells._Base,{constructor:function(){dojo.mixin(this,_c53);this.inherited(arguments);},formatter:function(val,_c56){var _c57={"W":this.administratorText,"P":this.templateText,"M":this.remoteText,"T":this.webOnlyText,"R":this.retiredText,"C":this.concurrentText,"V":this.webViewerText,"N":this.networkText,"A":this.addOnUserText};return (_c57[val]?_c52.htmlEncode(_c57[val]):val);}});return _c55;});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/ContactLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/ContactLookupConfig",["Sage/LanguageList","dojo/_base/lang"],function(_c58,lang){var nls={root:{contactText:"Contact",accountText:"Account",lookupContactText:"Lookup Contact",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",dialogButtonText:"Add Selected",cancelText:"Close",colFirstName:"First Name",colLastName:"Last Name",colTitle:"Title",colAccount:"Account",colWorkPhone:"Work Phone",colEmail:"Email",dialogTitleText:"Lookup Contacts"}};return lang.mixin(_c58,nls);});},"Sage/QuickForms/Design/nls/DataSourcePanel":function(){define("Sage/QuickForms/Design/nls/DataSourcePanel",["Sage/LanguageList","dojo/_base/lang"],function(_c59,lang){var nls={root:{loadingText:"Loading..."}};return lang.mixin(_c59,nls);});},"Sage/TaskPane/CommonTasksTasklet":function(){define("Sage/TaskPane/CommonTasksTasklet",["dijit/Menu","dijit/Dialog","dijit/form/Button","dijit/form/CheckBox","dijit/registry","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/MenuItem","Sage/UI/Dialogs","Sage/Utility/Email","Sage/Groups/GroupManager","dojo/_base/xhr","dojo/_base/lang","dojo/_base/declare","dojo/string","dojo/i18n!./nls/CommonTasksTasklet","dojo/dom-class","Sage/Utility/Jobs"],function(_c5a,_c5b,_c5c,_c5d,_c5e,_c5f,_c60,_c61,_c62,_c63,xhr,lang,_c64,_c65,_c66,_c67,jobs){var _c68=_c64("Sage.TaskPane.CommonTasksTasklet",_c5f,{constructor:function(args){lang.mixin(this,_c66);},removeCurrentFromGroup:function(){this.getCurrentEntity();var svc=Sage.Services.getService("ClientGroupContext"),_c69,_c6a;if(svc!==null){_c69=svc.getContext();_c6a=_c69.FirstEntityID;if(_c6a===this.currentEntityId){_c6a=_c69.NextEntityID;}if(_c6a!==""){if(this.contextService){this.contextService.navigateSLXGroupEntity(_c6a,this.currentEntityId);}}Sage.Groups.GroupManager.removeIds(_c69.CurrentGroupID,_c69.CurrentName,_c69.CurrentFamily,[this.currentEntityId],function(){__doPostBack("MainContent","");},function(err){console.error(err);},this);}},removeSelectionsFromGroup:function(){_c63.removeSelectionsFromGroup();},saveSelectionsAsNewGroup:function(){_c63.saveSelectionsAsNewGroup();},showAdHocList:function(e){var svc=Sage.Services.getService("ClientGroupContext"),i,item,_c6b;if(typeof (GroupAdHocListMenu)==="undefined"){GroupAdHocListMenu=new _c5a({id:"GroupAdHocList"});GroupAdHocListMenu.addChild(new _c60({label:this.loadingText}));}svc.getAdHocGroupList(function(list){GroupAdHocListMenu.destroyDescendants();for(i=0;i<list.length;i++){item=list[i];GroupAdHocListMenu.addChild(new _c60({label:item.$descriptor||item.name,ref:_c65.substitute("javascript:Sage.Groups.GroupManager.addSelectionsToGroup('${0}')",[item.$key]),onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;dijit.popup.close(GroupAdHocListMenu);}catch(err){}}}}));}GroupAdHocListMenu.on("blur",function(){dijit.popup.close(GroupAdHocListMenu);});GroupAdHocListMenu.startup();},this);if(!e.pageX&&!e.pageY){e.pageX=e.clientX+document.body.scrollLeft;e.pageY=e.clientY+document.body.scrollTop;}dijit.popup.open({popup:GroupAdHocListMenu,x:e.pageX||250,y:e.pageY||250});_c6b=GroupAdHocListMenu.domNode.parentNode;if(_c6b&&!_c67.contains(_c6b,"commonTaskAdHoc")){_c67.add(_c6b,"commonTaskAdHoc");}},exportToExcel:function(){this.prepareSelectedRecords(this.triggerExportToExcelJob(this.getSelectionInfo(),this));},triggerExportToExcelJob:function(_c6c,self){return function(){var _c6d=[{"name":"SelectedIds","value":(_c6c.selectionCount>0)?_c6c.selectedIds.join(",")||"":""},{"name":"GroupId","value":self.getCurrentGroupId()}];var _c6e=self.getCurrentGroupName();var _c6f=dojo.date.locale.format(new Date(),{selector:"date",datePattern:"yyyy_MM_dd_hhmm"});var user="";var _c70=Sage.Services.getService("ClientContextService");if(_c70){if(_c70.containsKey("userPrettyName")){user=_c70.getValue("userPrettyName");}}var _c71=_c65.substitute("${0}_${1}_${2}",[_c6e,user,_c6f]);var _c72={descriptor:_c71,closable:true,title:self.exportToExcel_Caption,key:"Sage.SalesLogix.BusinessRules.Jobs.ExportToExcelJob",parameters:_c6d,infoMessage:self.exportProcessingJobMsg,success:function(_c73){},failure:function(_c74){_c61.showError(dojo.string.substitute(self.errorRequestingJobMgr,[_c74.result]));},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_c72);};},exportToFile:function(){this.getCurrentEntity();this.prepareSelectedRecords(this.fileFormatCheck(this));},fileFormatCheck:function(self){return function(){var _c75=cookie.getCookie("formatIsSaved"),_c76=cookie.getCookie("format");if(_c75==="true"&&_c76.length>0){dojo.byId([self.clientId,"_tskExportToExcel"].join("")).click();}else{self.promptForFileFormat();}};},promptForFileFormat:function(){var self=this,_c77="promptForFileFormat-Dialog",_c78=dijit.byId(_c77);if(!_c78){_c78=new _c5b({id:_c77,title:self.exportToFile_DialogTitle});}_c78.attr("content",this.getPromptForFileFormatTemplate().apply({dialogId:_c77}));_c78.show();},getPromptForFileFormatTemplate:function(){return new Simplate(["<div>","<label style=\"padding-left:5px\">{%= commonTaskActions.selectFileFormat %}</label>","<br />","<div style=\"padding-left:10px; padding-top:7px\">","<input id=\"radioCSV\" name=\"format_type\" type=\"radio\" data-dojo-type=\"dijit.form.RadioButton\" value=\"csv\" checked=\"true\" />{%= commonTaskActions.exportToFile_OptionCSV %}","</div>","<div style=\"padding-left:10px; padding-top:7px\">","<input id=\"radioTab\" name=\"format_type\" type=\"radio\" data-dojo-type=\"dijit.form.RadioButton\" value=\"tab\" />{%= commonTaskActions.exportToFile_OptionTab %}","</div>","<div style=\"padding-left:11px; padding-top:7px\">","<input id=\"exportFormatSaved\" dojoAttachPoint=\"exportFormatSaved\" data-dojo-type=\"dijit.form.CheckBox\" value=\"true\" />{%= commonTaskActions.exportToFile_OptionSaveFormat %}","</div>","<div style=\"padding-right:5px; padding-bottom:5px; text-align:right;\">","<button data-dojo-type=\"dijit.form.Button\" type=\"submit\" class=\"ok-button\" onClick=\"commonTaskActions.onExportToFileClick();\">{%= commonTaskActions.exportToFile_OK %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" class=\"cancel-button\" onClick=\"dijit.byId('promptForFileFormat-Dialog').hide();\">{%= commonTaskActions.exportToFile_Cancel %}</button>","</div>","</div>"]);},onExportToFileClick:function(){var _c79=dojo.byId("exportFormatSaved");var _c7a;if(_c79!==undefined&&_c79.checked){document.cookie="formatIsSaved=true; expires=1/01/2020";}if(dojo.byId("radioCSV").checked){_c7a="csv";}else{_c7a="tab";}document.cookie="format="+_c7a+"; expires=1/01/2020";dojo.byId([this.clientId,"_tskExportToExcel"].join("")).click();},emailSend:function(){this.getCurrentEntity();var url="slxdata.ashx/slx/crm/-/namedqueries?columnaliases=email&format=json&hql=";var sHql=this.getURL(this.currentEntityTableName);if(sHql===null){_c61.showError(this.noPrimaryEmail);return;}url=url+sHql;var self=this;dojo.xhrGet({url:url,handleAs:"json",load:function(data){self.sendEmail(data);},error:function(_c7b){_c61.showError(_c7b.StatusText);}});},getURL:function(_c7c){var url=null;switch(_c7c){case "CONTACT":url=dojo.string.substitute("select con.Email from Contact con where con.id like '${0}'",[this.currentEntityId]);break;case "ACCOUNT":url=dojo.string.substitute("select con.Email from Contact as con where con.Account.id like '${0}' and con.IsPrimary like 'T'",[this.currentEntityId]);break;case "OPPORTUNITY":url=dojo.string.substitute("select con.Email from Opportunity as opp left join opp.Contacts as oppCon left join oppCon.Contact as con where opp.id like '${0}' and oppCon.IsPrimary like 'T'",[this.currentEntityId]);break;case "LEAD":url=dojo.string.substitute("select le.Email from Lead le where le.id like '${0}'",[this.currentEntityId]);break;case "CAMPAIGN":url=dojo.string.substitute("select ufo.Email from Campaign as cam left join cam.AccountManager as usr left join usr.UserInfo as ufo where cam.id like '${0}'",[this.currentEntityId]);break;case "TICKET":url=dojo.string.substitute("select ufo.Email from User as usr left join usr.UserInfo as ufo where usr.DefaultOwner in  (select own.id from Ticket as tic left join tic.AssignedTo as own where tic.id like '${0}')",[this.currentEntityId]);break;case "DEFECT":url=dojo.string.substitute("select ufo.Email from User as usr left join usr.UserInfo as ufo where usr.DefaultOwner in (select own.id from Defect as def left join def.AssignedTo as own where def.id like '${0}')",[this.currentEntityId]);break;case "CONTRACT":url=dojo.string.substitute("select con.Email from Contract as crt left join crt.Contact as con where crt.id like '${0}'",[this.currentEntityId]);break;case "SALESORDER":url=dojo.string.substitute("select so.ShippingContact.Email from SalesOrder as so where so.Id eq '${0}'",[this.currentEntityId]);break;case "RMA":url=dojo.string.substitute("select con.Email from Return as ret left join ret.ReturnedBy as con where ret.id like '${0}'",[this.currentEntityId]);break;}return url;},sendEmail:function(_c7d){if(_c7d.count>0){var _c7e=_c7d.items[0].email;if(_c7e){_c7e="mailto:"+_c7e;document.location.href=_c7e;return;}}_c61.showError(this.noPrimaryEmail);},copyUser:function(){var _c7f=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyUser",selectionInfoKey:_c7f});},copyUserProfile:function(){var _c80=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyUserProfile",selectionInfoKey:_c80});},deleteUsers:function(){var _c81=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteUsers",selectionInfoKey:_c81});},addToTeam:function(){var _c82=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"AddToTeam",selectionInfoKey:_c82});},removeFromTeam:function(){var _c83=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"RemoveFromTeam",selectionInfoKey:_c83});},removeFromAllTeams:function(){var _c84=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"RemoveFromAllTeams",selectionInfoKey:_c84});},assignRole:function(){var _c85=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"AssignRole",selectionInfoKey:_c85});},replaceTeamMember:function(){var _c86=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"ReplaceTeamMember",selectionInfoKey:_c86});},deleteTeam:function(){var _c87=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteTeam",selectionInfoKey:_c87});},deleteDepartment:function(){var _c88=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteDepartment",selectionInfoKey:_c88});},copyTeam:function(){var _c89=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyTeam",selectionInfoKey:_c89});},copyDepartment:function(){var _c8a=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyDepartment",selectionInfoKey:_c8a});},showDetailReport:function(){var _c8b=Sage.Services.getService("ReportingService");if(_c8b){_c8b.showDefaultReport();}},writeEmailToGroupSelection:function(){_c62.writeEmailToGroupSelection();}});return _c68;});},"url:Sage/MainView/ReportMgr/Crystal/templates/BooleanParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n        <div style=\"padding-top: 5px;\">\r\n            <select dojotype=\"dijit.form.Select\" dojoattachpoint=\"cmbValues\" style=\"width: 150px\">\r\n            </select>\r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>","Sage/QuickForms/Design/Editors/ComboBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ComboBoxAdvancedPropertyEditor",["dojo/string","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dojo/store/Memory","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ComboBoxAdvancedPropertyEditor"],function(_c8c,_c8d,lang,_c8e,_c8f,_c90,_c91,_c92,_c93,_c94,_c95,_c96,_c97,_c98){return _c8d("Sage.QuickForms.Design.Editors.ComboBoxAdvancedPropertyEditor",[_c8f,_c96,_c95],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.itemGroupText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.dataSourceTooltipText %}\">","<label>{%= $.dataSourceText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_dataSource\" data-dojo-attach-event=\"onChange:_onDataSourceChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.itemsTooltipText %}\">","<label>{%= $.itemsText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_items\" data-dojo-attach-event=\"onChange:_onItemsChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.textFieldTooltipText %}\">","<label>{%= $.textFieldText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_textField\" data-dojo-attach-event=\"onChange:_onTextFieldChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.valueFieldTooltipText %}\">","<label>{%= $.valueFieldText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_valueField\" data-dojo-attach-event=\"onChange:_onValueFieldChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlId:null,_controlLabelPlacement:null,_controlType:null,_dataSource:null,_defaultDataBinding:null,_enabled:null,_items:null,_textField:null,_valueField:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",itemGroupText:"Items",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",itemsText:"Items:",itemsTooltipText:"Values the user can select.",textFieldText:"Text Field:",textFieldTooltipText:"The name of the data source field used to populate the visible text portion of the list items.",valueFieldText:"Value Field:",valueFieldTooltipText:"The name of the data source field used to populate the value portion of the list items.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},hasItemsText:"Set",noItemsText:"Not Set",constructor:function(){lang.mixin(this,_c98);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._enabled.set("value",this._designer.get("enabled"));this._items.set("value",this._designer.get("hasItems")?this.hasItemsText:this.noItemsText);this._visible.set("value",this._designer.get("visible"));var _c99=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_c99&&_c99["DataItemName"])||"");this.setDataSources();this._dataSource.set("value",this._designer.get("dataSource"));this._textField.set("value",this._designer.get("textField"));this._valueField.set("value",this._designer.get("valueField"));},setDataSources:function(){var _c9a=this.getDataSources(),_c9b=this._dataSource;_c9b.removeOption(_c9b.getOptions());_c9b.addOption({label:"",value:"_-1"});_c9b.addOption({label:"MainEntity",value:"MainEntity"});_c8e.forEach(_c9a,function(_c9c){this.addOption(lang.mixin({label:_c9c.get("controlId"),value:_c9c.get("controlId")},_c9c.entry));},_c9b);},getDataSources:function(){var _c9d=this._designer.get("form").get("controls"),_c9e=[];_c8e.forEach(_c9d,function(_c9f){if(_c9f instanceof Sage.QuickForms.Design.DataSourceDesigner){this.push(_c9f);}},_c9e);return _c9e;},getSelectedItem:function(_ca0){var _ca1=this._dataSource;for(var i=0;i<_ca1.options.length;i++){var item=_ca1.options[i];if(item.value===_ca0){return item||null;}}return null;},updateFieldStore:function(_ca2,_ca3,_ca4){if(_ca2.store.destroy){_ca2.store.destroy();}_ca2.set("store",_ca3);_ca2.set("searchAttr",_ca4);_ca2.set("disabled",false);},createSDataPropertyStore:function(_ca5){return new Sage.Data.SDataStore({service:Sage.Data.SDataServiceRegistry.getService("metadata"),collection:"$resources.0.properties.$resources",resourceKind:"entities",resourcePredicate:_c8c.substitute("'${0}'",[_ca5])});},_onControlIdChange:function(_ca6){},_onControlLabelPlacementChange:function(_ca7){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_ca7);},_onControlTypeChange:function(_ca8){},_onDefaultDataBindingChange:function(_ca9){},_onDataSourceChange:function(_caa){},_onEnabledChange:function(_cab){if(this.isSuspended()){return;}this._designer.set("enabled",_cab);},_onItemsChange:function(_cac){},_onTextFieldChange:function(_cad){if(this.isSuspended()){return;}this._designer.set("textField",_cad);},_onValueFieldChange:function(_cae){if(this.isSuspended()){return;}this._designer.set("valueField",_cae);},_onVisibleChange:function(_caf){if(this.isSuspended()){return;}this._designer.set("visible",_caf);}});});},"Sage/UI/SLXPreviewGrid/Filter/Text":function(){define("Sage/UI/SLXPreviewGrid/Filter/Text",["dijit/form/TextBox","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/_base/declare"],function(_cb0,_cb1,_cb2){var text=_cb2("Sage.UI.SLXPreviewGrid.Filter.Text",[_cb0,_cb1],{postMixInProperties:function(){this.type="text";this.style="width: 200px";this.inherited(arguments);},reset:function(){this.set("displayedValue","");this.set("value","");}});return text;});},"Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig",["Sage/MainView/ActivityMgr/ActivityListPanelConfig","Sage/UI/Columns/SlxLink","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/ActivityListPanelConfig"],function(_cb3,_cb4,_cb5,lang,_cb6){var _cb7=_cb5("Sage.Extensions.Activity.ListPanelOverrides.ActivityListPanelConfig",[_cb3],{constructor:function(){lang.mixin(this,_cb6);this._select.push("Activity/Details/AttendeeCount");this._structure.push({field:"Activity.Details.AttendeeCount",name:this.colNameAssociationCount,width:"90px"});}});return _cb7;});},"Sage/Library/nls/Manager":function(){define("Sage/Library/nls/Manager",["Sage/LanguageList","dojo/_base/lang"],function(_cb8,lang){var nls={root:{AddFiles:"Add Files",AddFolder:"Add Folder",Confirm:"Confirm",ConfirmDownload:"The file has not been downloaded. Would you like to get it the next time you synchornize?",ConfirmDownloadReorder:"The file has not been downloaded but has already been ordered. Would you like re-order the file to get it the next time you synchornize?",Created:"Created",DeleteFolder:"Delete Folder",DeleteSelectedFile:"Delete Selected File",Description:"Description",DirectoryInformationError:"There was an unexpected error attempting to retreive document directory information.",DocumentInformationError:"There was an unexpected error attempting to retreive document information.",EditFolder:"Edit Folder Name",Expires:"Expires",File:"File",FileProperties:"File Properties",Help:"Help",InvalidRoot:"Invalid root directory: \"${0}\" (${1}).",Library:"Library",LibraryDataError:"There was an unexpected error processing library directory data.",Never:"Never",No:"No",Revised:"Revised",Size:"Size",Yes:"Yes"}};return lang.mixin(_cb8,nls);});},"url:Sage/MainView/ReportMgr/Crystal/templates/DateRangeParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div style=\"padding-top: 5px;\">\r\n            <center>\r\n                <table cellspacing=\"10\">\r\n                    <tr>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtFrom) %}</label>\r\n                        </td>                        \r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtTo) %}</label>\r\n                        </td>                                               \r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromRange\" displayDate=\"true\" displayTime=\"false\" label=\"From:\" required=\"true\" style=\"width:250px\"></div>\r\n                        </td>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToRange\" displayDate=\"true\" displayTime=\"false\" label=\"To:\" required=\"true\" style=\"width:250px\"></div>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td>\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkIncludeFromRange\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkNoLowerValue\" dojoAttachEvent=\"onChange:_chkNoLowerValue_OnCheck\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoLowerValue) %}</label>\r\n                        </td>                                               \r\n                        <td>\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkIncludeToRange\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkNoUpperValue\" dojoAttachEvent=\"onChange:_chkNoUpperValue_OnCheck\" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoUpperValue) %}</label>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>","Sage/UI/nls/GroupsTitlePaneConfigProvider":function(){define("Sage/UI/nls/GroupsTitlePaneConfigProvider",["Sage/LanguageList","dojo/_base/lang"],function(_cb9,lang){var nls={root:{groupText:"Groups",addGroupButtonTooltip:"Add Group",groupButtonTooltip:"Manage Groups",lookupText:"Lookup",lookupResultsText:"Lookup Results",groupColumnText:"Group",visibleColumnText:"Visible"}};return lang.mixin(_cb9,nls);});},"Sage/MainView/ActivityMgr/EditEventEditor":function(){define("Sage/MainView/ActivityMgr/EditEventEditor",["dijit/_Widget","Sage/_Templated","dijit/Toolbar","dijit/layout/TabContainer","dijit/layout/ContentPane","dijit/form/Textarea","dijit/form/ComboBox","Sage/UI/TextBox","Sage/UI/Controls/DateTimePicker","Sage/UI/SDataLookup","dojox/layout/TableContainer","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","dijit/Dialog","Sage/UI/Dialogs","Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/EditEventEditor","dijit/focus","dojo/_base/lang"],function(_cba,_cbb,_cbc,_cbd,_cbe,_cbf,_cc0,_cc1,_cc2,_cc3,_cc4,_cc5,_cc6,_cc7,_cc8,_cc9,_cca,_ccb,_ccc,_ccd,_cce,_ccf,lang){var _cd0=_ccd("Sage.MainView.ActivityMgr.EditEventEditor",[_cba,_cbb],{eventId:null,mode:false,_dialog:false,_currentUserId:null,_eventService:false,_eventData:false,_eventStore:false,_bindingMgr:false,_eventChangeConnection:false,lup_User:false,eventDefaultValues:{},eventConnections:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"eventDialog\" title=\"\" dojoAttachPoint=\"_dialog\" >","<div class=\"event-dialog\">","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_event\" title=\"\" dojoAttachPoint=\"cp_Event\" class=\"tabContent\">","<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"140\">","<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" label=\"{%= $.lblStartDateText %}\" id=\"{%= $.id%}_tb_StartDate\" name=\"tb_StartDateName\" dojoAttachPoint=\"tb_StartDate\" displayDate=\"true\" displayTime=\"false\"  ></div>","<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" label=\"{%= $.lblEndDateText %}\" id=\"{%= $.id%}_tb_EndDate\" name=\"tb_EndDateName\" dojoAttachPoint=\"tb_EndDate\" displayDate=\"true\" displayTime=\"false\" ></div>","<select  dojoAttachPoint=\"tb_DayType\" data-dojo-type=\"dijit.form.ComboBox\" required=\"false\" name=\"tb_DayType\"  label=\"{%= $.lblDayTypeText %}\" id=\"{%= $.id%}_tb_DayType\" >","<option value=\"Active\" >{%=$.eventTypeActiveText %}</option>","<option value=\"Business Trip\" >{%=$.eventTypeBusinessTripText %}</option>","<option value=\"Conference\" >{%=$.eventTypeConferenceText%}</option>","<option value=\"Holiday\" selected=\"selected\" >{%=$.eventTypeHolidayText%}</option>","<option value=\"Off\" >{%=$.eventTypeOffText%}</option>","<option value=\"Trade Show\" >{%=$.eventTypeTradeShowText%}</option>","<option value=\"Unavailable\" >{%=$.eventTypeUnavailableText%}</option>","<option value=\"Vacation\" >{%=$.eventTypeVacationText%}</option>","</select>","<input data-dojo-type=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_Location\" label=\"{%= $.lblLocationText %}\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" />","<textarea data-dojo-type=\"dijit.form.SimpleTextarea\" label=\"{%= $.lblDescriptionText %}\" id=\"{%= $.id%}_tb_Description\" name=\"tb_Description\" dojoAttachPoint=\"tb_Description\" rows=\"4\" cols=\"1\"  maxLength=\"128\"  ></textarea>","<div class=\"event-dialog remove-padding\">","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.lblUserText %}\" dojoAttachPoint=\"container_UserLup\" class=\"remove-padding lookup-container\"></div>","</div>","</div>","</div>","<div class=\"button-bar alignright\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOkayText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCancelText %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(){dojo.mixin(this,_cce);this._eventService=_cca.getSDataService("dynamic");this._setEventStore();this._currentUserId=_cc9.getClientContextByKey("userID")||"";},destroy:function(){if(this._eventChangeConnection){dojo.disconnect(this._eventChangeConnection);this._eventChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}if(this.lup_User){this.lup_User.destroy();}this.inherited(arguments);},show:function(_cd1){if(!this.lup_User){this._createUserLookup();}if(this.mode==="New"){this._dialog.set("title",this.titleScheduleText);}else{this._dialog.set("title",this.titleEditText);}this.eventDefaultValues=_cd1||{};this._loadData();this._dialog.set("refocus",false);this._dialog.show();if(!this._dialog.helpIcon){_ccc.mixin(this._dialog,new _ccb());this._dialog.createHelpIconByTopic("addevent");}},hide:function(){this._dialog.hide();},resize:function(){},_setModeAttr:function(mode){this.mode=mode;if(mode.indexOf("New")===0){this.mode="New";this._eventData=false;}},_setEventIdAttr:function(_cd2){if(this.eventId!==_cd2){this.eventId=_cd2;this._eventData=false;}},_getEventIdAttr:function(){return this.eventId;},_setEventStore:function(){if(!this._eventStore){this._eventStore=new _cc5({include:[],select:["StartDate","EndDate","Description","Type","Location","UserId"],resourceKind:"events",service:this._eventService});}},onChange:function(_cd3,_cd4,_cd5,_cd6){},setMode:function(mode){this._mode=mode;},_loadData:function(){this._eventData=false;if(this._eventStore){if(this.mode!=="New"){this._eventStore.fetch({predicate:"'"+this.eventId+"'",onComplete:this._receivedEvent,onError:this._requestFailure,scope:this});}else{this._eventStore.newItem({onComplete:function(_cd7){_cc9.setValue(_cd7,"UserId",this._currentUserId);this._receivedEvent(_cd7);},scope:this});}}},_receivedEvent:function(_cd8){if(this.mode==="New"){this._eventData=(dojo.mixin(_cd8,this.eventDefaultValues));}else{this._eventData=_cd8;}this._bind();},_requestFailure:function(msg,_cd9,opts){},_bind:function(){if(this._eventData){if(!this._bindingMgr){this._bindingMgr=new _cc6({defaultBinding:{boundEntity:this._eventData},items:[{boundWidget:this.tb_StartDate,entityProperty:"StartDate",dataType:"date"},{boundWidget:this.tb_EndDate,entityProperty:"EndDate",dataType:"date"},{boundWidget:this.tb_DayType,entityProperty:"Type"},{boundWidget:this.tb_Description,entityProperty:"Description"},{boundWidget:this.tb_Location,entityProperty:"Location"}]});this._eventChangeConnection=dojo.connect(this._bindingMgr,"onChange",this,"onChange");}else{if(!this._bindingMgr.boundEntity||(this._eventData["$key"]!==this._bindingMgr.boundEntity["$key"])){this._bindingMgr.setBoundEntity(this._eventData);}else{this._bindingMgr.bind();}}this._bindUserLookup();}},_bindUserLookup:function(){if(this._eventData.UserId){if(this._eventData.UserId===this._currentUserId){var _cda={"$key":this._currentUserId,"$descriptor":_cc9.getClientContextByKey("userPrettyName")};this.lup_User.set("selectedObject",_cda);}else{this._getUserInfoFor(this._eventData.UserId,function(user){this.lup_User.set("selectedObject",user);});}}else{this.lup_User.set("selectedObject",null);}},_getUserInfoFor:function(_cdb,_cdc){var _cdd=new Sage.SData.Client.SDataSingleResourceRequest(_cca.getSDataService("dynamic",false,true,true));_cdd.setResourceKind("userInfo");_cdd.setResourceSelector("'"+_cdb+"'");_cdd.setQueryArg("precedence","0");_cdd.read({success:_cdc,scope:this,failure:function(){}});},_createUserLookup:function(){var _cde={id:"_eventUser",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "AllowAdd AND (AccessId eq '"+_cc9.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupUserText,dialogButtonText:this.btnOkayText};this.lup_User=new Sage.UI.Controls.Lookup({id:"event_lu_user",config:_cde});this.eventConnections.push(dojo.connect(this.lup_User,"onChange",this,"_userChanged"));dojo.place(this.lup_User.domNode,this.container_UserLup.domNode,"only");},_userChanged:function(_cdf){_cc9.setValue(this._eventData,"UserId",(_cdf)?_cdf["$key"].substr(0,12):"");},datesValid:function(){var _ce0=this.tb_StartDate.value;_ce0=new Date(_ce0.getFullYear(),_ce0.getMonth(),_ce0.getDate(),0,0);var _ce1=this.tb_EndDate.value;_ce1=new Date(_ce1.getFullYear(),_ce1.getMonth(),_ce1.getDate(),0,0);if(_ce0>_ce1){_cc8.showError(this.invaildDatesText);return false;}return true;},_okClick:function(){var _ce2=_ccf.curNode;if(_ce2){_ce2.blur();}setTimeout(lang.hitch(this,function(){if(!this.datesValid()){return;}if(this.mode==="New"){this._eventStore.saveNewEntity(this._eventData,this._successEventCreated,this._failedEventCreated,this);}else{this._eventStore.save({scope:this,success:this._successEventUpdated,failure:this._failedEventUpdated});}}),1);},_cancelClick:function(){this.hide();},_successEventCreated:function(_ce3){dojo.publish("/entity/event/create",[_ce3,this]);this.hide();},_failedEventCreated:function(_ce4){_cc8.showError(this.errorText);},_successEventUpdated:function(_ce5){dojo.publish("/entity/event/change",[_ce5,this]);this.hide();},_failedEventUpdated:function(_ce6){_cc8.showError(this.errorText);}});return _cd0;});},"Sage/UI/SLXPreviewGrid/Grid":function(){define("Sage/UI/SLXPreviewGrid/Grid",["Sage/UI/EditableGrid","dijit/layout/BorderContainer","dijit/form/SimpleTextarea","dijit/_Widget","dijit/_Templated","dojo/i18n!../nls/SLXPreviewGrid","dojo/_base/declare"],function(_ce7,_ce8,_ce9,_cea,_ceb,_cec,_ced){var Grid=_ced("Sage.UI.SLXPreviewGrid.Grid",[_cea,_ce8],{filterText:"Filter",previewField:"",columns:null,tools:null,slxContext:null,dblClickAction:null,contextualConditionFunction:null,liveSplitters:true,gutters:false,gridNodeId:"",_filter:null,_grid:null,_preview:null,constructor:function(){this.connections=[];},amIInATab:function(){if(this.slxContext&&this.slxContext.workspace){return (this.slxContext.workspace.indexOf("TabWorkspace")>-1);}return false;},isMyTabVisible:function(){if(this.amIInATab()&&TabControl){return TabControl.getState().isTabVisible(this.slxContext.tabId);}return true;},postMixInProperties:function(){dojo.mixin(this,_cec);this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(this.previewField){this._preview=this._buildPreview();}this._filter=this._buildFilter();this._grid=this._buildGrid();},startup:function(){if(this._started){return;}this.inherited(arguments);this.domNode.style.visibility="visible";if(this._preview){var _cee=this.getSplitter("right");this.connections.push(dojo.connect(_cee,"_stopDrag",this,function(){this._setPref("previewSize",this._preview.domNode.style.width);this.layout();}));}},getSelectedRecords:function(_cef){var _cf0=this._grid.selection.getSelected();return dojo.map(_cf0,function(rec){var _cf1={};dojo.forEach(_cef,function(_cf2){_cf1[_cf2]=this._grid.store.getValue(rec,_cf2);},this);return _cf1;},this);},refresh:function(){this._grid.refresh();},setSortIndex:function(_cf3,_cf4){this._grid.setSortIndex(_cf3,_cf4);},setSortColumn:function(_cf5,_cf6){var _cf7=0;for(var i=0;i<this.columns.length;i++){if(_cf5===this.columns[i].field){_cf7=i;}}this._grid.setSortIndex(_cf7,_cf6);},addAssociatedItems:function(){this._grid.addAssociatedItems.apply(this._grid,arguments);},onSelected:function(){},_buildPreview:function(){var _cf8=new _ce9({style:"height:100%; overflow: auto; width: "+this._getPref("previewSize","150px"),region:"right",splitter:true,readOnly:true});this.addChild(_cf8);dojo.addClass(_cf8.domNode,"preview-grid-text");return _cf8;},_buildGrid:function(){var _cf9=[];if(this._filter){_cf9.push({id:this.id+"_Filter",imageClass:"icon_Filter_16x16",tooltip:this.filterText,handler:dojo.hitch(this,function(){this._filter.toggle();this.layout();})});}if(this.tools){dojo.forEach(this.tools,function(item){_cf9.push(item);});}var _cfa={fn:this.contextualConditionFunction||this.contextualCondition,conditions:this._filter?this._filter.getQuery():null};if(!this.storeOptions){throw ("SLXPreviewGrid configuration is missing storeOptions");}this.storeOptions.select=this.storeOptions.select||[];this.storeOptions.select.push("Id");this.storeOptions.select.push(this.previewField);var grid=new _ce7({id:this.domNode.id+"_grid",gridNodeId:this.id,tabId:this.slxContext.tabId,context:this.slxContext,region:"center",columnDefaults:{editable:false},columns:this.columns,tools:_cf9,contextualCondition:_cfa,storeOptions:this.storeOptions,keepSelection:true});this.connections.push(dojo.connect(grid,"onSelected",this,this._updatePreviewText));this.connections.push(dojo.connect(grid.store,"onSuccess",this,this._updatePreviewText));if(this.dblClickAction){dojo.connect(grid,"onRowDblClick",this,function(e){var rec=grid.getItem(e.rowIndex);var id=grid.store.getValue(rec,"$key");this.dblClickAction(id,rec);});}if(this._filter){dojo.connect(this._filter,"onFilterApply",this,function(_cfb){_cfa.conditions=this._filter.getQuery();grid.refresh();});}this.addChild(grid);return grid;},destroy:function(){var len=this.connections.length;for(var i=0;i<len;i++){dojo.disconnect(this.connections.pop());}this.inherited(arguments);},resetContextualCondition:function(_cfc){this.contextualConditionFunction=_cfc;var _cfd={fn:this.contextualConditionFunction||this.contextualCondition,conditions:this._filter?this._filter.getQuery():null};this._grid.resetContextualCondition(_cfd);},_updatePreviewText:function(){if(this.previewField){var sel=this._grid.selection.getSelected();var note="";if(sel.length>0&&sel[0]){note=sel[0][this.previewField]||this._grid.store.getValue(sel[0],this.previewField);}this._preview.set("value",note);}},_buildFilter:function(){var _cfe=[];dojo.forEach(this.columns,function(cc){if(cc.filterConfig){var fc=dojo.mixin(dojo.clone(cc),cc.filterConfig);if(!fc.label){fc.label=cc.name;}_cfe.push(fc);}});if(_cfe.length===0){return null;}var _cff=new Sage.UI.SLXPreviewGrid.FilterPanel({id:this.id+"_filterpanel",region:"top",filterConfig:_cfe,style:"display: none"});this.addChild(_cff);return _cff;},_getPref:function(_d00,_d01){var _d02=window["localStorage"];var key=this.id+_d00;if(_d02&&_d02[key]){return _d02[key];}return _d01;},_setPref:function(_d03,_d04){var _d05=window["localStorage"];if(_d05){_d05[this.id+_d03]=_d04;}}});return Grid;});},"Sage/Utility/EntityRelationships":function(){define("Sage/Utility/EntityRelationships",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility"],function(_d06,_d07,_d08,_d09,_d0a,_d0b){Sage.namespace("Utility.EntityRelationships");Sage.Utility.EntityRelationships={_store:false,getRelationships:function(_d0c,_d0d,_d0e){var _d0f={};if(_d0c.EntityId!==""){var id=_d0c.EntityId;var _d10=_d0c.EntityType.split(".");var _d11=_d10[_d10.length-1];switch(_d11){case "IAccount":this._getAccountRelationships(id,_d0d,_d0e);return;case "IContact":this._getContactRelationships(id,_d0d,_d0e);return;case "IOpportunity":this._getOpportunityRelationships(id,_d0d,_d0e);return;case "ITicket":this._getTicketRelationships(id,_d0d,_d0e);return;case "ISalesOrder":this._getSalesOrderRelationships(id,_d0d,_d0e);return;case "IActivity":this._getActivityRelationships(id,_d0d,_d0e);return;case "IHistory":this._getHistoryRelationships(id,_d0d,_d0e);return;case "IContract":this._getContractRelationships(id,_d0d,_d0e);return;case "IReturn":this._getReturnRelationships(id,_d0d,_d0e);return;}var _d12=_d0c.EntityTableName.toLowerCase()+"Id";_d0f[_d12]=id;_d0d.call(_d0e||this,_d0f);return;}_d0d.call(_d0e||this,{});},_getRequest:function(_d13,id){var req=new Sage.SData.Client.SDataSingleResourceRequest(_d07.getSDataService("dynamic"));req.setResourceKind(_d13);req.setResourceSelector("\""+id+"\"");req.setQueryArg("precedence","0");return req;},_getAccountRelationships:function(id,_d14,_d15){var req=this._getRequest("accounts",id);req.setQueryArg("include","Contacts,$descriptors");req.setQueryArg("select","Contacts/IsPrimary");req.read({success:function(acc){var obj={AccountId:_d0b.getValue(acc,"$key"),AccountName:_d0b.getValue(acc,"$descriptor")};var _d16="";var _d17="";var _d18=acc.Contacts.$resources;if(_d18.length>0){_d16=_d18[0].$key;}for(var i=0;i<_d18.length;i++){if(_d18[i].IsPrimary){_d16=_d18[i].$key;_d17=_d0b.getValue(_d18[i],"$descriptor");}}obj["ContactId"]=_d16;obj["ContactName"]=_d17;_d14.call(_d15||this,obj);},failure:function(){_d14.call(_d15||this,{"AccountId":id});},scope:this});},_getContactRelationships:function(id,_d19,_d1a){var req=this._getRequest("contacts",id);req.setQueryArg("include","Account,$descriptors");req.setQueryArg("select","Account");req.read({success:function(_d1b){var obj={AccountId:_d0b.getValue(_d1b,"Account.$key"),AccountName:_d0b.getValue(_d1b,"Account.$descriptor"),ContactId:_d1b.$key,ContactName:_d0b.getValue(_d1b,"$descriptor")};_d19.call(_d1a||this,obj);},failure:function(){_d19.call(_d1a||this,{"ContactId":id});},scope:this});},_getOpportunityRelationships:function(id,_d1c,_d1d){var req=this._getRequest("opportunities",id);req.setQueryArg("include","Account,Contacts,$descriptors");req.setQueryArg("select","Account,Contacts/IsPrimary");req.read({success:function(opp){var obj={AccountId:_d0b.getValue(opp,"Account.$key"),AccountName:_d0b.getValue(opp,"Account.$descriptor"),OpportunityId:opp.$key,OpportunityName:_d0b.getValue(opp,"$descriptor")};var _d1e="";var _d1f="";var _d20=opp.Contacts.$resources;if(_d20.length>0){_d1e=_d20[0].$key;}for(var i=0;i<_d20.length;i++){if(_d20[i].IsPrimary){_d1e=_d20[i].$key;_d1f=_d0b.getValue(_d20[i],"$descriptor");}}obj["ContactId"]=_d1e;obj["ContactName"]=_d1f;_d1c.call(_d1d||this,obj);},failure:function(){_d1c.call(_d1d||this,{"OpportunityId":id});},scope:this});},_getSalesOrderRelationships:function(id,_d21,_d22){var req=this._getRequest("salesorders",id);req.setQueryArg("include","Account,$descriptors");req.read({success:function(so){var obj={AccountId:_d0b.getValue(so,"Account.$key"),SalesOrderId:so.$key};_d21.call(_d22||this,obj);},failure:function(){_d21.call(_d22||this,{"SalesOrderId":id});},scope:this});},_getTicketRelationships:function(id,_d23,_d24){var req=this._getRequest("tickets",id);req.setQueryArg("include","Account,Contact,$descriptors");req.read({success:function(_d25){var obj={AccountId:_d0b.getValue(_d25,"Account.$key"),AccountName:_d0b.getValue(_d25,"Account.$descriptor"),ContactId:_d0b.getValue(_d25,"Contact.$key"),ContactName:_d0b.getValue(_d25,"Contact.$descriptor"),TicketId:_d25.$key,TicketNumber:_d0b.getValue(_d25,"$descriptor")};_d23.call(_d24||this,obj);},failure:function(){_d23.call(_d24||this,{"ticketId":id});},scope:this});},_getReturnRelationships:function(id,_d26,_d27){var req=this._getRequest("returns",id);req.setQueryArg("include","Account,ReturnedBy,Ticket,$descriptors");req.read({success:function(rma){var obj={ReturnId:rma.$key,ReturnNumber:_d0b.getValue(rma,"$descriptor"),AccountId:_d0b.getValue(rma,"Account.$key"),AccountName:_d0b.getValue(rma,"Account.$descriptor"),TicketId:_d0b.getValue(rma,"Ticket.$key"),TicketNumber:_d0b.getValue(rma,"Ticket.$descriptor"),ContactId:_d0b.getValue(rma,"ReturnedBy.$key"),ContactName:_d0b.getValue(rma,"ReturnedBy.$descriptor")};_d26.call(_d27||this,obj);},failure:function(){_d26.call(_d27||this,{returnId:id});},scope:this});},_getActivityRelationships:function(id,_d28,_d29){var req=this._getRequest("activities",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_d2a){var obj={AccountId:_d0b.getValue(_d2a,"AccountId"),ActivityId:_d2a.$key,ContactId:_d0b.getValue(_d2a,"ContactId"),LeadId:_d0b.getValue(_d2a,"LeadId"),OpportunityId:_d0b.getValue(_d2a,"OpportunityId"),TicketId:_d0b.getValue(_d2a,"TicketId")};_d28.call(_d29||this,obj);},failure:function(){_d28.call(_d29||this,{"ActivityId":id});},scope:this});},_getHistoryRelationships:function(id,_d2b,_d2c){var req=this._getRequest("history",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_d2d){var obj={AccountId:_d0b.getValue(_d2d,"AccountId"),HistoryId:_d2d.$key,ContactId:_d0b.getValue(_d2d,"ContactId"),LeadId:_d0b.getValue(_d2d,"LeadId"),OpportunityId:_d0b.getValue(_d2d,"OpportunityId"),TicketId:_d0b.getValue(_d2d,"TicketId")};_d2b.call(_d2c||this,obj);},failure:function(){_d2b.call(_d2c||this,{"HistoryId":id});},scope:this});},_getContractRelationships:function(id,_d2e,_d2f){var req=this._getRequest("contracts",id);req.setQueryArg("include","Account,Contact,$descriptors");req.read({success:function(_d30){var obj={AccountId:_d0b.getValue(_d30,"Account.$key"),AccountName:_d0b.getValue(_d30,"Account.$descriptor"),ContractId:_d30.$key,ContractNumber:_d0b.getValue(_d30,".$descriptor"),ContactId:_d0b.getValue(_d30,"Contact.$key"),ContactName:_d0b.getValue(_d30,"Contact.$descriptor")};_d2e.call(_d2f||this,obj);},failure:function(){_d2e.call(_d2f||this,{"ContractId":id});},scope:this});}};return Sage.Utility.EntityRelationships;});},"Sage/QuickForms/Design/nls/NonVisibleControlContainer":function(){define("Sage/QuickForms/Design/nls/NonVisibleControlContainer",["Sage/LanguageList","dojo/_base/lang"],function(_d31,lang){var nls={root:{headerText:"Non-Visual Controls"}};return lang.mixin(_d31,nls);});},"Sage/MainView/JobMgr/SchedulesListPanelConfig":function(){define("Sage/MainView/JobMgr/SchedulesListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/SchedulesListPanelConfig","dojo/_base/lang","Sage/Utility/Jobs"],function(_d32,_d33,_d34,_d35,_d36,_d37){var _d38=_d34("Sage.MainView.JobMgr.SchedulesListPanelConfig",[_d32],{constructor:function(){_d36.mixin(this,_d35);this._listId="Schedules";this._resourceKind="triggers";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="SchedulesListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){return [{field:"$descriptor",name:this.colNameTriggerName,width:"100px"},{field:"job",name:this.colNameJobName,width:"100px",formatter:_d37.formatJobDescription},{field:"user",name:this.colNameUser,width:"100px",formatter:_d37.formatUser},{field:"startTimeUtc",name:this.colNameStartTimeUtc,width:"100px",formatter:_d37.formatDate},{field:"endTimeUtc",name:this.colNameEndTimeUtc,width:"100px",formatter:_d37.formatDate},{field:"priority",name:this.colNamePriority,width:"100px"},{field:"status",name:this.colNameStatus,width:"100px"},{field:"timesTriggered",name:this.colNameTimesTriggered,width:"100px"}];},_getSelect:function(){var _d39=["$key","job","user","startTimeUtc","endTimeUtc","repeatCount","repeatInterval","priority","status","timesTriggered"];return _d39;},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getInclude:function(){var _d3a=["$descriptors,$key"];return _d3a;},_getSummaryListRequestConfig:function(){var _d3b={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false,sort:this._getSort()};return _d3b;},_getFormatterScope:function(){var _d3c=this._getSummaryListRequestConfig();var _d3d=new _d33({templateLocation:"MainView/JobMgr/templates/SchedulesListSummary.html",resetDataManager:true,requestConfiguration:_d3c});return _d3d;},_getSummaryDetailRequestConfig:function(){var _d3e={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description","job","user"],include:["$descriptors"],useBatchRequest:false};return _d3e;},_getDetailConfig:function(){var _d3f=this._getFormatterScope();var _d40=this._getSummaryDetailRequestConfig();var _d41={resourceKind:this._resourceKind,requestConfiguration:_d40,templateLocation:"MainView/JobMgr/Templates/ScheduleDetailSummary.html"};return _d41;},_getToolBars:function(){var _d42={items:[]};return _d42;}});return _d38;});},"Sage/UI/Controls/nls/Name":function(){define("Sage/UI/Controls/nls/Name",["Sage/LanguageList","dojo/_base/lang"],function(_d43,lang){var nls={root:{okText:"OK",cancelText:"Cancel",dialogTitle:"Edit Name",prefixText:"Prefix:",nameFirstText:"First:",nameMiddleText:"Middle:",nameLastText:"Last:",suffixText:"Suffix:",buttonTooltip:"Edit"}};return lang.mixin(_d43,nls);});},"Sage/UI/GridMenuItem":function(){require({cache:{"url:Sage/templates/GridMenuItem.html":"<tr class=\"dijitGridMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"4\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\" style=\"display:none\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"display:none\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n    <td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\" style=\"display:none\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n</tr>\n"}});define("Sage/UI/GridMenuItem",["dijit/MenuItem","dojox/grid/EnhancedGrid","dojo/text!../templates/GridMenuItem.html","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/aspect","dojo/_base/lang","dojo/topic"],function(_d44,_d45,_d46,_d47,_d48,_d49,_d4a,lang,_d4b){var _d4c=_d47("Sage.UI.GridMenuItem",_d44,{grid:null,templateString:_d46,startup:function(){this.inherited(arguments);_d4a.after(this.getParent(),"onOpen",lang.hitch(this,this.startGrid));var h=this.gridOptions.height||this.height||"250px",w=this.gridOptions.width||this.width||"150px";_d48.set(this.focusNode,{height:h,width:w});},startGrid:function(){if(this.grid&&this.grid.started){if(this.grid.lastScrollTop===0){this.grid.resize();}else{this.grid.setScrollTop(this.grid.lastScrollTop);}return;}else{if(typeof this.gridOptions!=="undefined"){var _d4d=(this.gridOptions.hasOwnProperty("cssClass"))?this.gridOptions.cssClass:"",_d4e;this.gridOptions.cssClass=_d4d+" menuGrid";if(this.grid){var _d4f=this.grid.layout.cells[2].hidden;if(_d4f!==this.gridOptions.structure[2].hidden){if(_d4f){this.gridOptions.structure[1].width="260px";}else{this.gridOptions.structure[1].width="205px";}this.gridOptions.structure[2].hidden=_d4f;}this.grid.destroyRecursive();}this.grid=new _d45(this.gridOptions);_d49.place(this.grid.domNode,this.containerNode,"only");this.grid.canSort=function(col){if(Math.abs(col)===1){return false;}return true;};if(this.gridOptions.hasOwnProperty("_onCellClick")){this.grid.on("cellClick",lang.hitch(this.gridOptions,this.gridOptions._onCellClick));}if(this.gridOptions.hasOwnProperty("_onCanSelect")){this.grid.on("canSelect",lang.hitch(this.gridOptions,this.gridOptions._onCanSelect));}this.grid.startup();this.grid.started=true;_d4e=_d4a.after(this.grid,"_onFetchComplete",lang.hitch(this,function(){_d4b.publish("sage/ui/groups/gridMenuStarted",this);_d4e.remove();}));}}},_onClick:function(e){e.stopPropagation();}});return _d4c;});},"Sage/UI/Controls/DependencyLookup":function(){define("Sage/UI/Controls/DependencyLookup",["dijit/Dialog","Sage/UI/Controls/DependControl","dojo/_base/declare"],function(_d50,_d51,_d52){var _d53=_d52("Sage.UI.Controls.DependencyLookup",null,{ClientId:"",PanelId:"",InitCall:null,LookupControls:null,CurrentIndex:0,AutoPostBack:false,panel:null,Title:"",Size:"",constructor:function(_d54,_d55,size,_d56,_d57){this.ClientId=_d54;this.PanelId=_d54+"_Panel";this.InitCall=_d55;this.LookupControls=[];this.CurrentIndex=0;this.Size=size+"px";this.AutoPostBack=_d56;this.panel=null;this.Title=_d57;},CanShow:function(){var _d58=false;if(Sys){var prm=Sys.WebForms.PageRequestManager.getInstance();_d58=prm.get_isInAsyncPostBack();}if(!_d58){return true;}else{var id=this.ClientId+"_obj";var _d59=function(){window[id].Show("");};Sage.SyncExec.call(_d59);return false;}},Show:function(){if(this.CanShow()){if(this.panel===null){this.panel=dijit.byId(this.PanelId+"_Dialog");var _d5a=dojo.byId(this.PanelId);if(!this.panel){_d5a.style.display="block";dojo.place(_d5a,dojo.byId("mainform"),"last");this.panel=new _d50({id:this.PanelId+"_Dialog",content:_d5a,title:this.Title||""});this.panel.startup();dojo.place(this.panel.domNode,dojo.byId("mainform"),"last");}else{this.panel.setContent(_d5a);_d5a.style.display="block";}if((this.CurrentIndex===0)||(this.LookupControls[i]!==undefined)){this.Init();}for(var i=0;i<this.CurrentIndex;i++){if(this.LookupControls[i]!==undefined){var text=dojo.byId(this.LookupControls[i].TextId);var _d5b="";if(i>0){_d5b=this.GetSeeds(i);}if((text.value!=="")||(_d5b!=="")||(i===0)){this.LookupControls[i].CurrentValue=text.value;var _d5c=this.LookupControls[i].ListId;var list=dojo.byId(_d5c);if(list.options.length===0){this.LookupControls[i].LoadList(_d5b);}}}}}this.panel.show();}},AddControl:function(_d5d,_d5e,_d5f,type,_d60,_d61){var _d62=new _d51(_d5d,_d5e,_d5f,type,_d60,_d61);this.LookupControls[this.CurrentIndex]=_d62;this.CurrentIndex++;},AddFilters:function(_d63,_d64){},SelectionChanged:function(_d65){if((_d65+1)<this.CurrentIndex){this.LookupControls[_d65+1].LoadList(this.GetSeeds(_d65+1));for(var i=_d65+2;i<this.CurrentIndex;i++){this.LookupControls[i].ClearList();}}},Ok:function(){this.panel.hide();for(var i=0;i<this.CurrentIndex;i++){var text=document.getElementById(this.LookupControls[i].TextId);var list=document.getElementById(this.LookupControls[i].ListId);if((list.selectedIndex!==undefined)&&(list.selectedIndex!=-1)){text.value=list.options[list.selectedIndex].text;}else{text.value="";}this.InvokeChangeEvent(text);}if(this.AutoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.ClientId,null);}else{document.forms(0).submit();}}},Init:function(){eval(this.InitCall);},InvokeChangeEvent:function(_d66){if(document.createEvent){var _d67=document.createEvent("HTMLEvents");_d67.initEvent("change",true,true);_d66.dispatchEvent(_d67);}else{_d66.fireEvent("onchange");}},GetSeeds:function(_d68){var _d69="";for(var i=_d68;i>0;i--){var _d6a=this.LookupControls[i-1];var _d6b=this.LookupControls[i];var list=dojo.byId(_d6a.ListId);if(list.selectedIndex==-1){return _d69;}var seed=list.options[list.selectedIndex];_d69+=_d6b.SeedProperty+","+seed.text+"|";}_d69=_d69.substr(0,_d69.length-1);return _d69;},close:function(){this.panel.hide();}});return _d53;});},"Sage/UI/Columns/SlxEdit":function(){define("Sage/UI/Columns/SlxEdit",["dojo/i18n!./nls/SlxEdit","dojo/_base/declare"],function(_d6c,_d6d){var _d6e=_d6d("Sage.UI.Columns.SlxEdit",dojox.grid.cells.Cell,{field:"",entityType:"",cellValue:"",smartPart:"",appliedSecurity:"",dialogTitle:"",isCentered:true,dialogTop:0,dialogLeft:0,dialogHeight:0,dialogWidth:0,formObjectName:"",constructor:function(){dojo.mixin(this,_d6c);if(!this.hidden){if(!this.appliedSecurity&&arguments.appliedSecurity){this.appliedSecurity=arguments.appliedSecurity;}if(this.appliedSecurity){var svc=Sage.Services.getService("RoleSecurityService");if(svc){this.hidden=!svc.hasAccess(this.appliedSecurity);}}}this.inherited(arguments);},format:function(_d6f,_d70){if(_d70===null){return this.defaultValue;}var _d71=this.cellValue;if(this.cellValue===""&&this.field!==""){_d71=Sage.Utility.getValue(_d70,this.field);}if(this.cellValue===""&&_d71===""){_d71=this.editText;}var _d72=Sage.Utility.getValue(_d70,"$key");if(_d72.match(/[=]/)){_d72=_d72.match(/[=]\S{12}/g).join(",").replace(/=/g,"");}return String.format("<a href=\"{0}\">{1}</a>",String.format("javascript:Sage.Utility.loadDetailsDialog( {{ entityType:'{0}', smartPart:'{1}', entityId:'{2}', dialogTitle:'{3}', isCentered:{4}, dialogTop:{5}, dialogLeft:{6}, dialogHeight:{7}, dialogWidth:{8} }} );",this.entityType,this.smartPart,_d72,this.dialogTitle,this.isCentered,this.dialogTop,this.dialogLeft,this.dialogHeight,this.dialogWidth),_d71);}});return _d6e;});},"Sage/MainView/JobMgr/nls/ExecutionsListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/ExecutionsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_d73,lang){var nls={root:{loadingText:"Loading...",colNameJobName:"Type",colNameUser:"User",colNamePhase:"Phase",colNamePhaseDetail:"Phase Detail",colNameProgress:"Progress",colNameElapsed:"Elapsed Time",colNameStatus:"Status",colNameResult:"Result"}};return lang.mixin(_d73,nls);});},"Sage/Services/RoleSecurityService":function(){define("Sage/Services/RoleSecurityService",["dijit/_Widget","Sage/Data/SDataServiceRegistry","Sage/Utility/_LocalStorageMixin","dojo/_base/declare"],function(_d74,_d75,_d76,_d77){var _d78=_d77("Sage.Services.RoleSecurityService",[_d74,_d76],{_currentUserId:"",_accessListCache:false,_enabled:true,_nameSpace:"Sage_SalesLogix_RoleSecurityService",_clearCache:false,constructor:function(_d79){this.inherited(arguments);dojo.mixin(this,_d79);this._currentUserId=this._getCurrentUserId();},postCreate:function(_d7a){this._getFromCache();},_getCurrentUserId:function(){if(!this._currentUserId){var _d7b=Sage.Services.getService("ClientContextService");if(_d7b){if(_d7b.containsKey("userID")){this._currentUserId=_d7b.getValue("userID");}}}return this._currentUserId;},_virtuald:function(){var _d7c=/^\/([^\/]+)\//.exec(location.pathname);return _d7c?_d7c[1]:"";},hasAccess:function(_d7d,_d7e){var _d7f=this._internalHasAccess(_d7d);if(_d7e){_d7e(_d7f);}return _d7f;},_internalHasAccess:function(_d80){if(!this._enabled){return true;}if(!_d80){return true;}if(_d80.trim()===""){return true;}if(this._getCurrentUserId().trim()==="ADMIN"){return true;}var _d81=this._getAccessList();if(_d81){for(var i=0;i<_d81.length;i++){if(_d81[i]===_d80){return true;}}}return false;},_getAccessList:function(){if(this._accessListCache){return this._accessListCache.securedActions;}else{var _d82=this._getFromCache();if(_d82){return _d82.securedActions;}}return false;},_getFromCache:function(){var me=this;var _d83=this._getCurrentUserId();var _d84=this.getFromLocalStorage(this._nameSpace,this._nameSpace);if(_d84){for(var i=0;i<_d84.length;i++){if(_d84[i].userId===_d83){if(this._clearCache){this._clearCache=false;_d84.splice(i,1);}else{this._accessListCache=_d84[i];return _d84[i];}}}}this._loadUserAccessList(function(_d85){if(!_d84){_d84=[];}me._accessListCache=_d85;_d84.push(_d85);me.saveToLocalStorage(me._nameSpace,_d84,me._nameSpace);});return false;},_loadUserAccessList:function(_d86){var _d87=new Sage.SData.Client.SDataServiceOperationRequest(Sage.Data.SDataServiceRegistry.getSDataService("system")).setContractName("system").setOperationName("getCurrentUser");_d87.execute({},{success:function(data){if(_d86){_d86(data.response);}},failure:function(data){},scope:this});}});if(!Sage.Services.hasService("RoleSecurityService")){Sage.Services.addService("RoleSecurityService",new Sage.Services.RoleSecurityService());}return _d78;});},"url:Sage/MainView/IntegrationContract/templates/InvoiceRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_invoiceDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\n        '<div dojoAttachPoint=\"invoiceDialogContent\" class=\"display-none\">',\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\">',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"reference\" id=\"{%= $.id%}_reference\" label=\"{%= $.lblInvoiceCaption %}\" readonly=\"true\" />',\n                 '<input dojoType=\"dijit.form.TextBox\" name=\"grossTotal\" id=\"{%= $.id%}_grossTotal\" label=\"{%= $.lblNetTotalCaption %}\" readonly=\"readonly\" />',\n            '</div >',\n            '<div style=\"height:350px;width:800px\">',\r\n                '<div id=\"{%= $.id%}_invoiceTabContainer\" dojoAttachPoint=\"invoiceTabContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_invoiceContent\" dojoAttachPoint=\"invoiceContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\">',\r\n                        '<div id=\"{%= $.id%}_divInvoiceDetails\">',\r\n                            '<table cellspacing=\"5\">',\n                                '<col style=\"width:200px\" />',\r\n                                '<col style=\"width:200px\" />',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_date\">{%= $.lblInvoiceDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"invoiceDiscountPercent\">{%= $.lblInvoiceDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_discountPercent\" name=\"invoiceDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_deliveryDate\">{%= $.lblDueDateCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_deliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_carrierTotalPrice\">{%= $.lblCarrierTotalPriceCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_carrierTotalPrice\" name=\"carrierTotalPrice\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_customerReference\">{%= $.lblCustomerPOCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_customerReference\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\r\n                                        '<label for=\"Invoice_taxTotal\">{%= $.lblTaxCaption %}</label>',\r\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountPercent\">{%= $.lblSettlementDiscountPercentCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountPercent\" name=\"settlementDiscountPercent\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_notes\">{%= $.lblNotesCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_notes\" name=\"notes\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"settlementDiscountTerms\">{%= $.lblSettlementDiscountTermsCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_settlementDiscountTerms\" name=\"settlementDiscountTerms\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_costTotal\">{%= $.lblCostTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_costTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrency\">{%= $.lblOCCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrency\" name=\"operatingCompanyCurrency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_profitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_profitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"operatingCompanyCurrencyExchangeRateDate\">{%= $.lblOperatingCompanyCurrencyExchangeRateDateCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_operatingCompanyCurrencyExchangeRateDate\" name=\"operatingCompanyCurrencyExchangeRateDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_priceList\">{%= $.lblPriceListCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_priceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_currency\">{%= $.lblCurrencyCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                    '<td>',\n                                        '<label for=\"Invoice_salesPerson\">{%= $.lblSalesPersonCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_salesPerson\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\n                                '<tr>',\n                                    '<td>',\n                                        '<label for=\"Invoice_invoiceDiscountAmount\">{%= $.lblInvoiceDiscountAmountCaption %}</label>',\n                                    '</td>',\n                                    '<td>',\n                                        '<input type=\"text\" id=\"{%= $.id%}_invoiceDiscountAmount\" name=\"invoiceDiscountAmount\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                    '</td>',\n                                '</tr>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_addressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceAddresses\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceAddresses_Grid\" dojoAttachPoint=\"sdgrdInvoiceAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_invoiceLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.invoiceLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"sdgrdInvoiceLines\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdInvoiceLines_Grid\" dojoAttachPoint=\"sdgrdInvoiceLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_paymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                        '<div id=\"sdgrdPayments\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdPayments_Grid\" dojoAttachPoint=\"sdgrdPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                    '<div id=\"{%= $.id%}_deliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                        '<div id=\"sdgrdDeliveries\" style=\"width:100%;height:100%;\">',\r\n                            '<div id=\"{%= $.id%}_sdgrdDeliveries_Grid\" dojoAttachPoint=\"sdgrdDeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n            '<div class=\"button-bar alignright\">',\r\n                 '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_invoiceBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/QuickForms/Design/nls/PhoneControlDesigner":function(){define("Sage/QuickForms/Design/nls/PhoneControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_d88,lang){var nls={root:{displayNameText:"Phone"}};return lang.mixin(_d88,nls);});},"url:Sage/UI/Controls/templates/CopyToClipboard.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" dojoAttachPoint=\"dialogNode\">\r\n        \r\n        <span>${helpText}</span>\r\n        <div style=\"width: 550px; height: 400px;\">\r\n            <div data-dojo-type=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabNode\" style=\"width: 100%; height: 100%;\">\r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${textTab}\">\r\n                    <div dojoAttachPoint=\"contentNode\"></div>\r\n                </div>\r\n            \r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${sourceTab}\">\r\n                    <textarea dojoAttachPoint=\"textNode\" data-dojo-type=\"dijit.form.SimpleTextarea\" style=\"width: 100%; height: 95%;\"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n        <div style=\"float:right;padding-bottom:8px;\">\r\n            <button data-dojo-type=\"dijit.form.Button\" type=\"submit\" dojoAttachEvent=\"onClick:_closeClicked\">\r\n                ${closeText}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","Sage/MainView/Lead/nls/UpdateLeads":function(){define("Sage/MainView/Lead/nls/UpdateLeads",["Sage/LanguageList","dojo/_base/lang"],function(_d89,lang){var nls={root:{updateMultipleLeads_Caption:"Update Multiple Leads",labelWidth:"100",btnCancel_Caption:"Cancel",ok_Text:"OK",update_To_Caption:"To:",update_Property_Caption:"Update:",updateProp_Owner:"Owner",lookupOwnerText:"Lookup Owner:",lookupDescriptionColText:"Description",updateProp_AcctMgr:"Account Manager",lookupActMgrText:"Lookup Account Manager",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",errorUnspecifiedValue:"Please specify a value before continuing.",errorRequestingJobMgr:"An error occurred requesting the job manager.",updateLeadsTitle:"Update Leads"}};return lang.mixin(_d89,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportParametersDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"paramsContainerDiv\" id=\"paramsContainerDiv\" style=\"height:350px; overflow:auto\">\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog",["dojo/_base/declare","dojo/_base/array","dojo/text!./templates/CrystalReportParametersDialog.html","dojo/i18n!./nls/CrystalReportParametersDialog","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor","Sage/MainView/ReportMgr/Crystal/StringParameterEditor","Sage/MainView/ReportMgr/Crystal/MultiselectStringParameterEditor","Sage/MainView/ReportMgr/Crystal/DateParameterEditor","Sage/MainView/ReportMgr/Crystal/DateRangeParameterEditor","Sage/MainView/ReportMgr/Crystal/NumberParameterEditor","Sage/MainView/ReportMgr/Crystal/MultiselectNumberParameterEditor","dijit/Dialog","dijit/form/Form","Sage/Utility"],function(_d8a,_d8b,_d8c,_d8d,_d8e,_d8f,_d90,_d91,_d92,_d93,_d94,_d95,_d96,_d97,Form,_d98){var _d99=_d98.makeTemplateFromString(_d8c.replace("\n",""));var _d9a=_d8a("Sage.MainView.ReportMgr.Crystal.CrystalReportParametersDialog",[_d8f],{id:"dlgCrystalReportParameters",widgetTemplate:_d99,_nlsResources:_d8d,_helpIconTopic:"RptscheduleWiz",_parameterWidgets:null,_parameters:null,_currentStep:_d8e.CrystalReportWizardStep.Parameters,constructor:function(_d9b){this._initializeWizardOptions(_d9b);this._parameterWidgets=[];this._parameters=(_d9b.parameters&&_d9b.parameters.length>0)?_d9b.parameters:_d9b.reportMetadata.parameters;},destroy:function(){_d8b.forEach(this._parameterWidgets,function(_d9c,i){_d9c.destroyRecursive();});this._dialog.destroyRecursive();this.inherited(arguments);},startup:function(){this.inherited(arguments);this._loadPromptParameters();},isValid:function(){var _d9d=true;_d8b.forEach(this._parameterWidgets,function(_d9e,i){_d9d=_d9d&&_d9e.isValid();});return _d9d;},_loadPromptParameters:function(){var self=this;_d8b.forEach(this._parameters,function(_d9f,i){if(!_d9f.name.toUpperCase().startsWith("PM-")){var _da0=self._getParameterEditor(_d9f);if(_da0){_da0.placeAt(self.paramsContainerDiv);_da0.startup();self._parameterWidgets.push(_da0);}else{console.error("This report uses parameters that are not currently supported.");}}});},_getDialogTitle:function(){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";},_getWizardStepResult:function(){var _da1=[];_d8b.forEach(this._parameterWidgets,function(_da2,i){_da1.push(_da2.get("value"));});var _da3={parameters:_da1};return _da3;},_getParameterEditor:function(_da4){switch(_da4.parameterValueKind){case _d8e.SlxParameterValueKind.BooleanParameter:return new _d90(_da4);case _d8e.SlxParameterValueKind.StringParameter:if(_da4.allowMultiValue){return new _d92(_da4);}else{return new _d91(_da4);}break;case _d8e.SlxParameterValueKind.DateParameter:switch(_da4.valueRangeKind){case _d8e.SlxParameterValueRangeKind.Range:return new _d94(_da4);case _d8e.SlxParameterValueRangeKind.Discrete:return new _d93(_da4);default:console.error("Unknown parameter type: "+_da4.parameterValueKind+"/"+_da4.valueRangeKind);}break;case _d8e.SlxParameterValueKind.NumberParameter:if(_da4.allowMultiValue){return new _d96(_da4);}else{return new _d95(_da4);}break;default:console.error("Unknown parameter type. valueKind:"+_da4.parameterValueKind+"/rangeKind:"+_da4.valueRangeKind+"/multiValue:"+_da4.allowMultiValue);return null;}}});return _d9a;});},"Sage/MainView/BindingsManager":function(){define("Sage/MainView/BindingsManager",["dijit/_Widget","dojo/_base/declare","Sage/Utility/Activity"],function(_da5,_da6,_da7){var _da8=_da6("Sage.MainView.DataBinding",_da5,{boundEntity:false,boundWidget:false,widgetEvent:"onChange",widgetProperty:"value",entityProperty:false,defaultValue:"",twoWay:true,_connection:false,bind:function(){if(this.boundWidget&&this.boundEntity&&this.entityProperty){this.boundWidget.set(this.widgetProperty,this._formatValueFromEntity(Sage.Utility.getValue(this.boundEntity,this.entityProperty,this.defaultValue)));if(this.twoWay&&!this._connection){this._connection=dojo.connect(this.boundWidget,this.widgetEvent,dojo.hitch(this,"applyWidgetChange",this.boundWidget));}}},_formatValueFromEntity:function(val){return val;},applyWidgetChange:function(_da9,_daa){if(!_daa){_daa=_da9.get(this.widgetProperty);}var _dab=Sage.Utility.getValue(this.boundEntity,this.entityProperty);var _dac=this._formatValueFromControl(_daa);if(_dab!=_dac){Sage.Utility.setValue(this.boundEntity,this.entityProperty,_dac);this.onChange(this.boundEntity,this.entityProperty,_dab,_daa);}},_formatValueFromControl:function(val){return val;},_setBoundEntityAttr:function(_dad){this.boundEntity=_dad;this.bind();},destroy:function(){dojo.disconnect(this._connection);this.inherited(arguments);},onChange:function(_dae,_daf,_db0,_db1){}});var _db2=_da6("Sage.MainView.DateDataBinding",_da8,{_formatValueFromEntity:function(val){var _db3=Sage.Utility.Convert.toDateFromString(val);if(_db3&&_da7.isDateFiveSecondRuleTimeless(_db3)){_db3=new Date(_db3.getUTCFullYear(),_db3.getUTCMonth(),_db3.getUTCDate(),0,0,5);}return _db3;},_formatValueFromControl:function(val){if(!val||!val.getUTCFullYear){val=this.boundWidget.get(this.widgetProperty);if(!val||!val.getUTCFullYear){return "";}}return Sage.Utility.Convert.toIsoStringFromDate(val);}});var _db4=_da6("Sage.MainView.BindingsManager",null,{constructor:function(opts){this._bindings=[];this._connections=[];this.boundEntity=false;this._defaultBindingOptions={boundEntity:false,boundWidget:false,widgetEvent:"onChange",widgetProperty:"value",entityProperty:false,defaultValue:"",twoWay:true,dataType:"string"};var o=opts||{};var def=dojo.mixin(this._defaultBindingOptions,o.defaultBinding||{});var bdgs=o.items||[];for(var i=0;i<bdgs.length;i++){this._addNew(dojo.mixin({},def,bdgs[i]));}},add:function(_db5){if(_db5 instanceof Sage.MainView.DataBinding){this._connections.push(dojo.connect(_db5,"onChange",this,"onChange"));this._bindings.push(_db5);}},_addNew:function(_db6){if(_db6.dataType==="date"){this.add(new _db2(_db6));}else{this.add(new _da8(_db6));}},addBindings:function(_db7){if(dojo.isArray(_db7)){for(var i=0;i<_db7.length;i++){this._addNew(dojo.mixin(this._defaultBindingOptions,_db7[i]));}}else{this._addNew(dojo.mixin(this._defaultBindingOptions,_db7));}},bind:function(){for(var i=0;i<this._bindings.length;i++){if(this._bindings[i] instanceof Sage.MainView.DataBinding){this._bindings[i].bind();}}},setBoundEntity:function(_db8){this._entity=_db8;for(var i=0;i<this._bindings.length;i++){if(this._bindings[i] instanceof Sage.MainView.DataBinding){this._bindings[i].set("boundEntity",_db8);}}},destroy:function(){var i,l=this._connections.length;for(i=0;i<l;i++){dojo.disconnect(this._connections.length);}this._connections=[];l=this._bindings.length;for(i=0;i<l;i++){var item=this._bindings.pop();item.destroy();}this._bindings=[];},onChange:function(_db9,_dba,_dbb,_dbc){}});return _db4;});},"Sage/TaskPane/ActivityTaskPaneItem":function(){define("Sage/TaskPane/ActivityTaskPaneItem",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_dbd,_dbe,_dbf){var _dc0=_dbf("Sage.TaskPane.ActivityTaskPaneItem",[_dbd,_dbe],{securedAction:"",linkText:"",action:"",postCreate:function(){this.checkSecurityAccess();},templateString:"<a dojoAttachPoint=\"linkTextNode\" href=\"#\"></a>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{linkText:{node:"linkTextNode",type:"innerHTML"},action:{node:"linkTextNode",type:"attribute",attribute:"href"}}),_getCurrentUserId:function(){var _dc1="";var _dc2=Sage.Services.getService("ClientContextService");if(_dc2){_dc1=_dc2.getValue("userID");}return _dc1;},checkSecurityAccess:function(){if(this.securedAction.length>0){var _dc3=this._getCurrentUserId();var _dc4=this.linkTextNode;var _dc5=Sage.Services.getService("RoleSecurityService");_dc5.hasAccess(this.securedAction,function(_dc6){var _dc7="none";if(_dc6){_dc7="inline";}dojo.style(_dc4,{"display":_dc7});});}else{dojo.style(this.linkTextNode,{"display":"inline"});}}});return _dc0;});},"Sage/MainView/ActivityMgr/SnoozeOptions":function(){define("Sage/MainView/ActivityMgr/SnoozeOptions",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/Dialog","dijit/form/Button","dijit/form/FilteringSelect","dojo/_base/declare","dojo/i18n!./nls/SnoozeOptions"],function(_dc8,_dc9,_dca,_dcb,_dcc,_dcd,_dce,_dcf){var _dd0=_dce("Sage.MainView.ActivityMgr.SnoozeOptions",[_dca,_dc8,_dc9],{fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"x1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",snoozeTitle:"Snooze Alarms",widgetsInTemplate:true,templateString:["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"_snoozeDialog\" title=\"${snoozeTitle}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hide\">","<div class=\"alarm-snoozebar\" dojoAttachPoint=\"_snoozebar\">","<table>","<tr>","<td class=\"snoozeText\">${snoozeByText}</td>","<td class=\"snoozeBy\">","<select name=\"selectSnoozeBy\" dojoAttachPoint=\"_selSnoozeBy\" data-dojo-type=\"dijit.form.FilteringSelect\">","<option value=\"5\" selected=\"selected\">${fiveMinText}</option>","<option value=\"10\" >${tenMinText}</option>","<option value=\"15\" >${fifteenMinText}</option>","<option value=\"30\" >${thirtyMinText}</option>","<option value=\"60\" >${oneHourText}</option>","<option value=\"120\" >${twoHourText}</option>","<option value=\"240\" >${fourHourText}</option>","<option value=\"480\" >${eightHourText}</option>","<option value=\"1440\" >${oneDayText}</option>","<option value=\"2880\" >${twoDayText}</option>","<option value=\"4320\" >${threeDayText}</option>","<option value=\"10080\" >${oneWeekText}</option>","<option value=\"20160\" >${twoWeekText}</option>","</select>","</td>","<td class=\"snoozeActions\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_snooze\">${snoozeText}</button>","</td>","</tr>","</table>","</div>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_dcf);},show:function(){this._showWithUserOptions();},_showWithUserOptions:function(){var _dd1=Sage.Services.getService("UserOptions");if(_dd1){_dd1.getByCategory("ActivityAlarm",this._receivedOptions,this);}},_receivedOptions:function(data){var opts=data["$resources"];for(var i=0;i<opts.length;i++){var opt=opts[i];if(opt["name"].toUpperCase()==="DEFAULTSNOOZE"){var _dd2=opt["value"];this._selSnoozeBy.setValue(_dd2);}}this._dialog.show();},hide:function(){this.destroy();},destroy:function(){this._dialog.destroyRecursive();},_snooze:function(_dd3){var _dd4=Sage.Services.getService("ActivityService");var _dd5=this._getNewAlarmTimeOptions();this.hide();_dd4.snooze(null,_dd5);},_snoozeAll:function(){},_getNewAlarmTime:function(){var _dd6=this._getNewAlarmTimeOptions();var _dd7=dojo.date.add(new Date(),_dd6.interval,_dd6.duration);return Sage.Utility.Convert.toIsoStringFromDate(_dd7);},_getNewAlarmTimeOptions:function(){var dur=5,_dd8="minute";var _dd9=this._selSnoozeBy.get("displayedValue");var _dda=this._selSnoozeBy.get("value");switch(_dda){case this.tenMinText:dur=10;break;case this.fifteenMinText:dur=15;break;case this.thirtyMinText:dur=30;break;case this.oneHourText:dur=1;_dd8="hour";break;case this.twoHourText:dur=2;_dd8="hour";break;case this.fourHourText:dur=4;_dd8="hour";break;case this.eightHourText:dur=8;_dd8="hour";break;case this.oneDayText:dur=1;_dd8="day";break;case this.twoDayText:dur=2;_dd8="day";break;case this.threeDayText:dur=3;_dd8="day";break;case this.oneWeekText:dur=1;_dd8="week";break;case this.twoWeekText:dur=2;_dd8="week";break;default:dur=_dda;}var _ddb={name:_dd9,duration:dur,interval:_dd8};return _ddb;},_showSnooze:function(){}});return _dd0;});},"Sage/UI/Controls/PickListAsText":function(){require({cache:{"url:Sage/UI/Controls/templates/PickListAsText.html":"<div>\r\n    <span id=\"${id}-Span\" data-dojo-attach-point=\"textSpan\"></span>\r\n</div>\r\n"}});define("Sage/UI/Controls/PickListAsText",["dijit/_Widget","dijit/_Templated","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/Controls/PickList","dojo/text!./templates/PickListAsText.html","dojo/_base/declare"],function(_ddc,_ddd,_dde,_ddf,_de0,_de1,_de2,_de3){var _de4=_de3("Sage.UI.Controls.PickListAsText",[_de1,_ddc,_ddd],{constructor:function(_de5){if(_de5.clientId){this.id=_de5.clientId+"-PickListAsText";}this.inherited(arguments);},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.textSpan.innerHTML=data;}var _de6=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_de6.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:_de6};var _de7=new _dde({data:this.storeData});var _de8=dojo.byId(this.textId);var _de9=dojo.byId(this.codeId);if(_de8&&_de8.value){this.initialValue=_de8.value;this.textSpan.innerHTML=this.initialValue;}if(!this.initialCode&&_de9&&_de9.value){this.initialCode=_de9.value;}if(this.initialCode){var _dea=this.getStoreItemById(this.initialCode);if(_dea){this.initialValue=_dea.text;this.textSpan.innerHTML=this.initialValue;}}}),function(e){console.error(e);});},getStoreItemById:function(id){var _deb=null;if(this.storeData){dojo.forEach(this.storeData.items,function(item,_dec,_ded){if(item.id===id){_deb=item;}},this);}return _deb;},_setPickListNameAttr:function(_dee){this.inherited(arguments);this._loadData();},templateString:_de2,widgetsInTemplate:true,storeData:null,initialValue:"",initialCode:"",textId:"",codeId:""});return _de4;});},"Sage/UI/WidgetEditor":function(){define("Sage/UI/WidgetEditor",["dojo/data/ItemFileReadStore","dojox/widget/Portlet","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/declare","dojo/i18n!./Dashboard/nls/WidgetDefinition","dojo/dom-style","dojo/on","dojo/_base/lang"],function(_def,_df0,_df1,_df2,_df3,_df4,on,lang){var _df5=_df2("Sage.UI.WidgetEditor",[dojox.widget.PortletDialogSettings],{_grpUrl:new Simplate("slxdata.ashx/slx/crm/-/groups/context/grouplist/{%= $.grp %}"),_dimUrl:new Simplate("slxdata.ashx/slx/crm/-/analytics/dimension/{%= $.dim %}"),_metUrl:new Simplate("slxdata.ashx/slx/crm/-/analytics/metric/{%= $.met %}"),_entityUrl:"slxdata.ashx/slx/crm/-/groups/context/entityList?filter=analytics",_getStore:function(uri){return new _def({url:uri});},_addEnt:function(str){return "Sage.Entity.Interfaces.I"+str;},_remEnt:function(str){return str.replace("Sage.Entity.Interfaces.I","");},_remAmp:function(str){return str[str.length-1]==="&"?str.slice(0,-1):str;},_pushEnt:function(val){this._entStr=dojo.string.substitute("entity=${0}&",[val]);},_pushGrp:function(val){this._grpStr=dojo.string.substitute("groupname=${0}&",[val]);},_pushDim:function(val){this._dimStr=dojo.string.substitute("dimension=${0}&",[val]);},_pushMet:function(val){this._metStr=dojo.string.substitute("metric=${0}&",[val]);},_pushLim:function(val){this._limStr=dojo.string.substitute("limit=${0}&",[val]);},_pushOth:function(val){this._othStr=dojo.string.substitute("combineother=${0}",[val]);},_checkHydrate:function(){var opts=this.portlet.widgetOptions;if(opts.groupname&&this._grpField){if(this._originalGroup){opts.groupname=this._originalGroup;}var _df6=this._grpField;_df6.store.fetch({query:{groupName:opts.groupname},onComplete:function(i,r){_df6.set("value",_df6.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalGroup=opts.groupname;}if(opts.dimension&&this._dimField){if(this._originalDimension){opts.dimension=this._originalDimension;}var df=this._dimField;df.store.fetch({query:{name:opts.dimension},onComplete:function(i,r){df.set("value",df.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalDimension=opts.dimension;}if(opts.metric&&this._metField){if(this._originalMetric){opts.metric=this._originalMetric;}var mf=this._metField;mf.store.fetch({query:{name:opts.metric},onComplete:function(i,r){mf.set("value",mf.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalMetric=opts.metric;}this._hydrateChecked=true;},_setFields:function(_df7){switch(_df7.id){case this.portlet.id+"_ttlField":this._ttlField=_df7;break;case this.portlet.id+"_subField":this._subField=_df7;break;case this.portlet.id+"_entCombo":this._entField=_df7;on.once(this._entField._buttonNode,"click",lang.hitch(this,function(){var _df8=dojo.byId(this.portlet.id+"_loading");_df4.set(_df8,"display","block");this._entField.set("store",this._getStore(this._entityUrl));this._entField.store.fetch({query:"",onComplete:function(){_df4.set(_df8,"display","none");window.entityField.loadAndOpenDropDown();window.entityField.focus();}});}));break;case this.portlet.id+"_grpCombo":this._grpField=_df7;break;case this.portlet.id+"_dimCombo":this._dimField=_df7;break;case this.portlet.id+"_metCombo":this._metField=_df7;break;case this.portlet.id+"_goalField":this._goalField=_df7;break;case this.portlet.id+"_xField":this._xField=_df7;break;case this.portlet.id+"_yField":this._yField=_df7;break;case this.portlet.id+"_numberMaximum":this._numberMaximum=_df7;this._numberMaximum.constraints.min=1;break;case this.portlet.id+"_rdoOthY":this._rdoOthY=_df7;break;case this.portlet.id+"_rdoOthN":this._rdoOthN=_df7;break;case this.portlet.id+"_rdoLegY":this._rdoLegY=_df7;break;case this.portlet.id+"_rdoLegN":this._rdoLegN=_df7;break;case this.portlet.id+"_rdoLabY":this._rdoLabY=_df7;break;case this.portlet.id+"_rdoLabN":this._rdoLabN=_df7;break;case this.portlet.id+"_rdoTruY":this._rdoTruY=_df7;break;case this.portlet.id+"_rdoTruN":this._rdoTruN=_df7;break;case this.portlet.id+"_truncField":this._truncField=_df7;this._truncField.constraints.min=1;break;case this.portlet.id+"_btnOK":this._btnOK=_df7;break;case this.portlet.id+"_btnCancel":this._btnCancel=_df7;this._btnCancel.set("style","margin-left:10px;");break;default:this[_df7.id]=_df7;if(!this.customOptions){this.customOptions=[];}var _df9=_df7.id.split(this.portlet.id);if(_df9.length==2){if(_df9[1].indexOf("_")===0){_df9[1]=_df9[1].substring(1);}this.customOptions.push({id:_df7.id,option:_df9[1]});}break;}},_validateOOTBRequired:function(){var _dfa=true;if(this._entField&&!this._entField.isValid()){this._entField.set("state","Error");_dfa=false;}if(this._grpField&&!this._grpField.isValid()){this._grpField.set("state","Error");_dfa=false;}if(this._dimField&&!this._dimField.isValid()){this._dimField.set("state","Error");_dfa=false;}if(this._metField&&!this._metField.isValid()){this._metField.set("state","Error");_dfa=false;}return _dfa;},toggle:function(){var that=this;var _dfb=dijit.byId(that.portlet._parentId);var i,len;if(_dfb.permission){if(!this._childWidgets){this._childWidgets=this.getChildren();for(i=0,len=this._childWidgets.length;i<len;i++){this._setFields(this._childWidgets[i]);}}if(!this.dialog){dojo.require("dijit.Dialog");this.dialog=new dijit.Dialog({title:this.title});this.dialog.containerNode.style.height=this.dimensions[1]+"px";if(!this.dialog.helpIcon){dojo.mixin(this.dialog,new _df1());this.dialog.createHelpIconByTopic("Using_Widgets");}dojo.body().appendChild(this.dialog.domNode);this.dialog.containerNode.appendChild(this.domNode);dojo.style(this.dialog.domNode,{"width":this.dimensions[0]+"px","height":(this.dimensions[1]+50)+"px"});dojo.style(this.domNode,"display","");}if(this.dialog.open){this._hydrateChecked=false;this.dialog.hide();}else{var opts=this.portlet.widgetOptions;this.dialog.show(this.domNode);if(opts.title&&this._ttlField){var _dfc=opts.title.replace(/'/g,"_").replace(/ /g,"_");this._ttlField.set("value",_df3[_dfc]||opts.title);}if(this._entField){if(this._entField&&!this._entChange){this._entChange=dojo.connect(this._entField,"onChange",this,function(arg){var _dfd=this._entField.item?this._entField.item.fullName[0]:this._addEnt(arg),_dfe=this._remEnt(_dfd);this._pushEnt(_dfd);opts.entity=_dfd;opts.resource=_dfe;if(this._grpField){this._grpField.set("store",this._getStore(this._grpUrl.apply({grp:_dfe})));this._grpField.store.urlPreventCache=true;this._grpField.set("value","");}if(this._dimField){this._dimField.set("store",this._getStore(this._dimUrl.apply({dim:_dfe})));this._dimField.set("value","");}if(this._metField){this._metField.set("store",this._getStore(this._metUrl.apply({met:_dfe})));this._metField.set("value","");}this._checkHydrate();});}if(this._grpField&&!this._grpChange){this._grpChange=dojo.connect(this._grpField,"onChange",this,function(arg){if(!this._grpField.isValid()){return false;}var _dff=this._grpField.store;_dff.fetch({query:{displayName:arg},onComplete:function(i,r){var gn=_dff.getValue(i[0],"groupName");that._pushGrp(gn);opts.groupname=gn;},queryOptions:{deep:true}});});}if(this._dimField&&!this._dimChange){this._dimChange=dojo.connect(this._dimField,"onChange",this,function(arg){if(!this._dimField.isValid()){return false;}var _e00=this._dimField.store;_e00.fetch({query:{displayName:arg},onComplete:function(i,r){var n=_e00.getValue(i[0],"name");that._pushDim(n);opts.dimension=n;},queryOptions:{deep:true}});});}if(this._metField&&!this._metChange){this._metChange=dojo.connect(this._metField,"onChange",this,function(arg){if(!this._metField.isValid()){return false;}var _e01=this._metField.store;_e01.fetch({query:{displayName:arg},onComplete:function(i,r){var m=_e01.getValue(i[0],"name");that._pushMet(m);opts.metric=m;},queryOptions:{deep:true}});});}if(opts.entity){if(this._originalEntity){if(this._originalEntity===opts.entity){this._checkHydrate();}else{this._entField.set("value",this._remEnt(this._originalEntity));}}else{this._entField.set("value",this._remEnt(opts.entity));this._originalEntity=opts.entity;}}}if(this._subField){if(opts.subtitle){this._subField.set("value",opts.subtitle);}else{this._subField.set("value","");}}if(this._xField){if(opts.xAxisName){this._xField.set("value",opts.xAxisName);}else{this._xField.set("value","");}}if(this._yField){if(opts.yAxisName){this._yField.set("value",opts.yAxisName);}else{this._yField.set("value","");}}if(this._numberMaximum){if(opts.numberMaximum){this._numberMaximum.set("value",opts.numberMaximum);}else{this._numberMaximum.set("value","10");}}if(this._goalField){if(opts.goal){this._goalField.set("value",opts.goal);}else{this._goalField.set("value","");}}if(this._rdoOthY){if(!opts.combineother){this._rdoOthN.set("checked",true);}else{if(opts.combineother==="true"){this._rdoOthY.set("checked",true);}else{this._rdoOthN.set("checked",true);}}}if(this._rdoLegY){if(!opts.showLegend){this._rdoLegN.set("checked",true);}else{if(opts.showLegend==="true"){this._rdoLegY.set("checked",true);}else{this._rdoLegN.set("checked",true);}}}if(this._rdoLabY){if(!opts.showLabels){this._rdoLabN.set("checked",true);}else{if(opts.showLabels==="true"){this._rdoLabY.set("checked",true);}else{this._rdoLabN.set("checked",true);}}}if(this._rdoTruY){if(!opts.truncLabels){this._rdoTruN.set("checked",true);}else{if(opts.truncLabels==="true"){this._rdoTruY.set("checked",true);}else{this._rdoTruN.set("checked",true);}}}if(this._truncField){if(opts.truncNum){this._truncField.set("value",opts.truncNum);}else{this._truncField.set("value","");}}if(this.customOptions){for(i=0;i<this.customOptions.length;i++){var _e02=this.customOptions[i].option,_e03=this.customOptions[i].id;if(opts[_e02]){this[_e03].set("value",opts[_e02]);}}}for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowInit){this._childWidgets[i]._myEditRowInit(opts);}}if(!this._cancelClick){this._cancelClick=dojo.connect(this._btnCancel,"onClick",this,function(){for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowCancel){this._childWidgets[i]._myEditRowCancel(opts);}}this.toggle();if(this.portlet.isNew){this.portlet.onClose();this.portlet.destroy();}});}if(!this._okClick){this._okClick=dojo.connect(this._btnOK,"onClick",this,function(){var _e04=["slxdata.ashx/slx/crm/-/analytics?"];if(this._ttlField){if(!this._ttlField.isValid()){return false;}var _e05=this._ttlField.get("value");var _e06=opts.title.replace(/'/g,"_").replace(/ /g,"_");if(_e05){this.portlet.set("title",_e05);if(_e05!=_df3[_e06]){opts.title=_e05;}}}if(this._subField){var sub=this._subField.get("value");if(sub){opts.subtitle=sub;}else{opts.subtitle="";}if(!this._subField.isValid()){return false;}}if(this._xField){var xa=this._xField.get("value");if(xa){opts.xAxisName=xa;}else{opts.xAxisName="";}if(!this._xField.isValid()){return false;}}if(this._yField){var ya=this._yField.get("value");if(ya){opts.yAxisName=ya;}else{opts.yAxisName="";}if(!this._yField.isValid()){return false;}}if(this._numberMaximum){var _e07=this._numberMaximum.get("value");if(_e07){opts.numberMaximum=_e07;}else{opts.numberMaximum="5";}this._pushLim(opts.numberMaximum);if(!this._numberMaximum.isValid()){return false;}}if(this._goalField){var gl=this._goalField.get("value");if(gl){opts.goal=gl;}else{opts.goal="";}if(!this._goalField.isValid()){return false;}}if(this._rdoLabY){var _e08=this._rdoLabY.get("value");if(_e08){opts.showLabels="true";}else{opts.showLabels="false";}}if(this._rdoTruY){var _e09=this._rdoTruY.get("value");if(_e09){opts.truncLabels="true";}else{opts.truncLabels="false";}}if(this._rdoOthY){var _e0a=this._rdoOthY.get("value");if(_e0a){opts.combineother="true";this._pushOth("true");}else{opts.combineother="false";this._pushOth("false");}}if(this._rdoLegY){var _e0b=this._rdoLegY.get("value");if(_e0b){opts.showLegend="true";}else{opts.showLegend="false";}}if(this._truncField){var num=this._truncField.get("value");if(num){opts.truncNum=num;}if(!this._truncField.isValid()){return false;}}if(!this._validateOOTBRequired()){return false;}if(this._grpField){if(!this._grpStr){this._grpField.store.fetch({query:{displayName:this._grpField.get("value")},onComplete:function(i,r){that._pushGrp(that._grpField.store.getValue(i[0],"groupName"));},queryOptions:{deep:true}});}}if(this._dimField){if(!this._dimStr){this._dimField.store.fetch({query:{displayName:this._dimField.get("value")},onComplete:function(i,r){that._pushDim(that._dimField.store.getValue(i[0],"name"));},queryOptions:{deep:true}});}}if(this._metField){if(!this._metStr){this._metField.store.fetch({query:{displayName:this._metField.get("value")},onComplete:function(i,r){that._pushMet(that._metField.store.getValue(i[0],"name"));},queryOptions:{deep:true}});}}if(this.customOptions){for(i=0;i<this.customOptions.length;i++){var _e0c=this.customOptions[i].option,_e03=this.customOptions[i].id;opts[_e0c]=this[_e03].value;}}for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowSave){this._childWidgets[i]._myEditRowSave(opts);}}if(this._dimStr){_e04.push(this._dimStr);}if(this._metStr){_e04.push(this._metStr);}if(this._entStr){_e04.push(this._entStr);}if(this._grpStr){_e04.push(this._grpStr);}if(this._limStr){_e04.push(this._limStr);}if(this._othStr){_e04.push(this._othStr);}opts.datasource=this._remAmp(_e04.join(""));dojo.publish("/ui/dashboard/pageSave",[this.portlet._page]);if(this.portlet.isNew){this.portlet.isNew=false;}this.portlet.refresh(true);this.toggle();});}}}else{_dfb._raisePermissionInvalidMessage();}}});return _df5;});},"Sage/QuickForms/Design/ColumnDesigner":function(){define("Sage/QuickForms/Design/ColumnDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./Editors/ColumnBasicPropertyEditor","dojo/i18n!./nls/ColumnDesigner"],function(_e0d,_e0e,_e0f,lang,_e10,_e11,_e12,_e13){return _e0f("Sage.QuickForms.Design.ColumnDesigner",[_e11],{entry:null,editors:[_e12],helpTopicName:"Column_properties",displayNameText:"Column",constructor:function(){lang.mixin(this,_e13);},set:function(name,_e14){var _e15=this.inherited(arguments);var _e16=this._getAttrNames(name),_e17=this[_e16.s];if(lang.isFunction(_e17)){_e0e.publish("/quickforms/design/designerModified",this,name,_e14,_e15,this);}return _e15;},_getWidthAttr:function(){return lang.getObject("Width",false,this.entry);},_setWidthAttr:function(_e18){lang.setObject("Width",_e18,this.entry);},_getSizeTypeAttr:function(){return lang.getObject("SizeType",false,this.entry);},_setSizeTypeAttr:function(_e19){lang.setObject("SizeType",_e19,this.entry);}});});},"Sage/Library/nls/FileHandler":function(){define("Sage/Library/nls/FileHandler",["Sage/LanguageList","dojo/_base/lang"],function(_e1a,lang){var nls={root:{AccessError:"You do not have the role security required to execute this action.",Available:"Available",Confirm:"Confirm",DeleteFileCnfmFmt:"Are you sure you want to delete the file \"${0}\"?",Delivered:"Delivered: Not read",DeliveredRead:"Delivered: Read",DocumentPropertiesError:"There was an unexpected error attempting to retrieve the document properties.",DocumentPropertiesUpdateError:"There was an unexpected error attempting to update document properties.",DocumentUpdateConflictError:"The file has been updated by another user, please refresh and retry.",FileDeleteError:"There was an unexpected error attempting to delete a file.",FileStatusError:"There was an unexpected error attempting to update the file status.",LogRequestError:"There was an unexpected failure attempting to log the document synchronization request.",No:"No",NoAccessMessage:"You do not have permission to add files to the Library. For more information contact your Saleslogix administrator.",Ordered:"Ordered",PleaseSelectFile:"Please select a file.",PleaseWait:"Please wait",Revised:"Revised",RevisionOrdered:"Revision Ordered",UploadError:"There was an error attempting to upload a file.",Unknown:"Unknown",Yes:"Yes"}};return lang.mixin(_e1a,nls);});},"Sage/UI/Controls/DropDownSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/DropDownSelectPickList.html":"<div>\r\n    <select id=\"${id}-Select\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" value=\"${value}\" dojoAttachEvent=\"onBlur: _onBlur,onChange:_onChange\">\r\n    </select>\r\n</div>\r\n"}});define("Sage/UI/Controls/DropDownSelectPickList",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/ComboBox","Sage/UI/Controls/PickList","dojo/_base/array","dojo/text!./templates/DropDownSelectPickList.html","dojo/_base/declare"],function(_e1b,_e1c,_e1d,_e1e,_e1f,_e20,_e21,_e22,_e23,_e24,_e25,_e26){var _e27=_e26("Sage.UI.Controls.DropDownSelectPickList",[_e23,_e1d,_e1b,_e1c],{constructor:function(_e28){if(_e28.clientId){this.id=_e28.clientId+"-DropDownSelectPickList";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);},_onChange:function(_e29){this.onChange(_e29);},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.comboBox.set("value",data);}var _e2a=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_e2a.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:_e2a};var _e2b=new _e1f({data:this.storeData});this.comboBox.set("store",_e2b);this.comboBox.set("searchAttr","text");}),function(e){console.error(e);});},uninitialize:function(){this.inherited(arguments);},_getValueAttr:function(){var _e2c=this.comboBox.get("value");if(this.storeMode==="id"){_e24.forEach(this.storeData.items,function(item){if(_e2c==item.text){_e2c=item.id;}},this);}return _e2c;},_setPickListNameAttr:function(_e2d){this.inherited(arguments);this._loadData();},value:"",templateString:_e25,widgetsInTemplate:true,storeData:null,lastValidValue:"",onChange:function(_e2e){}});return _e27;});},"Sage/UI/SLXPreviewGrid":function(){define("Sage/UI/SLXPreviewGrid",["./SLXPreviewGrid/Grid","./SLXPreviewGrid/FilterPanel","./SLXPreviewGrid/Filter/DateRange","./SLXPreviewGrid/Filter/Text"],function(Grid,_e2f,_e30,Text){return {Grid:Grid,FilterPanel:_e2f,Filter:{DateRange:_e30,Text:Text}};});},"Sage/QuickForms/Design/EmailControlDesigner":function(){define("Sage/QuickForms/Design/EmailControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/EmailControlDesigner"],function(_e31,_e32,lang,_e33,_e34,_e35,_e36,_e37){return _e31("Sage.QuickForms.Design.EmailControlDesigner",[_e33],{designSupport:{visible:true},editors:[_e35,_e36,_e34],widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %} design-email\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"design-email-icon\"></div>","</div>","</div>"]),helpTopicName:"Email_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXEmail, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Email",constructor:function(){lang.mixin(this,_e37);}});});},"Sage/Utility/PickList":function(){define("Sage/Utility/PickList",["dojo/_base/lang","dojo/_base/declare","Sage/Data/SDataServiceRegistry","dojo/json","./_LocalStorageMixin","../Utility"],function(lang,_e38,_e39,json,_e3a,util){var _e3b=_e38("Sage.Utility.PickList",[_e3a],{_storageNameSpace:"PickListData",checkStaleCache:function(){var _e3c=this.getFromLocalStorage("modified_at",this._storageNameSpace);var _e3d=sessionStorage.getItem("PickListChangeStateCheck");if(_e3c&&_e3d===null){_e3c=new Date(Date.parse(_e3c));var _e3e,_e3f,_e40,data;data=sessionStorage.getItem("pickListExpireCheck");if(data===null){_e3e=_e39.getSDataService("system");_e3f=new Sage.SData.Client.SDataServiceOperationRequest(_e3e);_e3f.setOperationName("getPickListsChangeState");_e3f.execute({},{success:lang.hitch(this,function(data){if(!data||!data.response||!data.response.lastModifiedDate){return;}var _e41=util.Convert.toDateFromString(data.response.lastModifiedDate);if(this._isLocalStorageExpired(_e3c,_e41)){this.clear(this._storageNameSpace);}})});sessionStorage.setItem("PickListChangeStateCheck","true");}}},_isLocalStorageExpired:function(_e42,_e43){_e42.setSeconds(0);_e43.setSeconds(0);_e42.setMilliseconds(0);_e43.setMilliseconds(0);return _e43.valueOf()>=_e42.valueOf();},});Sage.namespace("Utility.PickList");lang.mixin(Sage.Utility.PickList,new _e3b());return Sage.Utility.PickList;});},"Sage/UI/Dashboard/BaseWidget":function(){define("Sage/UI/Dashboard/BaseWidget",["Sage/UI/Dashboard/BaseWidget","Sage/Utility","dojo/i18n","Sage/UI/EditorContainer","dojo/_base/declare","dojo/i18n!./nls/WidgetDefinition"],function(_e44,util,i18n,_e45,_e46){var _e47=_e46("Sage.UI.Dashboard.BaseWidget",null,{constructor:function(def){dojo.safeMixin(this,def);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition"));this.inherited(arguments);},family:"System",prefHeight:0.33,timestamp:true,_getEditorString:function(_e48,_e49){var _e4a=i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition");var _e4b=_e4a[this.name];if(_e4b){_e4b+=" "+_e4a["settingsText"];}else{_e4b=_e4a["defaultWidgetText"];}_e48._pcid=_e49;var cont=new _e45(_e48);if(!cont){}if(this._editorTpl){return this._editorTpl.apply({title:_e4b,id:_e49+"_editor",content:cont.doTemplate()});}return "";}});return _e47;});},"Sage/TaskPane/ActivityTaskConfigurationProvider":function(){define("Sage/TaskPane/ActivityTaskConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Services/ActivityService","Sage/TaskPane/ActivityTaskContents","Sage/TaskPane/ActivityTaskPaneItem","dojo/on","dojo/_base/lang","dojo/i18n!./nls/ActivityTaskConfigurationProvider","dojo/_base/declare"],function(_e4c,_e4d,_e4e,_e4f,_e50,on,lang,_e51,_e52){var _e53=_e52("Sage.TaskPane.ActivityTaskConfigurationProvider",[_e4d,_e4c],{serviceMap:{"groupContextService":"ClientGroupContext"},_roleSecurityService:null,_currentUserId:null,scheduleText:"Schedule",eventText:"Event",phoneCallText:"Phone Call",toDoText:"To-Do",meetingText:"Meeting",personalActivityText:"Personal Activity",deleteConfirmationText:"Delete Confirmation",acceptConfirmationText:"Accept Confirmation",declineConfirmationText:"Decline Confirmation",completeActivityText:"Complete Activity",deleteActivityText:"Delete Activity",deleteEventText:"Delete Event",scheduleEventText:"Schedule Event",scheduleRequestText:"Schedule Request",deleteRequestText:"Delete Request",recordsSelectedText:"record(s) selected",clearText:"Clear",actionNameSpace:"Sage.TaskPane.ActivityTaskPaneActions",_taskConfigs:false,constructor:function(_e54){lang.mixin(this,_e51);this.inherited(arguments);this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));var _e55=Sage.Services.getService("ClientContextService");if(_e55){if(_e55.containsKey("userID")){this._currentUserId=_e55.getValue("userID");}}this._roleSecurityService=Sage.Services.getService("RoleSecurityService");},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(){var _e56;var _e57=this.groupContextService&&this.groupContextService.getContext();var _e58=_e57&&_e57["CurrentGroupID"];var _e59=this.getTaskConfiguration(_e58);var _e5a=new _e4f({taskTemplate:_e59.configuration.taskTemplate});_e5a.startup();var _e5b={tabId:_e59.configuration.key,taskPane:_e5a};return _e5b;},getTaskConfiguration:function(key){var _e5c=this.getTaskConfigurations();for(var i=0;i<_e5c.length;i++){if(_e5c[i].key.toUpperCase()===key.toUpperCase()){return _e5c[i];}}var _e5d={key:"default",configuration:this._getDefaultConfig()};return _e5d;},getTaskConfigurations:function(){if(this._taskConfigs){return this._taskConfigs;}this._taskConfigs=[{key:"activities",configuration:this._getActivityConfig()},{key:"allopen",configuration:this._getActivityConfig()},{key:"pastdue",configuration:this._getPastDueConfig()},{key:"alarms",configuration:this._getAlarmConfig()},{key:"events",configuration:this._getEventConfig()},{key:"confirmations",configuration:this._getConfirmConfig()},{key:"literature",configuration:this._getLitRequestConfig()}];return this._taskConfigs;},_getTaskTemplateString:function(_e5e,_e5f){var ts=[];ts.push("<div class=\"task-pane-item-common-tasklist\">");ts.push("<span id=\"selectionCount\" class=\"task-pane-item-common-selectionText\"> 0 </span><span id=\"selectionText\"> "+this.recordsSelectedText+"</span><br>");ts.push("<a id=\"clearSelection\" href=\"#\" class=\"task-pane-item-common-clearselection\" dojoAttachEvent=\"click:_clearSelection\">"+this.clearText+"</a><br>");ts.push("<hr>");for(var i=0;i<_e5e.length;i++){var task=_e5e[i];var _e60=this.actionNameSpace;if(task.actionNameSpace){_e60=task.actionNameSpace;}if(task.template){ts.push(task.template);}else{ts.push("<li>");var _e61="";if(task.style){_e61=task.style;}ts.push(dojo.string.substitute("<div dojotype=\"Sage.TaskPane.ActivityTaskPaneItem\" class=\"task-pane-item-common-tasklist\" style=\"${4}\"  linkText=\"${3}\" securedAction=\"${4}\" action=\"javascript: ${1}.${2}\"></div>",[task.taskId,_e60,task.action,task.displayName,task.securedAction,_e61]));}}ts.push("</div>");return ts;},_getCommonTasks:function(){var _e62=[];return _e62;},_getCommonActivityTasks:function(){var _e63=this._getCommonTasks();_e63.push({template:"<div class='slxLabel'>"+this.scheduleText+"</div>"});_e63.push({template:"<div style='padding-left:15px;'>"});_e63.push({taskId:"SchedulePhoneCall",type:"Link",displayName:this.phoneCallText,action:"schedulePhoneCall();",securedAction:"",style:"padding-left:15px;"});_e63.push({taskId:"ScheduleMeeting",displayName:this.meetingText,action:"scheduleMeeting()",securedAction:"",style:"padding-left:15px;"});_e63.push({taskId:"ScheduleToDo",type:"Link",displayName:this.toDoText,action:"scheduleToDo();",securedAction:"",style:"padding-left:15px;"});_e63.push({taskId:"SchedulePersonal",type:"Link",displayName:this.personalActivityText,action:"schedulePerosnalActivity();",securedAction:"",style:"padding-left:15px;"});_e63.push({template:"</div>"});_e63.push({taskId:"Complete",type:"Link",displayName:this.completeActivityText,action:"completeActivity();",securedAction:""});_e63.push({taskId:"Delete",type:"Link",displayName:this.deleteActivityText,action:"deleteActivity();",securedAction:""});return _e63;},_getActivityConfig:function(_e64,_e65){var _e66=this._getCommonActivityTasks();var _e67="Activities";var _e68=this._getTaskTemplateString(_e66,_e67);var _e69=new Simplate(_e68);var _e6a={key:"activities",taskTemplate:_e69};return _e6a;},_getPastDueConfig:function(_e6b,_e6c){var _e6d=this._getCommonActivityTasks();var _e6e="Past Due";var _e6f=this._getTaskTemplateString(_e6d,_e6e);var _e70=new Simplate(_e6f);var _e71={key:"PastDue",taskTemplate:_e70};return _e71;},_getAlarmConfig:function(_e72,_e73){var _e74="<div>Test</div>";var _e75=this._getCommonActivityTasks();var _e76="Alarms";var _e77=this._getTaskTemplateString(_e75,_e76);var _e78=new Simplate(_e77);var _e79={key:"Alarms",taskTemplate:_e78};return _e79;},_getLitRequestConfig:function(_e7a,_e7b){var _e7c=this._getCommonTasks();_e7c.push({taskId:"ScheduleLitRequest",displayName:this.scheduleRequestText,action:"scheduleLitRequest();",securedAction:"",style:"padding-left:15px;"});_e7c.push({taskId:"DeleteRequest",displayName:this.deleteRequestText,action:"deleteLitRequest();",securedAction:""});var _e7d="Litature Requests";var _e7e=this._getTaskTemplateString(_e7c,_e7d);var _e7f=new Simplate(_e7e);var _e80={key:"LitRequests",taskTemplate:_e7f};return _e80;},_getEventConfig:function(_e81,_e82){var _e83=this._getCommonTasks();_e83.push({taskId:"ScheduleEvent",displayName:this.scheduleEventText,action:"scheduleEvent();",securedAction:"",style:"padding-left:15px;"});_e83.push({taskId:"DeleteEvent",displayName:this.deleteEventText,action:"deleteEvent();",securedAction:""});var _e84="Events";var _e85=this._getTaskTemplateString(_e83,_e84);var _e86=new Simplate(_e85);var _e87={key:"Events",taskTemplate:_e86};return _e87;},_getConfirmConfig:function(_e88,_e89){var _e8a=this._getCommonTasks();_e8a.push({taskId:"AcceptConfirmation",displayName:this.acceptConfirmationText,action:"acceptConfirmation();",securedAction:""});_e8a.push({taskId:"DeclineConfirmation",displayName:this.declineConfirmationText,action:"declineConfirmation();",securedAction:""});_e8a.push({taskId:"DeleteConfirmation",displayName:this.deleteConfirmationText,action:"deleteConfirmation();",securedAction:""});var _e8b="Confirmations";var _e8c=this._getTaskTemplateString(_e8a,_e8b);var _e8d=new Simplate(_e8c);var _e8e={key:"Confirmations",taskTemplate:_e8d};return _e8e;},_getDefaultConfig:function(_e8f,_e90){var _e91={};var _e92="Default";var _e93=this._getTaskTemplateString(_e91,_e92);var _e94=new Simplate(_e93);var _e95={key:"Default",taskTemplate:_e94};return _e95;},buildTaskConfiguration:function(key,_e96,_e97){var _e98=this._getTaskTemplateString(_e97,_e96);var _e99=new Simplate(_e98);var _e9a={key:key,taskTemplate:_e99};return _e9a;},addTaskConfiguration:function(_e9b){var _e9c=this.getTaskConfiguration(_e9b.key);if(_e9c.key==="default"){var _e9d={key:_e9b.key,configuration:_e9b};var _e9e=this.getTaskConfigurations();_e9e.push(_e9d);}else{_e9c.configuration=_e9b;}},requestConfiguration:function(_e9f){this._onRequestConfigurationSuccess(_e9f,null);},_onRequestConfigurationSuccess:function(_ea0,_ea1){if(_ea0.success){_ea0.success.call(_ea0.scope||this,this._createConfiguration(_ea1,_ea0),_ea0,this);}this._createConfiguration(_ea1,_ea0);},_onRequestConfigurationFailure:function(_ea2,_ea3){if(_ea2.failure){_ea2.failure.call(_ea2.scope||this,_ea3,_ea2,this);}},_scheduleMeeting:function(_ea4){}});return _e53;});},"Sage/UI/nls/ListPanel":function(){define("Sage/UI/nls/ListPanel",["Sage/LanguageList","dojo/_base/lang"],function(_ea5,lang){var nls={root:{listText:"List",summaryText:"Summary",detailText:"Detail",hideDetailText:"Hide Detail",unsavedDataText:"*unsaved data",helpText:"Help",refreshText:"Refresh",displayingText:"Displaying",ofText:"of",overflowText:"Your search returned a large number of results. Narrow your search by applying filters."}};return lang.mixin(_ea5,nls);});},"Sage/UI/ActivityScheduler":function(){define("Sage/UI/ActivityScheduler",["dojo/i18n","dojo/date","dijit/Menu","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/UserOptions","Sage/Utility/Activity","Sage/Utility","Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg","dojo/i18n!./nls/ActivityScheduler","dojo/_base/declare","dojo/_base/lang","dojo/string"],function(i18n,_ea6,_ea7,_ea8,_ea9,_eaa,_eab,_eac,_ead,_eae,_eaf,_eb0,_eb1){var _eb2=_eaf("Sage.UI.ActivityScheduler",null,{_weekStart:null,_scheduler:null,_schedulerId:"slxLogixScheduler",schedulerContextMenu:null,eventConnections:[],_menuItems:null,_contentWindow:null,_iFrameId:null,_userOptions:{},_schedulerLaunched:false,self:this,_recurringIcon:"../../images/icons/recurring_14x14.png",_attachmentIcon:"../../images/icons/attach_14x14.png",_alarmIcon:"../../images/icons/alarm_14x14.png",_activityCompleteIcon:"../../images/icons/completed_step_14x14.png",_userActivityData:{},_currentActivity:{},_securityAccessData:[],constructor:function(_eb3,_eb4,_eb5,_eb6){_eb0.mixin(this,_eae);this._userOptions={daystarttime:"9",dayendtime:"6",defaultactivity:"meeting",starttime:"8",endtime:"5",weekstart:"1",numevents:"3",defaultcalendarview:"month",defaultinterval:15,displaycontactaccount:"0",rememberusers:true,workweekmon:true,workweektue:true,workweekwed:true,workweekthu:true,workweekfri:true,workweeksat:false,workweeksun:false,workweek:[1,2,3,4,5],showonopportunities:false,showonregarding:false,showonphonenumber:false,showontime:false};_scheduler=_eb5.scheduler;this._schedulerId=_eb4;this._menuItems=[];this._contentWindow=_eb5;this._iFrameId=_eb6;this._preloadCalendarUserOptions();var self=this;dojo.subscribe("/entity/activity/updateScheduler",function(data){self._updateSchedulerEvent(data);});dojo.subscribe("/entity/activity/clearScheduler",function(){self._clearScheduler();});dojo.subscribe("/entity/activity/addToScheduler",function(data){self._addSchedulerEvent(data);});dojo.subscribe("/entity/activity/deleteFromScheduler",function(id){if(id){if(id.indexOf("result")==-1){self._deleteSchedulerEvent(id);}}});},_loadAllEvents:function(data){setTimeout(function(){this._scheduler.parse(data,"json");},100);},_addSchedulerEvent:function(data){if(data!==null){var _eb7=dojo.clone(data);var _eb8=[];_eb8.push(_eb7);self._scheduler.parse(_eb8,"json");}},_updateSchedulerEvent:function(data){if(data!==null){var _eb9=dojo.clone(data);self._scheduler.deleteEvent(_eb9.id);var _eba=[];_eba.push(_eb9);self._scheduler.parse(_eba,"json");}},_deleteSchedulerEvent:function(_ebb){_scheduler.deleteEvent(_ebb);},_setCurrentDate:function(date){_scheduler.setCurrentView(date);},_getSchedulerDate:function(){return _scheduler._date;},_launchScheduler:function(){_scheduler.init(this._schedulerId,new Date(),this._userOptions["defaultcalendarview"]);this._schedulerLaunched=true;this._userOptions["date"]=_scheduler.date;this._userOptions["weekStartDate"]=_scheduler._week_min_date;this._userOptions["weekEndDate"]=_scheduler._week_max_date;this._userOptions["workWeekStartDate"]=_scheduler._workweek_min_date;this._userOptions["workWeekEndDate"]=_scheduler._workweek_max_date;dojo.publish("/entity/activity/SchedulerCreated",[this._userOptions,this]);},_clearScheduler:function(){_scheduler.clearAll();},_clearSchedulerEvents:function(data){if(data){for(var i=0;i<data.length;i++){_scheduler.deleteEvent(data[i]);}}},_loadTimelessActivities:function(){var ar=[];ar.push(_scheduler._mode);ar.push(_scheduler._date);ar.push(self._getWeekStart());dojo.publish("/entity/activity/calendar/schedulerDateChanged",[ar,this]);},_initScheduler:function(){_scheduler.config.scroll_hour=this._userOptions["daystarttime"];_scheduler.config.workWeek=this._userOptions["workweek"];_scheduler.config.workHours=[0,this._userOptions["daystarttime"]*60,this._userOptions["dayendtime"]*60,24*60];_scheduler.config.eventsMaxCount=this._userOptions["numevents"];_scheduler.locale={date:this.scheduler_dates,labels:this.scheduler_labels};_scheduler.templates.day_scale_date=function(d){var _ebc=_scheduler.date.date_to_str("%l");return _ebc(d);};_scheduler.templates.day_date=function(dt){return _eab.formatLongDate(dt);};_scheduler.templates.week_date=function(d1,d2){var _ebd=_scheduler.date.date_to_str("%F %d");var _ebe=_scheduler.date.date_to_str("%d, %Y");if(d1.getMonth()!=d2.getMonth()){return _eab.formatLongDate(d1)+" &ndash; "+_eab.formatLongDate(_scheduler.date.add(d2,-1,"day"));}else{var d3=scheduler.date.add(d2,-1,"day");return _eab.formatLongDate(d1)+" &ndash; "+_eab.formatLongDate(_scheduler.date.add(d2,-1,"day"));}};var _ebf=function(id){var _ec0=false;if(id){if(id.trim()!==""){_ec0=true;}}return _ec0;};var _ec1=_scheduler.date.date_to_str("%g:%i %A");var _ec2=_scheduler.date.date_to_str("%m/%d/%Y");_scheduler.templates.tooltip_text=function(_ec3,end,_ec4){var type=_ec4.type;var _ec5="";var _ec6=(_ec4.subType===null)?"":_ec4.subType.replace("at","");if(type=="event"){_ec5="<b>"+self.tooltipType+" :</b> Event<br><b>"+self.tooltipDayType+" :</b> "+_ec6;_ec5+="<br/><b>"+self.tooltipStartDate+" :</b> "+_eab.formatEventDate(_ec3);_ec5+="<br/><b>"+self.tooltipEndDate+" :</b> "+_eab.formatDateAdd(end,"day",-1);if(_ec4.location){_ec5+="<br/><b>"+self.tooltipLocation+" :</b> "+_ec4.location;}if(_ec4.description){_ec5+="<br/><b>"+self.tooltipDescription+" :</b> "+_ec4.description;}}else{_ec5="<b>"+self.tooltipTime+" :</b> "+_ec1(_ec3)+" - "+_ec1(end);if(_ebf(_ec4.leadId)){if(_ec4.leadName){_ec5+="<br/><b>"+self.tooltipLeadName+" :</b> "+_ec4.leadName;}if(_ec4.accountName){_ec5+="<br/><b>"+self.tooltipCompanyName+" :</b> "+_ec4.accountName;}}else{if(_ec4.contactName){_ec5+="<br/><b>"+self.tooltipContactName+" :</b> "+_ec4.contactName;}if(_ec4.accountName){_ec5+="<br/><b>"+self.tooltipAccountName+" :</b> "+_ec4.accountName;}}if(_ec4.phoneNumber){_ec5+="<br/><b>"+self.tooltipPhoneNumber+" :</b> "+_ec4.phoneNumber;}if(_ec4.location){_ec5+="<br/><b>"+self.tooltipLocation+" :</b> "+_ec4.location;}if(_ec4.regarding){_ec5+="<br/><b>"+self.tooltipRegarding+" :</b> "+_ec4.regarding;}if(_ec4.priority){_ec5+="<br/><b>"+self.tooltipPriority+" :</b> "+_ec4.priority;}if(_ec4.notes){_ec5+="<br/><b>"+self.tooltipNotes+" :</b> "+_ec4.notes;}}return _ec5;};_scheduler.clearAll();var self=this;_scheduler.attachEvent("onTemplatesReady",function(){_scheduler.date.workweek_start=_scheduler.date.WorkWeekStart;_scheduler.templates.workweek_date=_scheduler.templates.week_date;_scheduler.templates.workweek_scale_date=_scheduler.templates.week_scale_date;_scheduler.date.add_workweek=function(date,inc){return _scheduler.date.add(date,inc*7,"day");};_scheduler.date.get_workweek_end=function(date){var _ec7=self._userOptions["workweek"][(self._userOptions["workweek"].length)-1]-self._userOptions["workweek"][0];return _scheduler.date.add(date,_ec7,"day");};});_scheduler.date.WorkWeekStart=function(date){var _ec8=self._userOptions["workweek"][0];if(date===null){date=new Date();}var _ec9=date.getDay();_ec9=_ec8-_ec9;var _eca=_scheduler.date.add(date,_ec9,"day");if(_eca>date){_eca=_scheduler.date.add(_eca,-7,"day");}return _scheduler.date.date_part(_eca);};_scheduler.templates.event_title_class=function(_ecb,end,_ecc){var mode=_scheduler.getState().mode;if(mode!=="month"&&_ecc.type!=="event"){if(!_ecc.confirmed){return "pending";}}return "";};_scheduler.date.getDay=function(_ecd){var _ece=_ecd;if(_ecd.length>1){var _ecf=[];_ecf["SUNDAY"]=0;_ecf["MONDAY"]=1;_ecf["TUESDAY"]=2;_ecf["WEDNESDAY"]=3;_ecf["THURSDAY"]=4;_ecf["FRIDAY"]=5;_ecf["SATURDAY"]=6;_ece=_ecf[_ecd.toUpperCase()];}if(!_ece){_ece=1;}return _ece;};_scheduler.templates.event_header=function(_ed0,end,ev){var html="";var _ed1=_scheduler.date.date_to_str("%g:%i %A");var _ed2=_scheduler.date.date_to_str("%g:%i");if(ev.endsAfterMidnight){end=ev.actualEndDate;}if(ev.iconSrc){html+="<img src=\""+ev.iconSrc+"\" style=\"float:left;padding-right:4px;\"/>";}if(ev["recurring"]){html+="  <img src=\""+self._recurringIcon+"\" style=\"float:left;padding-right:4px;\"/>";}if(_scheduler._mode==="day"){if(ev["attachment"]){html+="  <img src=\""+self._attachmentIcon+"\" style=\"float:left;padding-right:4px;\"/>";}if(ev["alarm"]){html+="  <img src=\""+self._alarmIcon+"\" style=\"float:left;padding-right:4px;\"/>";}}if(ev["id"].toString().indexOf("-hist")>0){html+="  <img src=\""+self._activityCompleteIcon+"\" style=\"float:left;padding-right:4px;\"/>";}if(_scheduler._mode==="day"){html+=_ed1(_ed0)+"-"+_ed1(end);}else{html+=_ed2(_ed0)+"-"+_ed2(end);}return html;},_scheduler.templates.event_text=function(_ed3,end,ev){var _ed4="";var _ed5=_scheduler.date.date_to_str("%g:%i %A");if(ev.endsAfterMidnight){end=ev.actualEndDate;}if(_scheduler._mode!=="month"){var _ed6=ev["contactId"];var _ed7=ev["contactName"];var _ed8=ev["leadId"];var _ed9=ev["leadName"];var _eda=ev["accountId"];var _edb=ev["accountName"];var _edc=ev["opportunityId"];var _edd=ev["opportunity"];var _ede="";var _edf="";var _ee0=false;if(_ee0){_ed4+="</br>";}if(_ebf(_ed8)&&_edb){if(_ed9){_ede="<a href=\"javascript:void(window.parent.location ='../../Lead.aspx?entityid="+_ed8+"')\" >"+_ed9+"</a><br>";}_edf="<a href=\"javascript:void(window.parent.location ='../../Lead.aspx?entityid="+_ed8+"')\" >"+_edb+"</a><br>";}else{if(_ebf(_eda)&&_edb){_edf="<a href=\"javascript:void(window.parent.location = '../../Account.aspx?entityid="+_eda+"')\">"+_edb+"</a><br>";}if(_ebf(_ed6)){_ede="<a href=\"javascript:void(window.parent.location ='../../Contact.aspx?entityid="+_ed6+"')\" >"+_ed7+"</a><br>";}}switch(self._userOptions["displaycontactaccount"]){case "0":_ed4+=_ede;break;case "1":_ed4+=_edf;break;case "2":_ed4+=_ede;_ed4+=_edf;break;case "3":_ed4+=_edf;_ed4+=_ede;break;case "4":_ed4+="";break;}if(self._userOptions["showonopportunities"]&&_ebf(_edc)){_ed4+="<a href=\"javascript:void(window.parent.location ='../../Opportunity.aspx?entityid="+_edc+"&modeid=Detail')\" >"+_edd+"</a><br>";}if(self._userOptions["showonphonenumber"]&&ev["phoneNumber"]){_ed4+=ev["phoneNumber"]+"<br/>";}if(self._userOptions["showonregarding"]&&ev["regarding"]){_ed4+=ev["regarding"]+"<br/>";}if(self._userOptions["showontime"]){_ed4+=_ed5(_ed3)+"-"+_ed5(end)+"<br/>";}if(ev["location"]){_ed4+=ev["location"]+"<br/>";}if(ev["priority"]){_ed4+=ev["priority"]+"<br/>";}if(ev["notes"]){_ed4+=ev["notes"];}}else{_ed4=ev.text;}return _ed4;};_scheduler.date.week_start=function(date){var _ee1=self._userOptions["weekstart"];if(date===null){date=new Date();}var _ee2=date.getDay();_ee2=_ee1-_ee2;var _ee3=_scheduler.date.add(date,_ee2,"day");if(_ee3>date){_ee3=_scheduler.date.add(_ee3,-7,"day");}return _scheduler.date.date_part(_ee3);};_scheduler.date.arraySort=function(a,b){return a-b;};_scheduler.addEventNow=function(_ee4,end,type){var _ee5,_ee6,_ee7;if(_ee4===null){if(_scheduler._mode==="month"){_ee5=_eab.roundDateToNextQuarterHour(new Date());}else{_ee5=new Date();}}else{var _ee8=new Date(_ee4);if(_scheduler._mode==="month"){_ee8.setMinutes(new Date().getMinutes());_ee8.setHours(new Date().getHours());_ee5=_eab.roundDateToNextQuarterHour(_ee8);}else{_ee5=_ee8;}}_ee6=end===null?_ee5:new Date(end);if(type===null||typeof type==="object"){type=self._userOptions["defaultactivity"];}if(end!==null){_ee7=dojo.date.difference(_ee5,new Date(end),"minute");}else{_ee7="60";}var svc=Sage.Services.getService("ActivityService");if(type=="event"){var args={StartDate:Sage.Utility.Convert.toIsoStringFromDate(_ee5),EndDate:Sage.Utility.Convert.toIsoStringFromDate(_ee6)};svc.scheduleEvent(args);}else{if(type!==null){if(type.toLowerCase().indexOf("phone")>-1){type="PhoneCall";}else{if(type.toLowerCase().indexOf("meeting")>-1){type="Meeting";}else{if(type.toLowerCase().indexOf("to")>-1){type="ToDo";}else{if(type.toLowerCase().indexOf("personal")>-1){type="PersonalActivity";}else{type="Meeting";}}}}}svc.scheduleActivity({type:type,preConfigured:{StartDate:Sage.Utility.Convert.toIsoStringFromDate(_ee5),Duration:_ee7}});}};_scheduler.xy.menu_width=0;_scheduler.config.details_on_dblclick=true;_scheduler.config.details_on_create=true;_scheduler.attachEvent("onClick",function(){return false;});_scheduler.showLightbox=function(_ee9){if(_ee9!==null&&_ee9!==undefined){if(typeof _ee9=="string"){var eId=_ee9.replace("0:","");var _eea=eId.split("-");if(_eea[2]=="act"){if(_scheduler._events[_ee9]&&!_scheduler._events[_ee9].confirmed){Sage.Link.confirmActivityFor(_eea[0],_eea[1]);}else{Sage.Link.editActivity(_eea[0],false,_eea[1]);}}else{if(_eea[1]=="evt"||_eea[2]=="evt"){Sage.Link.editEvent(_eea[0]);}else{if(_eea[1]=="hist"||_eea[2]=="hist"){Sage.Link.editHistory(_eea[0]);}}}}}};_scheduler.getCalendarEventID=function(_eeb){var _eec=_eeb;if(_eeb!==null&&_eeb!==undefined){if(typeof _eeb=="string"){_eeb=_eeb.replace("0:","");var eId=_eeb.split("-");_eec=eId[0];}}return _eec;};_scheduler.getCalendarEventUserID=function(_eed){var _eee=_eed;if(_eed!==null&&_eed!==undefined){if(typeof _eed=="string"){_eed=_eed.replace("0:","");var eId=_eed.split("-");_eee=eId[1];}}return _eee;};_scheduler.goToActivityAssociation=function(_eef,_ef0){var _ef1=null;if(_scheduler._events&&_scheduler._events[_ef0]){switch(_eef){case "Contact":_ef1=_scheduler._events[_ef0].contactId;break;case "Account":_ef1=_scheduler._events[_ef0].accountId;break;case "Lead":_ef1=_scheduler._events[_ef0].leadId;break;case "Opportunity":_ef1=_scheduler._events[_ef0].opportunityId;break;case "Ticket":_ef1=_scheduler._events[_ef0].ticketId;break;}}if(_ebf(_ef1)){Sage.Link.entityDetail(_eef,_ef1);}};_scheduler.openActivity=function(_ef2){_scheduler.showLightbox(_ef2);};_scheduler.completeActivity=function(_ef3){Sage.Link.completeActivity(_scheduler.getCalendarEventID(_ef3));};_scheduler.getMenuActivityAction=function(_ef4,_ef5){if(!_ef4){return false;}var _ef6=false;var _ef7=_scheduler.getCalendarEventUserID(_ef4);var _ef8=_scheduler._events[_ef4]["leaderUserId"];var _ef9=_eac.getClientContextByKey("userID");var _efa=_scheduler._events[_ef4]["confirmed"]||false;var _efb=_scheduler._events[_ef4]["allowDelete"];var _efc=_scheduler._events[_ef4]["allowEdit"];switch(_ef5){case "delete":if(_efb){if(_ef7===_ef8){_ef6="delete";}else{if(_efa){_ef6="declineConfirmed";}else{_ef6="decline";}}}else{if(_ef9===_ef7){if(_ef9===_ef8){_ef6="delete";}else{if(_efa){_ef6="declineConfirmed";}else{_ef6="decline";}}}else{_ef6=false;}}break;case "complete":if(_efa&&_ef7===_ef8&&_efc){_ef6=true;}break;}return _ef6;};_scheduler.deleteActivity=function(_efd){var _efe=_scheduler.getCalendarEventID(_efd);Sage.Link.deleteActivity(_efe);};_scheduler.declineConfirmedUserActivity=function(_eff){var _f00=_scheduler.getCalendarEventID(_eff);var _f01=_scheduler.getCalendarEventUserID(_eff);var _f02=_scheduler._events[_eff]["leaderUserId"];_f00=_f00.indexOf(";")>0?_f00.substring(0,12):_f00;var _f03={"$key":_f00,"Leader":{"$key":_f02}};var _f04=Sage.Services.getService("ActivityService");_f04.declineMemberConfirmation(_f03,_f01);};_scheduler.declineActivity=function(_f05){var _f06=_scheduler.getCalendarEventID(_f05);var _f07=_scheduler.getCalendarEventUserID(_f05);var _f08=Sage.Services.getService("ActivityService");_f08.confirmActivityFor(_f06,_f07,self._loadNotification,self);};_scheduler.deleteActivityEvent=function(_f09){Sage.Link.deleteEvent(_scheduler.getCalendarEventID(_f09));};_scheduler.attachEvent("onEventAdded",function(_f0a,_f0b){if(typeof _f0a!="string"){_scheduler.addEventNow(_f0b.start_date,_f0b.end_date,"atAppointment");_scheduler.deleteEvent(_f0a);}});_scheduler.attachEvent("onBeforeEventChanged",function(_f0c,_f0d,_f0e){if(_f0e){switch(this._mode){case "day":case "week":case "workweek":_scheduler.addEventNow(_f0c.start_date,_f0c.end_date,self._userOptions["defaultactivity"]);_scheduler.deleteEvent(_f0c.id);break;case "month":var _f0f=_f0c.end_date;if(dojo.date.compare(_f0c.end_date,_f0c.start_date)>0){_f0f=dojo.date.add(_f0c.end_date,"day",-1);}_scheduler.addEventNow(_f0c.start_date,_f0f,"event");_scheduler.deleteEvent(_f0c.id);break;}}else{if(!_f0c.allowEdit){return false;}var _f10={Id:_f0c.id,Text:_f0c.text,StartDate:_f0c.start_date,Alarm:_f0c.alarm,EndDate:Sage.Utility.Convert.toIsoStringFromDate(_f0c.end_date),AlarmMinutesBefore:_f0c.alarmMinutesBefore||-15,Duration:dojo.date.difference(_f0c.start_date,_f0c.end_date,"minute")};if(typeof _f0c.id=="string"){if(_f0c.id&&_f0c.id.indexOf("-act")>0){_f10.Id=_scheduler.getCalendarEventID(_f0c.id);_f10.UserId=_scheduler.getCalendarEventUserID(_f0c.id);if(_f10.AlarmMinutesBefore){_f10.AlarmTime=dojo.date.add(_f10.StartDate,"minute",_f10.AlarmMinutesBefore);_f10.AlarmTime=Sage.Utility.Convert.toIsoStringFromDate(_f10.AlarmTime);}_f10.StartDate=Sage.Utility.Convert.toIsoStringFromDate(_f10.StartDate);self._currentActivity=_f10;if(_f0c.id.indexOf(";")>0){self.onEditRecurrenceActivity(_f10.Id);}else{self._updateUserActivity();}}else{if(_f0c.id&&_f0c.id.indexOf("-evt")>0){_f10.Id=_f0c.id.replace("-evt","");_f10.EndDate=dojo.date.add(_f0c.end_date,"day",-1);self._updateEvent(_f10);}}}}return true;});_scheduler.attachEvent("onViewChange",function(mode,date){var _f11={};_f11.mode=mode;_f11.date=date;_f11.weekStartDate=_scheduler._week_min_date;_f11.weekEndDate=_scheduler._week_max_date;_f11.workWeekStartDate=_scheduler._workweek_min_date;_f11.workWeekEndDate=_scheduler._workweek_max_date;dojo.publish("/entity/activity/calendar/schedulerDateChanged",[_f11,this]);});_scheduler.attachEvent("onContextMenu",function(_f12,_f13){var pos=_scheduler._mouse_coords(_f13);var _f14=_scheduler._min_date.valueOf()+(pos.y*_scheduler.config.time_step+(_scheduler._table_view?0:pos.x)*24*60)*60000;_f14=_scheduler._correct_shift(_f14);self._bindContextMenu(_f12,_f14);});var _f15=_scheduler.date.date_to_str("%g %A");_scheduler.config.hour_size_px=(60/this._userOptions["defaultinterval"])*42;_scheduler.templates.hour_scale=function(date){var html="";for(var i=0;i<60/self._userOptions["defaultinterval"];i++){if(i===0){html+="<div style='height:21px;line-height:21px;border-bottom: 1px solid #DcDcDc;'>"+_f15(date)+"</div>";date=_scheduler.date.add(date,self._userOptions["defaultinterval"],"minute");}else{html+="<div style='height:21px;line-height:21px;'></div>";}}return html;};_scheduler.render_event_bar=function(ev){if(this._cols[ev._sday]===0){return;}var _f16=this._rendered_location;var x=this._colsS[ev._sday];var x2=this._colsS[ev._eday];if(x2==x){x2=this._colsS[ev._eday+1];}var hb=this.xy.bar_height;var y=this._colsS.heights[ev._sweek]+(this._colsS.height?(this.xy.month_scale_height+2):2)+(ev._sorder*hb);var d=document.createElement("DIV");var cs=ev._timed?"dhx_cal_event_clear":"dhx_cal_event_line";var cse=_scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(cse){cs=cs+" "+cse;}var _f17=(ev.color?("background-color:"+ev.color+";"):"");var _f18=(ev.textColor?("color:"+ev.textColor+";"):"");var html="";var _f19=10;var _f1a=(this.xy.month_scale_height+_f19)+2;var _f1b=this._colsS.heights[ev._sweek+1]-y;if(this._mode!=="month"||(this._mode==="month"&&(_f1b>_f1a))){var _f1c=x2-x-15;if(ev["id"].toString().indexOf("-evt")===-1){x+=5;_f1c=x2-x-8;}html="<div event_id=\""+ev.id+"\" class=\""+cs+"\" style=\"position:absolute; top:"+y+"px; left:"+x+"px; width:"+_f1c+"px;"+_f18+""+_f17+""+(ev._text_style||"")+"\" id =\""+_scheduler.uid()+"\">";if(ev._timed){if(ev.iconSrc){html+="<img src=\""+ev.iconSrc+"\" style=\"float:left;padding-right:4px;\"/>";}if(ev["id"].toString().indexOf("-hist")>0){html+="  <img src=\""+self._activityCompleteIcon+"\" style=\"float:left;padding-right:4px;\"/>";}html+=_scheduler.templates.event_bar_date(ev.start_date,ev.end_date,ev);}html+=_scheduler.templates.event_bar_text(ev.start_date,ev.end_date,ev)+"</div>";html+="</div>";}else{if(_f1b>(_f19+2)){var uId=_scheduler.uid();html="<div style=\"position:absolute; top:"+y+"px; left:"+x+"px;width:"+(x2-x-5)+"px;\" id =\""+uId+"\">";html+="<a title=\""+self.tooltipMoreActivities+"\" href =\"javascript:window.scheduler.setCurrentView(new Date('"+ev.start_date+"'),'day');\">";html+="<img src=\"../../images/CalendarMoreArrow.png\" style=\"float:right\" />";html+="</a></div>";}else{html="<div></div>";}}d.innerHTML=html;this._rendered.push(d.firstChild);_f16.appendChild(d.firstChild);};this.eventConnections.push(dojo.connect(document.body,"onclick",this,"_bodyClicked"));this.eventConnections.push(dojo.connect(window.parent.document.body,"onclick",this,"_bodyClicked"));this._bindContextMenu(null,new Date());},_loadNotification:function(_f1d){this._notificationData=false;if(!this._notificationStore){this._notificationStore=new _ea8({include:["Activity","$descriptors"],resourceKind:"userNotifications",service:_ea9.getSDataService("system")});}this._notificationStore.fetch({predicate:"'"+_f1d+"'",onComplete:this._receivedNotification,onError:this._requestFailure,scope:this});},_requestFailure:function(){},_receivedNotification:function(_f1e){this._notificationData=_f1e;var _f1f=Sage.Services.getService("ActivityService");_f1f.declineConfirmation({notification:this._notificationData,success:this._successfulDeclineConfirmation,failure:this._failedAcceptDecline,scope:this});},_successfulDeclineConfirmation:function(){dojo.publish("/entity/activity/decline",[this._getActivityDataFromNotificationData(),null]);dojo.publish("/entity/userNotification/delete",[this._notificationData["$key"],this]);},_getActivityDataFromNotificationData:function(){var _f20=null;var _f21=null;if(this._notificationData){if(this._notificationData.Activity){_f20=this._notificationData.Activity.$key;}if(this._notificationData.ToUser){_f21=this._notificationData.ToUser.$key;}}var _f22={"activityId":_f20,"userId":_f21};return _f22;},onEditRecurrenceActivity:function(_f23){if(!this._editOccSeriesDlg){this._editOccSeriesDlg=new _ead({id:"editOccSeriesQueryCalendar",mode:"edit",disableSeriesOption:"disabled"});dojo.connect(this._editOccSeriesDlg,"onSelectOccurrence",this,function(_f24,_f25){this._updateActivity(this._currentActivity);});}this._editOccSeriesDlg.set("activityId",_f23);this._editOccSeriesDlg.show();},_bodyClicked:function(){if(this.schedulerContextMenu&&this.schedulerContextMenu.isShowingNow){this.schedulerContextMenu._popupWrapper.style.display="none";}},_updateUserActivity:function(){var _f26=this._currentActivity;var _f27=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_f27.setResourceKind("userActivities");var key=dojo.string.substitute("\"ActivityId=${0};UserId=${1}\"",[_f26.Id,_f26.UserId]);_f27.setResourceSelector(key);this._userActivityData={$key:key,Id:_f26.Id,StartDate:_f26.StartDate,Alarm:_f26.Alarm,Duration:_f26.Duration};if(_f26.AlarmMinutesBefore){this._userActivityData.AlarmTime=_f26.AlarmTime;}_f27.update(this._userActivityData,{scope:this,success:function(act){this._updateActivity();},failure:function(e){}});},_updateActivity:function(_f28){if(!_f28){_f28=this._userActivityData;}_f28.$key=_f28.Id;var _f29=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_f29.setResourceKind("activities");_f29.setResourceSelector(dojo.string.substitute("\"${0}\"",[_f28.$key]));_f29.update(_f28,{success:function(act){var _f2a=[];var i;var _f2b=_f28.$key.substring(0,12);for(i in this._scheduler._events){var evt=this._scheduler._events[i];if(evt.id.indexOf(_f2b)>-1){_f2a.push(evt.id);}}if(_f2a){for(i=0;i<_f2a.length;i++){this._scheduler.deleteEvent(_f2a[i]);}}dojo.publish("/entity/activity/activityScheduler/reloadActivity",[_f2b,this]);if(_f2b!==act.$key){dojo.publish("/entity/activity/activityScheduler/reloadActivity",[act.$key,this]);}},failure:function(){},scope:dojo.global});},_getWeekStart:function(date){var _f2c=this._userOptions["weekstart"];if(date===null){date=new Date();}var _f2d=date.getDay();_f2d=_f2c-_f2d;var _f2e=_scheduler.date.add(date,_f2d,"day");if(_f2e>date){_f2e=_scheduler.date.add(_f2e,-7,"day");}return _scheduler.date.date_part(_f2e);},_getWorkWeekStart:function(date){},_getMonthStart:function(date){return date.setDate(1);},_updateEvent:function(_f2f){var _f30=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_f30.setResourceKind("events");_f30.setResourceSelector(dojo.string.substitute("\"${0}\"",[_f2f.Id]));var _f31={$key:_f2f.Id,StartDate:Sage.Utility.Convert.toIsoStringFromDate(_f2f.StartDate),EndDate:Sage.Utility.Convert.toIsoStringFromDate(_f2f.EndDate)};_f30.update(_f31,{success:function(act){},failure:function(){},scope:dojo.global});},_preloadCalendarUserOptions:function(){var _f32=Sage.Services.getService("UserOptions");if(_f32){_f32.getByCategory("Calendar",this._receivedCalendarOptions,this,this._failedCalendarOptions);}},_receivedCalendarOptions:function(data){var opts=data["$resources"];if(opts.length>0){this._userOptions["workweek"]=[];}for(var i=0;i<opts.length;i++){var opt=opts[i];switch(opt["name"].toUpperCase()){case "WEEKSTART":this._userOptions["weekstart"]=_eaa.getDay(opt["value"]);break;default:this._userOptions[opt["name"].toLowerCase()]=_eaa.getConvertedOptionValue(opt["name"],opt["value"]);break;}}if(this._userOptions["workweeksun"]){this._userOptions["workweek"].push(0);}if(this._userOptions["workweekmon"]){this._userOptions["workweek"].push(1);}if(this._userOptions["workweektue"]){this._userOptions["workweek"].push(2);}if(this._userOptions["workweekwed"]){this._userOptions["workweek"].push(3);}if(this._userOptions["workweekthu"]){this._userOptions["workweek"].push(4);}if(this._userOptions["workweekfri"]){this._userOptions["workweek"].push(5);}if(this._userOptions["workweeksat"]){this._userOptions["workweek"].push(6);}if(this._userOptions["workweek"]){this._userOptions["workweek"].sort(_eaa.arraySort);}this._initScheduler();this._launchScheduler();},_failedCalendarOptions:function(data){this._initScheduler();this._launchScheduler();},_bindContextMenu:function(_f33,_f34){if(this.schedulerContextMenu){this.schedulerContextMenu.unBindDomNode(this._iFrameId);}this.schedulerContextMenu=new dijit.Menu({});var _f35=null;if(_f33===null){_f35="mnuCalendarSchedule";}else{if(_f33.indexOf("-act")>0){_f35="mnuCalendarActivity";}else{if(_f33.indexOf("-evt")>0){_f35="mnuCalendarEvent";}else{if(_f33.indexOf("-hist")>0){_f35="mnuCalendarHistory";}}}}var _f36=Sage.UI.DataStore.ContextMenus.calendar_activityContextMenu.items;var len=_f36.length;for(var i=0;i<len;i++){var mDef=_f36[i];if(mDef.id===_f35){this._buildChildMenu(mDef.submenu,null,_f33,_f34);break;}}this.schedulerContextMenu.bindDomNode(this._iFrameId);},_buildChildMenu:function(_f37,_f38,_f39,_f3a){var len=_f37.length;for(var i=0;i<len;i++){var mDef=_f37[i];if(mDef.submenu.length>0){var _f3b=new dijit.Menu();this._buildChildMenu(mDef.submenu,_f3b,_f39,_f3a);var _f3c=new dijit.PopupMenuItem({label:mDef.text,popup:_f3b});if(_f38){_f38.addChild(_f3c);}else{this.schedulerContextMenu.addChild(_f3c);}}else{var _f3d=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_f3d=new dijit.MenuSeparator();}else{var href=mDef.href;href=href.replace("javascript:Sage.Link.","javascript:parent.Sage.Link.");var _f3e=false;var _f3f=false;if(href.toUpperCase()==="DELETEACTIVITY"){_f3f=_scheduler.getMenuActivityAction(_f39,"delete");if(!_f3f){_f3e=true;}}else{if(href.toUpperCase()==="COMPLETEACTIVITY"){var _f40=_scheduler.getMenuActivityAction(_f39,"complete");if(!_f40){_f3e=true;}}}_f3d=new Sage.UI.MenuItem({label:mDef.text||"...",icon:"Libraries/dojo/dojo/resources/blank.gif",title:mDef.tooltip||"",ref:href,deleteAction:_f3f,disabled:_f3e,onClick:function(){switch(this.ref.toUpperCase()){case "SCHEDULEPHONECALL":_scheduler.addEventNow(_f3a,null,"PhoneCall");break;case "SCHEDULEMEETING":_scheduler.addEventNow(_f3a,null,"Meeting");break;case "SCHEDULETODO":_scheduler.addEventNow(_f3a,null,"ToDo");break;case "SCHEDULEPERSONALACTIVITY":_scheduler.addEventNow(_f3a,null,"PersonalActivity");break;case "SCHEDULEEVENT":_scheduler.addEventNow(_f3a,null,"event");break;case "OPENACTIVITY":case "OPENEVENT":case "OPENHISTORY":_scheduler.openActivity(_f39);break;case "COMPLETEACTIVITY":_scheduler.completeActivity(_scheduler.getCalendarEventID(_f39));break;case "DELETEACTIVITY":if(this.deleteAction==="delete"){_scheduler.deleteActivity(_f39);}else{if(this.deleteAction==="decline"){_scheduler.declineActivity(_f39);}else{if(this.deleteAction==="declineConfirmed"){_scheduler.declineConfirmedUserActivity(_f39);}}}break;case "GOTOACCOUNT":_scheduler.goToActivityAssociation("Account",_f39);break;case "GOTOCONTACT":_scheduler.goToActivityAssociation("Contact",_f39);break;case "GOTOOPPORTUNITY":_scheduler.goToActivityAssociation("Opportunity",_f39);break;case "GOTOTICKET":_scheduler.goToActivityAssociation("Ticket",_f39);break;case "GOTOLEAD":_scheduler.goToActivityAssociation("Lead",_f39);break;case "DELETEEVENT":_scheduler.deleteActivityEvent(_scheduler.getCalendarEventID(_f39));break;}}});}if(_f38){_f38.addChild(_f3d);}else{this.schedulerContextMenu.addChild(_f3d);}}}}});return _eb2;});},"Sage/Utility/Sql":function(){define("Sage/Utility/Sql",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/Sql"],function(_f41,_f42,lang,nls){var _f43=_f42("Sage.Utility.Sql",null,{_allQuotesReg:null,_badQuotesReg:null,_closingQuotesReg:null,_normalQuotesReg:null,_openingQuotesReg:null,_selectInClauseReg:null,_closingQuotes:["'","´","’","’"],_openingQuotes:["'","`","‘","‘"],resources:nls,quoteType:{apostrophe:0,accent:1,curly:2,unicode:3},constructor:function(){this.inherited(arguments);this._allQuotesReg=new RegExp("['`´‘’‘’]");this._badQuotesReg=new RegExp("[`´‘’‘’]");this._closingQuotesReg=new RegExp("['´’’]");this._normalQuotesReg=new RegExp("'");this._openingQuotesReg=new RegExp("['`‘‘]");},fixQuoted:function(_f44){var temp=_f44;if(_f44&&lang.isString(_f44)&&_f44.length>0){if(this._badQuotesReg.test(temp)){temp=this.removeBadOuterQuotes(temp);}if(this._normalQuotesReg.test(temp)){var ch=temp.charAt(0);if(this._normalQuotesReg.test(ch)){temp=temp.substr(1,temp.length-1);}if(temp===""){return "";}ch=temp.charAt(temp.length-1);if(this._normalQuotesReg.test(ch)){temp=temp.substr(0,temp.length-1);}}}else{return "''";}return "'"+temp+"'";},fixQuotes:function(_f45){if(_f45&&lang.isArray(_f45)){_f41.forEach(_f45,function(_f46,idx){_f45[idx]=this.fixQuoted(_f46);},this);return _f45.join(",");}return false;},fixInClause:function(_f47){var _f48="('')";if(_f47&&typeof _f47!=="undefined"&&lang.isString(_f47)===false){if(lang.isArray(_f47)){_f47="'"+_f47.toString().replace(/,/g,"','")+"'";}else{_f47="'"+_f47.toString()+"'";}}var temp;if(_f47&&lang.isString(_f47)&&lang.trim(_f47).length>0){if(this.hasValidApostropheQuoteCount(_f47)===false){throw new Error(this.resources.InvalidApostropheCount);}temp=_f47.replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," ").trim();if(temp===""){return _f48;}if(this._badQuotesReg.test(temp)){if(temp.charAt(0)==="("&&temp.charAt(temp.length-1)===")"){temp=temp.substr(1,temp.length-1);temp=temp.substr(0,temp.length-1);}if(temp===""){return _f48;}var _f49=temp.toUpperCase().indexOf("SELECT")===0;if(_f49){var _f4a=false;var _f4b=-1;var _f4c=[];for(var i=0;i<temp.length;i++){var ch=temp.charAt(i);if(_f4a===false){if(this._openingQuotesReg.test(ch)){_f4a=true;switch(ch){case "'":_f4b=this.quoteType.apostrophe;break;case "`":_f4b=this.quoteType.accent;_f4c.push(i);break;case "‘":_f4b=this.quoteType.curly;_f4c.push(i);break;case "‘":_f4b=this.quoteType.unicode;_f4c.push(i);break;}}}else{if(this._closingQuotesReg.test(ch)){var _f4d=this.translateQuoteType(ch);if(_f4d==-1){continue;}if(_f4b==_f4d){_f4a=false;switch(_f4b){case this.quoteType.accent:case this.quoteType.curly:case this.quoteType.unicode:_f4c.push(i);break;}_f4b=-1;}}}}if(_f4c&&lang.isArray(_f4c)&&_f4c.length>0){_f41.forEach(_f4c,function(_f4e){temp=temp.substr(0,_f4e)+"'"+temp.substr(_f4e+1);});}if(typeof console!=="undefined"){}if(this.hasValidApostropheQuoteCount(temp)===false){throw new Error(this.resources.InvalidApostropheCount);}return "("+temp+")";}else{var _f4f=temp.split(",");_f41.forEach(_f4f,function(_f50,idx){_f4f[idx]=_f50.trim();});var _f51=this.fixQuotes(_f4f);if(_f51){if(typeof console!=="undefined"){}if(this.hasValidApostropheQuoteCount(_f51)===false){throw new Error(this.resources.InvalidApostropheCount);}return "("+_f51+")";}if(typeof console!=="undefined"){}return _f48;}}else{if(temp.charAt(0)!="("){if(typeof console!=="undefined"){}return "("+temp+")";}if(typeof console!=="undefined"){}return temp;}}else{if(_f47&&lang.isString(_f47)){temp=_f47.replace(/\r\n/g,"").replace(/\n/g,"").replace(/\r/g,"");if(temp.length>0){if(typeof console!=="undefined"){}return "('"+temp+"')";}if(typeof console!=="undefined"){}return _f48;}}if(typeof console!=="undefined"){}return _f47;},hasBadOuterQuotes:function(_f52){if(_f52&&lang.isString(_f52)&&_f52.length>0){if(this._badQuotesReg.test(_f52)){var ch=_f52.charAt(0);if(this._badQuotesReg.test(ch)){return true;}ch=_f52.charAt(_f52.length-1);if(this._badQuotesReg.test(ch)){return true;}}}return false;},hasValidApostropheQuoteCount:function(_f53){if(_f53&&lang.isString(_f53)&&_f53.length>0){if(this._normalQuotesReg.test(_f53)){var _f54=_f53.match(/'/g);if(_f54&&lang.isArray(_f54)&&_f54.length>0){return (_f54.length%2)===0;}}}return true;},removeBadOuterQuotes:function(_f55){if(this.hasBadOuterQuotes(_f55)){var temp=_f55;var ch=temp.charAt(0);if(this._badQuotesReg.test(ch)){temp=temp.substr(1,temp.length-1);}if(temp===""){return "";}ch=temp.charAt(temp.length-1);if(this._badQuotesReg.test(ch)){temp=temp.substr(0,temp.length-1);}return temp;}return _f55;},replaceQuotesAroundValues:function(_f56){if(_f56&&lang.isString(_f56)&&_f56.length>0){var temp=_f56;_f41.forEach([/`(.*?)´/g,/‘(.*?)’/g,/\u2018(.*?)\u2019/g],function(reg){var _f57=temp.match(reg);_f41.forEach(_f57,function(_f58){if(_f58.length==2){temp=temp.replace(_f58,"''");}else{var _f59=_f58.substr(1,_f58.length-1);_f59=_f59.substr(0,_f59.length-1);temp=temp.replace(_f58,"'"+_f59+"'");}});return temp;});}return _f56;},translateQuoteType:function(ch){if(ch&&lang.isString(ch)&&ch.length==1&&this._allQuotesReg.test(ch)){switch(ch){case "'":return this.quoteType.apostrophe;case "`":case "´":return this.quoteType.accent;case "‘":case "’":return this.quoteType.curly;case "‘":case "’":return this.quoteType.unicode;}}return -1;}});return _f43;});},"Sage/Utility/nls/Sql":function(){define("Sage/Utility/nls/Sql",["Sage/LanguageList","dojo/_base/lang"],function(_f5a,lang){var nls={root:{InvalidApostropheCount:"The number of apostrophes in the SQL IN clause is invalid."}};return lang.mixin(_f5a,nls);});},"Sage/UI/Columns/DataType":function(){define("Sage/UI/Columns/DataType",["dojox/grid/cells/_base","dojo/string","dojo/_base/declare","Sage/Utility/Filters"],function(_f5b,_f5c,_f5d,_f5e){var _f5f=_f5d("Sage.UI.Columns.DataType",_f5b,{constructor:function(){this.inherited(arguments);},formatter:function(val,_f60){var t=_f5e.resolveDataTypeQB(val),_f61="string";switch(t){case "Integer":_f61="int";break;case "Decimal":_f61="float";break;case "Date/Time":_f61="date";break;case "Memo/Blob":_f61="blob";break;default:_f61="string";break;}return _f5c.substitute("<img src=\"images/ft_${0}.gif\" class=\"dataTypeColumnDimensions\" />",[_f61]);}});return _f5f;});},"Sage/QuickForms/Design/Editors/DateTimePickerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DateTimePickerAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DateTimePickerAdvancedPropertyEditor"],function(_f62,lang,_f63,_f64,_f65,_f66,_f67,_f68,_f69,_f6a,_f6b){return _f62("Sage.QuickForms.Design.Editors.DateTimePickerAdvancedPropertyEditor",[_f63,_f69,_f68],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.buttonToolTipTooltipText %}\">","<label>{%= $.buttonToolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_buttonToolTip\" data-dojo-attach-event=\"onChange:_onButtonToolTipChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.displayModeTooltipText %}\">","<label>{%= $.displayModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_displayMode\" data-dojo-attach-event=\"onChange:_onDisplayModeChange\">","{% for (var mode in $.displayModeTypeText) { %}","<span value=\"{%= mode %}\">{%= $.displayModeTypeText[mode] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.timelessTooltipText %}\">","<label>{%= $.timelessText %}</label>","<div data-dojo-attach-point=\"_timeless\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onTimelessChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_buttonToolTip:null,_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_displayMode:null,_required:null,_timeless:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",buttonToolTipText:"Button Tooltip:",buttonToolTipTooltipText:"The tooltip  to display when the user's mouse hovers over the button part of the control.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",timelessText:"Timeless:",timelessTooltipText:"Use date without time and no DST conversion.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},displayModeTypeText:{"AsControl":"As Control","AsText":"As Text","AsHyperlink":"As Hyperlink"},constructor:function(){lang.mixin(this,_f6b);},setup:function(){this.inherited(arguments);this._buttonToolTip.set("value",this._designer.get("buttonToolTip"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._required.set("value",this._designer.get("required"));this._timeless.set("value",this._designer.get("timeless"));this._visible.set("value",this._designer.get("visible"));var _f6c=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_f6c&&_f6c["DataItemName"])||"");},_onButtonToolTipChange:function(_f6d){if(this.isSuspended()){return;}this._designer.set("buttonToolTip",_f6d);},_onControlTypeChange:function(_f6e){},_onControlIdChange:function(_f6f){},_onDefaultDataBindingChange:function(_f70){},_onDisplayModeChange:function(_f71){if(this.isSuspended()){return;}this._designer.set("displayMode",_f71);},_onEnabledChange:function(_f72){if(this.isSuspended()){return;}this._designer.set("enabled",_f72);},_onControlLabelPlacementChange:function(_f73){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_f73);},_onRequiredChange:function(_f74){if(this.isSuspended()){return;}this._designer.set("required",_f74);},_onTimelessChange:function(_f75){if(this.isSuspended()){return;}this._designer.set("timeless",_f75);},_onVisibleChange:function(_f76){if(this.isSuspended()){return;}this._designer.set("visible",_f76);}});});},"url:Sage/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem\" data-dojo-attach-point=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\r\n    data-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n    <span>\r\n    <img src=\"${_blankGif}\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n    <span class=\"dijitMenuItemLabel\" data-dojo-attach-point=\"containerNode\"></span>\n    </span>\n</div>\n","url:Sage/MainView/Opportunity/templates/OpportunityStatistics.html":" [\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_dlgOpportunityStatistics\" title=\"{%= $.opportunityStatistics_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n            '<div dojoAttachPoint=\"loadingContainer\">',\r\n                '<br />',\r\n                '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingMessge %}</label>',\r\n                '<br />',\r\n                '<br />',\r\n            '</div>',\r\n            '<table cellspacing=\"20\" dojoAttachPoint=\"statisticsContentsContainer\" class=\"display-none\">',\r\n                '<tr>',\r\n                    '<td >',\r\n                        '<label>{%= $.opportunityCount %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"opportunityCount\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.salesPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotential\" dojoAttachPoint=\"salesPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotentialAverage\" dojoAttachPoint=\"salesPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.weightedPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotential\" dojoAttachPoint=\"weightedPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotentialAverage\" dojoAttachPoint=\"weightedPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageCloseProbability %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoType=\"Sage.UI.Controls.Numeric\" constraints=\"{ places: 2, maxPlaces: 2, type: \\'percent\\' }\" dojoAttachPoint=\"closeProbability_Container\" readonly=\"readonly\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.actualAmountTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmount\" dojoAttachPoint=\"actualAmountTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmountAverage\" dojoAttachPoint=\"actualAmountAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageDaysOpen %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"daysOpen_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.rangeEstClose %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"rangeEstClose_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar alignright\">',\r\n                '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" type=\"button\" dojoAttachEvent=\"onClick:_close\">{%= $.btnClose_Caption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/UI/Filters/nls/EditFilters":function(){define("Sage/UI/Filters/nls/EditFilters",["Sage/LanguageList","dojo/_base/lang"],function(_f77,lang){var nls={root:{selectAllText:"Select All",dialogTitle:"Edit Filters",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_f77,nls);});},"Sage/UI/Controls/Numeric":function(){define("Sage/UI/Controls/Numeric",["dojo/_base/html","dijit/_Widget","Sage/_Templated","Sage/UI/NumberTextBox","dojo/currency","dojo/_base/declare","dojo/_base/sniff","dojo/has"],function(html,_f78,_f79,_f7a,_f7b,_f7c,_f7d,has){dojo.mixin(dijit.form.ValidationTextBox.prototype.attributeMap,{slxchangehook:"focusNode"});var _f7e=_f7c("Sage.UI.Controls.Numeric",[_f78,_f79],{displayModes:{"AsHyperlink":0,"AsControl":1,"AsText":2},modeTemplates:{"AsHyperlink":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">ONE</div>"]),"AsControl":new Simplate(["<input  data-dojo-type=\"Sage.UI.NumberTextBox\" ","dojoAttachEvent=\"onChange:onChanged\" ","constraints=\"{ {%= $.constraintsToString() %} }\" ","formatType=\"{%= $.formatType %}\" ","ignorechange=\"true\" ","required=\"{%= $.required %}\" ","id=\"{%= $.id %}_NumberTextBox\" ","style=\"width:inherit;\" ","textAlign=\"{%= $.textAlign %}\" ","hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} ","disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} ","readonly=\"readonly\" ","{% } %}","name=\"{%= $.name %}\" type=\"text\" ","value=\"{%= $.value %}\" required=\"{%= $.required %}\" dojoAttachPoint=\"focusNode\" ","maxLength=\"{%= $.maxLength %}\">"]),"AsText":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">{%= $.formattedText() %}</div>"])},postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.domNode.parentNode&&this.domNode.parentNode.tagName=="SPAN"){this.domNode.parentNode.tabIndex=-1;}},constructor:function(_f7f){this.constraints={};this.inherited(arguments);},widgetTemplate:new Simplate(["<div style=\"width:inherit;\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","{%= $.modeTemplates[$.displayMode].apply($) %}","</div>"]),value:0,autoPostBack:false,width:15,maxLength:128,style:"",enabled:true,visible:true,readonly:"",disabled:"",hotKey:"",tabIndex:0,required:false,displayMode:"AsControl",widgetsInTemplate:true,styles:"text-align: right;",constraints:null,name:"",formattedText:function(){return this.value;},formatType:"",constraintsToString:function(){var tmp=[];var prop;for(prop in this.constraints){if(this.constraints.hasOwnProperty(prop)){var _f80=this.constraints[prop];if(typeof _f80==="string"){_f80="'"+_f80+"'";}tmp.push(prop+":"+_f80);}}var _f81=tmp.join(",");return _f81;},onChanged:function(e){if(this.autoPostBack&&!has("ie")){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}}});return _f7e;});},"Sage/UI/Controls/Address":function(){require({cache:{"url:Sage/UI/Controls/templates/Address.html":"<div class=\"address-container\" id=\"{%= $.clientId %}\" >\r\n    <!--\r\n    -- IMPORTANT: Comments in a widget template must be placed inside the root node.\r\n    Simplate template\r\n    https://github.com/mmorton/simplate\r\n    https://github.com/mmorton/simplate/blob/master/demo/index.html\r\n    Basic formatting example: {%= $.id %}\r\n    -->\r\n    <textarea id=\"{%= $.clientId %}_displayText\" class=\"address-textarea\" style=\"height:{%= $.height %};\"\r\n        data-dojo-type=\"Sage.UI.Controls.SimpleTextarea\" readonly=\"readonly\" dragRestriction=\"true\"  tabindex=\"{%= $.tabIndex %}\"\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n        data-dojo-attach-event=\"onDblClick: showDialog, ondijitclick: showDialog\"\r\n    {% } %}\r\n        slxchangehook=\"true\" >{%= $.displayValue %}</textarea>\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n    <img alt=\"{%= $.imageData.imageEditAltText %}\" data-dojo-attach-event=\"ondijitclick: showDialog\" class=\"address-edit-button\"\r\n         src=\"{%= $.imageData.imageEditUrl %}\" title=\"{%= $.imageData.imageEditToolTip %}\" id=\"{%= $.clientId %}-Button\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n    {% if ($.enabled && $.showButton) { %}\r\n    <img alt=\"{%= $.imageData.imageMapQuestAltText %}\" data-dojo-attach-event=\"ondijitclick: showMap\" class=\"address-map-button\"\r\n         src=\"{%= $.imageData.imageMapQuestUrl %}\" title=\"{%= $.imageData.imageMapQuestToolTip %}\" id=\"{%= $.clientId %}-MapQuest\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n</div>","url:Sage/UI/Controls/templates/AddressEdit.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table style=\"width:100%;height:100%;\">\r\n                {% for (var i = 0; i < $.fields.length; i++) { %}\r\n                {% if ($.fields[i].visible) { %}\r\n                    <tr>\r\n                        <td><label>{%= $.fields[i].fieldLabel %}</label></td>\r\n                        <td style=\"width: 150px;\">\r\n                            {% if ($.fields[i].xtype === 'picklistcombo') { %}\r\n                            <select data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                                dojoAttachPoint=\"_valueBox\"\r\n                                pickListName=\"{%= $.fields[i].pickList.pickListName %}\"\r\n                                storeMode=\"text\"\r\n                                style=\"width: 100%;\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'checkbox') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.CheckBox\"\r\n                                       checked=\"{%= $.fields[i].value %}\"\r\n                                       disabled=\"{%= $.fields[i].disabled %}\"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === 'textfield') { %}\r\n                                <input data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                                style=\"width: 100%;\" type=\"text\"\r\n                                value=\"{%= $.fields[i].value %}\"\r\n                           {% } %}\r\n                                id=\"{%= $.id %}-{%= $.fields[i].name %}\"\r\n                                name=\"{%= $.fields[i].formClientId %}\"\r\n                                shouldPublishMarkDirty=\"false\"\r\n                                onChange=\"dijit.byId('{%= $.id %}').editorChange();\"\r\n                                textAlign=\"{%= $.fields[i].textAlign %}\" data-dojo-attach-point=\"focusNode\"\r\n                                maxLength=\"{%= $.fields[i].maxLength %}\" />\r\n                        </td>\r\n                   </tr>\r\n                {% } %}          \r\n                {% } %}            \r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>"}});define("Sage/UI/Controls/Address",["dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/UI/Controls/TextBox","Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","dijit/Dialog","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Address","dojo/text!./templates/Address.html","dojo/text!./templates/AddressEdit.html","dojo/_base/declare","dojo/_base/array"],function(_f82,_f83,_f84,_f85,_f86,_f87,_f88,_f89,_f8a,_f8b,_f8c,_f8d,_f8e){var _f8f=_f8d("Sage.UI.Controls.Address",[_f82,_f83],{widgetTemplate:new Simplate(_f8b.split("\r")),dialogContent:new Simplate(_f8c.split("\r")),templateOverridePath:"",widgetsInTemplate:true,clientId:"",tabIndex:0,autoPostBack:false,readOnly:false,enabled:true,showButton:true,displayValue:"",displayValueClientId:"",height:"",imageData:{imageEditUrl:"",imageEditToolTip:"",imageEditAltText:"",imageMapQuestUrl:"",imageMapQuestToolTip:"",imageMapQuestAltText:""},fields:[],mapQuestValues:{},editorChange:function(){this.isDirty=true;},isDirty:false,name:"",constructor:function(_f90){dojo.mixin(this,_f90);_f90.id=_f90.clientId;this.resources=_f8a;if(_f90.templateOverridePath&&_f90.templateOverridePath.length>0){try{this.dialogContent=new Simplate(dojo["cache"]("Sage.UI.Controls",_f90.templateOverridePath).split("\r"));}catch(e){}}this.inherited(arguments);},setAttribute:function(attr,val){this.set(attr,val);},postCreate:function(){this.inherited(arguments);this.setAttribute("tabindex","-1");},showDialog:function(){this.editDialog=dijit.byId([this.id,"-Dialog"].join(""));if(!this.editDialog){this.editDialog=new _f88({title:this.resources.dialogTitle,id:[this.id,"-Dialog"].join(""),"class":"address-edit"});dojo.mixin(this.editDialog,new _f89());this.editDialog.createHelpIconByTopic("accountaddresschange");}this.htmlEncodeForEditDialog();this.editDialog.set("content",this.dialogContent.apply({id:this.id,cancelText:this.resources.cancelText,okText:this.resources.okText,fields:this.fields}));this.isDirty=false;this.editDialog.show();if(this.modality==="modeless"){dojo.destroy([this.id,"-Dialog_underlay"].join(""));}},htmlEncodeForEditDialog:function(){_f8e.forEach(this.fields,function(_f91,i){if(_f91.xtype==="textfield"&&_f91.value.indexOf("\"")>-1){_f91.value=_f84.htmlEncode(_f91.value);}});},showMap:function(){this.createFormItems();var _f92=this.getAddressValues();var map={"streetaddress":"addr1","city":"city","state":"state","zip":"postalcode","country":"country"};var _f93={};for(var key in map){if(_f92[map[key]]){_f93[key]=(typeof _f92[map[key]]==="object")?_f92[map[key]].text:_f92[map[key]];}}_f93.level=9;_f93.iconid=0;_f93.height=300;_f93.width=500;var _f94=[];for(var _f95 in _f93){_f94.push(_f95+"="+encodeURIComponent(_f93[_f95]));}var url="http://www.mapquest.com/cgi-bin/ia_free?"+_f94.join("&");var _f96="directories=no,location=no,menubar=no,pageXOffset=0px,pageYOffset=0px,scrollbars=yes,status=no,titlebar=no,toolbar=yes";window.open(url,"",_f96);},createFormItems:function(){var _f97=[];for(var i=0;i<this.fields.length;i++){if(this.fields[i].visible===false){continue;}this.mapQuestValues[this.fields[i].name]=this.fields[i];var f=$.extend(this.fields[i],this.fields[i].pickList,{id:this._clientId+"_field_"+this.fields[i].name,stateful:false,anchor:(this.fields[i].xtype!="checkbox")?"100%":false});if(f.maxLength>0){f.autoCreate={tag:"input",type:"text",maxlength:this.fields[i].maxLength};}f.tabIndex=i+1;_f97.push(f);}return _f97;},getAddressValues:function(){var _f98={};for(var name in this.mapQuestValues){var _f99=this.mapQuestValues[name];if(_f99){_f98[name]=_f99.value;}}return _f98;},getEditFields:function(){this.setDataFields();},setDataFields:function(){var _f9a,_f9b,_f9c;for(var i=0;i<this.fields.length;i++){_f9a=dijit.byId([this.id,"-",this.fields[i].name].join(""));_f9b=dojo.byId(this.fields[i].formClientId);_f9c=this.fields[i].xtype;if(_f9a){if(_f9c==="picklistcombo"){if(_f9b){_f9b.value=_f9a.get("value");}this.fields[i].value=_f9a.get("value");}if(_f9c==="checkbox"){if(_f9b){_f9b.checked=_f9a.get("checked");}this.fields[i].value=_f9a.get("checked");}if(_f9c==="textfield"){if(_f9b){_f9b.value=_f9a.get("value");}this.fields[i].value=_f9a.get("value");}}}},_okClicked:function(){var that=this;setTimeout((function(d){return function(){that._updateValues();};})(that),1);},_updateValues:function(){if(this.isDirty){this.getEditFields();var _f9d=dojo.byId(this.resultValueClientId);dijit.byId(this.clientId+"_displayText").set("value",Sage.Format.Address.formatAddress(this.fields,true));_f9d.value=Sage.Format.Address.formatAddress(this.fields,true);dojo.publish("Sage/events/markDirty");if(this.autoPostBack){__doPostBack(_f9d.name,"");}}},_cancelClicked:function(){this.editDialog.hide();}});return _f8f;});},"Sage/QuickForms/Design/Editors/nls/FormUsagesPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormUsagesPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_f9e,lang){var nls={root:{titleText:"Usage",portalText:"Portal",viewText:"View",modesText:"Modes",descriptionText:"Description"}};return lang.mixin(_f9e,nls);});},"Sage/UI/Controls/nls/DurationSelect":function(){define("Sage/UI/Controls/nls/DurationSelect",["Sage/LanguageList","dojo/_base/lang"],function(_f9f,lang){var nls={root:{minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days"}};return lang.mixin(_f9f,nls);});},"Sage/UI/Alarms/nls/AlarmCountDown":function(){define("Sage/UI/Alarms/nls/AlarmCountDown",["Sage/LanguageList","dojo/_base/lang"],function(_fa0,lang){var nls={root:{startsInText:"Starts in",overduebyText:"Overdue by",minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days",weekText:"week",weeksText:"weeks",monthText:"month",monthsText:"months",yearText:"year",yearsText:"years",startsNowText:"Starts now"}};return lang.mixin(_fa0,nls);});},"Sage/UI/Dashboard/DashboardTabController":function(){define("Sage/UI/Dashboard/DashboardTabController",["dijit/layout/ScrollingTabController","dojo/i18n","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dojo/i18n!./nls/DashboardTabController","dojo/i18n!../nls/Boolean","dojo/_base/declare"],function(_fa1,i18n,menu,_fa2,_fa3,_fa4,_fa5,_fa6){var _fa7=_fa6("dijit.layout._TabButton",dijit.layout._ScrollingTabControllerButton,{baseClass:"dijitTab",postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this,i18n.getLocalization("Sage.UI","Boolean"));},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.containerNode,false);},_setCloseButtonAttr:function(disp){var _fa8=i18n.getLocalization("dijit","common");if(disp){if(this.closeNode){dojo.attr(this.closeNode,"title",_fa8.itemClose);}this._closeMenu=new menu({id:this.id+"_Menu",dir:this.dir,targetNodeIds:[this.domNode]});this._closeMenu.addChild(new _fa2({label:this.newTabText,dir:this.dir,id:this._closeMenu.id+"_New",onClick:function(){var db=dijit.byId("Dashboard");db._createPage(true,db.newTabText);}}));this._closeMenu.addChild(new _fa2({label:this.addContentText,dir:this.dir,id:this._closeMenu.id+"_AddContent",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._newWidgetMenu();})}));this._closeMenu.addChild(new _fa2({label:this.editOptionsText,dir:this.dir,id:this._closeMenu.id+"_Edit",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._editOptionsMenu();})}));this._closeMenu.addChild(new _fa2({label:this.shareTabText,dir:this.dir,id:this._closeMenu.id+"_Share",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._releaseManager.page=d;d._releaseManager.share();})}));this._closeMenu.addChild(new _fa2({label:this.hideTabText,dir:this.dir,id:this._closeMenu.id+"_Hide",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var db=dijit.byId("Dashboard");db._hidePage(d);})}));this._closeMenu.addChild(new _fa2({label:this.copyTabText,dir:this.dir,id:this._closeMenu.id+"_Copy",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var db=dijit.byId("Dashboard");db._copyPage(d);})}));this._closeMenu.addChild(new _fa2({label:this.showTabText,dir:this.dir,id:this._closeMenu.id+"_Show",onClick:dojo.hitch(this,function(){var d=dijit.byId("Dashboard");d._showTabMenu();})}));var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);if(d.permission){this._closeMenu.addChild(new _fa2({label:this.deleteTabText,dir:this.dir,id:this._closeMenu.id+"_Delete",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var fn=function(ans){if(ans){if(d.permission){dojo.publish("/ui/dashboard/pageDelete",[d]);}else{var opts={title:d.resources.errorText,query:d.resources.permissionErrorText,yesText:d.resources.okButton,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);}}};var opts={title:this.deleteTabText,query:this.deleteTabConfirmText,callbackFn:fn,yesText:this.yesText,noText:this.noText,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);})}));}this._closeMenu.addChild(new _fa3());this._closeMenu.addChild(new _fa2({label:this.helpText,dir:this.dir,id:this._closeMenu.id+"_Help",onClick:dojo.hitch(this,function(){Sage.Utility.openHelp("Working_with_the_Dashboard","MCWebHelp");})}));}else{if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}}},_setLabelAttr:function(_fa9){this.inherited(arguments);if(this.showLabel===false&&!this.params.title){this.iconNode.alt=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},destroy:function(){if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}this.inherited(arguments);}});var _faa=_fa6("Sage.UI.Dashboard.DashboardTabController",_fa1,{tabPosition:"top",buttonWidget:"dijit.layout._TabButton",addChild:function(){this.inherited(arguments);if(!this.perfomedHeightResizing){this.perfomedHeightResizing=true;dojo.style(this.containerNode,"height","37px");dojo.style(this.containerNode,"top","4px");}},_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _fab=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_fab=Math.max(_fab,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_fab+"px";}}});return _faa;});},"Sage/Utility/Validate":function(){define("Sage/Utility/Validate",[],function(){Sage.namespace("Utility.Validate");dojo.mixin(Sage.Utility.Validate,{findNestedWidgets:function(_fac){return dojo.query("[widgetid]",_fac).map(dijit.byNode).filter(function(wid){return wid;});},shouldSubmit:function(){if(!this._isValid){this._isValid=true;return false;}return true;},_isValid:true,_getWorkspaceNode:function(_fad){var node;switch(_fad){case "Sage.Platform.WebPortal.Workspaces.DialogWorkspace":node="DialogWorkspace_window";break;default:node="mainform";}return node;},onWorkSpaceSave:function(_fae){var node=this._getWorkspaceNode(_fae);this._isValid=this.runValidation(node);},runValidation:function(node){var _faf=this.findNestedWidgets(dojo.byId(node)),_fb0=false;dojo.forEach(_faf,function(_fb1){if(_fb1.validate){_fb1._hasBeenBlurred=true;var _fb2=_fb1.disabled||!_fb1.validate||_fb1.validate();if(!_fb2&&!_fb0){dojo.window.scrollIntoView(_fb1.containerNode||_fb1.domNode);_fb1.focus();_fb0=true;}}},this);if(_fb0){return false;}return true;}});});},"Sage/UI/Controls/CurrencyTextBox":function(){define("Sage/UI/Controls/CurrencyTextBox",["dijit/form/CurrencyTextBox","dojo/currency","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_fb3,_fb4,_fb5,_fb6,lang){var _fb7=_fb6("Sage.UI.Controls.CurrencyTextBox",[_fb3],{shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",attributeMap:{hotKey:{node:"textbox",type:"attribute",attribute:"accessKey"}},onBlur:function(){var _fb8=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator;this.textbox.value=_fb5.maximizeDecimalDigit(this.textbox.value,this.constraints.places,_fb8);},_sageUICurrencyTextBox_IsValid:function(){if(this.constraints.places>-1){var _fb9=_fb5.restrictDecimalDigit(this.textbox.value,this.constraints.places);this.textbox.value=lang.trim(_fb9.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol,""));this.textbox.value=lang.trim(_fb9.replace(this.constraints.currency,""));}this.inherited(arguments);},postCreate:function(){this.connect(this,"isValid",this._sageUICurrencyTextBox_IsValid);this.connect(this,"onChange",this.onChanged);this.connect(this,"onBlur",this.onBlur);this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}},setAttribute:function(attr,val){this.set(attr,val);}});return _fb7;});},"Sage/Groups/BaseGroupContextService":function(){define("Sage/Groups/BaseGroupContextService",["Sage/Utility","dojo/string","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/_base/lang","dojo/_base/declare","dojo/_base/array"],function(_fba,_fbb,_fbc,_fbd,lang,_fbe,_fbf){var _fc0=_fbe("Sage.Groups.BaseGroupContextService",null,{_adHocGroupList:null,_connects:null,_subscribes:null,_emptyContext:null,_currentRequestHandle:null,_isAdHocGroupListRetrieved:false,constructor:function(){this._connects=[];this._subscribes=[];this._adHocGroupList=[];this._emptyContext={DefaultGroupID:null,CurrentGroupID:null,CurrentTable:null,CurrentName:null,CurrentEntity:null,CurrentFamily:null};_fbd(lang.hitch(this,function(){if(!this.isContextRequired()){var _fc1=_fba.getValue(window,"Sage.Groups._groupContext"),_fc2=_fba.getValue(window,"Sage.UI.DataStore.Filters");if(_fc2){if(_fc1["AppliedFilterInfo"]){_fc2["default"]=this.createFilterExtendedSet(_fc1["AppliedFilterInfo"]);}}}if(this.isContextRequired()){this.requestContext();}}));},createFilterExtendedSet:function(_fc3){var _fc4=_fc3["definitionSet"]||[],_fc5=_fc3["applied"]||[],_fc6={},_fc7={},_fc8,_fc9,i,j,_fca;for(i=0;i<_fc4.length;i++){_fc8=_fc4[i];_fc9={"$key":_fc8["id"],"$partial":true,"filterName":_fc8["filterName"],"displayName":_fc8["displayName"],"propertyName":_fc8["propertyName"],"propertyDataTypeId":_fc8["propertyDataTypeId"],"details":{}};if(_fc8["filterType"]=="rangeFilter"){_fc9["details"]["rangeFilter"]={"characters":_fc8["characters"]};}else{_fc9["details"]["distinctFilter"]={};}_fc6[_fc8["id"]]=_fc9;}for(i=0;i<_fc5.length;i++){_fc8=_fc5[i];_fc9={};for(j=0;j<_fc8["rangeValues"].length;j++){_fca=_fc8["rangeValues"][j];_fc9[_fca["rangeName"]]=lang.mixin({},_fca);}for(j=0;j<_fc8["distinctValues"].length;j++){_fca=_fc8["distinctValues"][j];if(typeof _fca==="string"){_fc9[_fca]=_fca;}}_fc7[_fc8["id"]]=_fc9;}return {"definitionSet":_fc6,"applied":_fc7};},destroy:function(){_fbf.forEach(this._connects,function(_fcb){dojo.disconnect(_fcb);});this.unsubscribeConnects();this.uninitialize();},unsubscribeConnects:function(){_fbf.forEach(this._subscribes,function(_fcc){dojo.unsubscribe(_fcc);});},uninitialize:function(){},isContextRequired:function(){var _fcd=!(Sage&&Sage.Groups&&Sage.Groups._groupContext);return _fcd;},createCompatibleContext:function(_fce){if(_fce["currentGroupId"]=="LOOKUPRESULTS"){_fce["currentName"]="Lookup Results";}var _fcf={"AppliedFilterInfo":_fce["appliedFilterInfo"],"ContainsPositionState":_fce["containsPositionState"],"CurrentDisplayName":_fce["currentDisplayName"],"CurrentEntity":_fce["currentEntity"],"CurrentEntityID":_fce["currentEntityId"],"CurrentEntityPosition":_fce["currentEntityPosition"],"CurrentFamily":_fce["currentFamily"],"CurrentGroupCount":_fce["currentGroupCount"],"CurrentGroupID":_fce["currentGroupId"],"CurrentName":_fce["currentName"],"CurrentTable":_fce["currentTable"],"CurrentTableKeyField":_fce["currentTableKeyField"],"DefaultGroupID":_fce["defaultGroupId"],"FirstEntityID":_fce["firstEntityId"],"LastEntityID":_fce["lastEntityId"],"LookupLayoutGroupName":_fce["lookupLayoutGroupName"],"NextEntityID":_fce["nextEntityId"],"PreviousEntityID":_fce["previousEntityId"],"RetrievedOn":_fce["retrievedOn"],"isAdhoc":_fce["isAdHoc"]};if(!_fce["appliedFilterInfo"]){delete _fcf.AppliedFilterInfo;}return _fcf;},_onDefaultFilterRefresh:function(_fd0,_fd1,_fd2){},getContext:function(){},setContext:function(_fd3){var _fd4=Sage&&Sage.Groups;if(_fd4&&_fd3){lang.mixin(_fd4._groupContext,_fd3);this.onContextSet(_fd4._groupContext);}},setCurrentGroup:function(_fd5,_fd6){},_onSetContextRequestSuccess:function(_fd7){var _fd8=_fd7&&_fd7["response"],_fd9=_fd8&&this.createCompatibleContext(_fd8);if(_fd9){this.setContext(_fd9);}this.onCurrentGroupChanged({current:_fd9});},_onSetContextRequestFailure:function(_fda,o){},onSuccessfulGroupChanged:function(data){var _fdb=this.getContext();this.setContext(data);this.onCurrentGroupChanged({current:data,previous:_fdb});},onCurrentGroupChanged:function(_fdc){},publishFiltersApplied:function(){var _fdd=this.getContext();if(_fdd.AppliedFilterInfo){_fbd(lang.hitch(this,function(){var _fde=this.createFilterExtendedSet(_fdd.AppliedFilterInfo),_fdf=_fba.getValue(window,"Sage.UI.DataStore.Filters");_fdf["default"]=_fde;dojo.publish("/ui/filters/default/apply",[_fde["applied"],_fde["definitionSet"],this]);}));}},applyFilters:function(_fe0){var _fe1=this.getContext();if(_fe1.AppliedFilterInfo){var _fe2=this.createFilterExtendedSet(_fe1.AppliedFilterInfo),_fe3=_fba.getValue(window,"Sage.UI.DataStore.Filters");_fe3["default"]=_fe2;if(_fe0){_fe0._onApply(_fe2["applied"],_fe2["definitionSet"],this);}}},onContextSet:function(_fe4){}});return _fc0;});},"Sage/QuickForms/Design/Editors/OwnerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/OwnerAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/OwnerAdvancedPropertyEditor"],function(_fe5,lang,_fe6,_fe7,_fe8,_fe9,_fea,_feb,_fec,_fed,_fee){return _fe5("Sage.QuickForms.Design.Editors.OwnerAdvancedPropertyEditor",[_fe6,_fec,_feb],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_fee);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _fef=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_fef&&_fef["DataItemName"])||"");},_onControlTypeChange:function(_ff0){},_onControlIdChange:function(_ff1){},_onDefaultDataBindingChange:function(_ff2){},_onEnabledChange:function(_ff3){if(this.isSuspended()){return;}this._designer.set("enabled",_ff3);},_onControlLabelPlacementChange:function(_ff4){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_ff4);},_onRequiredChange:function(_ff5){if(this.isSuspended()){return;}this._designer.set("required",_ff5);},_onVisibleChange:function(_ff6){if(this.isSuspended()){return;}this._designer.set("visible",_ff6);}});});},"Sage/UI/PopupMenuBarItem":function(){define("Sage/UI/PopupMenuBarItem",["Sage/UI/MenuBarItem","Sage/UI/PopupMenuItem","dojo/_base/declare"],function(_ff7,_ff8,_ff9){return _ff9("Sage.UI.PopupMenuBarItem",[_ff8,_ff7],{});});},"Sage/UI/NotesHistoryList":function(){define("Sage/UI/NotesHistoryList",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","Sage/Utility/Activity","Sage/Utility/Email","Sage/Utility","Sage/UI/SLXPreviewGrid","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/UI/SLXPreviewGrid/Filter/Text","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/data/ItemFileReadStore","dijit/form/FilteringSelect","dijit/form/CheckBox","Sage/UI/Dialogs","dojo/string","dojo/date/locale","dojo/i18n!./nls/NotesHistoryList","dojo/_base/declare"],function(_ffa,_ffb,_ffc,_ffd,_ffe,_fff,_1000,_1001,_1002,_1003,_1004,_1005,_1006,_1007,_1008,_1009,_100a,_100b,_100c){var _100d=_100c("Sage.UI.HistoryTypeFilterWidget",[_ffa,_ffb,_ffc,_1004],{templateString:["<div>","<div dojoAttachPoint=\"selectContainer\"></div>","<div class=\"chkShowDBChanges\">","<input id=\"chkShowDbChanges\" type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkShowDbChanges\" />","<label for=\"chkShowDbChanges\">",_100b.showDbChangesText,"</label>","</div>","</div>"].join(""),buildRendering:function(){this.inherited(arguments);var _100e=[];dojo.forEach(["atAppointment","atPhoneCall","atToDo","atNote","atPersonal","atInternal","atSchedule","atEMail","atDoc","atFax","atLiterature","atDatabaseChange"],function(item){_100e.push({name:_ffd.getActivityTypeName(item),id:_ffd.getActivityTypeEnumValue(item)});});var store=new _1005({data:{items:_100e,label:"name",identifier:"id"}});this._select=new _1006({store:store,required:false},this.selectContainer);},getQuery:function(){var _100f=this.chkShowDbChanges.get("checked");var type=this._select.get("value");if(type){var c="(Type eq \""+type+"\"";if(_100f){c+=" or Type eq \""+_ffd.getActivityTypeEnumValue("atDatabaseChange")+"\"";}c+=")";return c;}else{if(!_100f){return "Type ne \""+_ffd.getActivityTypeEnumValue("atDatabaseChange")+"\"";}}return "";},reset:function(){this._select.set("value","");this.chkShowDbChanges.set("checked",false);},getState:function(){return {"value":this._select.get("value"),"showDBChanges":this.chkShowDbChanges.get("checked")};},applyState:function(state){if(state){this._select.set("value",state["value"]||"");this.chkShowDbChanges.set("checked",state["showDBChanges"]);}}});var _1010=_100c(Sage.UI.SLXPreviewGrid.Filter.DateRange,{getQuery:function(){var _1011=function(value,_1012){if(!value){return "";}if(value.constructor!==Date){value=Date.parse(value);}if(_1012){value.setUTCDate(value.getUTCDate()+1);}return _fff.Convert.toIsoStringFromDate(value);};var _1013=function(value,_1014){if(!value){return "";}if(value.constructor!==Date){value=Date.parse(value);}var pad=function(n){return n<10?"0"+n:n;};return [value.getFullYear(),"-",pad(value.getMonth()+1),"-",pad(value.getDate()),(_1014)?"T23:59:59Z":"T00:00:00Z"].join("");};var dFrom=this.dteFrom.get("value");var dTo=this.dteTo.get("value");var fmt;var qry="";if(!dFrom&&!dTo){return "";}if(dTo&&dFrom){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and (CompletedDate ge '${0}' and CompletedDate lt '${1}'))) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and (CompletedDate ge '${2}' and CompletedDate lt '${3}')))"].join("");qry=_1009.substitute(fmt,[_1013(dFrom),_1013(dTo,true),_1011(dFrom),_1011(dTo,true)]);}else{if(dFrom&&!dTo){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and CompletedDate ge '${0}')) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and CompletedDate ge '${1}'))"].join("");qry=_1009.substitute(fmt,[_1013(dFrom),_1011(dFrom)]);}else{if(dTo&&!dFrom){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and CompletedDate lt '${0}')) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and CompletedDate lt '${1}'))"].join("");qry=_1009.substitute(fmt,[_1013(dTo,true),_1011(dTo,true)]);}}}return qry;}});var _1015=_100c("Sage.UI.NotesHistoryList",[_ffa],{placeholder:"",parentRelationshipName:"",workspace:"",tabId:"",connections:[],constructor:function(){this.connections=[];},startup:function(){var _1016=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_1017,cel){var _1018=[cel.grid.id,"-row",_1017].join("");var id=(_fff.getModeId()==="insert")?_1018:value;var _1019=["<div id=",id," >",id,"</ div>"].join("");return _1019;}},{field:"Type",name:_100b.typeText,type:_ffd.historyTypeCell,width:"90px",filterConfig:{widgetType:_100d}},{field:"CompletedDate",name:_100b.dateTimeText,type:_1001,useFiveSecondRuleToDetermineTimeless:true,width:"100px",filterConfig:{widgetType:_1010,label:_100b.dateRangeText}},{field:"UserName",name:_100b.userText,width:"90px",filterConfig:{widgetType:_1003}}];this._addEntitySpecificColumns(_1016);_1016.push({field:"Description",name:_100b.regardingText,width:"200px",filterConfig:{widgetType:_1003}});_1016.push({field:"Result",name:_100b.resultText,width:"90px"});_1016.push({field:"Category",name:_100b.categoryText,width:"90px"});var _101a=[{id:"SendEmail",imageClass:"icon_Send_Write_email_16x16",tooltip:_100b.sendEmailText,handler:this.onSendEmailClick,scope:this},{id:"SendWord",imageClass:"icon_Document_Type_16x16",tooltip:_100b.sendToWordText,handler:this.onSendToWordClick,scope:this},{id:"NewNote",imageClass:"icon_New_Note_16x16",tooltip:_100b.addNoteText,handler:Sage.Link.newNote,scope:Sage.Link},{id:"CompleteActivity",imageClass:"icon_complete_activity_16x16",tooltip:_100b.completeAnActivityText,handler:Sage.Link.scheduleCompleteActivity,scope:Sage.Link},{id:"Help",imageClass:"icon_Help_16x16",handler:function(){_fff.openHelp("noteshistory");},tooltip:_100b.helpText}];var _101b=this.parentRelationshipName;var _101c={tools:_101a,columns:_1016,previewField:"LongNotes",storeOptions:{select:["Type","CompletedDate","UserName","AccountName","ContactName","ContactId","OpportunityName","OpportunityId","Description","LongNotes","Timeless","Result"],resourceKind:"history",sort:[{attribute:"CompletedDate"}]},slxContext:{workspace:this.workspace,tabId:this.tabId},contextualCondition:function(){var fmt="${0} eq '${1}'";if(_101b==="ContactId"||_101b==="LeadId"){fmt="((HistoryAttendees.EntityId eq  '${1}') or (${0} eq  '${1}' and  HistoryAttendees.IsPrimary eq true) or (${0} eq  '${1}' and  HistoryAttendees.EntityId eq null))";}return _1009.substitute(fmt,[_101b,_fff.getCurrentEntityId()]);},dblClickAction:Sage.Link.editHistory};this.onBeforeCreateGrid(_101c);var grid=new Sage.UI.SLXPreviewGrid.Grid(_101c,this.placeHolder);grid.startup();var _101d=dijit.byId("tabContent");_101d.resize();_101d.resize();this.connections.push(dojo.subscribe("/entity/history/create",this,this.onHistoryChanges));this.connections.push(dojo.subscribe("/entity/history/change",this,this.onHistoryChanges));this.connections.push(dojo.subscribe("/entity/history/delete",this,this.onHistoryChanges));dojo.connect(grid,"destroy",this,this.destroy);this._grid=grid;},onHistoryChanges:function(_101e){this._grid.refresh();},destroy:function(){for(var i=0;i<this.connections.length;i++){dojo.unsubscribe(this.connections.pop());}this.inherited(arguments);},_addEntitySpecificColumns:function(list){var _101f=Sage.Services.getService("ClientEntityContext").getContext().EntityType;switch(_101f){case "Sage.Entity.Interfaces.IAccount":case "Sage.Entity.Interfaces.IOpportunity":list.push({field:"ContactName",name:_100b.contactText,width:"100px",type:_1002,idField:"ContactId",pageName:"Contact"});break;case "Sage.Entity.Interfaces.IContact":list.push({field:"OpportunityName",name:_100b.opportunityText,width:"100px",type:_1002,idField:"OpportunityId",pageName:"Opportunity"});break;}},onSendEmailClick:function(){var notes=this._grid.getSelectedRecords(["Description","LongNotes","AccountName","ContactName","CompletedDate","UserName"]);if(notes.length===0){_1008.showWarning(_100b.pleaseSelectRecordsText);return;}var body=dojo.map(notes,function(n){var txt=_100b.accountText+": "+n.AccountName+"\n";if(n.ContactName){txt+=_100b.contactText+": "+n.ContactName+"\n";}var _1020=_fff.Convert.toDateFromString(n.CompletedDate);txt+=_100b.dateText+": ";txt+=_100a.format(_1020)+"\n";txt+=_100b.userText+": "+n.UserName+"\n";txt+=_100b.regardingText+": "+n.Description+"\n\n";txt+=_100b.notesText+":\n"+n.LongNotes;return txt;}).join("\n\n---------------------------------------------\n\n");var _1021=dojo.map(notes,function(n){return n.Description;}).join("; ");_ffe.writeEmail("",_1021,body);},onSendToWordClick:function(){var _1022=function(){if(Sage.gears){try{var cf=Sage.gears.factory.create("com.factory");return cf.newActiveXObject("Word.Application");}catch(e){}}if(typeof ActiveXObject!="undefined"){try{return new ActiveXObject("Word.Application");}catch(e){}}return null;};var notes=this._grid.getSelectedRecords(["Description","LongNotes","AccountName","ContactName","CompletedDate","UserName","Type"]);if(notes.length===0){_1008.showWarning(_100b.pleaseSelectRecordsText);return;}var _1023=_1022();if(!_1023){_1008.showWarning(_100b.UnableToFindWordMsg);return;}var _1024=9;var _1025=0;var doc=_1023.Documents.Add();_1023.PrintPreview=true;_1023.Visible=true;_1023.ActiveWindow.ActivePane.View.SeekView=_1024;_1023.Selection.TypeText(_100b.accountText+": "+notes[0].AccountName+"            "+_100b.printedOnText+": "+_100a.format(new Date(),{selector:"date",fullYear:true}));_1023.ActiveWindow.ActivePane.View.SeekView=_1025;dojo.forEach(notes,function(note){_1023.Selection.TypeText("___________________________________________________________");_1023.Selection.TypeParagraph();_1023.Selection.TypeParagraph();if(note.ContactName){_1023.Selection.TypeText(_100b.contactText+":        ");_1023.Selection.TypeText(note.ContactName);_1023.Selection.TypeParagraph();}if(note.CompletedDate){var _1026=_fff.Convert.toDateFromString(note.CompletedDate);_1023.Selection.TypeText(_100b.dateText+":        ");_1023.Selection.TypeText(_100a.format(_1026));_1023.Selection.TypeParagraph();}if(note.UserName){_1023.Selection.TypeText(_100b.userText+":        ");_1023.Selection.TypeText(note.UserName);_1023.Selection.TypeParagraph();}_1023.Selection.TypeText(_100b.typeText+":        ");_1023.Selection.TypeText(_ffd.getActivityTypeName(note.Type));_1023.Selection.TypeParagraph();if(note.Description){_1023.Selection.TypeText(_100b.regardingText+":        ");_1023.Selection.TypeText(note.Description);_1023.Selection.TypeParagraph();}if(note.LongNotes){_1023.Selection.TypeText(_100b.notesText+":        ");_1023.Selection.TypeText(note.LongNotes);_1023.Selection.TypeParagraph();}});_1023.Selection.TypeText("___________________________________________________________");_1023.Selection.TypeParagraph();_1023.Visible=true;},onBeforeCreateGrid:function(_1027){}});return _1015;});},"Sage/UI/nls/AttachmentList":function(){define("Sage/UI/nls/AttachmentList",["Sage/LanguageList","dojo/_base/lang"],function(_1028,lang){var nls={root:{attachmentText:"Attachment",userText:"User",modDateText:"Modify Date/Time",dateRangeText:"Modify Date Range",sizeText:"Size",extensionText:"File Extension",addFileText:"Add File",addUrlText:"Add URL",editText:"Edit",helpText:"Help",addGoogleText:"Add Google Document",deleteText:"Delete",request:"Request File",delivered:"Delivered",requested:"Requested",available:"Available"}};return lang.mixin(_1028,nls);});},"Sage/QuickForms/Design/Editors/nls/RowBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/RowBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1029,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero."}};return lang.mixin(_1029,nls);});},"Sage/MainView/JobMgr/nls/RunJobDialog":function(){define("Sage/MainView/JobMgr/nls/RunJobDialog",["Sage/LanguageList","dojo/_base/lang"],function(_102a,lang){var nls={root:{dlgRunJob_Title:"Run/Schedule Job",txtJobName_Caption:"Job Name",txtTriggerDescription_Caption:"Description",cmbScheduleType_Caption:"Schedule",cmdOK_Caption:"OK",cmdCancel_Caption:"Cancel",txtInvalidNumber:"Invalid number.",contentPaneParameters_Caption:"Parameters",txtRunNow:"Run Now",txtScheduledExecution:"Scheduled Execution",colName_Caption:"Name",colValue_Caption:"Value",colDescription_Caption:"Description",txtInvalidParameterTitle:"Invalid Parameter",txtInvalidParameterMessage:"Invalid Parameter: ${0}"}};return lang.mixin(_102a,nls);});},"Sage/MainView/ReportMgr/Crystal/DateParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/DateParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divDate\" style=\"padding-top: 5px;\">\r\n            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDate\" displayDate=\"true\" displayTime=\"false\" label=\"From:\" required=\"true\" style=\"width:250px\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/DateParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/DateParameterEditor","dojo/text!./templates/DateParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/Utility"],function(_102b,_102c,_102d,_102e,_102f,_1030,_1031,_1032){var _1033=_1032.makeTemplateFromString(_102e);var _1034=_102b("Sage.MainView.ReportMgr.Crystal.DateParameterEditor",[_102f],{_nlsResources:_102d,widgetTemplate:_1033,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){this._promptParameter.currentValues=[];var value=this._getParameterValue();this._promptParameter.currentValues.push(value);return this._promptParameter;},constructor:function(_1035){this._initialValues=[];},startup:function(){this.inherited(arguments);_1030.setDomNodeVisible(this.divValidationMessage,false);var self=this;_102c.forEach(this._promptParameter.initialValues,function(_1036,i){var _1037=_1032.Convert.toDateFromString(self._getDateOnlyIsoString(_1036.discreteValue.actualValue));self._initialValues.push(_1037);});if(this._initialValues&&this._initialValues.length>0){this.dtDate.set("value",this._initialValues[0]);}if(this._promptParameter.currentValues.length===1){if(this._promptParameter.currentValues[0].discreteValue){var _1038=this._promptParameter.currentValues[0];var _1039=_1038.discreteValue.actualValue;_1039=_1039?_1032.Convert.toDateFromString(_1039):null;this.dtDate.set("value",_1039);}}this._initializeMessages();},isValid:function(){var _103a=this._requiredFieldsCompleted();if(_103a===""){_103a=this._valuesWithinMinMaxRange();}this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(_103a);_1030.setDomNodeVisible(this.divValidationMessage,(_103a!==""));return (_103a==="");},_initializeMessages:function(){var _103b=null;if(this._minimum&&!this._maximum){_103b=dojo.replace(_102d.txtPleaseSpecifyDateLesser,[_1031.getDateOnlyFormattedDate(this._minimum)]);}if(!this._minimum&&this._maximum){_103b=dojo.replace(_102d.txtPleaseSpecifyDateGreater,[_1031.getDateOnlyFormattedDate(this._maximum)]);}if(this._minimum&&this._maximum){_103b=dojo.replace(_102d.txtPleaseSpecifyDateBetween,[_1031.getDateOnlyFormattedDate(this._minimum),_1031.getDateOnlyFormattedDate(this._maximum)]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_103b);_1030.setDomNodeVisible(this.divMinMaxMessage,(_103b!==""));},_requiredFieldsCompleted:function(){if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.dtDate.focusNode.value===""){var _103c=_102d.txtPleaseSpecifyValue;return _103c;}}else{return "";}return "";},_valuesWithinMinMaxRange:function(){var _103d=this.dtDate.get("value");var _103e=null;if(this._minimum&&(_103d<this._minimum)){_103e=dojo.replace(_102d.txtPleaseSpecifyDateGreater,[_1031.getDateOnlyFormattedDate(this._minimum)]);return _103e;}if(this._maximum&&(_103d>this._maximum)){_103e=dojo.replace(_102d.txtPleaseSpecifyDateLesser,[_1031.getDateOnlyFormattedDate(this._maximum)]);return _103e;}return "";},_getParameterValue:function(){var _103f=this.dtDate.get("value");var _1040={className:"CrystalReports.ParameterFieldDiscreteValue",description:null,discreteValue:{actualValue:_1032.Convert.toIsoStringFromDate(_103f),actualValueType:"DateTime",value:_1032.Convert.toIsoStringFromDate(_103f),valueType:"DateTime"}};return _1040;}});return _1034;});},"Sage/Store/SData":function(){define("Sage/Store/SData",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/store/util/QueryResults","dojo/string","dojo/json","../Utility"],function(_1041,lang,array,_1042,_1043,_1044,json,_1045){return _1041("Sage.Store.SData",null,{doDateConversion:false,where:null,select:null,include:null,orderBy:null,service:null,request:null,queryName:null,entityName:null,contractName:null,resourceKind:null,resourceProperty:null,resourcePredicate:null,executeQueryAs:null,executeGetAs:null,itemsProperty:"$resources",idProperty:"$key",labelProperty:"$descriptor",entityProperty:"$name",versionProperty:"$etag",constructor:function(props){lang.mixin(this,props);},_createEntryRequest:function(id,_1046){var _1047=_1045.expand(this,_1046.request||this.request);if(_1047){_1047=_1047.clone();}else{var _1048=_1045.expand(this,_1046.contractName||this.contractName),_1049=_1045.expand(this,_1046.resourceKind||this.resourceKind),_104a=_1045.expand(this,_1046.resourceProperty||this.resourceProperty),_104b=id?/(\s+)/.test(id)?id:_1044.substitute("'${0}'",[id]):_1045.expand(this,_1046.resourcePredicate||this.resourcePredicate);if(_104a){_1047=new Sage.SData.Client.SDataResourcePropertyRequest(this.service).setResourceProperty(_104a).setResourceSelector(_104b);}else{_1047=new Sage.SData.Client.SDataSingleResourceRequest(this.service).setResourceSelector(_104b);}if(_1048){_1047.setContractName(_1048);}if(_1049){_1047.setResourceKind(_1049);}}var _104c=_1045.expand(this,_1046.select||this.select),_104d=_1045.expand(this,_1046.include||this.include);if(_104c&&_104c.length>0){_1047.setQueryArg("select",_104c.join(","));}if(_104d&&_104d.length>0){_1047.setQueryArg("include",_104d.join(","));}return _1047;},_createFeedRequest:function(query,_104e){var _104f=_1045.expand(this,_104e.request||this.request);if(_104f){_104f=_104f.clone();}else{var _1050=_1045.expand(this,_104e.queryName||this.queryName),_1051=_1045.expand(this,_104e.contractName||this.contractName),_1052=_1045.expand(this,_104e.resourceKind||this.resourceKind),_1053=_1045.expand(this,_104e.resourceProperty||this.resourceProperty),_1054=_1045.expand(this,_104e.resourcePredicate||this.resourcePredicate);if(_1050){_104f=new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(_1050);if(_1054){_104f.getUri().setCollectionPredicate(_1054);}}else{if(_1053){_104f=new Sage.SData.Client.SDataResourcePropertyRequest(this.service).setResourceProperty(_1053).setResourceSelector(_1054);}else{_104f=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);}}if(_1051){_104f.setContractName(_1051);}if(_1052){_104f.setResourceKind(_1052);}}var _1055=_1045.expand(this,_104e.select||this.select),_1056=_1045.expand(this,_104e.include||this.include),_1057=_1045.expand(this,_104e.sort||this.orderBy);if(_1055&&_1055.length>0){_104f.setQueryArg("select",_1055.join(","));}if(_1056&&_1056.length>0){_104f.setQueryArg("include",_1056.join(","));}if(_1057){if(typeof _1057==="string"){_104f.setQueryArg("orderby",_1057);}else{if(_1057.length>0){var order=[];array.forEach(_1057,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_104f.setQueryArg("orderby",order.join(","));}}}var where=_1045.expand(this,this.where),_1058=[];query=_1045.expand(this,query);if(where){_1058.push(where);}if(query){_1058.push(query);}if(_1058.length>0){_104f.setQueryArg("where","("+_1058.join(") and (")+")");}if(typeof _104e.start!=="undefined"){_104f.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,_104e.start+1);}if(typeof _104e.count!=="undefined"){_104f.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Count,_104e.count);}return _104f;},_onRequestFeedSuccess:function(_1059,feed){if(feed){var items=lang.getObject(this.itemsProperty,false,feed),total=typeof feed["$totalResults"]==="number"?feed["$totalResults"]:-1;_1059.total=total;_1059.resolve(items);}else{var error=new Error("The feed result is invalid.");_1059.reject(error);}},_onRequestEntrySuccess:function(_105a,entry){if(entry){_105a.resolve(this.doDateConversion?this._handleDateConversion(entry):entry);}else{var error=new Error("The entry result is invalid.");_105a.reject(error);}},_onRequestFailure:function(_105b,xhr,_105c){var error=new Error("An error occurred requesting: "+_105c.url);error.xhr=xhr;error.status=xhr.status;error.responseText=xhr.responseText;error.aborted=false;_105b.reject(error);},_onRequestAbort:function(_105d,xhr,_105e){var error=new Error("An error occurred requesting: "+_105e.url);error.xhr=xhr;error.status=0;error.responseText=null;error.aborted=true;_105d.reject(error);},_onCancel:function(_105f){this.store.abort(_105f.value);},_handleDateConversion:function(entry){for(var prop in entry){if(_1045.Convert.isDateString(entry[prop])){entry[prop]=_1045.Convert.toDateFromString(entry[prop]);}}return entry;},get:function(id,_1060){var _1061={},_1062=new _1042(lang.hitch(this,this._onCancel,_1061)),_1063=this._createEntryRequest(id,_1060||{});var _1064=this.executeGetAs?_1063[this.executeGetAs]:_1063.read;_1061.value=_1064.call(_1063,{success:lang.hitch(this,this._onRequestEntrySuccess,_1062),failure:lang.hitch(this,this._onRequestFailure,_1062),abort:lang.hitch(this,this._onRequestAbort,_1062)});return _1062;},getIdentity:function(_1065){return lang.getObject(this.idProperty,false,_1065);},getLabel:function(_1066){return lang.getObject(this.labelProperty,false,_1066);},getEntity:function(_1067){return lang.getObject(this.entityProperty,false,_1067);},getVersion:function(_1068){return lang.getObject(this.versionProperty,false,_1068);},put:function(_1069,_106a){_106a=_106a||{};var id=_106a.id||this.getIdentity(_1069),_106b=_106a.entity||this.entityName,_106c=_106a.version||this.getVersion(_1069),atom=!this.service.isJsonEnabled();if(id){_1069["$key"]=id;}if(_106b&&atom){_1069["$name"]=_106b;}if(_106c){_1069["$etag"]=_106c;}var _106d={},_106e=new _1042(lang.hitch(this,this._onCancel,_106d)),_106f=this._createEntryRequest(id,_106a);var _1070=_106a.overwrite?_106f.update:_106f.create;_106d.value=_1070.call(_106f,_1069,{success:lang.hitch(this,this._onTransmitEntrySuccess,_106e),failure:lang.hitch(this,this._onRequestFailure,_106e),abort:lang.hitch(this,this._onRequestAbort,_106e)});return _106e;},_onTransmitEntrySuccess:function(_1071,entry){_1071.resolve(this.doDateConversion?this._handleDateConversion(entry):entry);},add:function(_1072,_1073){_1073=_1073||{};_1073.overwrite=false;return this.put(_1072,_1073);},remove:function(id){},query:function(query,_1074){var _1075={},_1076=new _1042(lang.hitch(this,this._onCancel,_1075)),_1077=this._createFeedRequest(query,_1074||{});_1076.total=-1;var _1078=this.executeQueryAs?_1077[this.executeQueryAs]:_1077 instanceof Sage.SData.Client.SDataResourcePropertyRequest?_1077.readFeed:_1077.read;_1075.value=_1078.call(_1077,{success:lang.hitch(this,this._onRequestFeedSuccess,_1076),failure:lang.hitch(this,this._onRequestFailure,_1076),abort:lang.hitch(this,this._onRequestAbort,_1076),httpMethodOverride:_1074&&_1074["httpMethodOverride"]});return _1043(_1076);},transaction:function(){},getChildren:function(_1079,_107a){},getMetadata:function(_107b){if(_107b){return {id:this.getIdentity(_107b),label:this.getLabel(_107b),entity:this.getEntity(_107b),version:this.getVersion(_107b)};}return null;}});});},"Sage/UI/Filters/EditFilters":function(){require({cache:{"url:Sage/UI/Filters/templates/EditFilters.html":"<div>\r\n    <div class=\"filter-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n            \r\n        </div>\r\n        \r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/UI/Filters/EditFilters",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/form/Button","dijit/form/CheckBox","dojo/_base/declare","dojo/i18n","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","Sage/Utility/Filters","dojo/json","dojo/text!./templates/EditFilters.html","dojo/i18n!./nls/EditFilters"],function(_107c,_107d,_107e,_107f,_1080,_1081,_1082,i18n,array,lang,_1083,_1084,_1085,_1086,json,_1087){return _1082("Sage.UI.Filters.EditFilters",[_107c,_107d,_107e],{templateString:_1087,widgetsInTemplate:true,id:"editFilters",store:null,filterPanel:null,checkBoxes:null,selectAllText:"Select All",dialogTitle:"Edit Filters",okText:"OK",cancelText:"Cancel",constructor:function(){var _1088=i18n.getLocalization("Sage.UI.Filters","EditFilters");this.inherited(arguments);this.checkBoxes=[];if(_1088){this.selectAllText=_1088.selectAllText;this.okText=_1088.okText;this.cancelText=_1088.cancelText;this.dialogTitle=_1088.dialogTitle;}},postCreate:function(){this.inherited(arguments);this.checkAll.on("click",lang.hitch(this,this._onCheckAllClick));},_onCheckAllClick:function(){if(this.checkAll.checked){this._onSelectAllClick();}else{this._onClearAllClick();}},showDialog:function(){this.requestData();lang.mixin(this.dialogNode,new _1085());this.dialogNode.createHelpIconByTopic("editFilters");this.dialogNode.show();},hideDialog:function(){this.dialogNode.hide();},uninitialize:function(){this._destroyContent();this.checkAll.destroy(false);this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.dialogNode.destroy(false);this.checkBoxes=null;this.inherited(arguments);},requestData:function(){this._destroyContent();if(this.store){this.store.fetch({onItem:lang.hitch(this,this._onFetchItem),onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete)});}},_onClearAllClick:function(){array.forEach(this.checkBoxes,function(_1089){_1089.set("checked",false);});},_onSelectAllClick:function(){array.forEach(this.checkBoxes,function(_108a){_108a.set("checked",true);});},_onCancelClick:function(){this.dialogNode.hide();},_onOKClick:function(){this.dialogNode.hide();var data=this.filterPanel._configuration._hiddenFilters,key=this.filterPanel._configuration._hiddenFiltersKey,_108b=Sage.Services.getService("ClientGroupContext"),_108c=_108b&&_108b.getContext();array.forEach(this.checkBoxes,function(_108d){var prop;prop=_108c.CurrentEntity+"_"+_108d.get("label");if(data[prop]){data[prop].hidden=!_108d.get("checked");}else{data[prop]={expanded:false,hidden:!_108d.get("checked"),items:[]};}});_1086.setHiddenFilters(key,json.stringify(data));this.filterPanel.refreshFilters(false);},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_1084.findWidgets(this.contentNode),function(_108e){_108e.destroy(false);});this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onFetchItem:function(entry){var type=entry.filterType,_108f=entry.filterName,_1090=entry.displayName||entry.filterName,id=_108f+"_check",_1091=new _1081({"id":id,"label":_108f});_1083.place(_1091.domNode,this.contentNode,"last");_1083.create("br",{},_1091.domNode,"after");_1083.create("label",{"for":id,innerHTML:_1090},_1091.domNode,"after");_1091.on("click",lang.hitch(this,this._onCheckClick));this.checkBoxes.push(_1091);},_onCheckClick:function(e){if(e.target&&e.target.checked===false){this.checkAll.set("checked",false);}},_onFetchComplete:function(){this.startup();this.setupCheckState();},setupCheckState:function(){var data=this.filterPanel._configuration._hiddenFilters||{},key=_1086.getHiddenFiltersKey(),_1092=Sage.Services.getService("ClientGroupContext"),_1093=_1092&&_1092.getContext(),_1094=false;this.checkAll.set("checked",true);this._onSelectAllClick();array.forEach(this.checkBoxes,function(_1095){var prop;prop=_1093.CurrentEntity+"_"+_1095.get("label");if(data[prop]){if(data[prop].hidden){_1095.set("checked",false);_1094=true;}else{_1095.set("checked",true);}}});this.checkAll.set("checked",!_1094);}});});},"Sage/UI/Controls/DependControl":function(){define("Sage/UI/Controls/DependControl",["dojo/_base/declare"],function(_1096){var _1097=_1096("Sage.UI.Controls.DependControl",null,{BaseId:"",ListId:"",TextId:"",Type:"",DisplayProperty:"",SeedProperty:"",CurrentValue:"",constructor:function(_1098,_1099,_109a,type,_109b,_109c){this.BaseId=_1098;this.ListId=_1099;this.TextId=_109a;this.Type=type;this.DisplayProperty=_109b;this.SeedProperty=_109c;this.CurrentValue="";},LoadList:function(_109d){var _109e="SLXDependencyHandler.aspx";dojo.xhrGet({url:_109e,handleAs:"text",preventCache:true,sync:true,content:{cacheid:this.BaseId,type:this.Type,displayprop:this.DisplayProperty,seeds:_109d,currentval:this.CurrentValue},load:dojo.hitch(this,function(data){var list=dojo.byId(this.ListId);list.innerHTML="";var items=data.split("|");for(var i=0;i<items.length;i++){if(items[i]===""){continue;}var parts=items[i].split(",");var _109f=document.createElement("OPTION");list.options.add(_109f);if(parts[0].charAt(0)=="@"){parts[0]=parts[0].substr(1);_109f.selected=true;}_109f.innerHTML=parts[1];_109f.value=parts[0];}}),error:function(error){console.error(error);}});},ClearList:function(){var list=dojo.byId(this.ListId);list.innerHTML="";}});return _1097;});},"Sage/QuickForms/Design/nls/CheckBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/CheckBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_10a0,lang){var nls={root:{displayNameText:"CheckBox"}};return lang.mixin(_10a0,nls);});},"Sage/UI/Columns/SlxLink":function(){define("Sage/UI/Columns/SlxLink",["Sage/Format","Sage/Utility","dojo/_base/declare","dojox/grid/cells/_base"],function(_10a1,_10a2,_10a3,_10a4){Sage.Region={decimalSeparator:".",numberGroupSeparator:",",numberGroupDigits:3,decimalDigits:2,currencySymbol:"$",positiveCurrencyPattern:0,negativeCurrencyPattern:0,numberNegativeSign:"-"};var _10a5=_10a3("Sage.UI.Columns.SlxLink",dojox.grid.cells.Cell,{_dataTypeChecked:null,_layout:null,_getDisplayValue:function(_10a6,_10a7,value){var _10a8=value||"";if(this._layout===null){if(_10a2.getModeId()=="list"){var oList=dijit.byId("list");if(oList&&_10a2.isDefined(oList)&&_10a2.isDefined(oList._configuration)){this._layout=oList._configuration.list.layout[this.layoutIndex];}else{return _10a8;}}else{var sTemp=this.get?this.get(_10a6,_10a7):(this.value||this.defaultValue);if(this._dataTypeChecked===null&&_10a2.isStringWithLength(sTemp)){this._dataTypeChecked=true;if(_10a9.isDateString(sTemp)){this._layout={"fieldType":"DateTime","format":"DateTime","formatString":this.displayFormatString||""};}else{return _10a8;}}else{return _10a8;}}}if(this._layout.fieldType==="DateTime"&&this._layout.format==="DateTime"){var sDate=this.get?this.get(_10a6,_10a7):(this.value||this.defaultValue);if(dojo.isString(sDate)&&_10a9.isDateString(sDate)){var _10aa=_10a2.getModeId()=="list";var oDate=_10a9.toDateFromString(sDate,_10aa);oDate=new Date(oDate.getUTCFullYear(),oDate.getUTCMonth(),oDate.getUTCDate());if(_10a2.isStringWithLength(this._layout.formatString)){try{return dojo.date.locale.format(oDate,{selector:"date",datePattern:this._layout.formatString});}catch(e){if(typeof console!=="undefined"){}return dojo.date.locale.format(oDate,{selector:"date",fullYear:true});}}else{return dojo.date.locale.format(oDate,{selector:"date",fullYear:true});}}}return _10a8;},displayFields:[],displayFormatString:"",idField:"",pageName:"",appliedSecurity:"",urlFields:[],urlFormatString:"",target:"",image:"",queryParams:null,getPageName:function(_10ab){if(this.pageName===""){var url=document.location.href;if(url.indexOf("?")>-1){url=url.substring(0,url.indexOf("?"));}url=url.substring(url.lastIndexOf("/")+1);this.pageName=url.replace(".aspx","");return this.pageName;}if(_10a2.getModeId()=="list"){return this.pageName;}var _10ac=_10a2.getValue(_10ab,this.property);if(_10ac!==""&&typeof _10ac==="string"){return _10ac;}else{return this.pageName;}},formatEditing:function(_10ad,_10ae){},format:function(_10af,_10b0){if(_10b0===null){return this.defaultValue;}var _10b1,_10b2,_10b3,vals=[],_10b4="",_10b5="",_10b6="",i=this.grid.edit.info,idx=0,d=this.get?this.get(_10af,_10b0):(this.value||this.defaultValue);if((this.displayFormatString)&&(this.displayFormatString!=="")){if(this.displayFields.length<1){vals.push(d);}for(idx;idx<this.displayFields.length;idx++){vals.push(_10a2.getValue(_10b0,this.displayFields[idx].trim()));}d=dojo.string.substitute(this.displayFormatString,vals);}if(this.target!==""){_10b4=dojo.string.substitute(" target=\"${0}\" ",[this.target]);}if(this.queryParams){if(typeof this.queryParams==="object"){_10b6="&"+dojo.objectToQuery(this.queryParams);}else{if(typeof this.queryParams==="string"){_10b6="&"+this.queryParams;}}}d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_10af&&i.cell==this))){return this.formatEditing(d,_10af);}else{_10b3=this._defaultFormat(d,[d,_10af,this]);if(this.image!==""){_10b3=dojo.string.substitute("<img src=\"${0}\" alt=\"${1}\" />",[this.image.replace(/^~\//,""),_10b3]);}if(this.appliedSecurity!==""){var svc=Sage.Services.getService("RoleSecurityService");if(svc){if(!svc.hasAccess(this.appliedSecurity)){_10b3=this._getDisplayValue(_10af,_10b0,_10b3);return _10b3;}}}if(this.idField!==""){var _10b7=this.getPageName(_10b0);_10b2=_10a2.getValue(_10b0,this.idField);if(!_10b2){var _10b8=(this.idField==="id")?"$key":this.idField.replace(/\.[iI]d/g,".$key");_10b2=_10a2.getValue(_10b0,_10b8);}if(_10b2){_10b3=this._getDisplayValue(_10af,_10b0,_10b3);if(_10b7.toUpperCase()==="HISTORY"){return dojo.string.substitute("<a href=\"javascript:Sage.Link.editHistory('${0}')\" id=\"${0}\" title=\"${1}\">${1}</a>",[_10b2,_10b3]);}else{return dojo.string.substitute("<a href=\"${0}.aspx?entityid=${1}&modeid=Detail${2}\"${3} id=\"${1}\" title=\"${4}\">${4}</a>",[_10b7,_10b2,_10b6,_10b4,_10b3]);}}}else{var _10b9=(this.urlFormatString!=="")?this.urlFormatString:"${0}";vals=[];if(this.urlFields.length<1){vals.push(d);}for(idx=0;idx<this.urlFields.length;idx++){vals.push(_10a2.getValue(_10b0,dojo.trim(this.urlFields[idx])));}_10b3=this._getDisplayValue(_10af,_10b0,_10b3);return dojo.string.substitute("<a href=\"http://${0}${1}\"${2}>${3}</a>",[dojo.string.substitute(this.urlFormatString,vals),_10b6,_10b4,_10b3]);}return _10b3;}},markupFactory:function(node,cell){dojox.grid.cells.Cell.markupFactory(node,cell);var d=dojo;var _10ba=d.trim(d.attr(node,"displayFields")||"");if(_10ba){var f=_10ba.split(",");cell.displayFields=f;}cell.displayFormatString=d.trim(d.attr(node,"displayFormatString")||"");cell.idField=d.trim(d.attr(node,"idField")||"");cell.pageName=d.trim(d.attr(node,"pageName")||"");cell.appliedSecurity=d.trim(d.attr(node,"appliedSecurity")||"");cell.image=d.trim(d.attr(node,"image")||"");var _10bb=d.trim(d.attr(node,"urlFields")||"");if(_10bb){var u=_10bb.split(",");cell.urlFields=u;}cell.urlFormatString=d.trim(d.attr(node,"urlFormatString")||"");cell.target=d.trim(d.attr(node,"target")||"");if(d.hasAttr(node,"queryParams")){cell["queryParams"]=d.trim(d.attr(node,"queryParams")||"");}}});var _10a9=_10a2.Convert;return _10a5;});},"Sage/QuickForms/Design/Editors/UserBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/UserBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/UserBasicPropertyEditor"],function(_10bc,lang,_10bd,_10be,_10bf,_10c0,_10c1,_10c2,_10c3,_10c4,_10c5,_10c6){return _10bc("Sage.QuickForms.Design.Editors.UserBasicPropertyEditor",[_10bd,_10c4,_10c3],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_10c6);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/QuickForms/Design/Editors/OwnerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/OwnerBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/OwnerBasicPropertyEditor"],function(_10c7,lang,_10c8,_10c9,_10ca,_10cb,_10cc,_10cd,_10ce,_10cf,_10d0,_10d1){return _10c7("Sage.QuickForms.Design.Editors.OwnerBasicPropertyEditor",[_10c8,_10cf,_10ce],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_10d1);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/QuickForms/Design/nls/EditableGridControlDesigner":function(){define("Sage/QuickForms/Design/nls/EditableGridControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_10d2,lang){var nls={root:{displayNameText:"Editable Grid"}};return lang.mixin(_10d2,nls);});},"Sage/QuickForms/Design/nls/HiddenControlDesigner":function(){define("Sage/QuickForms/Design/nls/HiddenControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_10d3,lang){var nls={root:{displayNameText:"Hidden Text"}};return lang.mixin(_10d3,nls);});},"Sage/UI/Dashboard/nls/DashboardWidgetCell":function(){define("Sage/UI/Dashboard/nls/DashboardWidgetCell",["Sage/LanguageList","dojo/_base/lang"],function(_10d4,lang){var nls={root:{closeTooltipText:"Close",minimizeTooltipText:"Minimize",settingsTooltipText:"Settings"}};return lang.mixin(_10d4,nls);});},"Sage/Layout/_SplitterEnhancedMixin":function(){define("Sage/Layout/_SplitterEnhancedMixin",["dojo/_base/declare","dojo/_base/connect","dojox/storage/LocalStorageProvider","dojo/dom-style","dojo/_base/sniff"],function(_10d5,_10d6,_10d7,_10d8,has){return _10d5("Sage.Layout._SplitterEnhancedMixin",null,{postCreate:function(){this.inherited(arguments);this.storageId=this.id;},startup:function(){this.inherited(arguments);if(has("ie")){this._widthPadding=19;}if(this.splitter===true){this._addEventHandlers();this._addEventSubscribers();var dim=this._getFromLocalStorage(this.storageId);if(dim===null){dim={h:this.domNode.scrollHeight+5,w:this.domNode.scrollWidth};}this._setupStyle(dim);this.resize(dim);this._setDefaults(dim);}},splitterDblClick:null,splitterStopDrag:null,storageId:null,_defaultHeight:310,_defaultWidth:180,_widthPadding:2,_setDefaults:function(dim){if((this.region==="top"||this.region==="bottom")&&dim.h!==this.minSize){this._defaultHeight=dim.h;}if((this.region==="right"||this.region==="left")&&dim.w>this.minSize+this._widthPadding){this._defaultWidth=dim.w;}},_addEventHandlers:function(){var _10d9=dijit.byId([this.id,"_splitter"].join(""));if(typeof _10d9!=="undefined"){if(this.splitterStopDrag===null){this.splitterStopDrag=this.connect(_10d9,"_stopDrag",function(){if(this.region==="top"){if(this.h===this.minSize){_10d6.publish(["Sage/events/",this.id,"/splitterMinSize"].join(""),this);}else{_10d6.publish(["Sage/events/",this.id,"/splitterMovedNotMin"].join(""),this);}}this._setDefaults({h:this.h,w:this.w});this._saveToLocalStorage(this.storageId,{h:this.h,w:this.w});});}if(this.splitterDblClick===null){this.splitterDblClick=this.connect(_10d9,"onDblClick",function(){this.toggleSplitter();_10d6.publish(["Sage/events/",this.id,"/splitterToggled"].join(""),this);});}}},_addEventSubscribers:function(){_10d6.subscribe(["Sage/events/",this.id,"/toggleSplitter"].join(""),this,"toggleSplitter");},toggleSplitter:function(){var dim={},_10da=dijit.byId([this.id,"_splitter"].join("")),_10db=dijit.byId("Viewport");if(typeof _10da!=="undefined"&&_10da!==null){if(this.region==="top"||this.region==="bottom"){dim=(this.h===this.minSize)?{h:this._defaultHeight,w:this.w}:{h:this.minSize,w:this.w};}if(this.region==="right"||this.region==="left"){dim=(this.w<this.minSize+this._widthPadding)?{h:this.h,w:this._defaultWidth}:{h:this.h,w:this.minSize};}if(dim.w===19){dim.w=this._defaultWidth;}this._setupStyle(dim);this.resize(dim);_10db.resize();this._saveToLocalStorage(this.storageId,dim);}},_setupStyle:function(dim){if(!this.domNode){return;}var _10dc=false;if(this.region==="top"||this.region==="bottom"){_10dc=(dim.h===this.minSize);}if(this.region==="right"||this.region==="left"){_10dc=(dim.w<this.minSize+this._widthPadding);}if(_10dc){_10d8.set(this.domNode,"overflow","hidden");}else{_10d8.set(this.domNode,"overflow","auto");}},_saveToLocalStorage:function(key,value){var _10dd=new _10d7();_10dd.initialize();_10dd.put(key,value,function(_10de,key,_10df){if(_10de===_10dd.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_10df);}});},_getFromLocalStorage:function(key,value){var _10e0=new _10d7();_10e0.initialize();return _10e0.get(key,value);}});});},"Sage/Extensions/UI/Columns/PickListSelect":function(){define("Sage/Extensions/UI/Columns/PickListSelect",["dojo/_base/declare","dojox/grid/cells/_base","Sage/UI/Controls/PickList","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore"],function(_10e1,_10e2,_10e3,array,lang,_10e4,_10e5){var _10e6=_10e1("Sage.Extensions.UI.Columns.PickListSelect",dojox.grid.cells.Select,{storeData:null,pickList:null,storageMode:"id",displayMode:"AsText",constructor:function(args){this.inherited(arguments);if(this.storageMode==="id"&&this.displayMode==="AsText"){if(this.pickListName){this._loadPickList();}}},_loadPickList:function(){var _10e7=new dojo.Deferred();var _10e8={pickListName:this.pickListName,canEditText:false,itemMustExist:true,maxLength:-1,storeMode:this.storageMode,sort:false,displayMode:this.displayMode};this.pickList=new _10e3(_10e8);this.pickList.getPickListData(_10e7);_10e7.then(dojo.hitch(this,this._loadData),function(e){console.error(e);});},_loadData:function(data){var items=[];var _10e9=[];var _10ea=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_10ea.push(item.text);_10e9.push(item.code);}this.options=_10ea;this.values=_10e9||_10ea;}});return _10e6;});},"Sage/MainView/IntegrationContract/AdvancedSearchOptions":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/AdvancedSearchOptions.html":"[\r\n'<div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.searchOptionsHeader %}',\r\n            '<span class=\"boldtext\">{%= $.configOptions.targetAccount %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.searchOptionsText %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:136px\">{%= $.operatorText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:118px\">{%= $.searchText %}</label>',\r\n    '</div>',\r\n    '<div dojoAttachPoint=\"conditionContainer\" style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').refineSearchObject.getSelections();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/IntegrationContract/AdvancedSearchOptions",["dojo/_base/declare","dojo/i18n!./nls/AdvancedSearchOptions","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","dojo/text!./templates/AdvancedSearchOptions.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_10eb,_10ec,_10ed,_10ee,_10ef,_10f0){var _10f1=_10eb("Sage.MainView.IntegrationContract.AdvancedSearchOptions",[_10ed,_10ee],{configOptions:[],id:"",refineSearchId:"",index:0,selectedFieldIndex:0,fields:[{FieldName:"",DisplayName:""}],operators:[],selectedFilters:[],hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_10ec);},init:function(_10f2){this.id=_10f2.Id;this.configOptions=_10f2;},conditionTemplate:new Simplate(["<div >","<div id=\"filterCondition_{%= $.index %}\" class=\"lookup-condition-row\" style=\"padding-left:10px\">","<select id=\"fieldnames_{%= $.index %}\" class=\"lookup-fieldnames-list\" style=\"width:160px\" onchange=\"dijit.byId('{%= $.refineSearchId %}').refineSearchObject.onPropertyChange({%= $.index %});\" >","{% for (var i=0;i<$.fields.length;i++) { %}","<option value=\"{%= $.fields[i].FieldName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.fields[i].DisplayName %}</option>","{% } %}","</select>","<select id=\"operators_{%= $.index %}\" class=\"lookup-operators-list\" style=\"width:160px; margin-left:20px\">","{% for (var i=0;i<$.operators.length;i++) { %}","<option value=\"{%= $.operators[i].symbol %}\"  {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.operators[i].display %}</option>","{% } %}","</select>","<input type=\"text\" id=\"searchValue_{%= $.index %}\" class=\"search-value-list\" style=\"width:160px;margin-left:5px\" />","{% if ($.index == 1 ) { %}","<img id=\"addCondition_{%= $.index %}\" src=\"{%= $.addimgurl %}\" alt=\"{%= $.addImgAltText %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.id %}-Dialog').refineSearchObject.addLookupCondition();\" />","{% } %}","{% if ($.index > 1 ) { %}","<img src=\"{%= $.hideimgurl %}\" alt=\"{%= $.hideImgAltText %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.id %}-Dialog').refineSearchObject.removeLookupCondition({%= $.index %});\" />","{% } %}","</div>","</div>"]),onRefineSearch:function(){var _10f3=dojo.byId(this.configOptions.optionRefineSearchId);if(_10f3!=null&&_10f3.checked){this.getDefaultMatchProperties();return true;}return false;},getDefaultMatchProperties:function(){var self=this;var _10f4=dijit.byId([this.id,"-Dialog"].join(""));if(!_10f4){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/resources/getmatchproperties?resourceKind=${0}&targetMapping=${1}",[this.configOptions.resourceKind,true]),cache:false,preventCache:true,handleAs:"json",load:function(data){self.fields=data.fields;self.operators=data.operators;self.selectedFilters=data.filters;self.showDialog();},error:function(_10f5,_10f6,error){_10ef.ShowError("request: "+_10f5+" \nstatus: "+_10f6+" \nerror: "+error);}});}else{self.showDialog();}},showDialog:function(){this.index=0;var _10f7=dijit.byId([this.id,"-Dialog"].join(""));if(!_10f7){_10f7=new dijit.Dialog({title:this.dialogCaption,id:[this.id,"-Dialog"].join(""),style:["height:",300,"px;width:",600,"px;"].join(""),closable:true,loadingMessage:this.loadingText,refineSearchObject:this});var _10f8=new Simplate(eval(_10f0));_10f7.attr("content",_10f8.apply(this));}this.refineSearchId=_10f7.id;_10f7.show();this.loadMatchingFilters();dojo.style(_10f7.domNode,"zIndex",9050);},loadMatchingFilters:function(){for(var i=0;i<this.selectedFilters.length;i++){this.addLookupCondition();var field=dojo.byId(["fieldnames_",this.index].join(""));if(field!=null){field.value=this.selectedFilters[i].Property;}var _10f9=dojo.byId(["operators_",this.index].join(""));if(_10f9!=null){_10f9.value=this.selectedFilters[i].Operator;_10f9.symbol=this.selectedFilters[i].Operator;}var _10fa=dojo.byId(["searchValue_",this.index].join(""));if(_10fa!=null){_10fa.value=this.selectedFilters[i].SearchValue;}}},getSelections:function(){var _10fb=[];this.updateDisplay();var _10fc=dojo.query(".lookup-condition-row");for(var i=0;i<_10fc.length;i++){var _10fd=dojo.query(".lookup-fieldnames-list",_10fc[i]);var _10fe=dojo.query(".lookup-operators-list",_10fc[i]);var _10ff=dojo.query(".search-value-list",_10fc[i]);var _1100={fieldName:_10fd[0].value,operator:_10fe[0].value,searchValue:_10ff[0].value};_10fb.push(_1100);}var _1101=dojo.byId(this.configOptions.filtersId);if(_1101!=null){_1101.value=Sys.Serialization.JavaScriptSerializer.serialize(_10fb);}this.invokeClickEvent(dojo.byId(this.configOptions.refreshGridId));},updateDisplay:function(){var _1102=dojo.byId(this.configOptions.resultsMsgId);if(_1102!=null){_1102.innerHTML=this.loadingDisplay;}_1102=dojo.byId(this.configOptions.rowSearchResultsId);if(_1102!=null){_1102.style.display="none";}_1102=dojo.byId(this.configOptions.rowLinkToId);if(_1102!=null){_1102.style.display="none";}},invokeClickEvent:function(_1103){if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",true,true);_1103.dispatchEvent(e);}else{_1103.click();}},onPropertyChange:function(index){var _1104=dojo.byId(["searchValue_",index].join(""));if(_1104!=null){_1104.value="";}},addLookupCondition:function(){this.index++;var _1105=dojo.byId([this.id,"-Condition-container"].join(""));var _1106=this.conditionTemplate.apply(this);dojo.place(_1106,_1105);this.dialogResize();},dialogResize:function(){dojo.style([this.id,"-Dialog"].join(""),"height","auto");},removeLookupCondition:function(idx){dojo.query(dojo.byId(["filterCondition_",idx].join(""))).orphan();},reloadOperators:function(_1107,_1108){this.selectedFieldIndex=_1107;this.index=_1108;var _1109=this.conditionTemplate.apply(this);dojo.place(_1109,["filterCondition_",_1108].join(""),"replace");},clearTargetSelection:function(){var _110a=document.getElementsByName("TargetsGroup");if(_110a!=null){for(var i=0;i<_110a.length;i++){_110a[i].checked=false;}}},onMatchSelection:function(_110b){var _110c=document.getElementById(_110b);if(_110c!=null){_110c.checked=true;}},closeDetailsDialog:function(){}});return _10f1;});},"Sage/QuickForms/Design/Editors/GenericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/GenericBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/GenericBasicPropertyEditor"],function(_110d,lang,_110e,_110f,_1110,_1111,_1112,_1113,_1114,_1115,_1116,_1117){return _110d("Sage.QuickForms.Design.Editors.GenericBasicPropertyEditor",[_110e,_1115,_1114],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,titleText:"Basic",appearanceText:"Appearance",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_1117);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);}});});},"Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope":function(){define("Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_1118,i18n,_1119,_111a,_111b,_111c){var _111d=_111c("Sage.MainView.ReportMgr.SchedulesSDataSummaryFormatterScope",[_1119],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _111a(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _111d;});},"Sage/QuickForms/Design/Editors/nls/UserBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/UserBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_111e,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_111e,nls);});},"url:Sage/UI/Controls/templates/DropDownSelectUser.html":"<div>\r\n    <select data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onBlur: _onBlur\">\r\n    </select>\r\n</div>\r\n","Sage/UI/nls/Dialogs":function(){define("Sage/UI/nls/Dialogs",["Sage/LanguageList","dojo/_base/lang"],function(_111f,lang){var nls={root:{yesText:"Yes",noText:"No",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_111f,nls);});},"Sage/UI/DashboardGroupListConfigurationProvider":function(){define("Sage/UI/DashboardGroupListConfigurationProvider",["Sage/UI/GroupListConfigurationProvider","dojo/string","dojo/_base/declare"],function(_1120,_1121,_1122){var _1123=_1122("Sage.UI.DashboardGroupListConfigurationProvider",[_1120],{formatPredicate:function(group){group.family=group.family&&group.family.toUpperCase();return _1121.substitute("name eq '${name}' and upper(family) eq '${family}'",group);},_createConfigurationForList:function(entry){var _1124=Sage.Services.getService("ClientGroupContext"),_1125;if(_1124){_1125=_1124.getContext();}_1125.CurrentTable="";return this.inherited(arguments);},_getListContextMenuItems:function(){return [];},_onListContext:function(e){return;}});return _1123;});},"Sage/TaskPane/nls/SecuredActionTasklet":function(){define("Sage/TaskPane/nls/SecuredActionTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1126,lang){var nls={root:{addToRoleTitle:"Add to Role"}};return lang.mixin(_1126,nls);});},"Sage/Layout/main":function(){define("Sage/Layout/main",["Sage/Layout/ContentPane","Sage/Layout/TabContainer","Sage/Layout/MainContentDetailsPane","Sage/Layout/_SplitterEnhancedMixin"],function(){});},"Sage/UI/Dashboard/nls/DashboardTabController":function(){define("Sage/UI/Dashboard/nls/DashboardTabController",["Sage/LanguageList","dojo/_base/lang"],function(_1127,lang){var nls={root:{newTabText:"New Tab",addContentText:"Add Content",editOptionsText:"Edit Options",hideTabText:"Hide Tab",closeText:"Close",copyTabText:"Copy Tab",showTabText:"Show Tab",shareTabText:"Share Tab",deleteTabText:"Delete Tab",deleteTabConfirmText:"Are you sure you want to delete this tab?",descriptionText:"Description",everyoneText:"Everyone",saveTabText:"Save Tab",helpText:"Help",addText:"Add",invalidMessage:"Invalid Character",invalidDuplicateMessage:"Title must be unique.",deleteText:"Delete",titleText:"Title:",chooseTemplateText:"Choose the template you want to use:",oneColumnText:"One column",twoColumnText:"Two columns split",fatLeftText:"Two column larger left",fatRightText:"Two column larger right",makeDefaultText:"Make default",releaseFetchErrorText:"Error fetching release list.",releaseDeleteNoneSelected:"No items selected.",releasedToText:"Released To:",typeText:"Type",addLookup:"Add",okButton:"OK",errorText:"Error",warningText:"Warning",permissionErrorText:"Error: User does not have the right to perform this action.",permissionErrorPerformCopyText:"Would you like to create a personal copy of the page?",yesText:"Yes",noText:"No"}};return lang.mixin(_1127,nls);});},"Sage/UI/PopupMenuItem":function(){define("Sage/UI/PopupMenuItem",["Sage/UI/MenuItem","dojo/_base/declare"],function(_1128,_1129){var _112a=_1129("Sage.UI.PopupMenuItem",_1128,{_fillContent:function(){if(this.srcNodeRef){var nodes=dojo.query("*",this.srcNodeRef);Sage.UI.PopupMenuItem.superclass._fillContent.call(this,nodes[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});return _112a;});},"Sage/Library/main":function(){define("Sage/Library/main",["Sage/Library/DocumentProperties","Sage/Library/FileHandler","Sage/Library/FolderHandler","Sage/Library/Manager"],function(){});},"url:Sage/Utility/File/templates/FallbackFilePicker_Attachment.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.attachFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"{%= $._buildPostUrl() %}\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n            '<input type=\"hidden\" name=\"dataType\" value=\"R\" />',\r\n            '<input type=\"hidden\" name=\"attachDate\" dojoAttachPoint=\"_attachDate\"/>',\r\n            '<input type=\"hidden\" name=\"accountId\" dojoAttachPoint=\"_accountId\"/>',\r\n            '<input type=\"hidden\" name=\"activityId\" dojoAttachPoint=\"_activityId\" />',\r\n            '<input type=\"hidden\" name=\"contactId\" dojoAttachPoint=\"_contactId\" />',\r\n            '<input type=\"hidden\" name=\"contractId\" dojoAttachPoint=\"_contractId\" />',\r\n            '<input type=\"hidden\" name=\"defectId\" dojoAttachPoint=\"_defectId\" />',\r\n            '<input type=\"hidden\" name=\"historyId\" dojoAttachPoint=\"_historyId\" />',\r\n            '<input type=\"hidden\" name=\"leadId\" dojoAttachPoint=\"_leadId\" />',\r\n            '<input type=\"hidden\" name=\"opportunityId\" dojoAttachPoint=\"_opportunityId\" />',\r\n            '<input type=\"hidden\" name=\"productId\" dojoAttachPoint=\"_productId\" />',\r\n            '<input type=\"hidden\" name=\"returnId\" dojoAttachPoint=\"_returnId\" />',\r\n            '<input type=\"hidden\" name=\"salesOrderId\" dojoAttachPoint=\"_salesOrderId\" />',\r\n            '<input type=\"hidden\" name=\"ticketId\" dojoAttachPoint=\"_ticketId\" />',\r\n            '<input type=\"hidden\" name=\"userId\" dojoAttachPoint=\"_userId\" />',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]","url:Sage/MainView/ActivityMgr/AttendeeLookup/templates/SpeedSearchLookup.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id %}-Dialog\" title=\"\" dojoAttachPoint=\"_dialog\" >', //dialog\r\n         '<div class=\"event-dialog\">',\r\n        '<div style=\"padding:5px;\" id=\"{%= $.id %}-Condition-container\">',\r\n            '<input id=\"Text1\" type=\"text\" style=\"width:85%;\"  data-dojo-attach-point=\"_valueBox\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"/>',     \r\n            '<button id=\"{%= $.id %}-Search\" data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachPoint=\"searchButton\" dojoAttachEvent=\"onClick:_doSearch\">{%= $.srchBtnCaption %}</button>',\r\n          \r\n        '</div>',    \r\n        '<div data-dojo-attach-point=\"contentNode\">',  \r\n        '<div id=\"{%= $.id %}-Grid-container\" dojoAttachPoint=\"_speedSearchGrid\"  style=\"width:auto;height:400px;\"></div>',\r\n        '</div>',\r\n            '<div class=\"lookupButtonWrapper\">',           \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-GridSelectButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}\\').getGridSelections(); \">{%= $.okText %}',\r\n                   '</button>',            \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-CloseButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">{%= $.cancelText %}</button>',\r\n            '</div>',\r\n             '</div>',\r\n     '</div> ', //dialog   \r\n'</div>'\r\n]","Sage/UI/Controls/HelpMenu":function(){define("Sage/UI/Controls/HelpMenu",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/OrientableMenuBar","dojo/i18n!./nls/HelpMenu","dojo/_base/declare","dojo/dom-class"],function(_112b,_112c,_112d,_112e,_112f,_1130,_1131){var _1132=_1130("Sage.UI.Controls.HelpMenu",_112e,{orientation:{"BR":"TR","BL":"TL"},postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var menu=new dijit.Menu();menu.addChild(new _112c({label:_112f.webClientHelpText,imageClass:"icon_Help_16x16",title:_112f.webClientHelpText,id:"helpRoot",onClick:function(){Sage.Utility.openHelp("slxoverview");}}));menu.addChild(new _112c({label:_112f.gettingStartedText,imageClass:"icon_pdf_16x16",title:_112f.gettingStartedText,id:"helpGettingStarted",onClick:function(){window.open("help/Getting Started with Saleslogix Web Client.pdf","MCWebHelp");}}));menu.addChild(new _112c({label:_112f.quickReferenceText,imageClass:"icon_pdf_16x16",title:_112f.quickReferenceText,id:"helpQuickReference",onClick:function(){window.open("help/Saleslogix Quick Reference for the Web User.pdf","MCWebHelp");}}));menu.addChild(new _112c({label:_112f.aboutText,imageClass:"icon_Help_16x16",title:_112f.aboutText,id:"helpAbout",onClick:function(){Sage.Utility.openHelp("slxthirdparty");}}));var _1133=menu.getChildren();_1131.add(_1133[1].domNode,"hiddenHelpButton");_1131.add(_1133[2].domNode,"hiddenHelpButton");this.addChild(new _112d({label:"",iconStyle:"width: 16px",imageClass:"icon_Help_16x16",title:_112f.helpText,id:"btnHelpMenu",popup:menu}));}});return _1132;});},"Sage/Services/SystemOptions":function(){define("Sage/Services/SystemOptions",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_1134,_1135){var svc=_1135("Sage.Services.SystemOptions",null,{_systemOptions:false,_systemOptionsByName:false,notFoundrrorMsg:"A system option was requested that cannot be found.",requestFailedErrorMsg:"A request for system options has failed to return results.",get:function(_1136,_1137,_1138,scope){if(!this._systemOptions){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1134.getSDataService("system",false,true,true));req.setResourceKind("systemoptions");req.read({success:function(_1139){this._buildHash(_1139);this._returnOption(_1136,_1137,_1138,scope);},failure:function(_113a){_1138.call(scope||this,this.requestFailedErrorMsg);},scope:this});}else{this._returnOption(_1136,_1137,_1138,scope);}},_buildHash:function(_113b){var items=_113b.$resources;this._systemOptionsByName={};dojo.forEach(items,function(item){this._systemOptionsByName[item.name]=item;},this);this._systemOptions=_113b.$resources;},_returnOption:function(_113c,_113d,_113e,scope){if(this._systemOptionsByName[_113c]){_113d.call(scope||this,this._systemOptionsByName[_113c].value);}else{_113e.call(scope||this,this.notFoundrrorMsg);}}});Sage.Services.addService("SystemOptions",new Sage.Services.SystemOptions());return svc;});},"Sage/MainView/IntegrationContract/nls/SalesOrderRTDV":function(){define("Sage/MainView/IntegrationContract/nls/SalesOrderRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_113f,lang){var nls={root:{dialogCaption:"Sales Order Details",loadingText:"loading...",lblSalesOrderCaption:"Sales Order:",lblStatusCaption:"Status:",lblGrossTotalCaption:"Order Amount:",lblOrderDateCaption:"Order Date:",lblTaxTotalCaption:"Tax Total:",lblHoldStatusCaption:"Hold Status:",lblCurrencyCaption:"Currency:",lblTypeCaption:"Type:",lblCostTotalCaption:"Total Cost:",lblPONumberCaption:"PO Number:",lblProfitTotalCaption:"Total Profit:",lblQuotationCaption:"Quotation:",lblInvoiceStatusCaption:"Invoice Status:",lblContactCaption:"Contact:",lblDeliveryDateCaption:"Delivery Date:",lblDueDateCaption:"Due Date:",lblPriceListCaption:"Price List:",lblCarrierCaption:"Carrier:",lblNetTotalCaption:"Net Total:",lblAllocationStatusCaption:"Allocation Status:",lblDiscountTotalCaption:"Discount Total:",lblDeliveryStatusCaption:"Delivery Status:",lblChargesTotalCaption:"Charges Total:",detailsTabTitle:"Details",salesPersonsTabTitle:"Sales Persons",addressTabTitle:"Addresses",salesOrderLinesTabTitle:"Sales Order Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdSalesOrder_Edit:"Edit",grdSalesOrder_OrderNumber:"Order Number",grdSalesOrder_OrderDate:"Order Date",grdSalesOrder_Status:"Status",grdSalesOrder_HoldStatus:"Hold Status",grdSalesOrder_Type:"Type",grdSalesOrder_PO:"PO Number",grdSalesOrder_NetTotal:"Net Total",grdSalesOrder_DiscountTotal:"Discount Total",grdSalesOrder_ChargesTotal:"Charges Total",grdSalesOrder_TaxTotal:"Tax Total",grdSalesOrder_GrossTotal:"Gross Total",grdSalesOrder_Currency:"Currency",grdSalesPersons_Name:"Name",grdSalesPersons_Type:"Type",grdSalesPersons_Extension:"Extension",grdSalesPersons_Relationship:"Relationship",grdAddress_Name:"Name",grdAddress_Address1:"Address 1",grdAddress_Address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Zip",grdItems_Line:"Line Number",grdItems_Type:"Type",grdItems_Commodity:"Commodity",grdItems_CommodityVariant:"Variant",grdItems_CommodityDimension:"Dimension",grdItems_UnitOfMeasure:"Unit",grdItems_Location:"Location",grdItems_PriceList:"Price List",grdItems_Quantity:"Quantity",grdItems_InitialPrice:"Initial Price",grdItems_ActualPrice:"Actual Price",grdItems_NetTotal:"Net Total",grdItems_ChargesTotal:"Charges Total",grdItems_DiscountTotal:"Discount Total",grdItems_TaxTotal:"Tax Total",grdItems_GrossTotal:"Gross Total",grdPayments_Date:"Payment Date",grdPayments_Name:"Name",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_NetTotal:"Net Total",grdPayments_Discounts:"Discounts",grdPayments_Charges:"Charges",grdPayments_Tax:"Tax",grdPayments_GrossTotal:"Gross Total",grdPayments_Currency:"Currency",grdPayments_TenderType:"Tender Type",grdPayments_TenderReference:"Tender Reference",grdPayments_ProcessDate:"Process Date",grdDeliveries_Number:"Number",grdDeliveries_Type:"Type",grdDeliveries_Status:"Status",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_Method:"Method",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_ExceptionReason:"Exception Reason",errorERPRequest:"An error occured opening accounting systems sales order detail view. ",errorERPRequestDetails:"${0}, ${1} Request: ${2}",btnCloseCaption:"Close"}};return lang.mixin(_113f,nls);});},"Sage/UI/Controls/main":function(){define("Sage/UI/Controls/main",["Sage/UI/Controls/_customSelectMixin","Sage/UI/Controls/_DialogHelpIconMixin","Sage/UI/Controls/Address","Sage/UI/Controls/CheckBox","Sage/UI/Controls/CopyToClipboard","Sage/UI/Controls/Currency","Sage/UI/Controls/CurrencyTextBox","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/DependControl","Sage/UI/Controls/DependencyLookup","Sage/UI/Controls/DropDownSelectPickList","Sage/UI/Controls/DropDownSelectUser","Sage/UI/Controls/DurationSelect","Sage/UI/Controls/Email","Sage/UI/Controls/HelpMenu","Sage/UI/Controls/LogOffButton","Sage/UI/Controls/Lookup","Sage/UI/Controls/EntityInfoToolTip","Sage/UI/Controls/MultiSelectPickList","Sage/UI/Controls/MultiTab","Sage/UI/Controls/Name","Sage/UI/Controls/Numeric","Sage/UI/Controls/Phone","Sage/UI/Controls/PickList","Sage/UI/Controls/PickListAsText","Sage/UI/Controls/Select","Sage/UI/Controls/SimpleTextarea","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/SummaryAggregate","Sage/UI/Controls/TextBox"],function(){});},"Sage/QuickForms/Design/RowDesigner":function(){define("Sage/QuickForms/Design/RowDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./Editors/RowBasicPropertyEditor","dojo/i18n!./nls/RowDesigner"],function(_1140,topic,_1141,lang,array,_1142,_1143,_1144){return _1141("Sage.QuickForms.Design.RowDesigner",[_1142],{entry:null,editors:[_1143],helpTopicName:"Row_properties",displayNameText:"Row",constructor:function(){lang.mixin(this,_1144);},set:function(name,value){var _1145=this.inherited(arguments);var names=this._getAttrNames(name),_1146=this[names.s];if(lang.isFunction(_1146)){topic.publish("/quickforms/design/designerModified",this,name,value,_1145,this);}return _1145;}});});},"Sage/MainView/ReportMgr/ReportManagerUtility":function(){define("Sage/MainView/ReportMgr/ReportManagerUtility",["dojo/_base/xhr","dojo/i18n!./nls/ReportManagerUtility","Sage/Reporting/Enumerations"],function(_1147,_1148,_1149){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerUtility");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerUtility,{_nlsResources:_1148,getOperators:function(_114a){switch(String(_114a)){case String(_1149.FieldDataTypes.Numeric):return [{operator:_1149.ReportConditionOperator.Is,caption:_1149.nlsResources.txtIs},{operator:_1149.ReportConditionOperator.IsNot,caption:_1149.nlsResources.txtIsNot},{operator:_1149.ReportConditionOperator.IsGreaterThan,caption:_1149.nlsResources.txtIsGreaterThan},{operator:_1149.ReportConditionOperator.IsLessThan,caption:_1149.nlsResources.txtIsLessThan},{operator:_1149.ReportConditionOperator.IsInTheRange,caption:_1149.nlsResources.txtIsInTheRange}];case String(_1149.FieldDataTypes.DateTime):return [{operator:_1149.ReportConditionOperator.Is,caption:_1149.nlsResources.txtIs},{operator:_1149.ReportConditionOperator.IsNot,caption:_1149.nlsResources.txtIsNot},{operator:_1149.ReportConditionOperator.IsAfter,caption:_1149.nlsResources.txtIsAfter},{operator:_1149.ReportConditionOperator.IsBefore,caption:_1149.nlsResources.txtIsBefore},{operator:_1149.ReportConditionOperator.IsInTheRange,caption:_1149.nlsResources.txtIsInTheRange}];case String(_1149.FieldDataTypes.String):return [{operator:_1149.ReportConditionOperator.Is,caption:_1149.nlsResources.txtIs},{operator:_1149.ReportConditionOperator.IsNot,caption:_1149.nlsResources.txtIsNot},{operator:_1149.ReportConditionOperator.Contains,caption:_1149.nlsResources.txtContains},{operator:_1149.ReportConditionOperator.StartsWith,caption:_1149.nlsResources.txtStartsWith},{operator:_1149.ReportConditionOperator.EndsWith,caption:_1149.nlsResources.txtEndsWith}];default:console.error("Unsupported field type: "+_114a);}return "";},getUser:function(_114b){var user=null;_1147("GET",{url:"slxdata.ashx/slx/dynamic/-/users('"+_114b+"')?format=json",handleAs:"json",sync:true}).then(function(data){user=data;});return user;},getGroup:function(_114c){var group=null;var url="slxdata.ashx/slx/system/-/groups";if(_114c.indexOf(":")!==-1){var _114d=_114c.split(":")[0];var name=_114c.split(":")[1];url=url+"?format=json&where=family eq '"+_114d+"' and name eq '"+name+"'";}else{url=url+"('"+_114c+"')?format=json";}_1147("GET",{url:url,handleAs:"json",sync:true}).then(function(data){if(data.$resources&&data.$resources.length===1){data=data.$resources[0];}group=data;});return group;},getEntityHistory:function(_114e){var _114f={items:[]};_1147("GET",{url:"slxdata.ashx/slxdata.ashx/slx/crm/-/entityhistory",handleAs:"json",sync:true}).then(function(data){_114f=data;});},getOutputFormats:function(_1150){switch(_1150){case _1149.ReportTypes.CrystalReport:return [{outputFormat:_1149.ReportExportFormat.Pdf,caption:_1149.nlsResources.txtPdf},{outputFormat:_1149.ReportExportFormat.Word,caption:_1149.nlsResources.txtWord},{outputFormat:_1149.ReportExportFormat.Excel,caption:_1149.nlsResources.txtExcel},{outputFormat:_1149.ReportExportFormat.Csv,caption:_1149.nlsResources.txtCsv},{outputFormat:_1149.ReportExportFormat.Xml,caption:_1149.nlsResources.txtXml}];default:console.error("Unsupported report type: "+_1150);return [];}},getCurrentEntityContext:function(){if(Sage.Services.hasService("ClientEntityContext")){var _1151=Sage.Services.getService("ClientEntityContext");if(_1151){return _1151.getContext();}}return null;},getCurrentUser:function(){var _1152=Sage.Services.getService("ClientContextService");var user=null;if(_1152){user={userID:_1152.getValue("userID"),userPrettyName:_1152.getValue("userPrettyName")};}return user;},setDomNodeVisible:function(_1153,_1154){if(_1153&&_1154){dojo.removeClass(_1153,"display-none");}else{if(_1153){dojo.addClass(_1153,"display-none");}}},refreshList:function(tabId){try{var panel=dijit.byId("list");if(panel){var _1155=Sage.Services.getService("ClientGroupContext");if(_1155){var ctx=_1155.getContext();if(tabId===ctx.CurrentGroupID){panel.refreshView(tabId);}}}}catch(e){}}});return Sage.MainView.ReportMgr.ReportManagerUtility;});},"Sage/MailMerge/MenuHelper":function(){define("Sage/MailMerge/MenuHelper",["Sage/MailMerge/Helper","dojo/_base/declare"],function(_1156,_1157){var _1158=_1157("Sage.MailMerge.MenuHelper",null,{_populateWriteMenu:function(){require(["Sage/MailMerge/Service"],function(){var _1159=_1156.GetMailMergeService();if(_1159){if(!_1159.MenuPopulated){_1159.PopulateWriteMenu();}}});},_getMenuInfo:function(){var info={toolbar:null,menu:null};var _115a=dojo.byId("ToolBar");if(typeof _115a!=="undefined"&&_115a!==null){info.toolbar=_115a;for(var i=0;i<_115a.children.length;i++){var oItem=_115a.children[i];if(oItem.id=="mnuMailMerge"){info.menu=oItem;return info;}}}return info;},attachWriteMenuPopulator:function(){var info=this._getMenuInfo();if(info.menu!==null){dojo.connect(info.menu,"onclick",this._populateWriteMenu);}},removeWriteMenu:function(){var info=this._getMenuInfo();if(info.toolbar!==null&&info.menu!==null){info.toolbar.removeChild(info.menu);}}});return _1158;});},"Sage/Workspaces/Dialog":function(){define("Sage/Workspaces/Dialog",["dojo/dom","dojo/dom-style","dojo/dom-construct","dijit/Dialog","dojo/NodeList-manipulate","dojo/_base/declare","Sage/UI/Controls/_DialogHelpIconMixin","dojo/query"],function(dom,_115b,_115c,_115d,_115e,_115f,_1160,query){return _115f("Sage.Workspaces.Dialog",[_115d,_1160],{constructor:function(_1161,_1162){this._initialized=false;this._clientId=_1161.clientId;this._stateClientId=_1161.stateClientId;this._panelClientId=_1161.panelClientId;this._contentClientId=_1161.contentClientId;this._context=null;this._dialog=null;this._dialogPanel=null;this._closedOnServerSide=false;this._dialogInfo={};this.closable=true;this._width=200;this._height=500;this._toolbarId=this._clientId+"_"+this._clientId+"_toolbar";if(this._clientId){this.statics.__instances[this._clientId]=this;this.statics.__initRequestManagerEvents();}this.inherited(arguments);},init:function(){this._context=dom.byId(this._clientId);dom.byId(this._contentClientId).style.display="";this.handleEvents();},clearState:function(){var _1163=dom.byId(this._stateClientId);_1163.value="";},disable:function(){if(!this.open){return;}this.hide();},enable:function(){if(this.open){return;}this.show();},show_:function(evt){var title,width,_1164;if(typeof evt==="string"){evt={id:evt};}evt.event="open";evt.from=evt.from||"client";title=evt.title||"";this.set("title",title);var help=evt.help;if(help){this.createHelpIcon(help.url,help.target);}width=evt.width||500;_115b.set(this.domNode,"width",width+"px");_1164=evt.height||200;query(".dijitDialogPaneContent").style({"height":_1164+"px","overflow":"auto"});var value=Sys.Serialization.JavaScriptSerializer.serialize(evt);var _1165=dom.byId(this._stateClientId);_1165.value=value;var _1166=dojo.byId(this._toolbarId);if(_1166){if(this.helpIcon){dojo.place(_1166,this.helpIcon,"before");}}},setSize:function(width,_1167){this._width=width||this._width||500;_115b.set(this.domNode,"width",this._width+"px");this._height=_1167||this._height||200;_115b.set(this.domNode,"height",this._height+"px");},fitToViewport:function(){},handleEvents:function(){var _1168=dom.byId(this._stateClientId);var value=_1168.value;var evt={};if(value){evt=eval("("+value+")");}_1168.value="";switch(evt.event){case "open":this._dialogInfo=evt;this.title=this._dialogInfo.title;this.show_(evt);this.enable();break;case "close":if(this.open){this._closedOnServerSide=false;this.hide_();this.disable();this._dialogInfo={};this._closedOnServerSide=true;}break;}},hide:function(evt){if(this._toolbarId){_115c.destroy(this._toolbarId);}if(evt&&((evt.originalTarget&&evt.originalTarget.className.indexOf("dijitDialogCloseIcon")>-1)||(evt.srcElement&&evt.srcElement.className.indexOf("dijitDialogCloseIcon")>-1))){var _1169=Sage.Services.getService("ClientBindingManagerService");if(_1169){_1169.rollbackCurrentTransaction();}dom.byId(this._stateClientId).value="{\"event\":\"close\",\"id\":\""+this._dialogInfo.id+"\"}";__doPostBack(this._stateClientId,"");}this.inherited(arguments);},hide_:function(evt){if(this._closedOnServerSide){return;}evt={event:"close",id:this._dialogInfo.id};var _116a=Sage.Services.getService("ClientBindingManagerService");if(_116a){_116a.rollbackCurrentTransaction();}var value=Sys.Serialization.JavaScriptSerializer.serialize(evt);dom.byId(this._stateClientId).value=value;__doPostBack(this._stateClientId,"");},statics:{__instances:{},__requestManagerEventsInitialized:false,__initRequestManagerEvents:function(){var self=this;if(self.__requestManagerEventsInitialized){return;}var _116b=function(a,b){if(!a||!b){return false;}else{return a.contains?(a!=b&&a.contains(b)):(!!(a.compareDocumentPosition(b)&16));}};var prm=Sys.WebForms.PageRequestManager.getInstance();prm.add_pageLoaded(function(_116c,args){var _116d=args.get_panelsUpdated();if(_116d){for(var id in self.__instances){for(var i=0;i<_116d.length;i++){var _116e=self.__instances[id];if(_116b(_116d[i],document.getElementById(_116e._stateClientId))){_116e.handleEvents();break;}}}}});prm.add_endRequest(function(_116f,args){for(var id in self.__instances){var _1170=self.__instances[id];_1170.clearState();}});self.__requestManagerEventsInitialized=true;}}});});},"Sage/QuickForms/Design/nls/UserControlDesigner":function(){define("Sage/QuickForms/Design/nls/UserControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1171,lang){var nls={root:{displayNameText:"User"}};return lang.mixin(_1171,nls);});},"Sage/MainView/ActivityMgr/EventListPanelConfig":function(){define("Sage/MainView/ActivityMgr/EventListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/EventListPanelConfig"],function(_1172,_1173,_1174,_1175,_1176,_1177,_1178,_1179){var _117a=_1178("Sage.MainView.ActivityMgr.EventListPanelConfig",[_1172],{constructor:function(){this._nlsResources=_1179;this._listId="events";this._resourceKind="events";this.entityName="Event";this._contextMenu="EventListContextMenu";this._securedAction="ActivitiesViewEvents";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/event/create",this._onListRefresh);dojo.subscribe("/entity/event/change",this._onListRefresh);dojo.subscribe("/entity/event/delete",this._onListRefresh);},_onListRefresh:function(event){var _117b=Sage.Services.getService("ActivityService");_117b.refreshList("events");},_getSelect:function(){var _117c=["$key","Type","StartDate","EndDate","Location","Description","User/UserInfo/UserName","User/UserAccessToOtherCal/OthersAccessToUserCal/Id"];return _117c;},_getSort:function(){var sort=[{attribute:"StartDate",descending:true}];return sort;},_getWhere:function(){var where=(this._currentUserId)?dojo.string.substitute("(User.UserAccessToOtherCal.OthersAccessToUserCal.Id eq \"${0}\")",[this._currentUserId]):"";return where;},_getStructure:function(){var _117d=this._nlsResources.colNameType||"Type";var _117e=this._nlsResources.colNameStartDate||"Start Date";var _117f=this._nlsResources.colNameEndDate||"End Date";var _1180=this._nlsResources.colNameDescription||"Description";var _1181=this._nlsResources.colNameUser||"User";var _1182=this._nlsResources.colNameLocation||"Location";_1178("Sage.MainView.ActivityMgr.EventListPanelConfig.EditEventCell",dojox.grid.cells.Cell,{format:function(_1183,_1184){var type=this.get(_1183,_1184);var key=Sage.Utility.getValue(_1184,"$key");var html="<a href='javascript:Sage.Link.editEvent(\""+key+"\")' >"+"Edit"+"</a>";return html;}});_1178("Sage.MainView.ActivityMgr.EventListPanelConfig.EventTypeCell",dojox.grid.cells.Cell,{format:function(_1185,_1186){var key=Sage.Utility.getValue(_1186,"$key");var type=Sage.Utility.getValue(_1186,"Type");var html="<a href='javascript:Sage.Link.editEvent(\""+key+"\")' >"+type+"</a>";return html;}});var _1187=[{field:"Type",name:_117d,type:Sage.MainView.ActivityMgr.EventListPanelConfig.EventTypeCell,width:"100px"},{field:"StartDate",name:_117e,type:_1177,dateOnly:true,width:"100px"},{field:"EndDate",name:_117f,type:_1177,dateOnly:true,width:"100px"},{field:"User.UserInfo.UserName",name:_1181,width:"120px"},{field:"Location",name:_1182,width:"200px"},{field:"Description",name:_1180,width:"300px"}];return _1187;},_getDetailConfig:function(){var _1188=this._getFormatterScope();var _1189={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"EventSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/EventSummary.html",postProcessCallBack:false};return _1189;},_getFormatterScope:function(){var _118a=new _1175({requestConfiguration:{mashupName:"ActivityManager",queryName:"EventSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/EventSummary.html"});return _118a;},_getToolBars:function(){var _118b={items:[]};return _118b;}});return _117a;});},"url:Sage/UI/Controls/templates/Address.html":"<div class=\"address-container\" id=\"{%= $.clientId %}\" >\r\n    <!--\r\n    -- IMPORTANT: Comments in a widget template must be placed inside the root node.\r\n    Simplate template\r\n    https://github.com/mmorton/simplate\r\n    https://github.com/mmorton/simplate/blob/master/demo/index.html\r\n    Basic formatting example: {%= $.id %}\r\n    -->\r\n    <textarea id=\"{%= $.clientId %}_displayText\" class=\"address-textarea\" style=\"height:{%= $.height %};\"\r\n        data-dojo-type=\"Sage.UI.Controls.SimpleTextarea\" readonly=\"readonly\" dragRestriction=\"true\"  tabindex=\"{%= $.tabIndex %}\"\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n        data-dojo-attach-event=\"onDblClick: showDialog, ondijitclick: showDialog\"\r\n    {% } %}\r\n        slxchangehook=\"true\" >{%= $.displayValue %}</textarea>\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n    <img alt=\"{%= $.imageData.imageEditAltText %}\" data-dojo-attach-event=\"ondijitclick: showDialog\" class=\"address-edit-button\"\r\n         src=\"{%= $.imageData.imageEditUrl %}\" title=\"{%= $.imageData.imageEditToolTip %}\" id=\"{%= $.clientId %}-Button\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n    {% if ($.enabled && $.showButton) { %}\r\n    <img alt=\"{%= $.imageData.imageMapQuestAltText %}\" data-dojo-attach-event=\"ondijitclick: showMap\" class=\"address-map-button\"\r\n         src=\"{%= $.imageData.imageMapQuestUrl %}\" title=\"{%= $.imageData.imageMapQuestToolTip %}\" id=\"{%= $.clientId %}-MapQuest\" \r\n          tabindex=\"{%= $.tabIndex %}\" />\r\n    {% } %}\r\n</div>","Sage/Groups/nls/GroupNavigator":function(){define("Sage/Groups/nls/GroupNavigator",["Sage/LanguageList","dojo/_base/lang"],function(_118c,lang){var nls={root:{firstText:"Move First",previousText:"Move Previous",nextText:"Move Next",lastText:"Move Last",listText:"List View",noRecordsText:"No Records",labelFmtText:"${0} of ${1}"}};return lang.mixin(_118c,nls);});},"Sage/Utility/File/nls/AddURLAttachment":function(){define("Sage/Utility/File/nls/AddURLAttachment",["Sage/LanguageList","dojo/_base/lang"],function(_118d,lang){var nls={root:{descriptionText:"Description",urlText:"URL",titleText:"Add URL Attachment",okText:"OK",cancelText:"Cancel",requestFailedMsg:"The requested operation could not be completed, please try again later.",urlBlankMsg:"The URL or description property cannot be blank."}};return lang.mixin(_118d,nls);});},"Sage/UI/Filters/nls/EditFilterItems":function(){define("Sage/UI/Filters/nls/EditFilterItems",["Sage/LanguageList","dojo/_base/lang"],function(_118e,lang){var nls={root:{selectAllText:"Select All",findItemText:"Find Item:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Filter Items",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_118e,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsFormatter":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsFormatter",["Sage/LanguageList","dojo/_base/lang"],function(_118f,lang){var nls={root:{txtEdit:"Edit",txtDelete:"Delete",txtRangeValue:"${0} to ${1}"}};return lang.mixin(_118f,nls);});},"Sage/Utility/File/nls/DragDropWatcher":function(){define("Sage/Utility/File/nls/DragDropWatcher",["Sage/LanguageList","dojo/_base/lang"],function(_1190,lang){var nls={root:{query0:"The feature you are requesting requires the Saleslogix Desktop <br> Integration Module.",query1:"Find out more...",query2:"Would you like to install this feature now?",query3:"Note: This module can be installed at any time from the logon or options pages."}};return lang.mixin(_1190,nls);});},"Sage/QuickForms/Design/nls/DesignSurface":function(){define("Sage/QuickForms/Design/nls/DesignSurface",["Sage/LanguageList","dojo/_base/lang"],function(_1191,lang){var nls={root:{bisectionErrorText:"The placement will cause another control to be bisected.",rowBoundsErrorText:"The chosen row is out of bounds.",columnBoundsErrorText:"The chosen column is out of bounds.",rowSpanBoundsErrorText:"The chosen row span is out of bounds.",columnSpanBoundsErrorText:"The chosen column span is out of bounds.",occupiedErrorText:"There is not enough empty space for the chosen size."}};return lang.mixin(_1191,nls);});},"url:Sage/MainView/Opportunity/templates/UpdateOpportunities.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.updateMultipleOpps_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmUpdateMultipleOpps\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.update_Property_Caption %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<select title=\"{%= $.update_Property_Caption %}\" labelWidth=\"20\" name=\"{%= $.id %}_PropertyName\" dojoAttachPoint=\"propertyNameSelect\" dojoAttachEvent=\"onChange:_propertyChanged\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">',\r\n                            '{% for (var i=0; i < $._updateableProperties.length;i++) { %}',\r\n                                '<option value=\"{%= $._updateableProperties[i].propertyName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>',\r\n                            '{% } %}',\r\n                        '</select>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"divUpdateOppsTolbl\" dojoAttachPoint=\"divUpdateOppsTolbl\" class=\"display-none\">',\r\n                            '<label>{%= $.update_To_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoAttachPoint=\"divAcctMgrContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"accountMgr_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCloseProbContainer\" class=\"display-none\">',\r\n                            '<select id=\"{%= $.id %}_pkl_CloseProbability\" PickListName=\"Opportunity Probability\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_pkl_CloseProbability\" data-dojo-type=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pkl_CloseProbability\" canEditText=\"false\" itemMustExist=\"true\"></select>',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" dojoAttachPoint=\"divForecastContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_Yes %}\" value=\"yesForecast\" id=\"{%= $.id %}_rdgYesForecast\" dojoAttachPoint=\"rdoYesForecast\" checked=\"true\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_No %}\" value=\"noForecast\" id=\"{%= $.id %}_rdgNoForecast\" />',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" dojoAttachPoint=\"divEstCloseContainer\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" id=\"{%= $.id %}_rdgEstClose\" checked=\"true\" label=\"{%= $.estimatedClose_To %}\" value=\"estimatedClose\" dojoAttachPoint=\"rdoEstClose\" dojoAttachEvent=\"onChange:estimatedCloseDateChange\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" value=\"move\" id=\"{%= $.id %}_rdgEstMove\" label=\"{%= $.estimatedClose_MoveOut %}\" />',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCommentsContainer\" class=\"display-none\">',\r\n                            '<textarea data-dojo-type=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_txtComments\" dojoAttachPoint=\"txtComments\" style=\"font-size: 85%\"></textarea>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td>',\r\n                        '<div id=\"divEstCloseDateContainer\" class=\"display-none\" dojoAttachPoint=\"divEstCloseDateContainer\">',\r\n                            '<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtpEstCloseDate\" displayDate=\"true\" displayTime=\"false\" dojoAttachPoint=\"dtpEstCloseDate\"></div>',\r\n                        '</div>',\r\n                        '<div id=\"divMoveEstimatedCloseContainer\" class=\"display-none\" dojoAttachPoint=\"divMoveEstimatedCloseContainer\">',\r\n                            '<select data-dojo-type=\"dijit.form.Select\" name=\"moveEstCloseDate\" id=\"{%= $.id %}_moveEstCloseDateList\" dojoAttachPoint=\"moveEstCloseDateList\">',\r\n                                '<option value=\"Forward\">{%= $.moveEstCloseDate_Forward %}</option>',\r\n                                '<option value=\"Backward\">{%= $.moveEstCloseDate_Backward %}</option>',\r\n                            '</select>',\r\n                            '<div data-dojo-type=\"dijit.form.TextBox\" labelWidth=\"20\" dojoAttachPoint=\"daysToMove\"></div>&nbsp',\r\n                            '<label>{%= $.estimatedClose_Days %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/MainView/ActivityMgr/nls/ConfirmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/ConfirmListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1192,lang){var nls={root:{colNameType:"Activity Type",colNameNotification:"Notification",colNameStartDate:"Start Date",colNameDuration:"Duration",colNameRegarding:"Regarding",colNameFromUser:"From",colNameToUser:"To User"}};return lang.mixin(_1192,nls);});},"Sage/TaskPane/TaskPaneItem":function(){define("Sage/TaskPane/TaskPaneItem",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_1193,_1194,_1195){var _1196=_1195("Sage.TaskPane.TaskPaneItem",[_1193,_1194],{securedAction:"",linkText:"",confirmMsg:"",clientAction:"",serverAction:"",currentActionIndex:-1,actions:[],selectedItemList:{},action:"",type:"",postCreate:function(_1197){this.checkSecurityAccess();},templateString:"<a dojoAttachPoint=\"linkTextNode\" href=\"#\"></a>",attributeMap:dojo.delegate(_1193.prototype.attributeMap,{linkText:{node:"linkTextNode",type:"innerHTML"},action:{node:"linkTextNode",type:"attribute",attribute:"href"}}),setActionList:function(){this.actions.push(this.startConfirm);this.actions.push(this.startGetSelectedItems);this.actions.push(this.startClientAction);this.actions.push(this.startServerAction);},doNextAction:function(){this.currentActionIndex++;this.actions[this.currentActionIndex].call();},startConfirm:function(){var _1198=true;if(this.confirmMsg){_1198=confirm(this.confirmMsg);}this.processConfirmResult(_1198);},processConfirmResult:function(_1199){if(_1199===true){this.doNextAction();}},startClientAction:function(){var _119a=true;if(this.clientAction){if(typeof (this.clientAction)==="function"){_119a=this.clientAction.call();}}this.processClientActionResult(_119a);},processClientActionResult:function(_119b){this.doNextAction();},startServerAction:function(){if(this.serverAction){if(this.selectedItemList.length>0){__doPostBack(this.serverAction,this.selectedItemList);}}},startGetSelectedItems:function(){var _119c={key:"selectAll"};var _119d=Sage.Services.getService("SelectionContextService");if(_119d){_119d.getSelectedIds(_119c,this.processGetSelectedItemsResult);}},processGetSelectedItemsResult:function(_119e){this.selectedItemList=_119e;this.doNextAction();},getCurrentUserId:function(){var _119f="";var _11a0=Sage.Services.getService("ClientContextService");if(_11a0){_119f=_11a0.getValue("userID");}return _119f;},checkSecurityAccess:function(){var _11a1="none";if(this.securedAction.length>0){var _11a2=Sage.Services.getService("RoleSecurityService");_11a2.hasAccess(this.securedAction,function(_11a3){if(_11a3){_11a1="inline";}});}dojo.style(this.domNode,{"display":_11a1});}});return _1196;});},"Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/CrystalReportWizardController","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog","Sage/MainView/ReportMgr/Common/ExportOptionsDialog","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/UI/Dialogs","dojo/topic","dojo/string"],function(_11a4,_11a5,_11a6,_11a7,_11a8,_11a9,_11aa,_11ab,_11ac,topic,_11ad){var _11ae=_11a4("Sage.MainView.ReportMgr.CrystalReportWizardController",null,{_reportMetadata:null,wizardOptions:null,conditionOptions:null,parameterOptions:null,scheduleOptions:null,exportOptions:null,_mode:null,_nlsResources:_11a6,_subscriptions:[],_dialogIds:["dlgCrystalReportConditions","dlgCrystalReportParameters","dlgExportOptions"],constructor:function(_11af,_11b0){if(!_11af){return;}this._reportMetadata=_11af;if(!this._reportMetadata.reportFilters){this._reportMetadata.reportFilters=[];}this.wizardOptions=_11b0.wizardOptions?_11b0.wizardOptions:this._getDefaultWizardOptions();this.conditionOptions=_11b0.conditionOptions?_11b0.conditionOptions:this._getDefaultConditionOptions();this.parameterOptions=_11b0.parameterOptions?_11b0.parameterOptions:this._getDefaultParameterOptions();this.scheduleOptions=_11b0.scheduleOptions?_11b0.scheduleOptions:this._getDefaultScheduleOptions();this.exportOptions=_11b0.exportOptions?_11b0.exportOptions:this._getDefaultExportOptions();var self=this;this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/nextStep",function(_11b1,_11b2){self._nextStep(_11b1,_11b2);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/previousStep",function(_11b3,_11b4){self._previousStep(_11b3,_11b4);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/cancel",function(_11b5,_11b6){self._cancel();}));this._mode="new";if(this.scheduleOptions&&this.scheduleOptions.trigger){this._mode="edit";}},startWizard:function(){if(this._hasDynamicParameters()){_11ac.showError(this._nlsResources.txtDynamicParametersMessage,this._nlsResources.txtError);return;}var _11b7=this._getNextStep(_11a7.CrystalReportWizardStep.Init);this._goToStep(_11b7,null);},_nextStep:function(_11b8,_11b9){this._processCurrentStep(_11b8,_11b9);var _11ba=this._getNextStep(_11b8);this._goToStep(_11ba);},_previousStep:function(_11bb,_11bc){this._processCurrentStep(_11bb,_11bc);var _11bd=this._getPreviousStep(_11bb);this._goToStep(_11bd);},_cancel:function(){var self=this;setTimeout(function(){self._destroyObjects();},dijit.defaultDuration+100);},_getDefaultWizardOptions:function(){return {hiddenSteps:[]};},_getDefaultConditionOptions:function(){return {conditions:[],conditionsConnector:_11a7.ReportConditionConnector.And};},_getDefaultParameterOptions:function(){return {parameters:[]};},_getDefaultScheduleOptions:function(){return {executionType:_11a7.ExecutionType.OnDemand,trigger:null};},_getDefaultExportOptions:function(){return {outputFormat:_11a7.ReportExportFormat.Pdf,runAsUserId:null};},_hasDynamicParameters:function(){var _11be=false;_11a5.some(this._reportMetadata.parameters,function(_11bf,i){if(_11bf.isDynamic&&!_11bf.isOptionalPrompt){_11be=true;return true;}});return _11be;},_isStepVisible:function(step){var _11c0=true;if(this.wizardOptions&&this.wizardOptions.hiddenSteps){_11a5.some(this.wizardOptions.hiddenSteps,function(_11c1,i){if(step===_11c1){_11c0=false;return true;}});}if(!_11c0){return false;}switch(step){case _11a7.CrystalReportWizardStep.Parameters:return !!(this._reportMetadata.parameters&&this._reportMetadata.parameters.length>0);case _11a7.CrystalReportWizardStep.Conditions:return true;case _11a7.CrystalReportWizardStep.ExportOptions:return true;default:return true;}},_processCurrentStep:function(_11c2,_11c3){switch(_11c2){case _11a7.CrystalReportWizardStep.Conditions:this.conditionOptions=_11c3;break;case _11a7.CrystalReportWizardStep.Parameters:this.parameterOptions=_11c3;break;case _11a7.CrystalReportWizardStep.ExportOptions:this.exportOptions=_11c3.exportOptions;this.scheduleOptions=_11c3.scheduleOptions;break;}},_getNextStep:function(_11c4){for(var step in _11a7.CrystalReportWizardStep){var _11c5=_11a7.CrystalReportWizardStep[step];if(_11c5>_11c4&&this._isStepVisible(_11c5)){return _11c5;}}return null;},_getPreviousStep:function(_11c6){var _11c7=[];for(var step in _11a7.CrystalReportWizardStep){var _11c8=_11a7.CrystalReportWizardStep[step];_11c7.unshift(_11c8);}var self=this;var _11c9=null;_11a5.some(_11c7,function(_11ca,i){if(_11ca<_11c6&&self._isStepVisible(_11ca)){_11c9=_11ca;return true;}});return _11c9;},_goToStep:function(step){var _11cb=this._getNextStep(step);var _11cc=(_11cb===null||_11cb===_11a7.CrystalReportWizardStep.Finish);var _11cd=this._getPreviousStep(step);var _11ce=(_11cd===null||_11cd===_11a7.CrystalReportWizardStep.Init);var _11cf;var _11d0;switch(step){case _11a7.CrystalReportWizardStep.Conditions:_11cf=dijit.byId("dlgCrystalReportConditions");if(_11cf){_11cf.show();}else{_11d0={reportMetadata:this._reportMetadata,conditionOptions:this.conditionOptions,isLastStep:_11cc,isFirstStep:_11ce};_11cf=new _11a9(_11d0);_11cf.startup();_11cf.show();}break;case _11a7.CrystalReportWizardStep.Parameters:_11cf=dijit.byId("dlgCrystalReportParameters");if(_11cf){_11cf.show();}else{_11d0={reportMetadata:this._reportMetadata,parameters:this.parameterOptions.parameters,isLastStep:_11cc,isFirstStep:_11ce};_11cf=new _11a8(_11d0);_11cf.startup();_11cf.show();}break;case _11a7.CrystalReportWizardStep.ExportOptions:_11cf=dijit.byId("dlgExportOptions");if(_11cf){_11cf.show();}else{_11d0={reportMetadata:this._reportMetadata,isLastStep:_11cc,isFirstStep:_11ce,scheduleOptions:this.scheduleOptions,exportOptions:this.exportOptions};_11cf=new _11aa(_11d0);_11cf.startup();_11cf.show();}break;case _11a7.CrystalReportWizardStep.Finish:this._finishWizard();break;}},_finishWizard:function(){this._destroyObjects();switch(this._mode){case "new":switch(this.scheduleOptions.executionType){case _11a7.ExecutionType.Scheduled:this._scheduleReport();break;case _11a7.ExecutionType.OnDemand:this._runReport();break;}break;case "edit":this._updateSchedule();break;}},_destroyObjects:function(){_11a5.forEach(this._dialogIds,function(_11d1,i){var _11d2=dijit.byId(_11d1);if(_11d2){_11d2.destroyRecursive();}});_11a5.forEach(this._subscriptions,function(_11d3,i){_11d3.remove();});},_getJobParameters:function(){var _11d4=[];_11d4.push({name:"PluginFamily",value:this._reportMetadata.family});_11d4.push({name:"PluginName",value:this._reportMetadata.name});_11d4.push({name:"TemplateName",value:this._reportMetadata.displayName});_11d4.push({name:"ReportConditions",value:this.conditionOptions.conditions});_11d4.push({name:"ConditionsConnector",value:this.conditionOptions.conditionsConnector});if(this.conditionOptions.recordSelectionFormula){_11d4.push({name:"RecordSelectionFormula",value:this.conditionOptions.recordSelectionFormula});}_11d4.push({name:"ReportParameters",value:this.parameterOptions.parameters});var _11d5=this.exportOptions.description?this.exportOptions.description:this._reportMetadata.displayName;_11d4.push({name:"ScheduleName",value:_11d5});_11d4.push({name:"OutputFormat",value:this.exportOptions.outputFormat});if(this.exportOptions.runAsUserId){_11d4.push({name:"RunAsUserId",value:this.exportOptions.runAsUserId});}return _11d4;},_getJobOptions:function(){var _11d6=this._getJobParameters();var _11d7=(dojo.isString(this.exportOptions.description)&&(this.exportOptions.description!==""))?this.exportOptions.description:this._reportMetadata.displayName;var _11d8=dojo.date.locale.format(new Date(),{selector:"date",datePattern:"yyyy_MM_dd_hhmm"});var user="";var usr;if(typeof this.exportOptions.runAsUserId==="string"){usr=_11ab.getUser(this.exportOptions.runAsUserId);if(usr){user=usr.UserName;}}else{usr=_11ab.getUser(_11ab.getCurrentUser().userID);if(usr){user=usr.UserName;}}var _11d9=_11ad.substitute("${0}_${1}_${2}",[_11d7,user,_11d8]);var _11da={descriptor:_11d9,closable:true,reportType:_11a7.ReportTypes.CrystalReport,parameters:_11d6,title:_11d7,success:function(_11db){},failure:function(_11dc){}};return _11da;},_scheduleReport:function(){var _11dd=this._getJobOptions();_11dd.cronExpression=this.scheduleOptions.cronExpression;_11dd.descriptor=this.scheduleOptions.scheduleDescription;_11dd.startTime=this.scheduleOptions.startTime;_11dd.endTime=this.scheduleOptions.endTime;_11dd.success=function(){_11ac.showInfo(_11a6.txtReportSuccessfullyScheduled,_11a6.dlgScheduleReport_Title);};var _11de=Sage.Services.getService("ReportingService");_11de.scheduleReport(_11dd);},_runReport:function(){var _11df=this._getJobOptions();var _11e0=Sage.Services.getService("ReportingService");_11e0.runReport(_11df);},_updateSchedule:function(){var _11e1=this._getJobOptions();_11e1.cronExpression=this.scheduleOptions.cronExpression;_11e1.descriptor=this.scheduleOptions.scheduleDescription;_11e1.startTime=this.scheduleOptions.startTime;_11e1.endTime=this.scheduleOptions.endTime;_11e1.success=function(){_11ab.refreshList("schedules");_11ac.showInfo(_11a6.txtScheduleSuccessfullyUpdated,_11a6.dlgScheduleReport_Title);};_11e1.closable=true;_11e1.key=this.scheduleOptions.trigger.$key;_11e1.descriptor=this.scheduleOptions.scheduleDescription;var _11e2=Sage.Services.getService("ReportingService");_11e2.updateSchedule(_11e1);}});return _11ae;});},"Sage/QuickForms/Design/Editors/nls/FormAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_11e3,lang){var nls={root:{titleText:"Advanced",generalText:"General",useEntityNameAsTitleText:"Use Entity Name As Title:",useEntityNameAsTitleTooltipText:"Use name of current entity in form title."}};return lang.mixin(_11e3,nls);});},"Sage/MainView/ActivityMgr/nls/EventListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/EventListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_11e4,lang){var nls={root:{colNameType:"Type",colNameStartDate:"Start Date",colNameEndDate:"End Date",colNameDescription:"Description",colNameUser:"User",colNameLocation:"Location"}};return lang.mixin(_11e4,nls);});},"url:Sage/MainView/IntegrationContract/templates/AdvancedSearchOptions.html":"[\r\n'<div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.searchOptionsHeader %}',\r\n            '<span class=\"boldtext\">{%= $.configOptions.targetAccount %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.searchOptionsText %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:136px\">{%= $.operatorText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:118px\">{%= $.searchText %}</label>',\r\n    '</div>',\r\n    '<div dojoAttachPoint=\"conditionContainer\" style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').refineSearchObject.getSelections();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/Extensions/Activity/ListPanelOverrides/nls/AllOpenListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/nls/AllOpenListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_11e5,lang){var nls={root:{colNameAssociationCount:"Participant Count"}};return lang.mixin(_11e5,nls);});},"Sage/QuickForms/Design/GenericControlDesigner":function(){define("Sage/QuickForms/Design/GenericControlDesigner",["dojo/string","dojo/_base/declare","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/GenericBasicPropertyEditor","./Editors/GenericAdvancedPropertyEditor","dojo/i18n!./nls/GenericControlDesigner"],function(_11e6,_11e7,lang,_11e8,_11e9,_11ea,_11eb,_11ec,_11ed,_11ee,_11ef){return _11e7("Sage.QuickForms.Design.GenericControlDesigner",[_11e9,_11ea,_11e8,_11eb],{designSupport:{visible:true},editors:[_11ed,_11ee,_11ec],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div data-dojo-attach-point=\"containerNode\">","<span data-dojo-attach-point=\"designCaptionNode\"></span>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"visual_control",displayNameText:"Unknown",constructor:function(){lang.mixin(this,_11ef);},_setControlIdAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},getFormattedType:function(){var type=lang.getObject("$type",false,this.entry)||this.displayNameText,name=(type.indexOf(", ")!==-1)?type.split(", ")[0]:type,parts=(type.indexOf(".")!==-1)?name.split("."):[name];return parts[parts.length-1];},startup:function(){this.inherited(arguments);this.displayNameText=this.getFormattedType();this.set("designCaption",this.get("controlId"));this.applyVisibility();}});});},"Sage/MainView/ActivityMgr/BaseListPanelConfig":function(){define("Sage/MainView/ActivityMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_11f0,_11f1,Menu,_11f2,_11f3,_11f4,_11f5,_11f6,_11f7){var _11f8=_11f7("Sage.MainView.ActivityMgr.BaseListPanelConfig",[_11f0],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_service:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_schedeContextMenu:false,_activityService:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){this._nlsResources=_11f5;this._service=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");this._activityService=Sage.Services.getService("ActivityService");var _11f9=Sage.Services.getService("ClientContextService");if(_11f9){if(_11f9.containsKey("userID")){this._currentUserId=_11f9.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_onListRefresh:function(event){var _11fa=Sage.Services.getService("ActivityService");_11fa.refreshList();},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _11fb={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext};return _11fb;},_getStore:function(){var store=new _11f1({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _11fc=[];return _11fc;},_getInclude:function(){var _11fd=[];return _11fd;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _11fe=[];return _11fe;},_getSummaryConfig:function(){var store=new _11f1({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _11ff=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _1200=this._getFormatterScope();var _1201={structure:_11ff,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_1200};return _1201;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _1202={items:[]};return _1202;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return [];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _1203=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_1203.length;for(var i=0;i<len;i++){var mDef=_1203[i];if(mDef.id===this._contextMenu){this._buildChildMenu(mDef.submenu,null);}else{if(mDef.id===this._scheduleContextMenu){var _1204=new _11f3();this._menuItems.push(_1204);var _1205=new Menu();var _1206=new _11f2({label:mDef.text,popup:_1205});this._buildChildMenu(mDef.submenu,_1205);this._menuItems.push(_1206);}}}return this._menuItems;},_getGridMenu:function(){var _1207=dijit.byId("_listContextmenu");return _1207;},_buildChildMenu:function(_1208,_1209){var len=_1208.length;for(var i=0;i<len;i++){var mDef=_1208[i];if(mDef.submenu.length>0){var _120a=new Menu();this._buildChildMenu(mDef.submenu,_120a);var _120b=new _11f2({label:mDef.text,popup:_120a});if(_1209){_1209.addChild(_120b);}else{this._menuItems.push(_120b);}}else{var _120c=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_120c=new _11f3();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_120c=new _11f4({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_1209){_1209.addChild(_120c);}else{this._menuItems.push(_120c);}}}},_onListContext:function(){},getFilterConfig:function(_120d,entry,_120e){var _120f=this._service;var _1210=_120d;var _1211=this.entityName;var _1212=this._resourceKind;var where=this._where;var _1213={};_1213["groupId"]=this._listId;_1213["store"]=new _11f1({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_1210).setResourceKind("entities").setResourceSelector("\""+_1211+"\"").setResourceProperty("filters").setQueryArg("where","filterType ne \"analyticsMetric\"").setQueryArg("count",20)});_1213["createStoreForFilter"]=function(_1214){return _1214&&_1214["filterName"]?new _11f1({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_120f).setResourceKind(_1212).setResourceProperty("$queries/executeMetric").setQueryArg("_filterName",_1214["filterName"]).setQueryArg("orderby","displayName").setQueryArg("_activeFilter",where)}):null;};_1213["getFilterManager"]=function(){var _1215=_11f6.byId("list");return _1215&&_1215.get("filterManager");};return _1213;},getTimelessProperty:function(_1216){return false;}});return _11f8;});},"Sage/MainView/ReportMgr/Crystal/nls/MultiselectNumberParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/MultiselectNumberParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1217,lang){var nls={root:{txtPleaseSpecifyNumberBetween:"Please specify a numeric value between {0} and {1}.",txtPleaseSpecifyNumberLesser:"Please specify a numeric value less than or equal to {0}.",txtPleaseSpecifyNumberGreater:"Please specify a numeric value greater than or equal to {0}.",txtPleaseSpecifyValue:"Please specify a numeric value.",lblAvailableValues_Caption:"Available Values:",lblSelectedValues_Caption:"Selected Values:",lblEnterValue_Caption:"Enter a Value:"}};return lang.mixin(_1217,nls);});},"Sage/UI/Columns/CheckBox":function(){define("Sage/UI/Columns/CheckBox",["dojo/_base/declare"],function(_1218){var _1219=_1218("Sage.UI.Columns.CheckBox",dojox.grid.cells.Bool,{formatter:function(value,_121a,cel){var _121b=(value===true||value===1)?"<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />":"<input type=\"checkbox\" disabled=\"disabled\" />";return _121b;}});return _1219;});},"Sage/UI/TitleContentPane":function(){define("Sage/UI/TitleContentPane",["dijit/MenuSeparator","dijit/Menu","dijit/layout/ContentPane","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuBar","dijit/MenuBarItem","Sage/UI/PopupMenuBarItem","dojox/grid/DataGrid","Sage/UI/OrientableMenuBar","Sage/UI/GridMenuItem","Sage/UI/ImageButton","Sage/Utility","Sage/Groups/GroupContextService","Sage/Data/BaseSDataStore","Sage/UI/GroupsTitlePaneConfigProvider","dojo/dom-style","dojo/_base/array","dojo/dom-class","dojo/_base/declare","dojo/_base/lang"],function(_121c,Menu,_121d,_121e,_121f,_1220,_1221,_1222,_1223,_1224,_1225,_1226,_1227,_1228,_1229,_122a,_122b,array,_122c,_122d,lang){var _122e=_122d("Sage.UI.TitleContentPane",_121d,{started:false,_configurationProvider:null,_configuration:{},_titleFmtString:"${0}",_groupMenuBar:false,_groupMenu:false,title:false,tabConnects:null,startup:function(){this.inherited(arguments);var _122f,mode=_1227.getModeId();if(typeof mode==="string"&&mode.toLowerCase()==="list"){_122f=dojo.subscribe("/listView/applyConfiguration",lang.hitch(this,function(){dojo.disconnect(_122f);this._doStartup();}));}else{this._doStartup();}},_doStartup:function(){if(this.started){return;}this.tabConnects=[];if(this._configurationProvider===null){var eCtx=Sage.Services.getService("ClientEntityContext");if(eCtx){var c=eCtx.getContext();if(c["IsGroupsBasedEntity"]){this._configurationProvider=new _122a();}}}if(this._configurationProvider!==null){var _1230=dojo.create("div",{"id":"GroupMenuSpace","class":"GroupButton"});dojo.place(_1230,this.domNode);dojo.connect(this._configurationProvider,"onTitlePaneConfigurationChange",this,"resetConfiguration");this._configurationProvider.requestTitlePaneConfiguration({scope:this,success:function(_1231){this._setConfiguration(_1231);this.started=true;}});}else{this._hideEmptyTabBar();}},_resize:function(){var tabs=dijit.byId("GroupTabs");tabs.resize();},_setConfiguration:function(_1232){this._configuration=_1232;if(this._configuration){if(this._configuration.menu){this._addMenu(this._configuration.menu);}if(this._configuration.tabs){this._showTabBar();this._addTabs(this._configuration.tabs);}else{this._hideEmptyTabBar();}if(this._configuration.titleFmtString){this._titleFmtString=this._configuration.titleFmtString;}}},resetConfiguration:function(){var tabs=dijit.byId("GroupTabs");if(tabs){array.forEach(this.tabConnects,function(_1233){dojo.disconnect(_1233);});this.tabConnects=[];try{tabs.removeChildren();}catch(err){console.error(err);}}this.started=false;this._doStartup();},_setTitleAttr:function(title){dojo.html.set(dojo.byId("PageTitleText"),dojo.string.substitute(this._titleFmtString,[title]));},_setConfigurationProviderAttr:function(_1234){this._configurationProvider=_1234;this._doStartup();this._resize();},_addMenu:function(_1235){if(_1235){if(this._groupMenu){return;}this._groupMenuBar=new _1224({id:"groupMenuBar",title:_1235.tooltip,orientation:{"BR":"TR","BL":"TL"},baseClass:"group-menu-bar"});_122c.remove(this._groupMenuBar.containerNode,"dijitMenuBar");this._groupMenu=new Menu({id:"groupMenu",style:{width:_1235.width||"350px"}});this._addItemsToMenu(this._groupMenu,_1235.items);this._groupMenuBar.addChild(new _1222({label:_1235.text||"...",icon:_1235.img||this._blankGif,imageClass:_1235.imageClass||"",baseClass:"group-menu-button",id:_1235.id||Sage.guid("groupMenuItem"),popup:this._groupMenu,style:"width:80px"}));this._groupMenuBar.placeAt("GroupsWrapper","before");this._groupMenuBar.startup();var svc=Sage.Services.getService("RoleSecurityService");if(svc.hasAccess("Entities/Group/Add")){var _1236=new _1226({id:"addGroupButton",imageClass:"icon_plus_16x16",title:_1235.addGroupTooltip,onClick:function(){Sage.Groups.GroupManager.CreateGroup();}});_1236.placeAt("GroupsWrapper","before");_1236.startup();}}},_addItemsToMenu:function(menu,items){var len=items.length,itm;for(var i=0;i<len;i++){itm=items[i];if(itm.fn){menu.addChild(itm.fn.call(itm.scope||this));}else{if(itm.items&&itm.items.length>0){var _1237=new Menu({parentMenu:menu,id:itm.id+"_submenu"});this._addItemsToMenu(_1237,itm.items);menu.addChild(new _121e({label:itm.text||"...",icon:itm.img||this._blankGif,title:itm.tooltip||"",popup:_1237,id:itm.id}));}else{if(itm.isSeparator||itm.text==="-"){menu.addChild(new _121c());}else{menu.addChild(new _121e({label:itm.text||"...",icon:itm.img||this._blankGif,title:itm.tooltip||"",id:itm.id,onClick:itm.onClick||function(){document.location=itm.href;}}));}}}}},_addTabs:function(_1238){try{var _1239={selectedTabId:"",tabKeyProperty:"$key",tabNameProperty:"$descriptor",tabGroupNameProperty:"name",tabFamilyProperty:"family",tabHiddenProperty:false};dojo.mixin(_1239,_1238);if(_1239){var tabs=dijit.byId("GroupTabs");tabs.startup();var blank=this._blankGif;var _123a=typeof _1239.onTabClose==="function";var _123b;if(_1239.staticTabs){var len=_1239.staticTabs.length;for(var i=0;i<len;i++){var t=_1239.staticTabs[i];var tabId=t[_1239.tabKeyProperty];var sTab=dijit.byId(tabId)||new _121d({id:tabId,title:t[_1239.tabNameProperty],closable:true,dataItem:t,onClose:function(){return false;}});var child=tabs.addChild(sTab);if(_1239.selectedTabId===tabId){tabs.selectChild(sTab);}var _123c=dijit.byId(dojo.string.substitute("GroupTabs_tablist_${0}_Menu",[t[_1239.tabKeyProperty]]));_123c.destroyDescendants();if(_123c&&_1239.showTabContextMenus&&t["contextMenuItems"]){_123b=t["contextMenuItems"];for(var x=0;x<_123b.length;x++){var mItem=_123b[x];if(mItem.isspacer||mItem.text===""){_123c.addChild(new _121c());}else{var href=mItem.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}('${1}','${2}','${3}');",[href,t[_1239.tabKeyProperty],t[_1239.tabNameProperty],t[_1239.tabFamilyProperty]]);}else{var _123d={"groupId":t[_1239.tabKeyProperty],"groupName":t[_1239.tabNameProperty],"family":t[_1239.tabFamilyProperty]};href=dojo.string.substitute(href,_123d);}var _123e=t[_1239.tabFamilyProperty]+"_LOOKUP_"+x;var _123f=new _121e({id:_123e,label:mItem.text||"...",icon:mItem.img||blank,title:mItem.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});_123c.addChild(_123f);}}}}}if(_1239.lookupButton){_1239.lookupButton.startup();dojo.place(_1239.lookupButton.domNode,tabs.domNode,"before");}var _1240=_1227.getClientContextByKey("userID");var _1241={onComplete:function(data){var _1242,i,_1243=[],_1244,_1245=[],tabId;for(i=0;i<data.length;i++){_1242=data[i];if(_1239.tabHiddenProperty&&_1242[_1239.tabHiddenProperty]===true){continue;}tabId=_1242[_1239.tabKeyProperty];var aTab=dijit.byId(tabId)||new _121d({id:tabId,title:_1242[_1239.tabNameProperty],closable:_123a,dataItem:_1242});_1243.push(aTab);if(_1239.selectedTabId===_1242[_1239.tabKeyProperty]){_1244=aTab;}_1245.push((function menuFunction(_1246,_1247){var tabId=_1246[_1239.tabKeyProperty];return function(){var _1248=dijit.byId(dojo.string.substitute("GroupTabs_tablist_${0}_Menu",[_1246[_1239.tabKeyProperty]])),_1249=false,_124a=false,_124b=_1247.trim()==="ADMIN";if(_1246.userId!==_1247){_124a=true;}else{_124a=false;}if(!_1248){return;}_1248.destroyDescendants();if(Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus.groupTabContextMenu){var _124c=Sage.UI.DataStore.ContextMenus.groupTabContextMenu.items;for(var mi=0;mi<_124c.length;mi++){var mItem=_124c[mi];if((mItem.id==="gtcDelete"&&_124a&&!_124b)||(mItem.id==="gtcShare"&&_124a)){_1249=true;}else{_1249=false;}if(mItem.isspacer||mItem.text===""){_1248.addChild(new _121c());}else{var href=mItem.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}('${1}','${2}','${3}');",[href,_1246[_1239.tabKeyProperty],(_1246[_1239.tabGroupNameProperty]||_1246[_1239.tabNameProperty]),_1246[_1239.tabFamilyProperty]]);}else{var _124d={"groupId":_1246[_1239.tabKeyProperty],"groupName":_1246[_1239.tabNameProperty]||_1246[_1239.tabGroupNameProperty],"family":_1246[_1239.tabFamilyProperty]};href=dojo.string.substitute(href,_124d);}_1248.addChild(new _121e({id:tabId+"_tab_"+mi,label:mItem.text||"...",icon:mItem.img||blank,title:mItem.tooltip||"",ref:href,disabled:_1249,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}}));}}}};})(_1242,_1240));}dojo.connect(tabs,"onAddChildrenComplete",this,function(start,end){for(var i=start;i<end;i++){if(_1245[i]){_1245[i].call();_1245[i]=null;}}if(_1244){tabs.selectChild(_1244);_1244=null;}});tabs.addChildren(_1243,_1244);}};dojo.mixin(_1241,_1239.fetchParams);if(_1239.store){_1239.store.fetch(_1241);}if(_1239.onTabClick){this.tabConnects.push(dojo.connect(tabs,"onClick",_1239,"onTabClick",true));}if(_1239.onTabSelect){this.tabConnects.push(dojo.connect(tabs,"selectChild",_1239,"onTabSelect"));}if(_123a){this.tabConnects.push(dojo.connect(tabs,"closeChild",_1239,"onTabClose"));}}else{this._hideEmptyTabBar();}}catch(err){console.error(err);}},_hideEmptyTabBar:function(){var tabs=dijit.byId("GroupTabs");if(tabs){if(dojo.byId("localTitle").style.display!="none"){_122b.set(this.domNode,"height","37px");}else{_122b.set(this.domNode,"display","none");}this.getParent().layout();tabs.set("style","display:none");}},_showTabBar:function(){var tabs=dijit.byId("GroupTabs");if(tabs){if(dojo.byId("localTitle").style.display!="none"){_122b.set(this.domNode,"height","67px");}else{_122b.set(this.domNode,"display","none");}tabs.domNode.style.display="block";this.getParent().layout();}}});return _122e;});},"Sage/MainView/ReportMgr/Crystal/NumberParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/NumberParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divSingleValue\" style=\"padding-top: 5px;\">\r\n            <select data-dojo-type=\"dijit.form.Select\" dojoattachpoint=\"cmbValues\" style=\"width: 150px\">\r\n            </select>                    \r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px;\">\r\n            <input type=\"text\" dojoType=\"Sage.UI.Controls.Numeric\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" />            \r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/NumberParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/number","dojo/i18n!./nls/NumberParameterEditor","dojo/text!./templates/NumberParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","Sage/UI/Controls/Numeric","Sage/Utility"],function(_124e,_124f,_1250,_1251,_1252,_1253,_1254,_1255,_1256,_1257,_1258){var _1259=_1258.makeTemplateFromString(_1252);var _125a=_124e("Sage.MainView.ReportMgr.Crystal.NumberParameterEditor",[_1253],{widgetTemplate:_1259,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var self=this;this._promptParameter.currentValues=[];var _125b=this._getCurrentValue();if(_125b){var _125c=self._getParameterValue(_125b);self._promptParameter.currentValues.push(_125c);}return this._promptParameter;},constructor:function(_125d){},startup:function(){this.inherited(arguments);this.txtCustomValue.focusNode.textbox.value="";_1254.setDomNodeVisible(this.divValidationMessage,false);_1254.setDomNodeVisible(this.divSingleValue,false);_1254.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);if(this._values.length>0){_1254.setDomNodeVisible(this.divSingleValue,true);this._initializeValuesDropdown();}else{if(this._initialValues&&this._initialValues.length>0){this.txtCustomValue.focusNode.textbox.value=this._initialValues[0].value;}}this._initializeMessages();},isValid:function(){var valid=true;var msg="";if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){var _125e=this._getCurrentValue();if(_125e===null){msg=_1251.txtPleaseSpecifyValue;valid=false;}else{if(!this._valueWithinMinMaxRange(_125e)){msg=this._getMinMaxValidationMessage(_125e);valid=false;}}}else{valid=true;}this._showValidationMessage(msg);return valid;},_initializeMessages:function(){var _125f=null;if(this._minimum&&!this._maximum){_125f=dojo.replace(_1251.txtPleaseSpecifyNumberGreater,[this._minimum]);}if(!this._minimum&&this._maximum){_125f=dojo.replace(_1251.txtPleaseSpecifyNumberLesser,[this._maximum]);}if(this._minimum&&this._maximum){_125f=dojo.replace(_1251.txtPleaseSpecifyNumberBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_125f);_1254.setDomNodeVisible(this.divMinMaxMessage,(_125f!==null));},_valueWithinMinMaxRange:function(_1260){if(this._minimum&&(_1260<this._minimum)){return false;}if(this._maximum&&(_1260>this._maximum)){return false;}return true;},_getMinMaxValidationMessage:function(_1261){var _1262="";if(this._minimum&&(_1261<this._minimum)){_1262=dojo.replace(_1251.txtPleaseSpecifyNumberGreater,[this._minimum]);return _1262;}if(this._maximum&&(_1261>this._maximum)){_1262=dojo.replace(_1251.txtPleaseSpecifyNumberLesser,[this._maximum]);return _1262;}return "";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_1254.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getCurrentValue:function(){var _1263=this.txtCustomValue.focusNode.textbox.value;if(dojo.isString(_1263)&&_1263!==""){return _1250.parse(_1263);}else{var _1264=this.cmbValues.get("value");if(_1264!==null&&_1264!==""&&_1264!=="-1"){var value=this._getOriginalParameterValue(_1264);return _1250.parse(value.discreteValue.actualValue);}}return null;},_getParameterValue:function(_1265){var _1266={className:"CrystalReports.ParameterFieldDiscreteValue",description:null,discreteValue:{actualValue:_1265,actualValueType:"Int32",value:_1265,valueType:"Int32"}};return _1266;},_initializeValuesDropdown:function(){var items=dojo.clone(this._values);if(this._initialValues.length===0){items.unshift({_id:"-1",description:"..."});}var data={identifier:"_id",label:"description",items:items};var store=new _1255({data:data});this.cmbValues.setStore(store);this.cmbValues.startup();var self=this;_124f.some(this._initialIds,function(_1267,i){self.cmbValues.attr("value",_1267);return true;});}});return _125a;});},"Sage/UI/nls/ActivityScheduler":function(){define("Sage/UI/nls/ActivityScheduler",["Sage/LanguageList","dojo/_base/lang"],function(_1268,lang){var nls={root:{tooltipTime:"Time",tooltipContactName:"Contact",tooltipAccountName:"Account",tooltipCompanyName:"Company",tooltipLeadName:"Lead",tooltipPhoneNumber:"Phone",tooltipRegarding:"Regarding",tooltipPriority:"Priority",tooltipNotes:"Notes",tooltipType:"Type",tooltipDayType:"Day Type",tooltipStartDate:"Start Date",tooltipEndDate:"End Date",tooltipLocation:"Location",tooltipDescription:"Description",completedText:"(Completed)",tooltipMoreActivities:"Click for more activities",scheduler_dates:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},scheduler_labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",workweek_tab:"Work week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda"}}};return lang.mixin(_1268,nls);});},"Sage/MainView/nls/SecurityManager":function(){define("Sage/MainView/nls/SecurityManager",["Sage/LanguageList","dojo/_base/lang"],function(_1269,lang){var nls={root:{accessText:"Access",columnText:"Column",entityText:"Entity",noAccessText:"No Access",profilesText:"Profiles",propertyText:"Property",securityManagerText:"Security Manager",readOnlyText:"Read Only",readWriteText:"Read Write",resetText:"Reset",saveText:"Save",tableText:"Table"}};return lang.mixin(_1269,nls);});},"url:Sage/templates/GridMenuItem.html":"<tr class=\"dijitGridMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"4\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\" style=\"display:none\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"display:none\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n    <td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\" style=\"display:none\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n</tr>\n","Sage/TaskPane/nls/ActivityTaskConfigurationProvider":function(){define("Sage/TaskPane/nls/ActivityTaskConfigurationProvider",["Sage/LanguageList","dojo/_base/lang"],function(_126a,lang){var nls={root:{scheduleText:"Schedule",eventText:"Event",phoneCallText:"Phone Call",toDoText:"To-Do",meetingText:"Meeting",personalActivityText:"Personal Activity",deleteConfirmationText:"Delete Confirmation",acceptConfirmationText:"Accept Confirmation",declineConfirmationText:"Decline Confirmation",completeActivityText:"Complete Activity",deleteActivityText:"Delete Activity",deleteEventText:"Delete Event",scheduleEventText:"Schedule Event",scheduleRequestText:"Schedule Request",deleteRequestText:"Delete Request",recordsSelectedText:"record(s) selected",clearText:"Clear"}};return lang.mixin(_126a,nls);});},"Sage/Data/WritableStore":function(){define("Sage/Data/WritableStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_126b,_126c,_126d,lang){var _126e=_126d("Sage.Data.WritableStore",_126b,{isInsertMode:false,constructor:function(o){lang.mixin(this,o);this.features["dojo.data.api.Write"]=true;this.features["dojo.data.api.Notification"]=true;this.identityAttributes=["$cacheID"];this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;if(!o.hasOwnProperty("isInsertMode")){this.isInsertMode=_126c.getModeId()==="insert";}},entry:"",fetch:function(_126f){var items={};items.$resources=[];if(_126f.isRender&&this.dataCarrierId){var _1270=dojo.query([".",this.dataCarrierId].join(""));if(_1270[0].value.length>0){var _1271=dojo.fromJson(_1270[0].value);this.addItemsToCache(_126f,_1271.$resources);}}for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){items.$resources.push(this.dataCache[item]);}}this.setContext(_126f);this.verifyService();if(this.isInsertMode){var self=this;window.setTimeout(function(){self.onSuccess(_126f,items);},5);return;}var _1272=new Sage.SData.Client.SDataResourceCollectionRequest(this.service).setResourceKind(this.resourceKind).setStartIndex(_126f.start+1).setCount(_126f.count);var qry="";if(this.query){if(!_126f.query){_126f.query={};}lang.mixin(_126f.query,this.query);}if(_126f.query){if(typeof _126f.query==="function"){qry=_126f.query();}else{if(typeof _126f.query==="string"){qry=_126f.query;}else{if(typeof _126f.query==="object"){if(_126f.query.hasOwnProperty("fn")){qry=_126f.query.fn.call(_126f.query.scope||this);}if(_126f.query.hasOwnProperty("conditions")){if(typeof _126f.query.conditions==="string"){qry+=(qry.length>0)?" and "+_126f.query.conditions:_126f.query.conditions;}}}}}}_126f.evaluatedQuery=qry||"";if(qry&&qry!==""){_1272.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_1272.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_1272.setQueryArg("include",this.include.join(","));}var key=_1272.read({success:lang.hitch(this,this.onSuccess,_126f),failure:lang.hitch(this,this.onFailure,_126f)});return {abort:lang.hitch(this,this.abortRequest,key)};},onSuccess:function(_1273,feed){if(this.entry===""){this.entry=feed;}if(_1273.onBegin){_1273.onBegin.call(_1273.scope||this,feed.$resources.length,_1273);}if(_1273.onComplete){_1273.onComplete.call(_1273.scope||this,feed.$resources,_1273);}},addToCache:function(_1274,item,count){var key;count=(typeof count==="undefined")?(Math.random()*11):count;if(this.isInsertMode){item.$cacheID=new Date().getTime()+count;}key=this.getIdentity(item);this.dataCache[key]=item;},addItemsToCache:function(_1275,items){for(var i=0;i<items.length;i++){this.addToCache(_1275,items[i],i);}},clearCache:function(){this.inherited(arguments);this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_1276){var id=this.getIdentity(_1276);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_1277){return this.isItem(_1277);},loadItem:function(_1278){if(!this.isItem(_1278.item)){throw new Error("Unable to load "+_1278.item);}},getValues:function(item,_1279){if(this.isItem(item)&&(typeof _1279==="string")){return (item[_1279]||[]).slice(0);}return [];},hasAttribute:function(item,_127a){if(this.isItem(item)&&(typeof _127a==="string")){return _127a in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,scope){var id=this.getIdentity(item);if(id&&id!==""){delete this.dataCache[id];}var _127b={};_127b.scope=scope||this;var _127c=function(){if(typeof this.onResponse==="function"){this.onResponse.call(this);}};_127b.success=_127c;_127b.success.call(_127b.scope);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},newItem:function(args){var _127d=this.createTemplateRequest();if(_127d){_127d.read({success:function(entry){if((args)&&(args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,entry);}},failure:this.requestTemplateFailure,scope:this});}},createTemplateRequest:function(){var _127e=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_127e.setResourceKind(this.resourceKind);}return _127e;},requestTemplateFailure:function(){},saveNewEntity:function(_127f,_1280,_1281,scope){this.addToCache(scope,_127f);_1280();},createItem:function(item,scope){var _1282={};_1282.scope=scope||this;_1282.scope.store=this;var _1283=function(_1284){if(typeof this.onResponse==="function"){this.onResponse.call(this,_1284);}};_1282.success=_1283;this.addToCache(scope,item);_1282.success.call(_1282.scope,item);},revert:function(){this.clearDirtyDataCache();this.onDataReset();},setValue:function(item,_1285,value){var _1286=this.getValue(item,_1285,"");_126c.setValue(item,_1285,value);this.onSet(item,_1285,_1286,value);return true;},setValues:function(item,_1287,_1288){alert("not implemented - setValues");},unsetAttribute:function(item,_1289){alert("not implemented - unsetAttribute");},dataCacheToArray:function(){var _128a=[];for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){_128a.push(this.dataCache[item]);}}return _128a;},onDataChange:function(){this.clearDirtyDataCache();var _128b=dojo.query([".",this.dataCarrierId].join(""));if(_128b[0]){this.entry.$resources=this.dataCacheToArray();_128b[0].value=JSON.stringify(this.entry);}},onSet:function(item,_128c,_128d,_128e){},onNew:function(_128f,_1290){},onDelete:function(_1291){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_1292,_1293){},onItemNotSaved:function(_1294,error){}});return _126e;});},"Sage/QuickForms/Design/Editors/CurrencyAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CurrencyAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CurrencyAdvancedPropertyEditor"],function(_1295,lang,_1296,_1297,_1298,_1299,_129a,_129b,_129c,_129d,_129e){return _1295("Sage.QuickForms.Design.Editors.CurrencyAdvancedPropertyEditor",[_1296,_129c,_129b],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.displayModeTooltipText %}\">","<label>{%= $.displayModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_displayMode\" data-dojo-attach-event=\"onChange:_onDisplayModeChange\">","{% for (var type in $.displayTypeText) { %}","<span value=\"{%= type %}\">{%= $.displayTypeText[type] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.decimalDigitsTooltipText %}\">","<label>{%= $.decimalDigitsText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_decimalDigits\" data-dojo-props=\"constraints:{min:-1,max:100,places:0}\" data-dojo-attach-event=\"onChange:_onDecimalDigitsChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-attach-point=\"_maxLength\" data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.exchangeRateTypeTooltipText %}\">","<label>{%= $.exchangeRateTypeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_exchangeRateType\" data-dojo-attach-event=\"onChange:_onExchangeRateTypeChange\">","{% for (var rate in $.exchangeTypeText) { %}","<span value=\"{%= rate %}\">{%= $.exchangeTypeText[rate] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlId:null,_controlLabelPlacement:null,_controlType:null,_decimalDigits:null,_defaultDataBinding:null,_displayCurrencyCode:null,_displayMode:null,_enabled:null,_exchangeRateType:null,_maxLength:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",exchangeRateTypeText:"Exchange Rate Type:",exchangeRateTypeTooltipText:"Type of exchange rate to show in currency fields.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",displayTypeText:{"AsHyperlink":"As Hyperlink","AsControl":"As Control","AsText":"As Text"},exchangeTypeText:{"BaseRate":"Base Rate","OpportunityRate":"Opportunity Rate (Deprecated)","MyRate":"My Rate","SalesOrderRate":"Sales Order Rate (Deprecated)","EntityRate":"Entity Rate"},labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_129e);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._decimalDigits.set("value",this._designer.get("decimalDigits"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._exchangeRateType.set("value",this._designer.get("exchangeRateType"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _129f=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_129f&&_129f["DataItemName"])||"");},_onControlIdChange:function(value){},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onControlTypeChange:function(value){},_onDecimalDigitsChange:function(value){if(this.isSuspended()||!this._decimalDigits.isValid()){return;}this._designer.set("decimalDigits",value);},_onDefaultDataBindingChange:function(value){},_onDisplayModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("displayMode",value);},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onExchangeRateTypeChange:function(value){if(this.isSuspended()){return;}this._designer.set("exchangeRateType",value);},_onMaxLengthChange:function(value){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/QuickForms/Design/PhoneControlDesigner":function(){define("Sage/QuickForms/Design/PhoneControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/PhoneControlDesigner"],function(_12a0,array,lang,_12a1,_12a2,_12a3,_12a4,_12a5){return _12a0("Sage.QuickForms.Design.PhoneControlDesigner",[_12a1],{designSupport:{visible:true},editors:[_12a3,_12a4,_12a2],widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %} design-phone\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"design-phone-icon\"></div>","</div>","</div>"]),helpTopicName:"Phone_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXPhone, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Phone",constructor:function(){lang.mixin(this,_12a5);}});});},"Sage/UI/Controls/nls/EntityInfoToolTip":function(){define("Sage/UI/Controls/nls/EntityInfoToolTip",["Sage/LanguageList","dojo/_base/lang"],function(_12a6,lang){var nls={root:{errorText:"Information not found.",loadingText:"Loading...",noInfoText:"No information to show.",mainText:"Main:",faxText:"Fax:",tollFreeText:"Toll Free:",urlText:"Web URL:",workText:"Work:",mobileText:"Mobile:",emailText:"Email:",contactNameText:"Name:",phoneText:"Phone:",accountText:"Account:"}};return lang.mixin(_12a6,nls);});},"Sage/MainView/ActivityMgr/ActivityEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/ActivityEditor.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"activityDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"regardingContainer\">',\r\n                '<select id=\"pk_Regarding\" label=\"{%= $.regardingText %}\" id=\"{%= $.id %}_pk_Regarding\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" ></select>',\r\n                '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n        //Dates section for add/edit mode..................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_AddEdit\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_startDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div dojoType=\"dojox.layout.TableContainer\" label=\"{%= $.alarmText %}\" cols=\"2\" showLabels=\"false\" class=\"removeExtraSpace\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" id=\"{%= $.id %}_cb_Alarm\" dojoAttachPoint=\"cb_Alarm\" ></div>',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" id=\"{%= $.id %}_sel_AlarmDur\" dojoAttachPoint=\"sel_AlarmDur\" valuesAreAfterStart=\"false\" ></div>',\r\n                '</div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_cb_AutoRollover\" dojoAttachPoint=\"cb_AutoRollover\"></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_AutoRollover\">{%= $.rolloverText %}</label>',\r\n                '</div>',\r\n            '</div>',\r\n        //Dates section for complete mode...................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_Complete\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_completedDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_scheduledDate\" dojoAttachPoint=\"dtp_scheduledDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.scheduledText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_TimelessComplete\" dojoAttachPoint=\"cb_TimelessComplete\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_TimelessComplete\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_DurationComplete\" dojoAttachPoint=\"sel_DurationComplete\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n            '</div>',\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditActivity\"  dojoAttachPoint=\"tc_EditActivity\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"resultContainer\" class=\"bottom-border-section\">', \r\n                        '<select shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" label=\"{%= $.resultText %}\" id=\"{%= $.id %}_pl_Result\"  name=\"pl_Result\" dojoAttachPoint=\"pl_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" class=\"bottom-border-section\" >',\r\n                        '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"&nbsp;\" class=\"dijitTextBox\" style=\"border-width:0px\">&nbsp;</div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" class=\"valigntop\" dojoAttachPoint=\"notesContainer\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\"></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n/* Availability Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Availability\" title=\"{%= $.tabNameAvailabilityText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Availability\" dojoAttachEvent=\"onShow:_onShowAvailabilityTab\">',\r\n                    '<div dojoType=\"dijit.Toolbar\" region=\"top\" splitter=\"false\" class=\"right-tools\" >',  // list-panel-tbar                                  \r\n                        '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"container_ResourcesLup\" class=\"remove-padding\"></div>',\r\n                    '</div>',\r\n/* Scheduler ........... */\r\n                    '<div id=\"scheduler_here\" class=\"dhx_cal_container\" style=\"width:100%;height:230px;\">',\r\n                        '<div class=\"dhx_cal_navline\">',\r\n                            '<div class=\"dhx_cal_prev_timeline_button\" style=\"right:50px;\">&nbsp;</div>',\r\n\t\t\t                '<div class=\"dhx_cal_next_timeline_button\" style=\"right:19px;\">&nbsp;</div>',\r\n//'<div class=\"dhx_cal_today_button\"></div>',\r\n\t\t\t                '<div class=\"dhx_cal_date\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"day_tab\" style=\"right:204px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"week_tab\" style=\"right:140px;\"></div>',\r\n                            '<div class=\"dhx_cal_tab\" name=\"timeline_tab\" style=\"right:280px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"month_tab\" style=\"right:76px;\"></div>',\r\n\t\t                '</div>',\r\n\t\t                '<div class=\"dhx_cal_header\"></div>',\r\n\t\t                '<div class=\"dhx_cal_data\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n/* Recurring Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Recurring\" title=\"{%= $.recurringText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Recurring\" dojoAttachEvent=\"onShow:_showRecurringTab\">',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.MainView.ActivityMgr.RecurringEditor\" id=\"{%= $.id %}_recEd\" labelWidth=\"{%= $.labelWidth - 20 %}\" dojoAttachPoint=\"_recurringEditor\"></div>',\r\n                '</div>',\r\n/* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%\"></div>',\r\n                '</div>',\r\n            '</div>',  //tab container\r\n/* Buttons       */\r\n        // Add/edit activity buttons\r\n            '<table class=\"button-bar\" id=\"add_edit_buttons\" dojoAttachPoint=\"add_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                    '</td><td class=\"alignright\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Complete\" name=\"btn_Complete\" dojoAttachPoint=\"btn_Complete\" dojoAttachEvent=\"onClick:_completeClick\">{%= $.completeBtnText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Delete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n        //complete activity buttons\r\n            '<table class=\"button-bar display-none\" id=\"complete_buttons\" dojoAttachPoint=\"complete_buttons\">',\r\n                '<tr>',\r\n                    '<col width=\"50%\" /><col width=\"50%\" />',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"sel_Followup\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"phone\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"meeting\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"todo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',\r\n                    '</td><td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_asScheduled\" name=\"btn_asScheduled\" dojoAttachPoint=\"btn_asScheduled\" dojoAttachEvent=\"onClick:_asScheduledClick\">{%= $.asScheduledText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Now\" name=\"btn_Now\" dojoAttachPoint=\"btn_Now\" dojoAttachEvent=\"onClick:_nowClick\">{%= $.nowText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_CancelComplete\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_CancelComplete\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr><tr>',\r\n                    '<td class=\"alignleft\" >',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledByComp\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n\r\n        //Confirmations button bar...\r\n            '<table class=\"button-bar display-none\" id=\"confirmation_edit_buttons\" dojoAttachPoint=\"confirmation_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\" style=\"width:{%= $.labelWidth %}px;\">',\r\n                        '<label for=\"{%= $.id %}_ta_confirmationResponse\" id=\"responseLabel\" dojoAttachPoint=\"responseLabel\">{%= $.responseText %}</label>',\r\n                    '</td>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_confirmationResponse\" dojoAttachPoint=\"ta_confirmationResponse\" class=\"notes-text dijitTextBox\" maxLength=\"128\" ></textarea>',\r\n                    '</td><td class=\"alignright valignbottom\">',\r\n                        '<span id=\"newConfButtons\" dojoAttachPoint=\"newConfButtons\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_accept\" name=\"btn_accept\" dojoAttachPoint=\"btn_accept\" dojoAttachEvent=\"onClick:_acceptConfClick\">{%= $.acceptText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_decline\" name=\"btn_decline\" dojoAttachPoint=\"btn_decline\" dojoAttachEvent=\"onClick:_declineClick\">{%= $.declineText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_cancelConf\" name=\"btn_cancelConf\" dojoAttachPoint=\"btn_cancelConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                        '</span>',\r\n                        '<span id=\"otherConfButtons\" dojoAttachPoint=\"otherConfButtons\" class=\"display-none\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_deleteConf\" name=\"btn_deleteConf\" dojoAttachPoint=\"btn_deleteConf\" dojoAttachEvent=\"onClick:_deleteConfClick\">{%= $.deleteConfText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_closeConf\" name=\"btn_closeConf\" dojoAttachPoint=\"btn_closeConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.closeText %}</div>',\r\n                        '</span>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n"}});define("Sage/MainView/ActivityMgr/ActivityEditor",["dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/Utility/Activity","dojo/date","dojo/date/locale","dojo/string","Sage/UI/Dialogs","dijit/Tooltip","Sage/UI/AttachmentList","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/UI/Controls/Lookup","dojo/i18n!./nls/ActivityEditor","dojo/text!./templates/ActivityEditor.html","dojo/dom-class","Sage/Utility/UserOptions","dijit/focus","dojo/_base/lang","Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab","dijit/layout/ContentPane","dojo/on","dijit/Toolbar","dijit/layout/TabContainer","dijit/form/Textarea","dojox/layout/TableContainer","dijit/layout/BorderContainer","dijit/form/ComboBox","Sage/Services/UserOptions","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/Lookup","Sage/MainView/ActivityMgr/RecurringEditor","dijit/Dialog","Sage/UI/Controls/DurationSelect","Sage/Services/CalendarSecurityService"],function(_12a7,_12a8,_12a9,_12aa,_12ab,_12ac,_12ad,_12ae,_12af,_12b0,_12b1,_12b2,_12b3,_12b4,_12b5,_12b6,_12b7,_12b8,_12b9,_12ba,_12bb,_12bc,_12bd,_12be,_12bf,lang,_12c0,_12c1,on){var _12c2=_12a9("Sage.MainView.ActivityMgr.ActivityEditor",[_12a7,_12a8],{activityId:"",activityMemberId:"",_memberSecurityData:[],mode:"",userNotificationId:"",id:"",activityType:"",_options:{},_dialog:false,_currentUserId:null,_originalLeaderId:false,_activityService:false,_activityData:false,_activityStore:false,_currentUserActivityData:false,_tempUAData:false,_currentUserActivityStore:false,_notificationData:false,_notificationStore:false,_notificationBindingMgr:false,_historyStore:false,_deleteAttendeeConnects:[],_attendeesData:[],_newAttendeesData:[],_attendeesForRemoval:[],_userActivitiesRequestCount:0,_resourceRequestCount:0,_resourceDeleteRequestCount:0,_availabilityShowing:false,_bindingMgr:false,_uaBindingMgr:false,_activityChangeConnection:false,lup_Account:false,lup_Contact:false,lup_Opportunity:false,lup_Ticket:false,lup_Lead:false,lup_Leader:false,accountLookupConfig:{},contactLookupConfig:{},opportunityLookupConfig:{},ticketLookupConfig:{},leadLookupConfig:{},resourcesLookupConfig:{},_isBinding:false,_activitySaved:false,_userActivitiesSaved:false,_currentUserActivitySaved:false,_resourcesSaved:false,_resourcesRemoved:false,_attachmentsSaved:false,_completeAfterSaving:false,_attachmentList:false,_tempIdForAttachments:false,confirmationDisableList:["pk_Regarding","tb_Location","dtp_startDate","sel_Duration","cb_Timeless","cb_Alarm","sel_AlarmDur","cb_AutoRollover","rdo_Contact","rdo_Lead","lup_Account","lup_Contact","lup_Opportunity","lup_Ticket","lup_Lead","ta_Notes","pk_Priority","lup_Leader","pk_Category"],noEditDisableList:["pk_Regarding","tb_Location","dtp_startDate","sel_Duration","cb_Timeless","cb_AutoRollover","rdo_Contact","rdo_Lead","lup_Account","lup_Contact","lup_Opportunity","lup_Ticket","lup_Lead","pk_Priority","lup_Leader","pk_Category"],_readOnlyMode:false,_isProcessing:false,eventConnections:[],activityDefaultValues:{},widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_12bc)),constructor:function(){_12ae.mixin(this,_12bb);this._preloadActivityOptions();this._activityService=_12b7.getSDataService("system");this._setupStore();this._currentUserId=_12ac.getClientContextByKey("userID")||"";this._currentUserId=this._currentUserId.trim();dojo.subscribe("/entity/attachment/create",this,this._updateActivityETag);dojo.subscribe("/entity/attachment/update",this,this._updateActivityETag);dojo.subscribe("/entity/attachment/delete",this,this._updateActivityETag);},destroy:function(){if(this._activityChangeConnection){dojo.disconnect(this._activityChangeConnection);this._activityChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}if(this._uaBindingMgr){this._uaBindingMgr.destroy();}for(var i=0;i<this.eventConnections.length;i++){dojo.disconnect(this.eventConnections[i]);}this.lup_Account.destroy();this.lup_Contact.destroy();this.lup_Opportunity.destroy();this.lup_Ticket.destroy();this.lup_Lead.destroy();this.lup_Leader.destroy();this.eventConnections=[];this.inherited(arguments);},postCreate:function(){this._asScheduledTooltip=new _12b5({connectId:[this.btn_asScheduled.id],label:" ",position:["below"]});dojo.connect(this.dtp_scheduledDate,"onChange",this,function(){this._asScheduledTooltip.set("label",_12b2.format(this.dtp_scheduledDate.get("value"),{selector:"datetime",fullYear:true}));});this._nowTooltip=new _12b5({connectId:[this.btn_Now.id],label:" ",position:["below"]});dojo.connect(this.dtp_completedDate,"onChange",this,function(){this._nowTooltip.set("label",_12b2.format(this.dtp_completedDate.get("value"),{selector:"datetime",fullYear:true}));});dojo.subscribe("/entity/activityAttendee/primaryChanged",this,this.primaryChanged);dojo.subscribe("/entity/activityAttendee/add",this,this._updateActivityAttendeeETag);dojo.subscribe("/entity/activityAttendee/delete",this,this._updateActivityAttendeeETag);},primaryChanged:function(_12c3,type,_12c4){var _12c5=_12ae.clone(_12c3);_12c5["attendeeTab"]=true;_12c5["$descriptor"]=_12c5["Name"];_12c5["$key"]=_12c5["EntityId"];var self=this;if(_12c5.EntityType=="Contact"){if(!_12c5["Account"]){_12c5["Account"]={"$key":_12c5["AccountId"],"AccountName":_12c5["AccountName"]||_12c5["Company"]};}_12c5["ContactId"]=_12c5["EntityId"];if(_12c5["PrimaryChecked"]){this.rdo_Contact.set("checked",true);this.rdo_Lead.set("checked",false);this.lup_Contact.set("selectedObject",_12c5);this.attendeesTab._uncheckItem=_12c5;}else{this.lup_Contact.set("selectedObject",null);}}else{if(_12c5.EntityType=="Lead"){_12c5["Company"]=_12c5["AccountName"];_12c5["LeadFullName"]=_12c5["Name"];_12c5["LeadId"]=_12c5["EntityId"];if(_12c5["PrimaryChecked"]){this.rdo_Contact.set("checked",false);this.rdo_Lead.set("checked",true);this.lup_Lead.set("selectedObject",_12c5);this.attendeesTab._uncheckItem=_12c5;}else{this.lup_Lead.set("selectedObject",null);}}}},isFirstOpen:true,show:function(_12c6){this._isProcessing=false;this._dialog.set("refocus",false);this._dialog.show();if(this.isFirstOpen){this.isFirstOpen=false;this._ensureLookupsCreated();this.connect(this._recurringEditor,"onStartDateChanged",this._recurringStartDateChanged);this.connect(this._recurringEditor,"onRecurPeriodChanged",this._recurringPeriodChanged);this.connect(this._dialog,"onHide",this._cleanOnClose);}this.sel_AlarmDur.resetItems();this.activityDefaultValues={};if(this.mode==="New"){this.activityDefaultValues=_12c6||{};this._loadData();}if(this.mode==="CompleteUnscheduled"&&!this.historyId){this.activityDefaultValues=_12c6||{};this._loadHistory();}if(!this._dialog._standby){_12ae.mixin(this._dialog,new _12af());if(!this._activityData&&!this._notificationData){this._dialog.showLoading();}}if(!this._dialog.helpIcon){_12ae.mixin(this._dialog,new _12ad());this._dialog.createHelpIconByTopic(this._getHelpTopicByMode());}this._availabilityShowing=false;this.tc_EditActivity.selectChild(this.cp_General);this._dialog.resize();},hide:function(){this._dialog.hide();},_onDlgHide:function(){this.onHide();},onHide:function(){this.attendeesTab._dialogHide();this._cleanOnClose();},_cleanOnClose:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this.set("activityId","");this.set("activityMemberId","");if(this._activityStore){this._activityStore.clearCache();}if(this._historyStore){this._historyStore.clearCache();}this._hideLookupTooltip(this.lup_Account);this._hideLookupTooltip(this.lup_Contact);this._hideLookupTooltip(this.lup_Opportunity);this._hideLookupTooltip(this.lup_Ticket);this._hideLookupTooltip(this.lup_Lead);this._hideLookupTooltip(this.lup_Leader);},_hideLookupTooltip:function(_12c7){if(_12c7){_12c7.hideTooltip();}},_controllOnMouseEnter:function(){},_updateActivityETag:function(_12c8){if(_12c8){this._activityData.AttachmentCount++;}else{this._activityData.AttachmentCount--;}if(this._dialog.open&&this.activityId){var req=new Sage.SData.Client.SDataSingleResourceRequest(_12b7.getSDataService("system"));req.setResourceKind("activities");req.setResourceSelector("\""+this.activityId+"\"");req.setQueryArg("precedence","0");req.read({success:function(_12c9){this._activityData["$etag"]=_12c9["$etag"];},scope:this});}},_updateActivityAttendeeETag:function(count){if(this._dialog.open&&this.activityId){this.AttCount=count;var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_12b7.getSDataService("system"));req.setResourceKind("activities");req.setResourceSelector("\""+this.activityId+"\"");req.setQueryArg("precedence","0");req.setQueryArg("select","details/AttendeeCount");req.read({success:function(_12ca){this._activityData["$etag"]=_12ca["$etag"];if(_12ca["Details"]){this._activityData["Details"]["AttendeeCount"]=_12ca["Details"]["AttendeeCount"];}},scope:this});}},_ensureAttendeesTab:function(){if(!this.attendeesTab||this.mode!=this.attendeesTab.editorMode||this.activityId!==this.attendeesTab._activityId){this._addAttendeesTab(this.mode);this.userNotificationId=null;}},_addAttendeesTab:function(mode){if(this.attendeesTab){dijit.byId(this.tc_EditActivity.id).removeChild(dijit.byId("attendeesTabPane"));if(dijit.byId(this.attendeesTab.lup_Lead.id)){dijit.byId(this.attendeesTab.lup_Lead.id).destroyRecursive();}if(dijit.byId(this.attendeesTab.lup_Contact.id)){dijit.byId(this.attendeesTab.lup_Contact.id).destroyRecursive();}dijit.byId("attendeesTabPane").destroyRecursive();this.attendeesTab=null;}var _12cb={editorMode:mode};var _12cc=this.attendeesTab=new _12c0(_12cb);var cp=new _12c1({id:"attendeesTabPane",title:this.tabNameParticipants,"class":"tabContent remove-padding"},_12cc.domNode);this.tc_EditActivity.addChild(cp);_12cc.actEditor=this;var _12cd=true;if((this.mode==="Confirm")||this._isOccurence()){_12cd=false;}_12cc.startup(!_12cd);var _12ce=this;on(cp,"show",function(){if(_12cd){_12cc.setToReadOnly(false);}else{_12cc.setToReadOnly(true);}_12cc._tabShow();});},_getHelpTopicByMode:function(){switch(this.mode){case "Confirm":return "confirmnotifications";case "Complete":case "CompleteUnscheduled":return "completeactivity";}return "activitydetailview";},_showCorrectButtonBar:function(mode){if(mode==="Confirm"){_12bd.add(this.add_edit_buttons,"display-none");_12bd.add(this.complete_buttons,"display-none");_12bd.remove(this.confirmation_edit_buttons,"display-none");}else{if(mode==="Complete"||mode==="CompleteUnscheduled"){_12bd.add(this.add_edit_buttons,"display-none");_12bd.add(this.confirmation_edit_buttons,"display-none");_12bd.remove(this.complete_buttons,"display-none");}else{_12bd.add(this.confirmation_edit_buttons,"display-none");_12bd.add(this.complete_buttons,"display-none");_12bd.remove(this.add_edit_buttons,"display-none");}}},_setModeAttr:function(mode){this.mode=mode;this._showCorrectButtonBar(mode);if(mode==="Confirm"){this._ensureLookupsCreated();this._bulkSetProperty(this,this.confirmationDisableList,"disabled",true);}else{this._bulkSetProperty(this,this.confirmationDisableList,"disabled",false);}if(mode.indexOf("New")===0){this.mode="New";var _12cf=mode.replace("New ","").toLowerCase();switch(_12cf){case "phonecall":case "atphonecall":this.activityType="atPhoneCall";break;case "meeting":case "atappointment":this.activityType="atAppointment";break;case "todo":case "attodo":this.activityType="atToDo";break;case "personalactivity":case "atpersonal":case "personal":this.activityType="atPersonal";break;case "letter":case "atletter":case "doc":case "atdoc":this.activityType="atDoc";break;case "fax":case "atfax":this.activityType="atFax";break;default:this.activityType="atAppointment";break;}this._activityData=false;_12bd.add(this.btn_Delete.domNode,"display-none");_12bd.add(this.btn_Complete.domNode,"display-none");this._ensureAttendeesTab();}else{_12bd.remove(this.btn_Delete.domNode,"display-none");_12bd.remove(this.btn_Complete.domNode,"display-none");}if(mode==="Complete"||mode==="CompleteUnscheduled"){_12bd.add(this.dateSection_AddEdit.domNode,"display-none");_12bd.remove(this.dateSection_Complete.domNode,"display-none");_12bd.remove(this.resultContainer.domNode,"display-none");var idx=this.tc_EditActivity.getIndexOfChild(this.cp_Recurring);if(idx>0){this.tc_EditActivity.removeChild(this.cp_Recurring);var self=this;window.setTimeout(function(){self._dialog.resize();},10);}if(this._dialog.open){this._setUI();this._completeModeManualBind();}var _12d0=this._options.followUp.defaultFollowUpType;var _12d1=(_12d0==="None")?this.noneText:_12b0.getActivityTypeName(_12d0);this.sel_Followup.set("value",_12d1);this.ck_coAttachments.set("checked",this._options.followUp.carryOverAttachments);this.ck_coNotes.set("checked",this._options.followUp.carryOverNotes);if(mode==="CompleteUnscheduled"){this._ensureAttendeesTab();}}else{_12bd.add(this.dateSection_Complete.domNode,"display-none");_12bd.remove(this.dateSection_AddEdit.domNode,"display-none");_12bd.add(this.resultContainer.domNode,"display-none");var idx=this.tc_EditActivity.getIndexOfChild(this.cp_Recurring);if(idx<0){var _12d2=this.tc_EditActivity.getIndexOfChild(this.cp_Attachments);this.tc_EditActivity.addChild(this.cp_Recurring,_12d2);var self=this;window.setTimeout(function(){self._dialog.resize();},10);}}if(this._dialog.helpIcon){this._dialog.set("helpTopic",this._getHelpTopicByMode());}},_setActivityIdAttr:function(_12d3){_12d3=_12d3||"";this.activityId=_12d3;this._activityData=false;if(_12d3!==""){this.historyId="";this._loadData();this._ensureAttendeesTab();}},_getActivityIdAttr:function(){return this.activityId;},_setActivityMemberIdAttr:function(_12d4){_12d4=_12d4||"";this.activityMemberId=_12d4;},_getActivityMemberIdAttr:function(){return this.activityMemberId;},_setUserNotificationIdAttr:function(_12d5){_12d5=_12d5||"";if(_12d5!==this.userNotificationId){this.userNotificationId=_12d5;this.set("activityId","");this._notificationData=false;this._loadNotification();}this._ensureAttendeesTab();},_getUserNotificationId:function(){return this.userNotificationId;},_setHistoryIdAttr:function(_12d6){_12d6=_12d6||"";if(this.historyId!==_12d6){this.historyId=_12d6;this._activityData=false;if(_12d6!==""){this.activityId="";this._loadHistory();}}},_getHistoryIdAttr:function(){return this.historyId;},_preloadActivityOptions:function(){this._options={atAppointment:{alarmLead:"15",duration:"60",autoRollover:false,timeless:false},atPhoneCall:{alarmLead:"15",duration:"15",autoRollover:false,timeless:false},atToDo:{alarmLead:"none",duration:"15",autoRollover:false,timeless:false},atPersonal:{alarmLead:"none",duration:"5",autoRollover:false,timeless:false},followUp:{defaultFollowUpType:"None",carryOverNotes:false,carryOverAttachments:false},calendar:{dayStartTime:"9",dayEndTime:"6"}};var _12d7=Sage.Services.getService("UserOptions");if(_12d7){_12d7.getByCategories(["ActivityMeetingOptions","ActivityPhoneOptions","ActivityToDoOptions","ActivityPersonalOptions","Calendar"],this._receivedOptions,this);}},_receivedOptions:function(data){var _12d8={"0":"None","1":"atPhoneCall","2":"atAppointment","3":"atToDo"};var opts=data["$resources"];for(var i=0;i<opts.length;i++){var opt=opts[i];var _12d9=(opt.category==="ActivityMeetingOptions")?"atAppointment":(opt.category==="ActivityPhoneOptions")?"atPhoneCall":(opt.category==="ActivityToDoOptions")?"atToDo":(opt.category==="ActivityPersonalOptions")?"atPersonal":false;if(_12d9&&this._options[_12d9]&&opt.value){switch(opt.name){case "AlarmLead":this._options[_12d9].alarmLead=(parseInt(opt.value,10)>0)?opt.value:"none";break;case "Duration":this._options[_12d9].duration=opt.value;break;case "Timeless":var tval=opt.value.substring(0,1).toUpperCase();this._options[_12d9].timeless=tval==="T";break;case "AutoRollover":var arval=opt.value.substring(0,1).toUpperCase();this._options[_12d9].autoRollover=arval==="T";break;}}else{if(opt.category==="Calendar"){switch(opt.name){case "DayStartTime":this._options.calendar.dayStartTime=_12be.getConvertedOptionValue(opt["name"],opt["value"]);break;case "DayEndTime":this._options.calendar.dayEndTime=_12be.getConvertedOptionValue(opt["name"],opt["value"]);break;case "DefaultFollowUpType":this._options.followUp.defaultFollowUpType=_12d8[opt.value]||"None";break;case "CarryOverNotes":var nval=opt.value.substring(0,1).toUpperCase();this._options.followUp.carryOverNotes=nval==="T";break;case "CarryOverAttachments":var aval=opt.value.substring(0,1).toUpperCase();this._options.followUp.carryOverAttachments=aval==="T";}}}}},_setupStore:function(){if(!this._activityStore){this._activityStore=new _12aa({include:["$descriptors"],resourceKind:"activities",ignoreETag:true,service:this._activityService});}if(!this._currentUserActivityStore){this._currentUserActivityStore=new _12aa({include:["$descriptors"],select:["Alarm","AlarmTime","Activity/StartDate"],resourceKind:"userActivities",service:this._activityService});}if(!this._historyStore){this._historyStore=new _12aa({include:["$descriptors"],resourceKind:"history",service:_12b7.getSDataService("dynamic")});}},_resetDataProps:function(){this._activityData=false;this._currentUserActivityData=false;this._tempUAData=false;this._notificationData=false;this._attendeesData=[];this._attendeesForRemoval=[];this._newAttendeesData=[];this._userActivitiesRequestCount=0;this._resourceRequestCount=0;this._resourceDeleteRequestCount=0;this._activitySaved=false;this._userActivitiesSaved=false;this._currentUserActivitySaved=false;this._resourcesSaved=false;this._resourcesRemoved=false;this._attachmentsSaved=false;this._originalLeaderId=false;if(this._attachmentList){this._attachmentList.clearNewAttachments();}this._availabilityDataDateRange={fromDate:false,toDate:false,users:[]};},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}this._resetDataProps();if(this._activityStore){if(this.mode==="New"){this._activityStore.newItem({onComplete:function(act){Sage.Utility.setValue(act,"Type",this.activityType);this._receivedActivity(act);},onError:this._requestFailure,scope:this});}else{this._activityStore.fetch({predicate:"\""+this.activityId+"\"",onComplete:this._receivedActivity,onError:this._requestFailure,scope:this});}}},_receivedActivity:function(_12da){this._activityData=_12da;if((this._currentUserActivityStore)&&(this.mode!=="New")&&(this.mode!="CompleteUnscheduled")){var id=this.activityId||_12da.$key;id=(id.indexOf(";")>0)?id.substring(0,12):id;var _12db=this.activityMemberId||this._currentUserId;this._currentUserActivityStore.fetch({predicate:_12b3.substitute("'ActivityId=${0};UserId=${1}'",[id,_12db]),onComplete:this._receivedUserActivity,onError:this._noUserActivity,scope:this});}if(_12da.AttachmentCount>0){this._activityData.Attachment=true;}this._tempIdForAttachments=false;var _12dc=Sage.Services.getService("ClientEntityContext");var _12dd=(this.historyId)?{"EntityId":this.historyId,"EntityType":"Sage.Entity.Interfaces.IHistory","Description":this._activityData.$descriptor,"EntityTableName":"HISTORY"}:{"EntityId":this.activityId,"EntityType":"Sage.Entity.Interfaces.IActivity","Description":this._activityData.$descriptor,"EntityTableName":"ACTIVITY"};_12dc.setTemporaryContext(_12dd);if(this.mode!=="New"&&this.mode!="CompleteUnscheduled"){this.activityType=_12da.Type;}else{this._applyUserOptionsForNewActivity();}if(this.activityMemberId&&this.activityMemberId!==this._currentUserId&&!this._memberSecurityData[this.activityMemberId]){this._checkSecurityAccess(this._currentUserId,this.activityMemberId,function(_12de){if(_12de){this._memberSecurityData[this.activityMemberId]=[];this._memberSecurityData[this.activityMemberId].AllowAdd=_12de.AllowAdd;this._memberSecurityData[this.activityMemberId].AllowEdit=_12de.AllowEdit;this._memberSecurityData[this.activityMemberId].AllowDelete=_12de.AllowDelete;}this._setUIForActivityType(_12da.Type);this._bind();},this);}else{this._setUIForActivityType(_12da.Type);this._bind();}if(this._activityData["Leader"]){this._originalLeaderId=this._activityData.Leader["$key"];}else{this._originalLeaderId=this._activityData["UserId"]||this._currentUserId;}if(this._dialog._standby){this._dialog.hideLoading();}this.attendeesTab._activityId=_12da.$key;if(_12da.details){this._activityData.AttendeeCount=_12da.details.AttendeeCount;}if(this.mode=="Confirm"){this.attendeesTab._grid.refresh();}},_receivedUserActivity:function(_12df){if(this._dialog._standby){this._dialog.hideLoading();}this._currentUserActivityData=_12df;if(_12df.Alarm===null){_12df.Alarm=this._activityData.Alarm;}if(_12df.AlarmTime===null){_12df.AlarmTime=this._activityData.AlarmTime;}this._tempUAData={Alarm:_12df.Alarm,AlarmTime:_12ac.Convert.toDateFromString(_12df.AlarmTime)};this._bindUserActivity();},_loadNotification:function(){if(this._dialog._standby){this._dialog.showLoading();}this._resetDataProps();if(!this._notificationStore){this._notificationStore=new _12aa({include:["Activity","$descriptors"],resourceKind:"userNotifications",service:_12b7.getSDataService("system")});}this._notificationStore.fetch({predicate:"'"+this.userNotificationId+"'",onComplete:this._receivedNotification,onError:this._requestFailure,scope:this});},_loadHistory:function(){if(this._dialog._standby){this._dialog.showLoading();}if(this._historyStore){if(!this.historyId){this._historyStore.newItem({onComplete:function(hist){this._receivedActivity(_12ae.mixin(hist,this.activityDefaultValues));this._formatHeader();},scope:this});}else{this._historyStore.fetch({predicate:this.historyId,onComplete:function(hist){this._receivedActivity(hist);this._formatHeader();},onError:this._requestFailure,scope:this});}}},_receivedNotification:function(_12e0){this._receivedActivity(_12e0.Activity||this._emptyActivity);this._notificationData=_12e0;this._formatHeader();this._bindUserNotification();if(_12e0.Type==="New"){this._setUIAsUnConfirmed();}else{_12bd.remove(this.otherConfButtons,"display-none");_12bd.add(this.newConfButtons,"display-none");if(_12e0.Type==="Confirm"||_12e0.Type==="Decline"){this.ta_confirmationResponse.set("disabled",true);_12bd.remove(this.responseLabel,"display-none");_12bd.remove(this.ta_confirmationResponse.domNode,"display-none");}else{_12bd.add(this.responseLabel,"display-none");_12bd.add(this.ta_confirmationResponse.domNode,"display-none");}if(_12e0.Type==="Change"){this._checkUserConfirmationStatus();}}},_checkUserConfirmationStatus:function(){var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system")).setResourceKind("userActivities").setResourceSelector("\""+this._notificationData.Activity["$key"]+";"+this._notificationData.ToUser["$key"]+"\"");req.read({success:function(ua){if(ua.Status==="asUnconfirmed"){this._setUIAsUnConfirmed();}},failure:function(){},scope:this});},_setUIAsUnConfirmed:function(){_12bd.add(this.otherConfButtons,"display-none");_12bd.remove(this.newConfButtons,"display-none");this.ta_confirmationResponse.set("disabled",false);_12bd.remove(this.responseLabel,"display-none");_12bd.remove(this.ta_confirmationResponse.domNode,"display-none");},_applyUserOptionsForNewActivity:function(){var _12e1=_12b0.roundDateToNextQuarterHour(new Date());var _12e2="15";if(this._options[this.activityType]){var _12e3=this._options[this.activityType];_12ac.setValue(this._activityData,"Duration",_12e3["duration"]||"60");_12e2=_12e3["alarmLead"];_12ac.setValue(this._activityData,"Rollover",_12e3["autoRollover"]);_12ac.setValue(this._activityData,"Timeless",_12e3["timeless"]);if(this._activityData.Timeless){_12e1=new Date(_12e1.getFullYear(),_12e1.getMonth(),_12e1.getDate(),0,0,5);}}_12ac.setValue(this._activityData,"StartDate",_12ac.Convert.toIsoStringFromDate(_12e1));this._activityData=_12ae.mixin(this._activityData,this.activityDefaultValues);if(_12e2.toLowerCase()==="none"){_12ac.setValue(this._activityData,"Alarm",false);_12e2=15;}else{Sage.Utility.setValue(this._activityData,"Alarm",true);_12e2=parseInt(_12e2,10);}var d=_12ac.Convert.toDateFromString(_12ac.getValue(this._activityData,"StartDate"));var _12e4=this._getAlarmTime(d,_12e2,this._activityData.Timeless);_12ac.setValue(this._activityData,"AlarmTime",_12ac.Convert.toIsoStringFromDate(_12e4));this.sel_AlarmDur.set("startTime",d);this.sel_AlarmDur.set("timeValue",_12e4);var ldr={"$key":this._currentUserId,"$descriptor":_12ac.getClientContextByKey("userPrettyName")};_12ac.setValue(this._activityData,"Leader",ldr);if(this.activityDefaultValues.hasOwnProperty("carryOverAttachmentsFrom")){var self=this,_12e5=this.activityDefaultValues["carryOverAttachmentsFrom"];window.setTimeout(function(){self.doCarryOverAttachments(_12e5);},1000);}if(this.activityDefaultValues.hasOwnProperty("carryOverParticipantsFrom")){var self1=this,_12e6=this.activityDefaultValues["carryOverParticipantsFrom"];window.setTimeout(function(){self1._getHistoryAttendees(_12e5);},1000);}},_noUserActivity:function(){this._bindUserActivity();},_requestFailure:function(_12e7){if(this._dialog._standby){this._dialog.hideLoading();}_12b4.showError(this.failedLoadingDataMsg);this.hide();},_createBindings:function(){if(this._bindingMgr){this._bindingMgr.destroy();this._bindingMgr=false;}this._bindingMgr=new _12ab({defaultBinding:{boundEntity:this._activityData},items:[{boundWidget:this.tb_Location,entityProperty:"Location"},{boundWidget:this.pk_Regarding,entityProperty:"Description",onChange:dojo.hitch(this,"_descriptionChanged")},{boundWidget:this.pk_Category,entityProperty:"Category"},{boundWidget:this.pk_Priority,entityProperty:"Priority"},{boundWidget:this.ta_Notes,entityProperty:"LongNotes",onChange:dojo.hitch(this,"_notesChanged")},{boundWidget:this.dtp_startDate,dataType:"date",entityProperty:"StartDate",onChange:dojo.hitch(this,"_startDateChanged")},{boundWidget:this.sel_Duration,entityProperty:"Duration"},{boundWidget:this.sel_Duration,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.sel_AlarmDur,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_Timeless,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")},{boundWidget:this.cb_AutoRollover,entityProperty:"Rollover",widgetProperty:"checked"},{boundWidget:this.dtp_scheduledDate,dataType:"date",entityProperty:"StartDate"},{boundWidget:this.sel_DurationComplete,entityProperty:"Duration"},{boundWidget:this.sel_DurationComplete,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_TimelessComplete,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")}]});},_createUABindings:function(){this._uaBindingMgr=new _12ab({items:[{boundWidget:this.cb_Alarm,entityProperty:"Alarm",widgetProperty:"checked",onChange:dojo.hitch(this,"_alarmCheckChanged")}]});},_createNotificationBindings:function(){this._notificationBindingMgr=new _12ab({items:[{boundWidget:this.ta_confirmationResponse,entityProperty:"Notes",boundEntity:this._notificationData}]});},_bind:function(){if(this._activityData){if(!this._bindingMgr){this._createBindings();}else{if(!this._bindingMgr.boundEntity||(this._activityData["$key"]!==this._bindingMgr.boundEntity["$key"])){this._bindingMgr.setBoundEntity(this._activityData);}else{this._bindingMgr.bind();}}if(this.mode==="New"||this.mode==="CompleteUnscheduled"){this._noUserActivity();}this._manualBind();this._setUI();}},_bindUserNotification:function(){if(!this._notificationBindingMgr){this._createNotificationBindings();}else{this._notificationBindingMgr.setBoundEntity(this._notificationData);}},_isNullOrWhitespace:function(str){return (!str||str.trim()==="");},_manualBind:function(){if(this._activityData){this._isBinding=true;var act=this._activityData;var _12e8=this._isNullOrWhitespace(act.AccountId)?null:{"$key":act.AccountId,"$descriptor":act.AccountName};this.lup_Account.set("selectedObject",_12e8);var _12e9=this._isNullOrWhitespace(act.ContactId)?null:{"$key":act.ContactId,"$descriptor":act.ContactName};this.lup_Contact.set("selectedObject",_12e9);var _12ea=this._isNullOrWhitespace(act.OpportunityId)?null:{"$key":act.OpportutunityId,"$descriptor":act.OpportunityName};this.lup_Opportunity.set("selectedObject",_12ea);var _12eb=this._isNullOrWhitespace(act.TicketId)?null:{"$key":act.TicketId,"$descriptor":act.TicketNumber};this.lup_Ticket.set("selectedObject",_12eb);var _12ec=this._isNullOrWhitespace(act.LeadId)?null:{"$key":act.LeadId,"$descriptor":act.LeadName};this.lup_Lead.set("selectedObject",_12ec);this.tb_LeadCompanyName.set("value",this._isNullOrWhitespace(act.LeadId)?"":act.AccountName);this._updateLookupSeedValues(act.AccountId);this.lup_Leader.set("selectedObject",act.Leader);if(this.mode!=="Complete"){this._recurringEditor.set("activity",act);}var _12ed=Sage.Utility.Convert.toDateFromString(this._activityData.AlarmTime);this.sel_AlarmDur.set("timeValue",_12ed);this._completeModeManualBind();this._isBinding=false;if(this.mode=="New"||this.mode==="CompleteUnscheduled"){if(this._activityData){var act=this._activityData;var _12e9=this._isNullOrWhitespace(act.ContactId)?null:{"$key":act.ContactId,"$descriptor":act.ContactName};this.attendeesTab._addContactAttendee(_12e9);var _12ec=this._isNullOrWhitespace(act.LeadId)?null:{"$key":act.LeadId,"$descriptor":act.LeadName};this.attendeesTab._addLeadAttendee(_12ec);}}}},_completeModeManualBind:function(){if(this.mode==="Complete"||this.mode==="CompleteUnscheduled"){this.dtp_completedDate.set("value",new Date());this.pl_Result.set("value",this.completeText);if(this.mode==="Complete"){this.pl_Result.focus();}}},_bindUserActivity:function(){if(!this._uaBindingMgr){this._createUABindings();}this.sel_AlarmDur.set("disabled",false);var _12ee=this._getActivityStartDate();this.sel_AlarmDur.set("startTime",_12ee);var ent=(this._currentUserActivityData)?this._currentUserActivityData:this._activityData;var _12ef=_12ac.Convert.toDateFromString(ent.AlarmTime);if(this._currentUserActivityData&&_12ac.getValue(this._activityData,"RecurrenceState")==="rstOccurrence"){var _12f0=_12ac.Convert.toDateFromString(this._currentUserActivityData.Activity.StartDate);var _12f1=_12ac.Convert.toDateFromString(this._currentUserActivityData.AlarmTime);var dur=_12b1.difference(_12f0,_12f1,"minute");_12ef=_12b1.add(_12ee,"minute",dur);}this._uaBindingMgr.setBoundEntity(ent);this.sel_AlarmDur.set("timeValue",_12ef);this.sel_AlarmDur.set("disabled",!ent.Alarm||this.mode==="Confirm");},_getActivityStartDate:function(){if(this._activityData){var sDate=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate);if((this._activityData.Timeless)&&(_12b0.isDateFiveSecondRuleTimeless(sDate))){return new Date(sDate.getUTCFullYear(),sDate.getUTCMonth(),sDate.getUTCDate(),0,0,5);}return sDate;}return new Date();},_onShowAvailabilityTab:function(){if(!this._availabilityShowing){this._resetAttendeesList();this._loadAttendeesData();}else{scheduler.setCurrentView(this._getActivityStartDate(),"timeline");}},_accountChanged:function(_12f2){if(this._isBinding){return;}var newId=(_12f2)?_12f2["$key"]:"";var _12f3=(_12f2)?_12f2["$descriptor"]:"";var act=this._activityData;var _12f4=this._isNullOrWhitespace(act.ContactId);act.AccountId=newId;act.AccountName=_12f3;act.ContactId=null;act.ContactName="";act.PhoneNumber="";act.OpportunityId=null;act.OpportunityName="";act.TicketId=null;act.TicketNumber="";act.LeadId=null;act.LeadName="";this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._updateLookupSeedValues(newId);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");if(_12f4){this._setContactToCurrentAccountPrimary();}this._isBinding=false;},_contactChanged:function(_12f5){if(!this._isBinding){var act=this._activityData;if(!_12f5){act.ContactId=null;act.ContactName="";act.PhoneNumber="";return;}act.ContactId=_12f5["$key"];act.ContactName=_12f5["$descriptor"];act.PhoneNumber=Sage.Utility.getValue(_12f5,"WorkPhone");act.LeadId=null;act.LeadName="";act.AccountId=_12f5.Account["$key"];act.AccountName=_12f5.Account.AccountName;this._updateLookupSeedValues(_12f5.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_12f5.Account["$key"],"$descriptor":_12f5.Account.AccountName});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}if(_12f5&&_12f5["$key"]&&!_12f5["attendeeTab"]){if(this.attendeesTab._grid.mode!="insert"&&this._isBinding){if(!this.attendeesTab._gridStarted){this.attendeesTab.setInitialPrimaryContact(_12f5);}else{if(!this.attendeesTab._attendeeExists(_12f5["$key"])){this.attendeesTab._addContactAttendee(_12f5);}}}else{this.attendeesTab._addContactAttendee(_12f5);}}},_opportunityChanged:function(_12f6){if(this._isBinding){return;}var act=this._activityData;if(!_12f6){act.OpportunityId=null;act.OpportunityName="";return;}act.OpportunityId=_12f6["$key"];act.OpportunityName=_12f6["$descriptor"];if(this._isNullOrWhitespace(act.AccountId)||act.AccountId!==_12f6.Account["$key"]){act.AccountId=_12f6.Account["$key"];act.AccountName=_12f6.Account.AccountName;act.LeadId=null;act.LeadName="";this._updateLookupSeedValues(_12f6.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_12f6.Account["$key"],"$descriptor":_12f6.Account.AccountName});this.lup_Contact.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;this._setContactBasedOnOpportunity();}},_ticketChanged:function(_12f7){if(this._isBinding){return;}var act=this._activityData;if(!_12f7){act.TicketId=null;act.TicketNumber="";return;}act.TicketId=_12f7["$key"];act.TicketNumber=_12f7["$descriptor"];if(this._isNullOrWhitespace(act.AccountId)||act.AccountId!==_12f7.Account["$key"]){act.AccountId=_12f7.Account["$key"];act.AccountName=_12f7.Account["AccountName"];act.LeadId=null;act.LeadName="";this._updateLookupSeedValues();act.ContactId=Sage.Utility.getValue(_12f7,"Contact.$key");act.ContactName=Sage.Utility.getValue(_12f7,"Contact.NameLF");act.PhoneNumber=Sage.Utility.getValue(_12f7,"Contact.WorkPhone");this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_12f7.Account["$key"],"$descriptor":_12f7.Account["AccountName"]});this.lup_Contact.set("selectedObject",{"$key":_12f7.Contact["$key"],"$descriptor":_12f7.Contact["NameLF"]});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}},_leadChanged:function(_12f8){if(this._isBinding){return;}var act=this._activityData;if(!_12f8){act.LeadId=null;act.LeadName="";act.PhoneNumber="";this.tb_LeadCompanyName.set("value","");return;}act.ContactId=null;act.ContactName="";act.AccountId=null;act.TicketId=null;act.TicketNumber="";act.OpportunityId=null;act.OpportunityName="";this._updateLookupSeedValues();this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Account.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this._isBinding=false;act.LeadId=_12f8["$key"];act.LeadName=_12f8["LeadFullName"];act.AccountName=_12f8["Company"];act.PhoneNumber=_12f8["WorkPhone"];this.tb_LeadCompanyName.set("value",_12f8["Company"]);if(this._isBinding){return;}if(_12f8&&_12f8["$key"]&&!_12f8["attendeeTab"]){this.attendeesTab._addLeadAttendee(_12f8);}},_leaderChanged:function(_12f9){if(this._isBinding){return;}var _12fa=this._activityData.Leader["$key"]||this._activityData["UserId"];if(_12f9){var key=_12f9["$key"].substr(0,12);this._activityData.Leader={"$key":key,"$descriptor":_12f9["$descriptor"]||_12f9["Name"]};this._activityData.LeaderChanged=true;}this._updateUsersListWithNewLeader(_12fa,this._activityData.Leader);},_setContactBasedOnOpportunity:function(){if(this._isNullOrWhitespace(this._activityData.OpportunityId)){this._rebindToCurrentContact();return;}var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("opportunities");var _12fb=req.uri.pathSegments.length-1;var _12fc=req.uri.getPathSegment(_12fb);_12fc["predicate"]="\""+this._activityData.OpportunityId+"\"";req.uri.setPathSegment(_12fb+1,"Contacts");req.setQueryArg("select","IsPrimary,Contact/NameLF,Contact/IsPrimary,Contact/WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.read({success:function(data){var _12fd=data["$resources"];if(_12fd.length<1){this._setContactToCurrentAccountPrimary();return;}var _12fe=false,_12ff=false,_1300=_12fd[0],_1301;for(var i=0;i<_12fd.length;i++){if(_12fd[i]){if(_12fd.IsPrimary){if(!_12fe||_12fd[i].Contact.IsPrimary){_12fe=_12fd[i];}}if(!_12ff&&_12fd[i].Contact.IsPrimary){_12ff=_12fd[i];}}}_1301=_12fe||_12ff||_1300;if(_1301){this._activityData.ContactId=Sage.Utility.getValue(_1301,"Contact.$key");this._activityData.ContactName=Sage.Utility.getValue(_1301,"Contact.NameLF");this._activityData.PhoneNumber=Sage.Utility.getValue(_1301,"Contact.WorkPhone");this._rebindToCurrentContact();}},failure:function(){this._rebindToCurrentContact();},scope:this});},_setContactToCurrentAccountPrimary:function(){if(this._isNullOrWhitespace(this._activityData.AccountId)){this._rebindToCurrentContact();return;}var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("accounts");var _1302=req.uri.pathSegments.length-1;var _1303=req.uri.getPathSegment(_1302);_1303["predicate"]="\""+this._activityData.AccountId+"\"";req.uri.setPathSegment(_1302+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _1304=data["$resources"];if(_1304.length<1){this._rebindToCurrentContact();return;}var _1305=_1304[0];this._activityData.ContactId=Sage.Utility.getValue(_1305,"$key");this._activityData.ContactName=Sage.Utility.getValue(_1305,"NameLF");this._activityData.PhoneNumber=Sage.Utility.getValue(_1305,"WorkPhone");this._isBinding=true;this.lup_Contact.set("selectedObject",_1305);this._isBinding=false;},failure:function(){this._rebindToCurrentContact();},scope:this});},_rebindToCurrentContact:function(){this._isBinding=true;this.lup_Contact.set("selectedObject",{"$key":this._activityData.ContactId,"$descriptor":this._activityData.ContactName});this._isBinding=false;},_updateLookupSeedValues:function(_1306){var accId=_1306||this._activityData.AccountId;this.contactLookupConfig.seedValue=accId;this.opportunityLookupConfig.seedValue=accId;this.ticketLookupConfig.seedValue=accId;},_setUI:function(){this._formatHeader();this._setDisabledByTimlessValue();this._setHasAlarmUI();if(this._isNullOrWhitespace(this._activityData.LeadId)){this.rdo_Contact.set("checked",true);}else{this.rdo_Lead.set("checked",true);}this._setContactLeadVisibility();this._setScheduledByLabel();},_checkSecurityAccess:function(_1307,_1308,_1309,scope){this.accessData=false;if(!this._accessStore){this._accessStore=new _12aa({include:["$descriptors"],resourceKind:"activityresourceviews",service:_12b7.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_1308+"-"+_1307+"'",onComplete:function(_130a){_1309.call(scope,_130a);},onError:function(){_1309.call(scope,null);},scope:this});},_setUIForActivityType:function(_130b){this.pk_Regarding.set("pickListName",_12b0.getActivityPicklistName("Regarding",_130b));this.pk_Category.set("pickListName",_12b0.getActivityPicklistName("Category",_130b));this.pl_Result.set("pickListName",_12b0.getActivityPicklistName("Result",_130b));this.btn_Complete.set("disabled",!this._activityData.AllowComplete);if(this.mode!=="Confirm"){var _130c=this._activityData.AllowEdit;var _130d=this._activityData.AllowDelete;if(this.activityMemberId&&this.activityMemberId!==this._activityData.Leader.$key){_130c=false;_130d=false;}this._bulkSetProperty(this,this.noEditDisableList,"disabled",(!_130c));this.ta_Notes.set("readonly",!_130c);if((this.activityMemberId&&this._memberSecurityData[this.activityMemberId]&&this._memberSecurityData[this.activityMemberId].AllowEdit)||this.activityMemberId===this._currentUserId||this._activityData["UserId"]===this._currentUserId){this.btn_OK.set("disabled",false);}else{this.btn_OK.set("disabled",!this._activityData.AllowEdit);}this.btn_Delete.set("disabled",!_130d);}if(this.mode==="Complete"){this.btn_asScheduled.set("disabled",!this._activityData.AllowComplete);this.btn_Now.set("disabled",!this._activityData.AllowComplete);}this.pk_Category.set("disabled",(_130b==="atPersonal")||(this.mode==="Confirm")||this.pk_Category.get("disabled"));if((!this._canEdit())||(_130b==="atPersonal"||_130b==="atToDo")){_12bd.add(this.lup_Resources.domNode,"display-none");}else{_12bd.remove(this.lup_Resources.domNode,"display-none");}},_setDisabledByTimlessValue:function(){if(!this._activityData){return;}var tless=this._activityData["Timeless"];this._handleAutoRolloverState();this.dtp_startDate.set("displayTime",!tless);var _130e=this._activityData.AllowEdit;if(this.activityMemberId&&this.activityMemberId!==this._activityData.Leader.$key){_130e=false;}this.sel_Duration.set("disabled",tless||(this.mode==="Confirm")||!_130e);this.sel_DurationComplete.set("disabled",tless);this.dtp_scheduledDate.set("displayTime",!tless);},_handleAutoRolloverState:function(){var _130f=(this._activityData["Timeless"]&&!this._activityData["Recurring"]);if(_130f){this.cb_AutoRollover.set("disabled",false);}else{this.cb_AutoRollover.set("disabled",true);this.cb_AutoRollover.set("checked",false);}},_bulkSetProperty:function(ui,_1310,prop,val){for(var i=0;i<_1310.length;i++){var ctrl=ui[_1310[i]];if(ctrl){ctrl.set(prop,val);}}},_timelessChange:function(){this._setDisabledByTimlessValue();if(this.mode==="Complete"||this.mode==="CompleteUnscheduled"){if(this.cb_TimelessComplete.get("checked")){var _1311=this.dtp_scheduledDate.get("value");_1311.setHours(0);_1311.setMinutes(0);_1311.setSeconds(5);this.dtp_scheduledDate.set("value",_1311);}}else{_12ac.setValue(this._activityData,"TimelessChanged",true);if(this.cb_Timeless.get("checked")){var d=this.dtp_startDate.get("value");d.setHours(0);d.setMinutes(0);d.setSeconds(5);this.dtp_startDate.set("value",d);var _1312=this._getAlarmLeadTime();var _1313=this._getAlarmTime(d,_1312,true);this.sel_AlarmDur.set("startTime",d);this.sel_AlarmDur.set("timeValue",_1313);}else{var d=this.dtp_startDate.get("value");var _1314=_12b0.roundDateToNextQuarterHour(new Date());var min=_1314.getMinutes();var hour=_1314.getHours();var _1315=new Date(d.getFullYear(),d.getMonth(),d.getDate(),hour,min);this.dtp_startDate.set("value",_1315);var _1312=this._getAlarmLeadTime();var _1313=this._getAlarmTime(_1315,_1312,false);this.sel_AlarmDur.set("startTime",_1315);this.sel_AlarmDur.set("timeValue",_1313);}}},_alarmCheckChanged:function(_1316,_1317,_1318,_1319){this._setHasAlarmUI(_1319);},_descriptionChanged:function(){this._formatHeader();},_notesChanged:function(_131a,_131b,_131c,_131d){_12ac.setValue(this._activityData,"Notes",(_131d)?_131d.substr(0,255):_131d);},_startDateChanged:function(){var _131e=this.dtp_startDate.get("value");this.sel_Duration.set("startTime",_131e);this.sel_AlarmDur.set("startTime",_131e);var _131f=this._getAlarmLeadTime();var _1320=this._getAlarmTime(_131e,_131f,this.cb_Timeless.get("checked"));this.sel_AlarmDur.set("timeValue",_1320);var act=(this._currentUserActivityData)?this._currentUserActivityData:this._activityData;Sage.Utility.setValue(act,"AlarmTime",Sage.Utility.Convert.toIsoStringFromDate(this.sel_AlarmDur.get("timeValue")));if(this._availabilityShowing){scheduler.setCurrentView(_131e,"timeline");this._requestAvailability();}this._recurringEditor.set("startDate",_131e);},_getAlarmTime:function(_1321,_1322,_1323){var _1324=_12b1.add(_1321,"minute",_1322*-1);if(_1323===true){_1324=new Date(_1321.getFullYear(),_1321.getMonth(),_1321.getDate());_1324=_12b1.add(_1324,"minute",_1322*-1);}return _1324;},_getAlarmLeadTime:function(){var _1325="15";if(this._options[this.activityType]){var _1326=this._options[this.activityType];_1325=_1326["alarmLead"];}if(_1325.toLowerCase()==="none"){_1325=15;}else{_1325=parseInt(_1325,10);}return _1325;},_setHasAlarmUI:function(_1327){if(typeof _1327==="undefined"){_1327=Sage.Utility.getValue(this._currentUserActivityData||this._activityData,"Alarm");}this.sel_AlarmDur.set("disabled",!_1327||this.mode==="Confirm");},_setContactLeadVisibility:function(){var _1328=this.rdo_Contact.get("checked");_12bd.remove((_1328)?this.contactContainer.domNode:this.leadContainer.domNode,"display-none");_12bd.add((_1328)?this.leadContainer.domNode:this.contactContainer.domNode,"display-none");},_formatHeader:function(){var _1329="";var _132a=_12b0.getActivityTypeName(this._activityData["Type"]||"atAppointment");switch(this.mode){case "New":_1329=this.scheduleText;break;case "Complete":case "CompleteUnscheduled":_1329=this.completeText;break;}if(this.mode==="Confirm"){if(!this._notificationData){return;}this._getUserInfoFor(this._notificationData.FromUser["$key"],function(user){if(this._notificationData){var _132b=this._notificationData.Type;switch(_132b){case "Change":_1329=this.updatedText;break;case "Confirm":_1329=this.acceptedText;break;case "Deleted":_1329=this.deletedText;break;case "Leader":_1329=this.scheduledText;break;case "Decline":_1329=this.declinedText;break;}var _132c=(_132b==="New")?this.newConfirmationHeaderFormatText:this.otherConfimationHeaderFormatText;this._setHeader(_12b3.substitute(_132c,{activityType:_132a,actionText:_1329,user:user["UserName"]||user["$descriptor"]}));}});}else{this._setHeader(_12b3.substitute(this.dialogHeaderFormatText,{actionText:_1329,activityType:_132a,description:this._activityData["Description"]||""}));}},_setHeader:function(_132d){var html=_12b3.substitute("<div class=\"Global_Images icon16x16 ${0}\" > </div>&nbsp;<span class=\"activity-dialog-title\">${1}</span>",[_12b0.getActivityImageClass(this._activityData["Type"]||"atAppointment","small"),_132d]);this._dialog.titleNode.innerHTML=html;},_setScheduledByLabel:function(){var _132e=_12ac.Convert.toDateFromString(_12ac.getValue(this._activityData,"CreateDate"));if(!_132e||_132e.getFullYear()<1000){_132e=new Date();}var _132f=this._getActivityStartDate();var _1330=_12ac.getValue(this._activityData,"CreateUser").trim();var _1331=(this.mode==="Complete"||this.mode==="CompleteUnscheduled")?this.completeScheduledByFormatText:this.scheduledByFormatText;var lbl;if(!_1330||this._currentUserId===_1330){_1330=_12ac.getClientContextByKey("userPrettyName");}else{if(_1330==="PROCESS"||_1330==="ADMIN"){_1330="Administrator";}else{this._getUserInfoFor(_1330,function(user){lbl=_12b3.substitute(_1331,{user:user["$descriptor"],date:_12b2.format(_132e,{selector:"date",fullYear:true}),startDate:_12b2.format(_132f,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);dojo.html.set(this.lbl_ScheduledByComp,lbl);});return;}}lbl=_12b3.substitute(_1331,{user:_1330,date:_12b2.format(_132e,{selector:"date",fullYear:true}),startDate:_12b2.format(_132f,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);dojo.html.set(this.lbl_ScheduledByComp,lbl);},_getUserInfoFor:function(_1332,_1333){if(_1332){var _1334=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic",false,true,true));_1334.setResourceKind("userInfo");_1334.setResourceSelector("'"+_1332+"'");_1334.setQueryArg("precedence","0");_1334.read({success:_1333,scope:this,failure:function(){}});}},_showRecurringTab:function(){this._recurringEditor.onTabShow();this._recurringEditor._setReadOnly(!this._canEdit());},_showAttachmentsTab:function(){var self=this;window.setTimeout(function(){self._ensureAttachmentList();},100);},_ensureAttachmentList:function(){if(!this._attachmentList){this._attachmentList=new _12b6({workspace:"",tabId:"",placeHolder:this.id+"_attachmentsGridPlaceholder",parentRelationshipName:"activityId"});var self=this;this._attachmentList.startup(function(){if(self.cp_Attachments){self.cp_Attachments.resize();}if(self._canEdit()){self._attachmentList.setToReadOnly(false);}else{self._attachmentList.setToReadOnly(true);}});}else{if(this._canEdit()){this._attachmentList.setToReadOnly(false);}else{this._attachmentList.setToReadOnly(true);}this._attachmentList.resetEntityContext();}},_completeClick:function(){this._completeAfterSaving=true;this._saveAndClose();},_deleteClick:function(){if(this._activityData&&this._activityStore){_12b4.raiseQueryDialogExt({title:"",query:this.areYouSureText,callbackFn:function(_1335){if(_1335){this._activityStore.deleteEntity(this._activityData,this._successfulActivityDelete,this._failedActivityDelete,this);}},yesText:this.okText,noText:this.cancelText,icon:"questionIcon",scope:this});}},_asScheduledClick:function(){this._updateAttendeesAndComplete(_12b1.add(this.dtp_scheduledDate.get("value"),"minute",this._activityData.Duration));},_nowClick:function(){this._updateAttendeesAndComplete(this.dtp_completedDate.get("value"));},_updateAttendeesAndComplete:function(_1336){if(this.mode==="Complete"){var self=this;var _1337=this.attendeesTab._activitySaved();_1337.then(function(value){self._completeActivity(_1336);});}else{this._completeActivity(_1336);}},_completeActivity:function(_1338){if(this._isProcessing){return;}this._isProcessing=true;if(this.mode==="Complete"){var _1339={"$name":"Complete","request":{"entity":this._activityData,"userId":this._currentUserId,"result":this.pl_Result.get("value"),"resultCode":this.pl_Result.get("code"),"completeDate":_12ac.Convert.toIsoStringFromDate(_1338)}};var _133a=new Sage.SData.Client.SDataServiceOperationRequest(_12b7.getSDataService("system")).setResourceKind("activities").setOperationName("Complete");_133a.execute(_1339,{success:this._successfulComplete,failure:this._failedComplete,scope:this});}else{if(this.mode==="CompleteUnscheduled"){var _133b=new _12aa({include:["$descriptors"],resourceKind:"history",service:_12b7.getSDataService("dynamic")});_12ac.setValue(this._activityData,"CompletedDate",_12ac.Convert.toIsoStringFromDate(_1338));_12ac.setValue(this._activityData,"Result",this.pl_Result.get("value"));_12ac.setValue(this._activityData,"ResultCode",this.pl_Result.get("code"));_133b.saveNewEntity(this._activityData,this._successfulComplete,this._failedComplete,this);}}},_okClick:function(){var _133c=_12bf.curNode;if(_133c){_133c.blur();}setTimeout(lang.hitch(this,function(){this._saveAndClose();}),1);},_saveAndClose:function(){var _133d=this.sel_AlarmDur.get("timeValue");if(_133d.getSeconds()===5){_133d=new Date(_133d.getFullYear(),_133d.getMonth(),_133d.getDate(),_133d.getHours(),_133d.getMinutes(),0);}if(this.mode==="New"){if(this._attachmentList){var _133e=this._attachmentList.getNewAttachments();if(_133e.length>0){this._activityData.Attachment=true;}}this._currentUserActivitySaved=true;_12ac.setValue(this._activityData,"Alarm",this.cb_Alarm.get("checked"));_12ac.setValue(this._activityData,"AlarmTime",_12ac.Convert.toIsoStringFromDate(_133d));this._activityStore.saveNewEntity(this._activityData,this._successfulActivitySave,this._failedActivitySave,this);}else{this._activityData.Attachment=this._activityData.AttachmentCount>0?true:false;if(this._currentUserActivityData){if(_12ac.getValue(this._activityData,"RecurrenceState")==="rstOccurrence"){_12ac.setValue(this._activityData,"Alarm",this.cb_Alarm.get("checked"));_12ac.setValue(this._activityData,"AlarmTime",_12ac.Convert.toIsoStringFromDate(_133d));this._currentUserActivitySaved=true;}else{if((this._tempUAData)&&(this._tempUAData.Alarm===this._currentUserActivityData.Alarm&&this._tempUAData.AlarmTime.getTime()===_133d.getTime())){this._currentUserActivitySaved=true;}else{delete (this._currentUserActivityData.Activity);this._currentUserActivityData.AlarmTime=_12ac.Convert.toIsoStringFromDate(_133d);this._currentUserActivityStore.save({scope:this,success:this._successfulCurrentUserActivitySave,failure:this._failedUserActivitySave});}}}else{_12ac.setValue(this._activityData,"AlarmTime",_12ac.Convert.toIsoStringFromDate(_133d));this._currentUserActivitySaved=true;}if(this._activityData.AllowEdit){this._activityStore.save({scope:this,success:this._successfulActivitySave,failure:this._failedActivitySave});}else{this._activitySaved=true;this._userActivitiesSaved=true;this._resourcesSaved=true;this._resourcesRemoved=true;this._attachmentsSaved=true;this._hideIfComplete();}}},_successfulActivitySave:function(_133f){var self=this;var _1340=arguments;var _1341=this.attendeesTab._activitySaved(_133f);_1341.then(function(value){self._successfulActivityAttendeeSave(_133f);});},_successfulActivityAttendeeSave:function(_1342){if(this._activityData.LeaderChanged){_1342.LeaderChanged=true;}if(this._activityData.TimelessChanged){_1342.TimelessChanged=true;}this._activityData=_1342;var isNew=false;var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();if(this.activityId===""){dojo.publish("/entity/activity/create",[this._activityData,this]);isNew=true;}this.activityId=_1342["$key"];var _1343=false,_1344=false;var ldr=_1342.Leader["$key"];for(var i=0;i<this._newAttendeesData.length;i++){_1343=(_1343||(this._newAttendeesData[i]["Type"]==="User"&&this._newAttendeesData[i]["$key"]!==ldr));_1344=(_1344||this._newAttendeesData[i]["Type"]==="Resource");}if(_1343){var uareq=new Sage.SData.Client.SDataTemplateResourceRequest(_12b7.getSDataService("system"));uareq.setResourceKind("userActivities");uareq.read({success:this._onGetUserActivityTemplate,failure:this._failedUserActivitySave,scope:this});}else{this._userActivitiesSaved=true;}if(_1344){var _1345=new Sage.SData.Client.SDataTemplateResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_1345.setResourceKind("resourceSchedules");_1345.read({success:this._onGetResourceScheduleTemplate,failure:this._failedUserActivitySave,scope:this});}else{this._resourcesSaved=true;}this._attachmentsSaved=true;if(this._attachmentList){var _1346=this._attachmentList.getNewAttachments();if(_1346.length>0&&this.mode==="New"){this._saveAttachments(_1346);this._attachmentsSaved=false;}}if(this._attendeesForRemoval.length>0){this._removeResources();}else{this._resourcesRemoved=true;}if(!this._completeAfterSaving&&!isNew){dojo.publish("/entity/activity/change",[_1342,this]);}this._activitySaved=true;this._hideIfComplete();},_saveAttachments:function(_1347,_1348){this._attachmentRequests=_1347.length;for(var i=0;i<_1347.length;i++){var att=_1347[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_12b7.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");if(_1348){att.historyId=_1348;}else{att.activityId=this.activityId;}for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _1349=p.substring(0,1).toLowerCase()+p.substring(1);att[_1349]=this._activityData[p];}}req.update(att,{ignoreETag:true,success:this._successfulAttachmentSave,failure:this._failedAttachmentSave,scope:this});}},_removeAttachments:function(){if(!this._attachmentList){return;}var _134a=this._attachmentList.getNewAttachments();for(var i=0;i<_134a.length;i++){var att=_134a[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_12b7.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");req["delete"](att,{success:function(){},failure:function(){},scope:this});}},getRelationshipsForAttachments:function(){var obj={};for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _134b=p.substring(0,1).toLowerCase()+p.substring(1);obj[_134b]=this._activityData[p];}}if(this.mode==="New"&&!_12b8.supportsHTML5File&&!Sage.gears){this._tempIdForAttachments=this._makeTempID();obj["activityId"]=this._tempIdForAttachments;}return obj;},doCarryOverAttachments:function(_134c){this._ensureAttachmentList();_12b9.getAttachmentTemplate(function(_134d){this._getHistoryAttachments(_134c,_134d);},this);},_getHistoryAttachments:function(_134e,_134f){var _1350=new Sage.SData.Client.SDataResourceCollectionRequest(_12b7.getSDataService("system"));_1350.setResourceKind("attachments");_1350.setQueryArg("where","historyId eq '"+_134e+"'");_1350.read({success:function(data){var items=data["$resources"];var mixin={activityId:this._makeTempID(),historyId:null};var req=new Sage.SData.Client.SDataSingleResourceRequest(_12b7.getSDataService("system"));req.setResourceKind("attachments");if(items&&items.length){var l=items.length;for(var i=0;i<l;i++){var _1351=_12ae.mixin(items[i],mixin);var _1352=_12ae.mixin(_134f,_1351);delete _1352.createDate;delete _1352.modifyDate;delete _1352.createUser;delete _1352.modifyUser;delete _1352.$key;delete _1352.$etag;_1352.fileName=_1352.physicalFileName;_1352.attachDate=_12ac.Convert.toIsoStringFromDate(new Date());req.create(_1352,{success:function(_1353){dojo.publish("/entity/attachment/create",[_1353]);},failure:function(){},scope:this});}}},failure:function(){},scope:this});},_getHistoryAttendees:function(_1354){var _1355=new Sage.SData.Client.SDataResourceCollectionRequest(_12b7.getSDataService("dynamic"));_1355.setResourceKind("historyAttendees");_1355.setQueryArg("where","HistoryId eq '"+_1354+"'");_1355.read({success:function(data){var items=data["$resources"];var _1356=[];for(var i=0;i<items.length;i++){if(items[i].EntityType!="User"){var mixin={$key:items[i].EntityId,$descriptor:items[i].Name,general:false};var _1357=_12ae.mixin(items[i],mixin);_1356.push(_1357);}}this.attendeesTab._addAttendeesToStore(_1356);},failure:function(){},scope:this});},_makeTempID:function(){if(!this._tempIdForAttachments){var uid=this._currentUserId;var dstr=_12ac.Convert.toIsoStringFromDate(this.dtp_startDate.get("value"));dstr=dstr.replace(/[T:-]/g,"").substr(6,6);this._tempIdForAttachments="NE"+uid.substr(uid.length-4,4)+dstr;}return this._tempIdForAttachments;},_attachmentRequests:0,_successfulAttachmentSave:function(_1358){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;this._hideIfComplete();}},_failedAttachmentSave:function(){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;this._hideIfComplete();}},_successfulCurrentUserActivitySave:function(_1359){this._currentUserActivitySaved=true;dojo.publish("/entity/userActivity/change",[_1359,this]);this._hideIfComplete();},_successfulActivityDelete:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();dojo.publish("/entity/activity/delete",[this._activityData["$key"],this]);if(this._activityData["Timeless"]){dojo.publish("/entity/activity/timeless/delete",[this._activityData["$key"],this]);}this.hide();},_successfulComplete:function(_135a){if(this.mode==="CompleteUnscheduled"){var self=this;var _135b=arguments;var _135c=this.attendeesTab._historySaved(_135a);_135c.then(function(value){self._successfulAttendeesComplete(_135a);});}else{this._successfulAttendeesComplete(_135a);}},_successfulAttendeesComplete:function(_135d){this._isProcessing=false;var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();var hist=_135d;if(this.mode==="Complete"){if(_135d.Response){hist=_135d.Response;}dojo.publish("/entity/activity/delete",[this._activityData["$key"],this]);if(this._activityData["Timeless"]){dojo.publish("/entity/activity/timeless/delete",[this._activityData["$key"],this]);}}dojo.publish("/entity/history/create",[hist,this]);var _135e=null;if(this.mode==="Complete"){if(_135d.Response){_135e=_135d.Response.HistoryId;}}else{_135e=hist.$key;}if(this._attachmentList){var _135f=this._attachmentList.getNewAttachments();if(_135f.length>0){this._activityData.Attachment=true;this._saveAttachments(_135f,_135e);}}var _1360=this.sel_Followup.get("value");switch(_1360){case this.noneText:this.hide();return;case _12b0.getActivityTypeName("atPhoneCall"):_1360="atPhoneCall";break;case _12b0.getActivityTypeName("atAppointment"):_1360="atAppointment";break;case _12b0.getActivityTypeName("atToDo"):_1360="atToDo";break;}if(typeof _135e==="undefined"||_135e===null){this.hide();_12b4.showError(this.scheduleFollowUpErrorText);return;}var _1361=this._getFollowUpActivityData(_135e);this.hide();window.setTimeout(function(){var _1362=Sage.Services.getService("ActivityService");if(_1362){_1362.scheduleActivity({"type":_1360,"preConfigured":_1361});}},250);},_getFollowUpActivityData:function(_1363){var a=this._activityData;var ret={AccountId:a.AccountId,AccountName:a.AccountName,ContactId:a.ContactId,ContactName:a.ContactName,Description:a.Description,LeadId:a.LeadId,LeadName:a.LeadName,OpportunityId:a.OpportunityId,OpportunityName:a.OpportunityName,TicketId:a.TicketId,TicketNumber:a.TicketNumber};if(this.ck_coNotes.get("checked")){ret["LongNotes"]=a.LongNotes;ret["Notes"]=a.Notes;}if(this.ck_coAttachments.get("checked")){ret["carryOverAttachmentsFrom"]=_1363;}ret["carryOverParticipantsFrom"]=_1363;return ret;},_failedActivitySave:function(_1364){var msg=_12b0.findFailedRequestMessage(_1364,this.couldNotSaveErrorText);_12b4.showError(msg);this._completeAfterSaving=false;},_failedActivityDelete:function(_1365){var msg=_12b0.findFailedRequestMessage(_1365,this.couldNotDeleteErrorText);_12b4.showError(msg);this._completeAfterSaving=false;},_failedUserActivitySave:function(_1366){var msg=_12b0.findFailedRequestMessage(_1366,this.couldNotSaveErrorText);_12b4.showError(msg);},_failedResourceSave:function(_1367){var msg=_12b0.findFailedRequestMessage(_1367,this.couldNotSaveErrorText);_12b4.showError(msg);},_failedComplete:function(_1368){var msg=_12b0.findFailedRequestMessage(_1368,this.couldNotCompleteErrorText);_12b4.showError(msg);this._isProcessing=false;},_onGetUserActivityTemplate:function(_1369){this._userActivitiesRequestCount=0;var ldr=this.lup_Leader.get("selectedObject");ldr=ldr["$key"].substr(0,12);var act=this._activityData;var _136a=_12ac.Convert.toDateFromString(act.AlarmTime);for(var i=0;i<this._newAttendeesData.length;i++){var nat=this._newAttendeesData[i];if(nat["Type"]==="User"&&nat["$key"]!==ldr){var newua=dojo.mixin({},_1369);var _136b={User:{"$key":nat["$key"]},ActivityId:this.activityId,Activity:{"$key":this.activityId},Alarm:act.Alarm,AlarmTime:_12ac.Convert.toIsoStringFromDate(_136a),Status:"asUnconfirmed"};newua=_12ae.mixin(newua,_136b);var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));req.setResourceKind("userActivities");this._userActivitiesRequestCount++;req.create(newua,{success:function(_136c){this._userActivitiesRequestCount--;dojo.publish("/entity/userActivity/create",[_136c,this]);if(this._userActivitiesRequestCount<1){this._userActivitiesSaved=true;this._hideIfComplete();}},failure:this._failedUserActivitySave,scope:this});}}if(this._userActivitiesRequestCount<1){this._userActivitiesSaved=true;if(act.Timeless){dojo.publish("/entity/userActivities/timeless/saved",[act,this]);}this._hideIfComplete();}},_onGetResourceScheduleTemplate:function(_136d){this._resourceRequestCount=0;for(var i=0;i<this._newAttendeesData.length;i++){var nat=this._newAttendeesData[i];if(nat["Type"]==="Resource"){var newRe=_12ae.mixin({},_136d);var act=this._activityData;var sd=Sage.Utility.Convert.toDateFromString(act["StartDate"]);var ed=_12b1.add(sd,"minute",act["Duration"]);var _136e={ResourceId:nat["$key"],ActivityId:this.activityId,Description:nat["Name"],StartDate:act["StartDate"],EndDate:Sage.Utility.Convert.toIsoStringFromDate(ed),UserId:act.Leader["$key"]};newRe=_12ae.mixin(newRe,_136e);var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("resourceSchedules");this._resourceRequestCount++;req.create(newRe,{success:function(_136f){this._resourceRequestCount--;if(this._resourceRequestCount<1){this._resourcesSaved=true;this._hideIfComplete();}},failure:this._failedResourceSave,scope:this});}}},_removeResources:function(){this._resourceDeleteRequestCount=0;for(var i=0;i<this._attendeesForRemoval.length;i++){var rem=this._attendeesForRemoval[i];var _1370;var _1371;var _1372;if(rem["type"]==="user"){_1370=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_1370.setResourceKind("userActivities");_1371=_12b3.substitute("'ActivityId=${0};UserId=${1}'",[this.activityId,rem["id"]]);_1372="/entity/userActivity/delete";}else{_1370=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_1370.setResourceKind("resourceSchedules");_1371="'"+rem["rsid"]+"'";_1372="/entity/resourceSchedule/delete";}_1370.setResourceSelector(_1371);this._resourceDeleteRequestCount++;var _1373={notify:function(){dojo.publish(this.evt,[this.predicate]);this.editor._resourceDeleteRequestCount--;if(this.editor._resourceDeleteRequestCount<1){this.editor._resourcesRemoved=true;this.editor._hideIfComplete();}},evt:_1372,predicate:_1371,editor:this};var _1374={success:_1373.notify,aborted:function(){},failure:this._failedResourceSave,scope:_1373};_1370["delete"]({"$key":_1371},_1374);}},_cancelClick:function(){if(this.mode==="New"){this._removeAttachments();}this.hide();},_hideIfComplete:function(){if(this._activitySaved&&this._userActivitiesSaved&&this._currentUserActivitySaved&&this._resourcesSaved&&this._resourcesRemoved&&this._attachmentsSaved){var actId=this.activityId;if(this._completeAfterSaving){this._completeAfterSaving=false;var svc=Sage.Services.getService("ActivityService");if(svc){svc.completeActivity(actId);}}else{this.hide();}}},_acceptConfClick:function(){var _1375=Sage.Services.getService("ActivityService");_1375.acceptConfirmation({notification:this._notificationData,success:this._successfulAcceptConfirmation,failure:this._failedAcceptDecline,scope:this});},_declineClick:function(){var _1376=Sage.Services.getService("ActivityService");_1376.declineConfirmation({notification:this._notificationData,success:this._successfulDeclineConfirmation,failure:this._failedAcceptDecline,scope:this});},_deleteConfClick:function(){if(this._notificationData&&this._notificationStore){this._notificationStore.deleteEntity(this._notificationData,this._successfulNotificationDelete,this._failedActivityDelete,this);}},_getActivityDataFromNotificationData:function(){var _1377=null;var _1378=null;if(this._notificationData){if(this._notificationData.Activity){_1377=this._notificationData.Activity.$key;}if(this._notificationData.ToUser){_1378=this._notificationData.ToUser.$key;}}var _1379={"activityId":_1377,"userId":_1378};return _1379;},_successfulAcceptConfirmation:function(){dojo.publish("/entity/activity/confirm",[this._getActivityDataFromNotificationData(),null]);this._successfulNotificationDelete();},_successfulDeclineConfirmation:function(){dojo.publish("/entity/activity/decline",[this._getActivityDataFromNotificationData(),null]);this._successfulNotificationDelete();},_successfulNotificationDelete:function(){dojo.publish("/entity/userNotification/delete",[this._notificationData["$key"],this]);this.hide();},_ensureLookupsCreated:function(){if(!this.lup_Account){this.createAccountLookup();this.createContactLookup();this.createOpportunityLookup();this.createTicketLookup();this.createLeadLookup();this.createLeaderlookup();this.createResourcesLookup();}var self=this;if(dojo.byId("lu_lead_btnClearResult")){dojo.connect(dojo.byId("lu_lead_btnClearResult"),"onclick",null,function(){self.attendeesTab.unCheckPrimary();},true);}if(dojo.byId("lu_contact_btnClearResult")){dojo.connect(dojo.byId("lu_contact_btnClearResult"),"onclick",null,function(){self.attendeesTab.unCheckPrimary();},true);}},createAccountLookup:function(){this.accountLookupConfig={id:"_activityAcc",structure:[{"cells":[{"name":this.accountText,"field":"AccountName"},{"name":this.cityText,"field":"Address.City"},{"name":this.stateText,"field":"Address.State"},{"name":this.mainPhoneText,"field":"MainPhone"},{"name":this.typeText,"field":"Type"},{"name":this.subTypeText,"field":"SubType"},{"name":this.statusText,"field":"Status"},{"name":this.acctMgrText,"field":"AccountManager.UserInfo.UserName"},{"name":this.ownerText,"field":"Owner.OwnerDescription"}],"defaultCell":{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""}}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"accounts",sort:[{attribute:"AccountName"}]},isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,initializeLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupActText,dialogButtonText:this.okText},this.lup_Account=new _12ba({id:"lu_account",allowClearingResult:true,showEntityInfoToolTip:true,readonly:true,config:this.accountLookupConfig});this.eventConnections.push(dojo.connect(this.lup_Account,"onChange",this,"_accountChanged"));dojo.place(this.lup_Account.domNode,this.container_AccountLup.domNode,"only");},createContactLookup:function(){this.contactLookupConfig={id:"_activityContact",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"NameLF"},{name:this.accountText,field:"Account.AccountName"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.workphoneText,field:"WorkPhone"},{name:this.emailText,field:"Email"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",select:["Address/Timezone"],sort:[{attribute:"NameLF"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.okText};this.lup_Contact=new _12ba({id:"lu_contact",allowClearingResult:true,config:this.contactLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Contact,"onChange",this,"_contactChanged"));dojo.place(this.lup_Contact.domNode,this.container_ContactLup.domNode,"only");},createOpportunityLookup:function(){this.opportunityLookupConfig={id:"_activityOpp",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.descriptionText,field:"Description"},{name:this.acctMgrText,field:"AccountManager.UserInfo.UserName"},{name:this.accountText,field:"Account.AccountName"},{name:this.stageText,field:"Stage"},{name:this.statusText,field:"Status"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"opportunities",sort:[{attribute:"Description"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOpportunityText,dialogButtonText:this.okText};this.lup_Opportunity=new _12ba({id:"lu_opportunity",allowClearingResult:true,config:this.opportunityLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Opportunity,"onChange",this,"_opportunityChanged"));dojo.place(this.lup_Opportunity.domNode,this.container_OppLup.domNode,"only");},createTicketLookup:function(){this.ticketLookupConfig={id:"_activityTicket",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.ticketNumberText,field:"TicketNumber"},{name:this.accountText,field:"Account.AccountName"},{name:this.nameText,field:"Contact.NameLF"},{name:this.phoneText,field:"Contact.WorkPhone"},{name:this.statusText,field:"StatusCode",pickListName:"Ticket Status",propertyType:"SalesLogix.PickList",type:Sage.UI.Columns.PickList},{name:this.urgencyText,field:"Urgency.Description"},{name:this.areaText,field:"Area"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"tickets",sort:[{attribute:"TicketNumber"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupTicketText,dialogButtonText:this.okText};this.lup_Ticket=new _12ba({id:"lu_ticket",allowClearingResult:true,config:this.ticketLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Ticket,"onChange",this,"_ticketChanged"));dojo.place(this.lup_Ticket.domNode,this.container_TicketLup.domNode,"only");},createLeadLookup:function(){this.leadLookupConfig={id:"_activityLead",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.leadFullNameText,field:"LeadFullName"},{name:this.companyText,field:"Company"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.postalText,field:"Address.PostalCode"},{name:this.statusText,field:"Status"},{name:this.workphoneText,field:"WorkPhone"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"leads",select:["Address/Timezone"],sort:[{attribute:"LeadFullName"}]},isModal:true,initialLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeadText,dialogButtonText:this.okText};this.lup_Lead=new _12ba({id:"lu_lead",allowClearingResult:true,config:this.leadLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Lead,"onChange",this,"_leadChanged"));dojo.place(this.lup_Lead.domNode,this.container_LeadLup.domNode,"only");},createLeaderlookup:function(){var _137a={id:"_activityLeader",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "AllowAdd AND (AccessId eq '"+_12ac.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeaderText,dialogButtonText:this.okText};this.lup_Leader=new _12ba({id:"lu_leader",readonly:true,config:_137a});this.eventConnections.push(dojo.connect(this.lup_Leader,"onChange",this,"_leaderChanged"));dojo.place(this.lup_Leader.domNode,this.container_LeaderLup.domNode,"only");},createResourcesLookup:function(){this.resourcesLookupConfig={id:"_activityResources",btnToolTip:this.lookupResourcesText,structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"Name"},{name:this.typeText,field:"Type",width:"100px"},{name:this.locationText,field:"IsLocation",propertyType:"System.Boolean",format:function(_137b,_137c){var type=_12ac.getValue(_137c,"Type");if(!type){return this.defaultValue;}if(type==="User"){return "";}return (_137c["IsLocation"]===null||_137c["IsLocation"]==="false")?this.noText:this.yesText;}},{name:this.descriptionText,field:"Subtype",width:"200px"}]}],gridOptions:{},displayMode:5,storeOptions:{resourceKind:"activityresourceviews",select:["AccessId","ResourceId","AllowAdd","AllowEdit","AllowDelete"],sort:[{attribute:"Type"},{attribute:"Name"}]},isModal:true,initialLookup:false,preFilters:[],query:{conditions:"AllowAdd AND (AccessId eq '"+this._currentUserId+"' OR AccessId eq 'EVERYONE')"},dialogTitle:this.lookupResourcesText,dialogButtonText:this.addResourceText,doSelected:function(items){var _137d=dijit.byId("activityEditor");if(_137d){_137d.addMembers(items);}this.lookupDialog.hide();}};this.lup_Resources=new Sage.UI.SDataLookup(this.resourcesLookupConfig);this.lup_Resources.cancelText=this.lup_Resources.closeText;dojo.place(this.lup_Resources.domNode,this.container_ResourcesLup.domNode,"only");},_schedulerInitialized:false,_resetAttendeesList:function(){if(!this._schedulerInitialized){scheduler.showLightbox=function(){return false;};scheduler.config.timelineStep=30;scheduler.config.timelineStart=(this._options.calendar.dayStartTime*2);scheduler.config.timelineSize=((this._options.calendar.dayEndTime-this._options.calendar.dayStartTime)*2);scheduler.createTimelineView({name:"timeline",x_unit:"minute",x_date:"%g:%i",x_step:scheduler.config.timelineStep,x_start:scheduler.config.timelineStart,x_size:scheduler.config.timelineSize,y_unit:[],y_property:"section_id",render:"bar",section_autoheight:false,dy:30});scheduler.init("scheduler_here",new Date(),"timeline");scheduler.attachEvent("onBeforeDrag",function(){return false;});scheduler.config.dblclick_create=false;var self=this;dojo.query(".dhx_cal_prev_timeline_button").connect("onclick",function(){if(!scheduler.config.timelineStart==0){self.reRenderTimeline("left");}});dojo.query(".dhx_cal_next_timeline_button").connect("onclick",function(){if(scheduler.config.timelineStart+scheduler.config.timelineSize<48){self.reRenderTimeline("right");}});this._schedulerInitialized=true;}scheduler.clearAll();},_loadAttendeesData:function(){this._availabilityShowing=true;if(this.mode==="New"){var ldr=this.lup_Leader.get("selectedObject");var _137e=ldr["$descriptor"],_137f=ldr["$key"].substr(0,12);this.addMembers([{$descriptor:_137e,$key:_137f,IsLocation:false,Name:_137e,Subtype:"",Type:"User"}]);return;}var actid=this.activityId;if(!actid&&this._activityData){actid=this._activityData.$key;}if(!actid){return;}realActivityId=actid.substr(0,12);var req=new Sage.SData.Client.SDataNamedQueryRequest(Sage.Data.SDataServiceRegistry.getSDataService("mashups")).setApplicationName("$app").setResourceKind("mashups").setQueryName("execute").setQueryArg("_resultName","GetMembers").setQueryArg("_activityId",realActivityId);req.uri.setCollectionPredicate("'ActivityFreeBusy'");req.read({success:dojo.hitch(this,this._onReceiveAttendees),failure:dojo.hitch(this,this._availabilityFailed)});},_attendeesTemplate:new Simplate(["<table class=\"attendee-item\">","<tr>","<td class=\"attendee-name\">{%= $.name %}</td>","{% if (($.isNotLeader) && ($.allowDelete)) { %}","<td class=\"remove-attendee\" id=\"{%= $.id %}\"><img src=\"images/icons/Delete_16x16.png\" alt=\"{%= $.removeText %}\" title=\"{%= $.removeText %}\" onclick=\"{%= $.deleteCode %}\" /></td>","{% } %}","<td class=\"attendee-status\"><img src=\"{%= $.img %}\" alt=\"{%= $.imgToolTipText %}\" title=\"{%= $.imgToolTipText %}\"/></td>","</tr>","</table>"]),_onReceiveAttendees:function(data){this._attendeesData=data["$resources"];if(this._originalLeaderId&&this._originalLeaderId!==this._activityData.Leader["$key"]){var len=this._attendeesData.length;for(var i=0;i<len;i++){if(this._attendeesData[i]["id"]===this._originalLeaderId){this._attendeesData.splice(i,1);break;}}}this._rebuildTimeLine();this._requestAvailability();},_rebuildTimeLine:function(_1380){var i;for(i=0;i<this._deleteAttendeeConnects.length;i++){dojo.disconnect(this._deleteAttendeeConnects[i]);}this._deleteAttendeeConnects=[];var _1381=[];var _1382={};var _1383=[];var _1384=[];var _1385=this._activityData.Leader["$key"].trim();var _1386="Sage.Utility.Activity.removeMember('${0}','${1}');";for(i=0;i<this._attendeesData.length;i++){var img=this._blankGif;var _1387="";var _1388=this._attendeesData[i]["status"]||0;if(_1388===1||_1388==="asAccepted"){img="images/icons/Accept.png";_1387=this.acceptedText;}else{if(_1388===2||_1388==="asDeclned"){img="images/icons/Decline.png";_1387=this.declinedText;}}var yUnit={key:this._attendeesData[i]["id"],label:this._attendeesTemplate.apply({name:this._attendeesData[i]["name"],img:img,imgToolTipText:_1387,id:this._attendeesData[i]["id"],isNotLeader:this._attendeesData[i]["id"].trim()!==_1385,allowDelete:this._canEdit(),removeText:this.removeText,deleteCode:dojo.string.substitute(_1386,[this.id,this._attendeesData[i]["id"]])})};if(this._attendeesData[i]["id"].trim()===_1385){_1382=yUnit;}else{if(this._attendeesData[i]["type"]==="user"){_1383.push(yUnit);}else{_1384.push(yUnit);}}}_1381=(_1382.key)?[_1382].concat(_1383.concat(_1384)):_1383.concat(_1384);for(i=0;i<this._newAttendeesData.length;i++){_1381.push({key:this._newAttendeesData[i]["$key"],label:this._attendeesTemplate.apply({name:this._newAttendeesData[i]["Name"],img:this._blankGif,id:this._newAttendeesData[i]["$key"],isNotLeader:this._newAttendeesData[i]["$key"].trim()!==_1385,allowDelete:this._canEdit(),removeText:this.removeText,deleteCode:dojo.string.substitute(_1386,[this.id,this._newAttendeesData[i]["$key"]])})});}if(_1380=="left"){if((scheduler.config.timelineStart-scheduler.config.timelineSize)>0){scheduler.config.timelineStart=scheduler.config.timelineStart-scheduler.config.timelineSize;}else{scheduler.config.timelineStart=0;}}else{if(_1380=="right"){var st=(scheduler.config.timelineSize+scheduler.config.timelineStart);if(st>(48-scheduler.config.timelineSize)){scheduler.config.timelineStart=48-scheduler.config.timelineSize;}else{scheduler.config.timelineStart=st;}}}var self=this;scheduler.createTimelineView({name:"timeline",x_unit:"minute",x_date:"%g:%i",x_step:scheduler.config.timelineStep,x_start:scheduler.config.timelineStart,x_size:scheduler.config.timelineSize,y_unit:_1381,y_property:"section_id",render:"bar",section_autoheight:false,dy:30});scheduler.setCurrentView(this._getActivityStartDate(),"timeline");},_updateLocation:function(_1389,isAdd){var _138a=this._activityData.Location;if(!_138a||_138a===""){if(isAdd){_138a=_1389;}}else{var parts=_138a.split("; ");var _138b=[];var _138c=false;for(var i=0;i<parts.length;i++){if(parts[i]===_1389){if(isAdd){_138c=true;}else{continue;}}_138b.push(parts[i]);}if(!_138c&&isAdd){_138b.push(_1389);}_138a=_138b.join("; ");}Sage.Utility.setValue(this._activityData,"Location",_138a);this.tb_Location.set("value",_138a);},_removeMember:function(args){var i;var id=args.memberId;var lst=[];for(i=0;i<this._attendeesData.length;i++){if(this._attendeesData[i]["id"]===id){if(this._attendeesData[i]["type"]==="resource"&&this._attendeesData[i]["IsLocation"]){this._updateLocation(this._attendeesData[i]["name"],false);}this._attendeesForRemoval.push(this._attendeesData[i]);}else{lst.push(this._attendeesData[i]);}}this._attendeesData=lst;lst=[];for(i=0;i<this._newAttendeesData.length;i++){if(this._newAttendeesData[i]["$key"]===id){if(this._newAttendeesData[i]["Type"]==="Resource"&&this._newAttendeesData[i]["IsLocation"]===true){this._updateLocation(this._newAttendeesData[i]["Name"],false);}}else{lst.push(this._newAttendeesData[i]);}}this._newAttendeesData=lst;this._rebuildTimeLine();if(!args.attendeesTab){this.attendeesTab._removeAssociatedContact(args.memberId);}},addMembers:function(items){var _138d=[];for(var i=0;i<items.length;i++){var item=items[i];if(item["$key"].length>12){item["$key"]=item["$key"].substr(0,12);}if(this._isMember(item)){continue;}if(item["ResourceId"]){item["$key"]=item["ResourceId"];}if(item["Type"]==="Resource"&&item["IsLocation"]===true){this._updateLocation(item["Name"],true);}_138d.push(item["$key"]);this._newAttendeesData.push(item);}if(this._availabilityShowing){this._rebuildTimeLine();this._requestAvailability();}this.attendeesTab._addContactAttendees(_138d);},_isMember:function(_138e){var i,len=this._attendeesData.length;for(i=0;i<len;i++){if(this._attendeesData[i]["id"]===_138e["$key"]){return true;}}len=this._newAttendeesData.length;for(i=0;i<len;i++){if(this._newAttendeesData[i]["$key"]===_138e["$key"]){return true;}}return false;},_updateUsersListWithNewLeader:function(_138f,_1390){var i,len=this._attendeesData.length;for(i=0;i<len;i++){if(this._attendeesData[i]["id"]===_138f){this._attendeesData.splice(i,1);break;}}len=this._newAttendeesData.length;for(i=0;i<len;i++){if(this._newAttendeesData[i]["$key"]===_138f){this._newAttendeesData.splice(i,1);break;}}this.addMembers([{$descriptor:_1390["$descriptor"],$key:_1390["$key"],IsLocation:false,Name:_1390["$descriptor"],Subtype:"",Type:"User"}]);},_requestAvailability:function(){if(this._attendeesData.length<1&&this._newAttendeesData.length<1){return;}var _1391=[];for(var i=0;i<this._attendeesData.length;i++){_1391.push("'"+this._attendeesData[i]["id"]+"'");}for(i=0;i<this._newAttendeesData.length;i++){_1391.push("'"+this._newAttendeesData[i]["$key"]+"'");}if(this._availabilityDataDateRange.fromDate){var _1392=Sage.Utility.Convert.toDateFromString(this._activityData["StartDate"]);if((_1392>this._availabilityDataDateRange.fromDate)&&(_1392<this._availabilityDataDateRange.toDate)&&(_1391.join("")===this._availabilityDataDateRange.users.join(""))){return;}}this._requestAvailabilityFor(_1391);},_availabilityDataDateRange:{fromDate:false,toDate:false,users:[]},_requestAvailabilityFor:function(_1393){var _1394=Sage.Utility.Convert.toDateFromString(this._activityData["StartDate"]);var _1395=_12b1.add(_1394,"day",-7);var _1396=_12b1.add(_1394,"day",7);this._availabilityDataDateRange.fromDate=_1395;this._availabilityDataDateRange.toDate=_1396;this._availabilityDataDateRange.users=_1393;var _1397=Sage.Services.getService("ActivityService");if(_1397){var _1398={quotedIds:_1393,startDate:_1395,endDate:_1396,expandRecurrences:true,includeTimless:false,timelessOnly:false};_1397.getActivityFreeBusyFor(this,_1398,this._onReceiveAvailability,this._availabilityFailed);}},_onReceiveAvailability:function(data){this._availabilityData=data["$resources"];this._applyAvailability();},_applyAvailability:function(){scheduler.clearAll();for(var i=0;i<this._availabilityData.length;i++){var item=this._availabilityData[i];if(item.type===262162&&item.itemId!==this._currentUserId){item["description"]=_12b0.getActivityTypeName("atPersonal");}var _1399=(item["activityId"]==this.activityId)?true:false;var _139a=Sage.Utility.Convert.toDateFromString(item["startDate"]);var eDate=_12b1.add(_139a,"minute",item["duration"]);scheduler.addEvent(_139a,eDate,item["description"],null,{section_id:item["itemId"],activity_Id:item["activityId"],current_event:_1399});}},reRenderTimeline:function(_139b){this._rebuildTimeLine(_139b);this._applyAvailability();},_availabilityFailed:function(req,msg){},_recurringStartDateChanged:function(_139c){var _139d=this.dtp_startDate.get("value");if(_139c.getMonth()===_139d.getMonth()&&_139c.getDate()===_139d.getDate()&&_139c.getFullYear()===_139d.getFullYear()){return;}if(this._activityData.StartDate){var _139e=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate).getHours();var _139f=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate).getMinutes();_139c.setHours(_139e);_139c.setMinutes(_139f);}this._activityData.StartDate=(_139c.getFullYear)?_12ac.Convert.toIsoStringFromDate(_139c):_139c;this.dtp_startDate.set("value",_139c);this._startDateChanged();},_recurringPeriodChanged:function(_13a0){this._handleAutoRolloverState();},_isOccurence:function(){if(this.activityId.length>12){return true;}return false;},_canEdit:function(){if((this.mode==="Confirm")||(!this._activityData.AllowEdit)||this._isOccurence()){return false;}return true;},_emptyActivity:{"$key":"","AccountId":null,"AccountName":"","ActivityBasedOn":null,"Alarm":false,"AlarmTime":_12ac.Convert.toIsoStringFromDate(new Date()),"Attachment":false,"Category":null,"ContactId":null,"ContactName":"","CreateDate":"","CreateUser":"","Description":"","Duration":15,"ForeignId1":null,"ForeignId2":null,"ForeignId3":null,"ForeignId4":null,"LeadId":null,"LeadName":"","LongNotes":null,"Notes":null,"OpportunityId":null,"OpportunityName":null,"OriginalDate":"","PhoneNumber":"","Priority":null,"ProcessId":null,"ProcessNode":null,"ProjectId":null,"RecurIterations":0,"RecurPeriod":0,"RecurPeriodSpec":0,"Recurring":false,"RecurSkip":"","Rollover":false,"StartDate":_12ac.Convert.toIsoStringFromDate(new Date()),"TicketId":null,"TicketNumber":null,"Timeless":false,"Type":"atAppointment","UserDef1":null,"UserDef2":null,"UserDef3":null,"AttachmentCount":null,"Location":null,"EndDate":"","Resources":{},"Leader":{"$key":""},"UserActivities":{},"UserNotifications":{}}});return _12c2;});},"Sage/MainView/ActivityMgr/nls/ActivityGroupContextService":function(){define("Sage/MainView/ActivityMgr/nls/ActivityGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_13a1,lang){var nls={root:{activityTabDisplayName:"My Activities",litTabDisplayName:"Literature",eventTabDisplayName:"Events",confirmTabDisplayName:"Confirmations",pastDueTabDisplayName:"Past Due",alarmTabDisplayName:"Alarms",allOpenTabDisplayName:"All Open"}};return lang.mixin(_13a1,nls);});},"Sage/UI/Controls/TextBox":function(){define("Sage/UI/Controls/TextBox",["dijit/form/ValidationTextBox","dojo/dom-class","dojo/query","dojo/_base/declare"],function(_13a2,_13a3,_13a4,_13a5){var _13a6=_13a5("Sage.UI.Controls.TextBox",[_13a2],{maxLength:"",textWithIcons:false,shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",_setHotKeyAttr:{node:"textbox",type:"attribute",attribute:"accessKey"},slxchangehook:"true",_setslxchangehookAttr:{node:"focusNode",type:"attribute",attribute:"slxchangehook"},postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},startup:function(_13a7){if(this.textWithIcons){var self=this;dojo.ready(function(){if(_13a4("#"+self.id)[0]){var _13a8=_13a4("#"+self.id)[0];_13a3.add(_13a8.parentNode,"textcontainer-with-icons");}});}this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},setAttribute:function(attr,val){this.set(attr,val);}});return _13a6;});},"Sage/Services/ActivityService":function(){define("Sage/Services/ActivityService",["Sage/UI/Dialogs","Sage/MainView/ActivityMgr/ActivityEditor","Sage/MainView/ActivityMgr/EditEventEditor","Sage/MainView/ActivityMgr/QuickCompleteEditor","Sage/Services/ActivityActionProcessor","Sage/Services/ActivityAction","Sage/MainView/ActivityMgr/HistoryEditor","Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","dojo/string","Sage/Utility","dojo/i18n!./nls/ActivityService","dojo/_base/declare","dojo/topic","dojo/_base/lang"],function(_13a9,_13aa,_13ab,_13ac,_13ad,_13ae,_13af,_13b0,_13b1,_13b2,_13b3,_13b4,_13b5,_13b6,topic,lang){var _13b7=_13b6("Sage.Services.ActivityService",null,{_defaultActivitManagerTabId:null,_activityEditor:false,_eventEditor:false,_historyEditor:false,_editOccSeriesDlg:false,_deleteOccSeriesDlg:false,_compOccSeriesDlg:false,_processor:false,_actCompleteQueue:false,_histCompleteQueue:[],activityEditorType:_13aa,eventEditorType:_13ab,historyEditorType:_13af,constructor:function(){dojo.mixin(this,_13b5);},_ensureEditor:function(){if(!this._activityEditor){this._activityEditor=new this.activityEditorType({id:"activityEditor"});this.onActivityEditorCreated(this._activityEditor);}},onActivityEditorCreated:function(_13b8){},_ensureEventEditor:function(){if(!this._eventEditor){this._eventEditor=new this.eventEditorType();this.onEventEditorCreated(this._eventEditor);}},onEventEditorCreated:function(_13b9){},_ensureHistoryEditor:function(){if(!this._historyEditor){this._historyEditor=new this.historyEditorType({id:"historyEditor"});this.onHistoryEditorCreated(this._historyEditor);}},onHistoryEditorCreated:function(_13ba){},_ensureProcessor:function(){if(!this._processor){this._processor=new _13ad();}},_getIdFromGridSelection:function(){var _13bb=this.getSelectedItem();if(!_13bb){return false;}if(_13bb.hasCompositeKey){return _13bb.entity.Activity["$key"];}else{return _13bb.id;}},_getRecurringFromGridSelection:function(){var _13bc=false,_13bd=this.getSelectedItem();if(_13bd&&_13bd.entity){if(_13bd.entity.hasOwnProperty("Activity")){_13bc=_13bd.entity.Activity["Recurring"]===true;if((_13bc)&&(_13bd.entity.Activity["RecurIterations"]<0)){_13bc=false;}}else{_13bc=_13bd.entity["Recurring"]===true;if((_13bc)&&(_13bd.entity["RecurIterations"]<0)){_13bc=false;}}}return _13bc;},editActivity:function(id,_13be,_13bf){if(!id){id=this._getIdFromGridSelection();_13be=this._getRecurringFromGridSelection();}if(!id){return;}if(id.length===12&&!_13be){this._ensureEditor();this._activityEditor.set("mode","Update");this._activityEditor.set("activityId",id);this._activityEditor.set("activityMemberId",_13bf);this._activityEditor.show();}else{this.editOccurrenceOrSeriesQuery(id,_13bf);}},editOccurrence:function(id,_13c0,_13c1){this._ensureEditor();this._activityEditor.set("mode","Update");this._activityEditor.set("activityId",id);this._activityEditor.set("activityMemberId",_13c1);this._activityEditor.show();},editOccurrenceOrSeriesQuery:function(id,_13c2){if(!this._editOccSeriesDlg){this._editOccSeriesDlg=new _13b0({id:"editOccSeriesQuery",mode:"edit"});dojo.connect(this._editOccSeriesDlg,"onSelectSeries",this,function(actid,mId){this.editActivity(actid.substring(0,12),false,mId);});dojo.connect(this._editOccSeriesDlg,"onSelectOccurrence",this,function(actid,_13c3,mId){this.editOccurrence(actid,_13c3,mId);});}this._editOccSeriesDlg.set("activityMemberId",_13c2);this._editOccSeriesDlg.set("activityId",id);this._editOccSeriesDlg.show();},editTempActivity:function(id){this._ensureEditor();this._activityEditor.set("mode","deleteOnCancel");this._activityEditor.set("activityId",id);this._activityEditor.show();},completeOccurrenceOrSeriesQuery:function(id){if(!this._compOccSeriesDlg){this._compOccSeriesDlg=new _13b0({id:"compOccSeriesQuery",mode:"complete"});dojo.connect(this._compOccSeriesDlg,"onSelectSeries",this,function(id){this.completeActivity(id.substring(0,12),false);});dojo.connect(this._compOccSeriesDlg,"onSelectOccurrence",this,this.completeActivityOccurrence);}this._compOccSeriesDlg.set("activityId",id);this._compOccSeriesDlg.show();},scheduleActivity:function(args){var type=args["type"]||args["Type"];if(type==="CompleteActivity"){this.scheduleCompletedActivity(type,args);return;}this._ensureEditor();this._activityEditor.set("mode","New "+args["type"]||"Meeting");if(args.hasOwnProperty("preConfigured")){this._activityEditor.show(args.preConfigured);}else{this.getActivityEntityContext(this._activityEditor,function(_13c4,_13c5){_13c4.show(_13c5);});}},completeActivityOccurrence:function(id,_13c6){this._ensureEditor();if(id.indexOf(";")<0){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b2.getSDataService("system")).setResourceKind("activities").setQueryArg("select","StartDate").setQueryArg("where","id eq '"+id+"'").setQueryArg("orderby","StartDate asc").setQueryArg("count","1");req.read({success:function(data){var acts=data["$resources"];if(acts.length>0){this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",acts[0]["$key"]);this._activityEditor.show();}},scope:this});}else{this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",id);this._activityEditor.show();}},completeActivity:function(id,_13c7){var _13c8=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(_13c8.count>1){this.completeActivitiesInSelectionContext(_13c8);}else{if(_13c8.id){var selid=_13c8.id;if(_13c8.selectionInfo&&_13c8.selectionInfo.selections[0].entity){var _13c9=_13c8.selectionInfo.selections[0].entity;if(_13c8.selectionInfo.hasCompositeKey){selid=_13c9["Activity"]["$key"];}if(selid.length===12){if(_13c9.hasOwnProperty("Activity")){_13c9=_13c9.Activity;}_13c7=_13c9["Recurring"]===true;if((_13c7)&&(_13c9["RecurIterations"]<0)){_13c7=false;}}}if(selid.length===12&&!_13c7){this._ensureEditor();this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",selid);this._activityEditor.show();}else{this.completeOccurrenceOrSeriesQuery(selid);}}}},_quickCompleteConnections:[],completeActivitiesInSelectionContext:function(_13ca){if(_13ca.count<1){return;}this._actCompleteQueue=_13ca;var _13cb={selectionContext:_13ca};var qce=new _13ac(_13cb);this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteIndividually",this,"_completeActivitiesInQueue"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteNow",this,"_completeActivitiesNow"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteAsScheduled",this,"_completeActivitiesAsScheduled"));this._quickCompleteConnections.push(dojo.connect(qce,"onCancel",this,function(){this._actCompleteQueue=false;}));this._quickCompleteConnections.push(dojo.connect(qce._dialog,"onHide",this,"_quickCompleteHide"));qce.show();},_actEditorHideConnection:null,_quickCompleteHide:function(){if(!this._completingActivitiesIndividually){this._actCompleteQueue=false;}dojo.forEach(this._quickCompleteConnections,function(_13cc){dojo.disconnect(_13cc);});this._quickCompleteConnections=[];},_completingActivitiesIndividually:false,_completeActivitiesInQueue:function(){this._completingActivitiesIndividually=true;this._ensureEditor();this._actEditorHideConnection=dojo.connect(this._activityEditor,"onHide",this,this._completeNextActivityInQueue);this._completeNextActivityInQueue();},_completeNextActivityInQueue:function(){var _13cd=this._actCompleteQueue.selectionInfo.selections.pop();var id=_13cd.id;var _13ce=false;if(_13cd.entity){var _13cf=_13cd.entity.hasOwnProperty("Activity")?_13cd.entity["Activity"]:_13cd.entity;if(this._actCompleteQueue.selectionInfo.hasCompositeKey){id=_13cd.entity["Activity"]["$key"];}_13ce=(id.length>12||_13cf["Recurring"]===true);}this.completeActivity(id,_13ce);if(this._actCompleteQueues.selectionInfo.selections.length<1){dojo.disconnect(this._actEditorHideConnection);this._completingActivitiesIndividually=false;}},_completeActivitiesAsScheduled:function(_13d0){var args={selectionInfo:_13d0.selectionContext.selectionInfo,mode:"asScheduled",note:_13d0.note,result:_13d0.result,resultCode:_13d0.resultCode};var _13d1=new _13ae();_13d1.set("OperationName","completeActivities");_13d1.set("PublishMap","/entity/activity/change");_13d1.set("args",args);_13d1.execute({success:function(_13d2){topic.publish("/entity/activity/bulkComplete","true");},failure:function(){_13a9.showError(this.txtErrorActionMsg);}});},_completeActivitiesNow:function(_13d3){var args={selectionInfo:_13d3.selectionContext.selectionInfo,mode:"completeNow",note:_13d3.note,result:_13d3.result,resultCode:_13d3.resultCode};var _13d4=new Sage.Services.ActivityAction();_13d4.set("OperationName","completeActivities");_13d4.set("PublishMap","/entity/activity/change");_13d4.set("Args",args);_13d4.execute({success:function(_13d5){topic.publish("/entity/activity/bulkComplete","true");},failure:function(){_13a9.showError(this.txtErrorActionMsg);}});},completeHistoriesInList:function(_13d6){if(_13d6.length<1){return;}if(_13d6.length===1){this.completeHistory(_13d6[0]);return;}this._histCompleteQueue=_13d6;var _13d7={selectionContext:{count:_13d6.length,selectionInfo:{selectedIds:_13d6}}};this._histCompleteQueue=_13d6;var qce=new _13ac(_13d7);this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteIndividually",this,"_completeHistoriesInQueue"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteNow",this,"_updateHistoriesFromQuickComplete"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteAsScheduled",this,"_updateHistoriesFromQuickComplete"));this._quickCompleteConnections.push(dojo.connect(qce,"onCancel",this,"_cancelCompleteHistoryQueue"));this._quickCompleteConnections.push(dojo.connect(qce._dialog,"onHide",this,"_quickCompleteHide"));qce.show();},completeHistory:function(_13d8){this._ensureHistoryEditor();this._historyEditor.set("historyId",_13d8);this._historyEditor.set("mode","Complete");this._historyEditor.show();},_histEditorHideConnection:null,_quickHistoryCompleteHide:function(){dojo.forEach(this._histEditorHideConnection,function(_13d9){dojo.disconnect(_13d9);});dojo.forEach(this._actEditorHideConnection,function(_13da){dojo.disconnect(_13da);});this._histEditorHideConnection=false;this._actEditorHideConnection=false;},_completeHistoriesInQueue:function(){this._ensureHistoryEditor();this._historyEditor._doingFollowup=false;this._histEditorHideConnection=dojo.connect(this._historyEditor,"onHide",this,this._completeNextHisotryInQueue);this._completeNextHisotryInQueue();},_completeNextHisotryInQueue:function(e){if(this._histCompleteQueue.length<1){dojo.disconnect(this._histEditorHideConnection);dojo.disconnect(this._actEditorHideConnection);return;}if(this._historyEditor._doingFollowup){this._ensureEditor();if(this._actEditorHideConnection){dojo.disconnect(this._actEditorHideConnection);}this._actEditorHideConnection=dojo.connect(this._activityEditor,"onHide",this,this._followupCompleteNextHistoryInQueue);return;}var _13db=this._histCompleteQueue.pop();var self=this;this.completeHistory(_13db);},_followupCompleteNextHistoryInQueue:function(){this._historyEditor._doingFollowup=false;this._completeNextHisotryInQueue();},_cancelCompleteHistoryQueue:function(){this._deleteHistoryFromQuickComplete();},_deleteHistoryFromQuickComplete:function(){var _13dc=function(_13dd){var store=new _13b1({resourceKind:"history",service:_13b2.getSDataService("dynamic")});store.fetch({predicate:"\""+_13dd+"\"",onComplete:function(_13de){store.deleteEntity(_13de,this,null,null);},onError:function(){},scope:this});};var count=this._histCompleteQueue.length;for(var i=0;i<count;i++){_13dc(this._histCompleteQueue.pop());}},_updateHistoriesFromQuickComplete:function(_13df){var _13e0=function(_13e1){var store=new _13b1({resourceKind:"history",select:["LongNotes","Result","ResultCode"],service:_13b2.getSDataService("dynamic")});store.fetch({predicate:"\""+_13e1+"\"",onComplete:function(_13e2){_13e2.Result=_13df.result||_13e2.Result;_13e2.ResultCode=_13df.resultCode||_13e2.ResultCode;_13e2.LongNotes=(_13e2.LongNotes)?_13e2.LongNotes+"\n"+_13df.note:_13df.note;store.save({scope:this,success:function(hist){dojo.publish("/entities/history/create",hist);},failure:function(){}});},onError:function(){},scope:this});};var count=this._histCompleteQueue.length;for(var i=0;i<count;i++){_13e0(this._histCompleteQueue.pop());}},completeNewActivity:function(type,args){this._ensureEditor();if(!args||typeof args!="object"){args={};}args["Type"]=args["Type"]||type||"atAppointment";this._activityEditor.set("mode","CompleteUnscheduled");this._activityEditor.show(args);},deleteActivity:function(id,_13e3,_13e4){var _13e5=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(id){if((id.length===12&&!_13e3)||id.indexOf("ActivityId")>-1){this.deleteActivitiesInSelectionContext(_13e5,_13e4);}else{this.deleteOccurrenceOrSeriesQuery(id);}return;}if(_13e5.count<1){return;}if(_13e5.count>1){this.deleteActivitiesInSelectionContext(_13e5);}else{var _13e6=_13e5.selectionInfo.selections[0];if(_13e5.selectionInfo.hasCompositeKey){if(_13e6.entity){id=_13e6.entity["Activity"]["$key"];}}else{id=_13e6.id;}_13e3=false;if(_13e6.entity){if(_13e6.entity.hasOwnProperty("Activity")){_13e3=_13e6.entity.Activity["Recurring"]===true;}else{_13e3=_13e6.entity["Recurring"]===true;}}}if(!id){return;}if(id.length===12&&!_13e3){this.deleteActivitiesInSelectionContext(_13e5);}else{this.deleteOccurrenceOrSeriesQuery(id);}},deleteActivitiesInSelectionContext:function(_13e7,_13e8,_13e9){if(_13e7.count<1){return;}var _13ea=this.txtActionDeleteActivites;var _13eb=String.format(this.txtActionDeleteActivitiesQuestion,_13e7.count,_13e7.name);var _13ec=new _13ae();var args={selectionInfo:_13e7.selectionInfo};if(_13e7.count===1){var _13ed=_13e7.selectionInfo.selections[0];if(_13ed&&_13ed.id&&_13ed.id.indexOf("ActivityId")>-1){_13ec.set("PublishMapWithId","/entity/userActivity/delete");_13ec.set("ActivityId",_13ed.id);}else{if(_13ed){_13ec.set("PublishMapWithId","/entity/activity/delete/single");_13ec.set("ActivityId",_13ed.id);}}}_13ec.set("OperationName","deleteActivities");_13ec.set("PublishMap","/entity/activity/delete");_13ec.set("ActionDescription",_13ea);_13ec.set("ActionMessage",_13eb);_13ec.set("Args",args);this._ensureProcessor();this._processor.set("Action",_13ec);this._processor.set("SelectionContext",_13e7);if(_13e8){var _13ee=dojo.connect(this._processor,"onActionComplete",this,function(_13ef){dojo.disconnect(_13ee);_13e8.call(_13e9||this,_13ef);});}this._processor.start();},declineMemberConfirmation:function(_13f0,_13f1){if(_13f0&&_13f1){var _13f2={"$name":"DeclineMember","request":{"entity":_13f0,"memberId":_13f1}};var _13f3=new Sage.SData.Client.SDataServiceOperationRequest(_13b2.getSDataService("dynamic")).setResourceKind("activities").setOperationName("DeclineMember");_13f3.execute(_13f2,{success:function(ua){var _13f4=_13b3.substitute("'ActivityId=${0};UserId=${1}'",[_13f0.$key,_13f1]);topic.publish("/entity/userActivity/delete",_13f4);},failure:function(){},scope:this});}},deleteOccurrenceOrSeriesQuery:function(id){if(!this._deleteOccSeriesDlg){this._deleteOccSeriesDlg=new _13b0({id:"deleteOccSeriesQuery",mode:"delete"});dojo.connect(this._deleteOccSeriesDlg,"onSelectOccurrence",this,function(id){this.deleteOccurrence(id);});dojo.connect(this._deleteOccSeriesDlg,"onSelectSeries",this,function(id){this.deleteAllOccurrence(id);});}this._deleteOccSeriesDlg.set("activityId",id);this._deleteOccSeriesDlg.show();},deleteOccurrence:function(id){var _13f5=this._getSelectionContext(id,this.txtActivity,this.txtActivities);this.deleteActivitiesInSelectionContext(_13f5);},deleteAllOccurrence:function(id){var _13f6=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(_13f6.count<1){return;}var _13f7=this.txtActionDeleteActivites;var _13f8=String.format(this.txtActionDeleteActivitiesQuestion,_13f6.count,_13f6.name);var _13f9=new _13ae();var args={selectionInfo:_13f6.selectionInfo};if(_13f6.count===1){var _13fa=_13f6.selectionInfo.selections[0];if(_13fa){_13f9.set("PublishMapWithId","/entity/activity/delete/recurrence");_13f9.set("ActivityId",_13fa.id);}}_13f9.set("OperationName","deleteAllOccurrence");_13f9.set("PublishMap","/entity/activity/delete");_13f9.set("ActionDescription",_13f7);_13f9.set("ActionMessage",_13f8);_13f9.set("Args",args);this._ensureProcessor();this._processor.set("Action",_13f9);this._processor.set("SelectionContext",_13f6);this._processor.start();},snooze:function(id,_13fb){var _13fc=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);var _13fd=this.txtActionSnoozeAlarm;var _13fe=String.format(this.txtActionSnoozeQuestion,_13fc.count,_13fc.name,_13fb.name);var _13ff=new _13ae();var args={selectionInfo:_13fc.selectionInfo,interval:_13fb.interval,duration:_13fb.duration};_13ff.set("OperationName","SnoozeAlarms");_13ff.set("PublishMap","/entity/UserActivity/change");_13ff.set("ActionDescription",_13fd);_13ff.set("ActionMessage",_13fe);_13ff.set("Args",args);this._ensureProcessor();this._processor.set("Action",_13ff);this._processor.set("SelectionContext",_13fc);this._processor.start();},snoozeAll:function(_1400){var id=null;var _1401=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);_1401.mode="ALL";var _1402=this.txtActionSnoozeAlarm;var _1403=String.format(this.txtActionSnoozeAllQuestion,_1401.name,_1400.name);var _1404=new _13ae();var args={selectionInfo:_1401.selectionInfo,interval:_1400.interval,duration:_1400.duration};_1404.set("OperationName","SnoozeAlarms");_1404.set("PublishMap","/entity/UserActivity/change");_1404.set("ActionDescription",_1402);_1404.set("ActionMessage",_1403);_1404.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1404);this._processor.set("SelectionContext",_1401);this._processor.start();},dismissAlarm:function(id){var _1405=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);var _1406=this.txtActionDismissAlarms;var _1407=String.format(this.txtActionDismissAlarmsQuestion,_1405.count,_1405.name);var _1408=new _13ae();var args={selectionInfo:_1405.selectionInfo};_1408.set("OperationName","DismissAlarms");_1408.set("ActionDescription",_1406);_1408.set("ActionMessage",_1407);_1408.set("PublishMap","/entity/UserActivity/change");_1408.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1408);this._processor.set("SelectionContext",_1405);this._processor.start();},scheduleCompletedActivity:function(_1409){if(_1409){this._ensureHistoryEditor();this._historyEditor.set("activityType",_1409);this._historyEditor.set("mode","New");this._historyEditor.set("historyId","");this.getActivityEntityContext(this._historyEditor,function(scope,_140a){scope.show(_140a);});}else{alert("Show Schedule Completed Dialog");}},insertNote:function(){this._ensureHistoryEditor();this._historyEditor.set("activityType","Note");this._historyEditor.set("mode","New");this._historyEditor.set("historyId","");this.getActivityEntityContext(this._historyEditor,function(scope,_140b){scope.show(_140b);});},editHistory:function(_140c){if(!_140c){_140c=this.getSelectedId();}if(!_140c){return;}this._ensureHistoryEditor();this._historyEditor.set("mode","Edit");this._historyEditor.set("historyId",_140c);this._historyEditor.show();},scheduleEvent:function(args){this._ensureEventEditor();this._eventEditor.set("mode","New");this._eventEditor.set("eventId","");this._eventEditor.show(args);},editEvent:function(id){if(!id){id=this.getSelectedId();}if(!id){return;}this._ensureEventEditor();this._eventEditor.set("mode","Update");this._eventEditor.set("eventId",id);this._eventEditor.show();},deleteEvent:function(id){var _140d=this._getSelectionContext(id,this.txtEvent,this.txtEvents);var _140e=this.txtActionDeleteEvents;var _140f=String.format(this.txtActionDeleteEventsQuestion,_140d.count,_140d.name);var args={selectionInfo:_140d.selectionInfo};var _1410=new _13ae();if(_140d.count===1){var _1411=_140d.selectionInfo.selections[0];if(_1411){_1410.set("PublishMapWithId","/entity/event/delete/single");_1410.set("ActivityId",_1411.id);}}_1410.set("OperationName","deleteEvents");_1410.set("PublishMap","/entity/event/delete");_1410.set("ActionDescription",_140e);_1410.set("ActionMessage",_140f);_1410.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1410);this._processor.set("SelectionContext",_140d);this._processor.start();},confirmActivityFor:function(actId,_1412,_1413,_1414){if(actId){actId=actId.substring(0,12);}var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b2.getSDataService("dynamic"));req.setResourceKind("userNotifications");req.setQueryArg("where",_13b3.substitute("ActivityId eq '${0}' and ToUser.Id eq '${1}'",[actId,_1412]));req.setQueryArg("precedence","0");req.read({success:function(_1415){if(_1415["$resources"]&&_1415["$resources"].length>0){if(_1413){_1413.call(_1414||this,_1415["$resources"][0]["$key"]);}else{this.editConfirmation(_1415["$resources"][0]["$key"],_1412);}}else{this.editActivity(actId,false);}},failure:function(){},scope:this});},editActivityIfConfirmed:function(_1416,_1417){if(!_1416){_1416=this._getIdFromGridSelection();_1417=this._getRecurringFromGridSelection();}var _1418=_13b4.getClientContextByKey("userID");var _1419=_13b3.substitute("\"${0};${1}\"",[(_1416.indexOf(";")>0)?_1416.substring(0,12):_1416,_1418]);var req=new Sage.SData.Client.SDataSingleResourceRequest(_13b2.getSDataService("dynamic")).setResourceKind("userActivities").setResourceSelector(_1419);req.read({success:function(ua){if(ua.Status==="asUnconfirmed"){this.confirmActivityFor(_1416,_1418);}else{this.editActivity(_1416,_1417);}},failure:function(){this.editActivity(_1416,_1417);},scope:this});},editConfirmation:function(id,_141a){if(!id){id=this.getSelectedId();}if(!id){return;}this._ensureEditor();this._activityEditor.set("mode","Confirm");this._activityEditor.set("userNotificationId",id);this._activityEditor.set("activityMemberId",_141a);this._activityEditor.show();},acceptConfirmation:function(_141b){var id=false;if(_141b){if(_141b.id){id=_141b.id;}else{if(_141b.notification){if(_141b.notes){_141b.notification.Notes=_141b.notes;}var _141c={"$name":"Accept","request":{"entity":_141b.notification,"UserNotificationId":_141b.notification["$key"]}};var _141d=new Sage.SData.Client.SDataServiceOperationRequest(_13b2.getSDataService("dynamic")).setResourceKind("usernotifications").setOperationName("accept");_141d.execute(_141c,{success:_141b.success||function(){},failure:_141b.failure||function(){},scope:_141b.scope||this});return;}}}var _141e=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);if(_141e.count>1){var args={selectionInfo:_141e.selectionInfo,mode:"accept",note:""};var _141f=this.txtActionAcceptConfirmations;var _1420=String.format(this.txtActionAcceptConfirmQuestion,_141e.count,_141e.name);var _1421=new _13ae();_1421.set("OperationName","acceptConfirmations");_1421.set("PublishMap","/entity/userNotification/change");_1421.set("ActionDescription",_141f);_1421.set("ActionMessage",_1420);_1421.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1421);this._processor.set("SelectionContext",_141e);this._processor.start();}else{this.editConfirmation(_141e.id);}},declineConfirmation:function(_1422){var id=false;if(_1422){if(_1422.id){id=_1422.id;}else{if(_1422.notification){if(_1422.notes){_1422.notification.Notes=_1422.notes;}var _1423={"$name":"Decline","request":{"entity":_1422.notification,"UserNotificationId":_1422.notification["$key"]}};var _1424=new Sage.SData.Client.SDataServiceOperationRequest(_13b2.getSDataService("dynamic")).setResourceKind("usernotifications").setOperationName("decline");_1424.execute(_1423,{success:_1422.success||function(){},failure:_1422.failure||function(){},scope:_1422.scope||this});return;}}}var _1425=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);if(_1425.count>1){var args={selectionInfo:_1425.selectionInfo,mode:"decline",note:""};var _1426=this.txtDeclineConfirmations;var _1427=String.format(this.txtActionDeclineConfrimQuestion,_1425.count,_1425.name);var _1428=new _13ae();_1428.set("OperationName","declineConfirmations");_1428.set("PublishMap","/entity/userNotification/change");_1428.set("ActionDescription",_1426);_1428.set("ActionMessage",_1427);_1428.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1428);this._processor.set("SelectionContext",_1425);this._processor.start();}else{this.editConfirmation(_1425.id);}},deleteConfirmation:function(id){var _1429=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);var args={selectionInfo:_1429.selectionInfo};var _142a=this.txtActionRemoveConfirmations;var _142b=String.format(this.txtActionRemoveConfirmationsQuestion,_1429.count,_1429.name);var _142c=new _13ae();_142c.set("OperationName","deleteConfirmations");_142c.set("PublishMap","/entity/userNotification/change");_142c.set("ActionDescription",_142a);_142c.set("ActionMessage",_142b);_142c.set("Args",args);this._ensureProcessor();this._processor.set("Action",_142c);this._processor.set("SelectionContext",_1429);this._processor.start();},goToActivityAssociation:function(_142d,id){if(!id){id=this.getSelectedId();}if(!id){return;}this._getActivityAssociationId(_142d,id,function(_142e){var _142f="";switch(_142e.Association){case "Account":_142f=_142e.AccountId;break;case "Contact":_142f=_142e.ContactId;break;case "Opportunity":_142f=_142e.OpportunityId;break;case "Lead":_142f=_142e.LeadId;break;case "Ticket":_142f=_142e.TicketId;break;default:}if(!_142f){return;}Sage.Link.entityDetail(_142d,_142f);});},goToLitRequest:function(id){if(!id){id=this.getSelectedId();}if(!id){return;}Sage.Link.entityDetail("LitRequest",id);},scheduleLitRequest:function(){var url="Literature.aspx?modeid=Insert";document.location.href=url;},deleteLitRequest:function(id){var _1430=this._getSelectionContext(id,this.txtLiteratureRequest,this.txtLiteratureRequests);var _1431=this.txtActionDeleteLiteratureRequests;var _1432=String.format(this.txtActionDeleteLiteratureRequestsQuestion,_1430.count,_1430.name);var _1433=new _13ae();var args={selectionInfo:_1430.selectionInfo};_1433.set("Args",args);_1433.set("OperationName","deleteLitRequests");_1433.set("ActionDescription",_1431);_1433.set("ActionMessage",_1432);_1433.set("PublishMap","/entity/litRequest/change");this._ensureProcessor();this._processor.set("Action",_1433);this._processor.set("SelectionContext",_1430);this._processor.start();},getActivityEntityContext:function(scope,_1434){var cec=Sage.Services.getService("ClientEntityContext");var _1435=cec.getContext();var _1436=_1435.EntityType;var _1437=_1435.EntityId;var _1438={};if((_1437==="")||(_1437==="Insert")){if(_1434){_1434(scope,_1438);}return;}switch(_1436){case "Sage.Entity.Interfaces.IAccount":this.getAccountContext(_1435,scope,_1434);break;case "Sage.Entity.Interfaces.IContact":this.getContactContext(_1435,scope,_1434);break;case "Sage.Entity.Interfaces.IOpportunity":this.getOpportunityContext(_1435,scope,_1434);break;case "Sage.Entity.Interfaces.ILead":this.getLeadContext(_1435,scope,_1434);break;case "Sage.Entity.Interfaces.ITicket":this.getTicketContext(_1435,scope,_1434);break;case "Sage.Entity.Interfaces.IReturn":this.getReturnContext(_1435,scope,_1434);break;default:if(_1434){_1434(scope,_1438);}}},getAccountContext:function(_1439,scope,_143a){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b2.getSDataService("dynamic"));req.setResourceKind("accounts");var _143b=req.uri.pathSegments.length-1;var _143c=req.uri.getPathSegment(_143b);_143c["predicate"]="\""+_1439.EntityId+"\"";req.uri.setPathSegment(_143b+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _143d={AccountId:_1439.EntityId,AccountName:_1439.Description,ContactId:"",ContactName:"",PhoneNumber:""};var _143e=data["$resources"];if(_143e.length>0){var _143f=_143e[0];_143d.ContactId=_13b4.getValue(_143f,"$key");_143d.ContactName=_13b4.getValue(_143f,"NameLF");_143d.PhoneNumber=_13b4.getValue(_143f,"WorkPhone");}if(_143a){_143a(scope,_143d);}},failure:function(){var _1440={AccountId:_1439.EntityId,AccountName:_1439.Description,ContactId:"",ContactName:"",PhoneNumber:""};if(_143a){_143a(scope,_1440);}},scope:this});},getContactContext:function(_1441,scope,_1442){var req=new Sage.SData.Client.SDataSingleResourceRequest(_13b2.getSDataService("dynamic"));req.setResourceKind("contacts");req.setResourceSelector("\""+_1441.EntityId+"\"");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone,Account,AccountName");req.read({success:function(_1443){var _1444={AccountId:_13b4.getValue(_1443,"Account.$key"),AccountName:_13b4.getValue(_1443,"AccountName"),ContactId:_1441.EntityId,ContactName:_13b4.getValue(_1443,"NameLF"),PhoneNumber:_13b4.getValue(_1443,"WorkPhone")};if(_1442){_1442(scope,_1444);}},failure:function(){var _1445={AccountId:"",AccountName:"",ContactId:_1441.EntityId,ContactName:_1441.Description,PhoneNumber:""};if(_1442){_1442(scope,_1445);}},scope:this});},getOpportunityContext:function(_1446,scope,_1447){var store=new _13b1({include:["Contacts","Account"],select:["Description","Contacts/IsPrimary","Contacts/Contact/NameLF","Contacts/Contact/WorkPhone","Account/Id","Account/AccountName"],resourceKind:"opportunities",service:_13b2.getSDataService("dynamic")});store.fetch({predicate:"\""+_1446.EntityId+"\"",onComplete:function(opp){var _1448={AccountId:opp.Account.$key,AccountName:opp.Account.AccountName,ContactId:"",ContactName:"",OpportunityId:_1446.EntityId,OpportunityName:opp.Description,PhoneNumber:""};var _1449=opp.Contacts.$resources;var _144a=true;for(var i=0;i<_1449.length;i++){if(_1449[i].IsPrimary||_144a){_1448["ContactId"]=_1449[i].Contact.$key;_1448["ContactName"]=_1449[i].Contact.NameLF;_1448["PhoneNumber"]=_1449[i].Contact.WorkPhone||"";}_144a=false;}if(_1447){_1447(scope,_1448);}},onError:function(){var _144b={AccountId:"",AccountName:"",ContactId:"",ContactName:"",OpportunityId:_1446.EntityId,OpportunityName:_1446.Description,PhoneNumber:""};if(_1447){_1447(scope,_144b);}},scope:this});},getLeadContext:function(_144c,scope,_144d){var store=new _13b1({include:[],select:["LeadFullName","Company","WorkPhone"],resourceKind:"leads",service:_13b2.getSDataService("dynamic")});store.fetch({predicate:"\""+_144c.EntityId+"\"",onComplete:function(_144e){var _144f={LeadId:_144c.EntityId,LeadName:_144e.LeadFullName,AccountName:_144e.Company,PhoneNumber:_144e.WorkPhone};if(_144d){_144d(scope,_144f);}},onError:function(){var _1450={LeadId:_144c.EntityId,LeadName:_144c.Description,AccountName:"",PhoneNumber:""};if(_144d){_144d(scope,_1450);}},scope:this});},getTicketContext:function(_1451,scope,_1452){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b2.getSDataService("dynamic"));req.setResourceKind("tickets");var _1453=req.uri.pathSegments.length-1;var _1454=req.uri.getPathSegment(_1453);_1454["predicate"]="\""+_1451.EntityId+"\"";req.setQueryArg("select","Account,Account/AccountName,Contact,Contact/NameLF,Contact/WorkPhone");req.read({success:function(data){var _1455={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:_1451.EntityId,TicketNumber:_1451.Description,PhoneNumber:""};var _1456=data["$resources"];if(_1456.length>0){var _1457=_1456[0];_1455.AccountId=_13b4.getValue(_1457,"Account.$key");_1455.AccountName=_13b4.getValue(_1457,"Account.AccountName");_1455.ContactId=_13b4.getValue(_1457,"Contact.$key");_1455.ContactName=_13b4.getValue(_1457,"Contact.NameLF");_1455.PhoneNumber=_13b4.getValue(_1457,"Contact.WorkPhone");}if(_1452){_1452(scope,_1455);}},failure:function(){var _1458={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:_1451.EntityId,TicketNumber:_1451.Description,PhoneNumber:""};if(_1452){_1452(scope,_1458);}},scope:this});},getReturnContext:function(_1459,scope,_145a){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b2.getSDataService("dynamic"));req.setResourceKind("returns");var _145b=req.uri.pathSegments.length-1;var _145c=req.uri.getPathSegment(_145b);_145c["predicate"]="\""+_1459.EntityId+"\"";req.setQueryArg("select","Account,Account/AccountName,ReturnedBy,ReturnedBy/NameLF,ReturnedBy/WorkPhone,Ticket,Ticket/TicketNumber");req.read({success:function(data){var _145d={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:"",TicketNumber:"",PhoneNumber:""};var _145e=data["$resources"];if(_145e.length>0){var rma=_145e[0];_145d.AccountId=_13b4.getValue(rma,"Account.$key");_145d.AccountName=_13b4.getValue(rma,"Account.AccountName");_145d.ContactId=_13b4.getValue(rma,"ReturnedBy.$key");_145d.ContactName=_13b4.getValue(rma,"ReturnedBy.NameLF");_145d.PhoneNumber=_13b4.getValue(rma,"ReturnedBy.WorkPhone");_145d.TicketNumber=_13b4.getValue(rma,"Ticket.TicketNumber");_145d.TicketId=_13b4.getValue(rma,"Ticket.$key");}if(_145a){_145a(scope,_145d);}},failure:function(){var _145f={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:"",TicketNumber:"",PhoneNumber:""};if(_145a){_145a(scope,_145f);}},scope:this});},_getActivityAssociationId:function(_1460,_1461,_1462){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b2.getSDataService("dynamic"));req.setResourceKind("activities");var _1463=req.uri.pathSegments.length-1;var _1464=req.uri.getPathSegment(_1463);_1464["predicate"]="\""+_1461+"\"";req.setQueryArg("select","AccountId,ContactId,OpportunityId,TicketId,LeadId");req.read({success:function(data){var _1465={Association:_1460,ActivityId:_1461,AccountId:"",ContactId:"",OpportunityId:"",TicketId:"",LeadId:""};var acts=data["$resources"];if(acts.length>0){var act=acts[0];_1465.AccountId=_13b4.getValue(act,"AccountId");_1465.ContactId=_13b4.getValue(act,"ContactId");_1465.OpportunityId=_13b4.getValue(act,"OpportunityId");_1465.TicketId=_13b4.getValue(act,"TicketId");_1465.LeadId=_13b4.getValue(act,"LeadId");}if(_1462){_1462(_1465);}},failure:function(){var _1466={Association:_1460,ActivityId:_1461,AccountId:"",ContactId:"",OpportunityId:"",TicketId:"",LeadId:""};if(_1462){_1462(_1466);}},scope:this});},getActivityFreeBusyFor:function(scope,_1467,_1468,_1469){var self=this;this.getResourceActivitiesFor(self,_1467,function(_146a){self.getUserActivitiesFor(self,_1467,function(_146b){var _146c=self._buildFreeBusyData(_146a,_146b);if(_1468){_1468.call(scope,_146c);}},function(_146d){if(_1469){_1469.call(scope,_146d);}});},function(data){if(_1469){_1469.call(scope,data);}});},getResourceActivitiesFor:function(scope,_146e,_146f,_1470){var _1471=["Timeless","Type","StartDate","Duration","Description","Resources/Resource"];var _1472=["$descriptors"];var _1473="activities";var _1474=_13b2.getSDataService("system");var _1475=_13b4.Convert.toIsoStringFromDate(_146e.startDate);var _1476=_13b4.Convert.toIsoStringFromDate(_146e.endDate);var self=this;var where="(Resources.ResourceId in ("+_146e.quotedIds.join(",")+"))"+dojo.string.substitute("and (Timeless ne true) and (StartDate between @${0}@ and @${1}@)",[_1475,_1476]);var _1477=new Sage.SData.Client.SDataResourceCollectionRequest(_1474);if(_146e.select){_1471=_146e.select;}_1477.setResourceKind(_1473);_1477.setQueryArg("select",_1471.join(","));_1477.setQueryArg("where",where);_1477.setQueryArg("include",_1472.join(","));_1477.uri.queryArgs["_expandRecurrences"]=_146e.expandRecurrences;_1477.read({success:function(data){if(_146f){var _1478=self._processResourceActivityData(data);_146f.call(scope,_1478);}},failure:dojo.hitch(scope,_1470)});},getUserActivitiesFor:function(scope,_1479,_147a,_147b){var _147c=["Timeless","Type","StartDate","Duration","Description","Leader","UserActivities/User","UserActivities/Status"];var _147d=["$descriptors"];var _147e="activities";var _147f=_13b2.getSDataService("system");var _1480=_13b4.Convert.toIsoStringFromDate(_1479.startDate);var _1481=_13b4.Convert.toIsoStringFromDate(_1479.endDate);var self=this;var where="(UserActivities.UserId in ("+_1479.quotedIds.join(",")+")) and (Type ne 'atLiterature') and (UserActivities.Status ne 'asDeclned')"+dojo.string.substitute("and (StartDate between @${0}@ and @${1}@)",[_1480,_1481]);var _1482=new Sage.SData.Client.SDataResourceCollectionRequest(_147f);if(_1479.timelessOnly){where=where+" and (Timeless eq true)";}else{if(!_1479.includeTimless){where=where+" and (Timeless ne true)";}}if(_1479.select){_147c=_1479.select;}_1482.setResourceKind(_147e);_1482.setQueryArg("select",_147c.join(","));_1482.setQueryArg("where",where);_1482.setQueryArg("include",_147d.join(","));_1482.uri.queryArgs["_expandRecurrences"]=_1479.expandRecurrences;_1482.read({success:function(data){var _1483=self._processUserActivityData(data);if(_147a){_147a.call(scope,_1483);}},failure:dojo.hitch(scope,_147b)});},_processUserActivityData:function(_1484){var _1485=[];_1485["$resources"]=[];var data=_1484["$resources"];var _1486,_1487;if(data){var cnt=data.length;for(var i=0;i<cnt;i++){var _1488=false;var _1489=data[i]["$key"];if(data[i].UserActivities){var _148a=data[i].UserActivities.$resources;var ln=_148a.length;for(var j=0;j<ln;j++){var _148b=data[i].UserActivities.$resources[j].User.$key;_1486=_148b+":"+_1489;_1488=_1485[_1486];if(!_1488){_1487={$Key:_1486,UserId:data[i].UserActivities.$resources[j].User.$key,ActivityId:_1489,UserActivity:data[i].UserActivities.$resources[j],Activity:data[i]};_1485[_1486]=_1487;_1485[_1486]=_1486;_1485["$resources"].push(_1487);continue;}}}else{var uId=data[i].Leader.$key;_1486=uId+":"+_1489;data[i].UserActivities=[];data[i].UserActivities.$resources=[];var _148c={};_148c.$key=uId;_148c.User={$key:uId};data[i].UserActivities.$resources.push(_148c);_1487={$key:_1486,UserId:data[i].Leader.$key,ActivityId:_1489,UserActivity:data[i].UserActivities.$resources,Activity:data[i]};_1488=_1485[_1486];if(!_1488){_1485[_1486]=_1486;_1485["$resources"].push(_1487);}}}}var _148d=[];_148d["$resources"]=_1485["$resources"];return _148d;},_processResourceActivityData:function(_148e){var _148f=[];_148f["$resources"]=[];var data=_148e["$resources"];if(data){var cnt=data.length;for(var i=0;i<cnt;i++){var _1490=false;var _1491=data[i]["$key"];if(data[i].Resources){var _1492=data[i].Resources.$resources;var ln=_1492.length;for(var j=0;j<ln;j++){var _1493=data[i].Resources.$resources[j].Resource.$key;var _1494=_1493+":"+_1491;_1490=_148f[_1494];if(!_1490){var _1495={$Key:_1494,ResourceId:_1493,ActivityId:_1491,ResourceActivity:data[i].Resources.$resources[j],Activity:data[i]};_148f[_1494]=_1495;_148f[_1494]=_1494;_148f["$resources"].push(_1495);continue;}}}}}var _1496=[];_1496["$resources"]=_148f["$resources"];return _1496;},_buildFreeBusyData:function(_1497,_1498){var rData=_1497["$resources"];var uData=_1498["$resources"];var vData=[];var i;var _1499;vData["$resources"]=[];for(i=0;i<uData.length;i++){_1499={id:uData[i].$key,activityId:uData[i].ActivityId,itemId:uData[i].UserId,type:uData[i].Activity.Type,startDate:uData[i].Activity.StartDate,duration:uData[i].Activity.Duration,timless:uData[i].Activity.Timeless,description:uData[i].Activity.Description};vData["$resources"].push(_1499);}for(i=0;i<rData.length;i++){_1499={id:rData[i].$key,activityId:rData[i].ActivityId,itemId:rData[i].ResourceId,type:rData[i].Activity.Type,startDate:rData[i].Activity.StartDate,duration:rData[i].Activity.Duration,timless:rData[i].Activity.Timeless,description:rData[i].Activity.Description};vData["$resources"].push(_1499);}return vData;},getDefaultActivityManagerTabId:function(){if(!this._defaultActivitManagerTabId){var _149a=Sage.Services.getService("UserOptions");var self=this;if(_149a){_149a.get("DefaultView","ActivityAlarm",function(data){self._defaultActivitManagerTabId=self.getTabIdFromCode(data.value);},null,this,false);}}return this._defaultActivitManagerTabId;},setDefaultActivityManagerTabId:function(tabId){this._defaultActivitManagerTabId=tabId;},getTabIdFromCode:function(code){var tabId="activities";switch(code){case "0":tabId="activities";break;case "1":tabId="allopen";break;case "2":tabId="pastdue";break;case "3":tabId="alarms";break;case "4":tabId="events";break;case "5":tabId="confirmations";break;case "6":tabId="literature";break;}return tabId;},getSelectedId:function(){var _149b=this.getSelectionInfo();var id="";if(_149b){if(_149b.hasCompositeKey){var _149c=_149b.selections[0].entity;return _149c["Activity"]["$key"];}if(_149b.selections.length==1){id=_149b.selections[0].id;}else{id=_149b.selections[0].id;}}return id;},getSelectedItem:function(){var _149d=this.getSelectionInfo();var _149e={id:false,hasCompositeKey:false,entity:false};if(_149d){_149e.hasCompositeKey=_149d.hasCompositeKey;_149e.entity=_149d.entity;if(_149d.selections.length==1){_149e.id=_149d.selections[0].id;_149e.entity=_149d.selections[0].entity;}else{_149e.id=_149d.selections[0].id;_149e.entity=_149d.selections[0].entity;}}return _149e;},getSelections:function(){var _149f=this.getSelectionInfo();var _14a0=null;if(_149f){_14a0=_149f.selections;}return _14a0;},prepareSelections:function(){return this.getSelectionInfo();},getSelectionInfo:function(){var _14a1=false;try{var panel=dijit.byId("list");if(panel){_14a1=panel.getSelectionInfo(true);}}catch(e){_13a9.alert(this.txtErrorActionMsg||"error getting selectionInfo");}return _14a1;},getTotalSelectionCount:function(){var count=0;try{var panel=dijit.byId("list");if(panel){count=panel.getTotalSelectionCount();}}catch(e){}return count;},verifySelection:function(_14a2){if(_14a2!==null){return (_14a2.selectionCount!==0);}return false;},verifySingleSelection:function(_14a3){if(_14a3!==null){return (_14a3.selectionCount===1);}return false;},setSelectionCount:function(){try{var panel=dijit.byId("list");if(panel){$("#selectionCount").text(panel.getTotalSelectionCount());}}catch(e){}},refreshList:function(tabId){try{var panel=dijit.byId("list");if(panel){var _14a4=Sage.Services.getService("ClientGroupContext");if(_14a4){var ctx=_14a4.getContext();if(tabId===ctx.CurrentGroupID){panel.refreshView(tabId);}}}}catch(e){}},_getSelectionContext:function(id,_14a5,_14a6){var _14a7={id:null,selectionInfo:null,count:0,mode:"select",name:null};if(!id){_14a7.selectionInfo=this.getSelectionInfo();_14a7.count=_14a7.selectionInfo.selectionCount;if(_14a7.count===1){_14a7.id=_14a7.selectionInfo.selectedIds[0];}}else{var _14a8=[];var _14a9=[];_14a8.push(id);_14a9.push({rn:0,id:id});var _14aa={key:"",mode:"singleSelect",selectionCount:1,recordCount:1,sortDirection:"",sortField:"",keyField:"",hasCompositeKey:id.indexOf("Activity")>-1?true:false,ranges:[],selections:_14a9,selectedIds:_14a8};_14a7.selectionInfo=_14aa;_14a7.id=id;_14a7.count=1;}_14a7.name=(_14a7.count>1)?_14a6:_14a5;return _14a7;},getActivityService:function(){var _14ab=_13b2.getSDataService("dynamic");return _14ab;}});if(!Sage.Services.hasService("ActivityService")){Sage.Services.addService("ActivityService",new _13b7());}return _13b7;});},"Sage/UI/JsonPrintDetailPane":function(){define("Sage/UI/JsonPrintDetailPane",["Sage/UI/_DetailPane","Sage/_Templated","dojo/_base/declare"],function(_14ac,_14ad,_14ae){return _14ae("Sage.UI.JsonPrintDetailPane",[_14ac,_14ad],{widgetsInTemplate:true,contentNode:null,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"json-print-detail-pane\">","<pre dojoAttachPoint=\"contentNode\"></pre>","</div>"]),_onSelected:function(index,row,grid){this.set("content",dojo.toJson(row,true));}});});},"Sage/UI/Alarms/AlarmButton":function(){define("Sage/UI/Alarms/AlarmButton",["dojo/_base/declare","Sage/_Templated","dijit/_Widget","Sage/Utility","Sage/Utility/Activity","dojo/string","dojox/storage/LocalStorageProvider","dojo/date","dijit/form/ComboButton","dojo/_base/event","dojo/_base/lang","dojo/dom-class","Sage/Data/SDataServiceRegistry","Sage/UI/Alarms/AlarmPopup","Sage/UI/ImageButton","Sage/Services/UserOptions"],function(_14af,_14b0,_14b1,_14b2,_14b3,_14b4,_14b5,ddate,_14b6,event,lang,_14b7,_14b8){var _14b9=_14af("Sage.UI.Alarms.AlarmButton",[_14b1,_14b0],{pastDueToolTipFmt:" You have ${0} activities that are past due.",pastDueButtonIconClass:"icon_alertIcon_16x16",widgetsInTemplate:true,options:{displayPastDueInToolbar:true,displayAlertsInToolbar:true,promptAlerts:true,includeAlarms:true,includeConfirmations:true,defaultSnooze:"5"},pollInterval:1,_localStore:null,_alertCountKey:"AlertsCount",_pastDueCountKey:"PastDueCount",_started:false,_pastDueVisible:false,_alertBtnVisible:false,widgetTemplate:new Simplate(["<span class=\"alarm-button-container\">","<button data-dojo-type=\"Sage.UI.ImageButton\" id=\"pastDueButton\" imageClass=\"{%= $.pastDueButtonIconClass %}\" class=\"past-due-button display-none\" data-dojo-attach-point=\"_pastDueBtn\" data-dojo-attach-event=\"onClick:_pastDueClick\" >","</button>","<span id=\"alertButton\" data-dojo-attach-point=\"_alertButton\" class=\"alarm-button-container alarm-button display-none\">","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_button\" data-dojo-attach-event=\"onClick:_cboClick\" class=\"\" >","<div data-dojo-type=\"Sage.UI.Alarms.AlarmPopup\" id=\"alarmPopup\" data-dojo-attach-point=\"_popup\" data-dojo-attach-event=\"onClose:_popupClosed\"></div>","</button>","</span>","</span>"]),_setPollIntervalAttr:function(val){this.pollInterval=val;},_getPollIntervalAttr:function(){return this.pollInterval;},startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this._popup,"onAlertChanged",this._alarmChanged);var _14ba=Sage.Services.getService("UserOptions");if(_14ba){_14ba.getByCategory("ActivityAlarm",this._receivedOptions,this);}this._localStore=new _14b5();this._localStore.initialize();if(this._button.valueNode){this.connect(this._button.valueNode,"click",function(e){event.stop(e);});}},_receivedOptions:function(_14bb){this._sortOptions(_14bb["$resources"]||_14bb);this._popup.set("options",this.options);if((this.options.displayPastDueInToolbar||this.options.displayAlertsInToolbar)&&(this.pollInterval>0)){var self=this;window.setTimeout(function(){self._poll();},15000);this._initializeButton();}this._started=true;},_sortOptions:function(_14bc){var _14bd=function(_14be){return ((_14be==="T")||(_14be==="Y")||(_14be==="1"));};for(var i=0;i<_14bc.length;i++){var _14bf=_14bc[i];switch(_14bf.name){case "DisplayPastDueInToolbar":this.options.displayPastDueInToolbar=_14bd(_14bf.value);break;case "DisplayAlertsInToolbar":this.options.displayAlertsInToolbar=_14bd(_14bf.value);break;case "PromptAlerts":this.options.promptAlerts=_14bd(_14bf.value);break;case "DisplayAlertAlarms":this.options.includeAlarms=_14bd(_14bf.value);break;case "DisplayAlertConfirmations":this.options.includeConfirmations=_14bd(_14bf.value);break;case "DefaultSnooze":this.options.defaultSnooze=_14bf.value;break;}}if(!this.options.includeAlarms&&!this.options.includeConfirmations){this.options.promptAlerts=false;}},_poll:function(){var req=new Sage.SData.Client.SDataNamedQueryRequest(_14b8.getSDataService("mashups")).setApplicationName("$app").setResourceKind("mashups").setQueryName("execute").setQueryArg("_resultName","GetCounts").setQueryArg("_beforeDate",_14b2.Convert.toIsoStringFromDate(new Date())).setQueryArg("_timelessBeforeDate",_14b3.formatTimelessEndDate(new Date(),"day",-1)).setQueryArg("_userId",_14b2.getClientContextByKey("userID"));req.uri.setCollectionPredicate("'RemindersAndAlarms'");req.read({success:lang.hitch(this,this._onReceiveCounts),failure:lang.hitch(this,this._countsFailed)});},_onReceiveCounts:function(data){var _14c0=data["$resources"];if(_14c0&&_14c0.length>0){var _14c1=_14c0[0];var _14c2=(this.options.includeAlarms)?_14c1["ringingAlarms"]:0;var confs=(this.options.includeConfirmations)?_14c1["notifications"]:0;var _14c3=_14c1["pastDue"];this._handlePastDueCount(_14c3);this._handleAlertCount(_14c2,confs);}var self=this;window.setTimeout(function(){self._poll();},this.pollInterval*60000);},_countsFailed:function(req){},_handlePastDueCount:function(_14c4){if(_14c4>0&&this.options.displayPastDueInToolbar){this._showPastDue();var _14c5=this._getFromSessionStorage(this._pastDueCountKey)||0;if(_14c4!=_14c5){this._pastDueBtn.set("title",_14b4.substitute(this.pastDueToolTipFmt,[_14c4]));this._pastDueBtn.set("label",_14c4);this._saveToSessionStorage(this._pastDueCountKey,_14c4);}}else{this._hidePastDue();}},_showPastDue:function(){if(!this._pastDueVisible){_14b7.remove(this._pastDueBtn.domNode,"display-none");this._pastDueVisible=true;}},_hidePastDue:function(){if(this._pastDueVisible){_14b7.add(this._pastDueBtn.domNode,"display-none");this._pastDueVisible=false;this._pastDueBtn.set("title","");this._pastDueBtn.set("label","");}},_pastDueClick:function(){Sage.Link.toActivityListView("pastdue");},_initializeButton:function(){var _14c6=this._getFromSessionStorage(this._pastDueCountKey)||0;if(this.options.displayPastDueInToolbar&&(_14c6)>0){this._showPastDue();this._pastDueBtn.set("title",_14b4.substitute(this.pastDueToolTipFmt,[_14c6]));this._pastDueBtn.set("label",_14c6);}var _14c7=this._getFromSessionStorage(this._alertCountKey)||0;if(this.options.displayAlertsInToolbar&&(_14c7)>0){this._button.set("label"," "+_14c7+" ");this._showAlertButton();}},_handleAlertCount:function(_14c8,confs){if(this.options.displayAlertsInToolbar){if(_14c8>0||confs>0){var _14c9=false;var _14ca=this._getFromSessionStorage(this._alertCountKey)||0;if((_14ca*1)!==(_14c8+confs)){_14c9=true;}_14ca=_14c8+confs;this._saveToSessionStorage(this._alertCountKey,_14ca);this._button.set("label"," "+_14ca+" ");this._showAlertButton();this._checkShowPopup(_14c9,_14ca);}else{this._hideAlertButton();}}},_showAlertButton:function(){if(!this._alertBtnVisible){_14b7.remove(this._alertButton,"display-none");this._alertBtnVisible=true;}},_hideAlertButton:function(){if(this._alertBtnVisible){_14b7.add(this._alertButton,"display-none");this._alertBtnVisible=false;}},_checkShowPopup:function(_14cb,_14cc){if(!this.options.promptAlerts){return;}if(_14cb){this._popup._dataRequested=false;}if(!this._popup.isOpen&&_14cc>0&&_14cb){this._button.openDropDown();}},_cboClick:function(e){if(this._popup.isOpen){this._button.closeDropDown();}else{this._button.openDropDown();}return false;},_popupClosed:function(){},_alarmChanged:function(){var items=this._popup.getAlertCount();if(items===0){dijit.popup.hide(this._popup);this._hideAlertButton();}else{this._showAlertButton();}this._button.set("label"," "+items+" ");this._saveToSessionStorage(this._alertCountKey,items);},_saveToSessionStorage:function(key,value){sessionStorage.setItem(key,value);},_getFromSessionStorage:function(key){return sessionStorage.getItem(key);}});return _14b9;});},"Sage/UI/Controls/_DialogHelpIconMixin":function(){define("Sage/UI/Controls/_DialogHelpIconMixin",["dojo/_base/declare","dojo/dom-construct","dojo/dom-attr","dojo/i18n!./nls/_DialogHelpIconMixin"],function(_14cd,_14ce,_14cf,nls){return _14cd("Sage.UI.Controls._DialogHelpIconMixin",null,{helpTopic:"",createHelpIcon:function(url,_14d0){if(!url||this.helpIcon){_14ce.destroy(this.helpIcon);}var link=_14ce.create("a",{href:url,"target":_14d0||"help","class":"dialogHelpIcon"},this.titleBar,"first"),node=_14ce.create("div",{"class":"Global_Images icon16x16 icon_Help_16x16",title:nls.helpTooltip},link);this.helpIcon=link;},createHelpIconByTopic:function(topic,_14d1){if(!topic){topic=this.helpTopic;}else{this.helpTopic=topic;}var _14d2=Sage.Link.getHelpUrlTarget(),url=Sage.Link.getHelpUrl(topic,_14d1);this.createHelpIcon(url,_14d2);},destroy:function(){_14ce.destroy(this.helpIcon);this.inherited(arguments);},_setHelpTopicAttr:function(topic){this.helpTopic=topic;if(this.helpIcon){var url=Sage.Link.getHelpUrl(topic);_14cf.set(this.helpIcon,"href",url);}else{this.createHelpIconByTopic(topic);}},_getHelpTopicAttr:function(){return this.helpTopic;}});});},"Sage/TaskPane/TaskPaneContent":function(){define("Sage/TaskPane/TaskPaneContent",["dijit/_Widget","Sage/_Templated","Sage/TaskPane/TaskPaneItem","dojo/_base/declare"],function(_14d3,_14d4,_14d5,_14d6){var _14d7=_14d6("Sage.TaskPane.TaskPaneContent",[_14d3,_14d4],{widgetsInTemplate:true,widgetTemplate:new Simplate(["<div dojoAttachPoint=\"taskletContainerNode\" class=\"task-pane-item-common-tasklist\">","{% for (var i = 0; i < $.taskItems.length; i++) { ","var task = $.taskItems[i]; %}","<div data-dojo-type=\"Sage.TaskPane.TaskPaneItem\" linkText=\"{%= task.displayName %}\" securedAction=\"{%= task.securedAction %}\" action=\"javascript: {%= task.clientAction %}\"></div>","<br />","{% } %}","</div>"])});return _14d7;});},"Sage/UI/Alarms/AlarmCountDown":function(){define("Sage/UI/Alarms/AlarmCountDown",["Sage/_Templated","dijit/_Widget","Sage/Utility","dojo/date","dojo/html","dojo/i18n","dojo/i18n!./nls/AlarmCountDown","dojo/_base/declare"],function(_14d8,_14d9,_14da,_14db,_14dc,i18n,_14dd,_14de){var _14df=_14de("Sage.UI.Alarms.AlarmCountDown",[_14d9,_14d8],{widgetsInTemplate:false,startDate:"",_isOverdue:false,_timer:false,widgetTemplate:new Simplate(["<div>","<div dojoAttachPoint=\"_startsIn\"></div>","<div>","<span dojoAttachPoint=\"_countDownAmount\" class=\"alarm-countdown\"></span>","<span dojoAttachPoint=\"_countDownTimeFrame\"></span>","</div>","<div dojoAttachPoint=\"_countDown2\">","<span dojoAttachPoint=\"_countDown2Amount\" class=\"alarm-countdown\"></span>","<span dojoAttachPoint=\"_countDown2TimeFrame\"></span>","</div>","</div>"]),constructor:function(){dojo.mixin(this,_14dd);},postCreate:function(){this.inherited(arguments);var c=_14da.Convert;if(c.isDateString(this.startDate)){this.startDate=c.toDateFromString(this.startDate);}if(!this.startDate){return;}this._calculate();},_calculate:function(){var n=new Date();var _14e0,_14e1;if(_14db.difference(this.startDate,n,"minute")<0){_14e0=n;_14e1=this.startDate;this._isOverdue=false;}else{_14e0=this.startDate;_14e1=n;this._isOverdue=true;}var diff;if(_14e0.getFullYear()===_14e1.getFullYear()&&_14e0.getMonth()===_14e1.getMonth()&&_14e0.getDate()===_14e1.getDate()){diff=_14db.difference(_14e0,_14e1,"minute");if(diff<61){this._setUI(diff,(diff>1)?this.minutesText:this.minuteText);}else{var _14e2=diff%60;var hours=Math.floor(diff/60);this._setUI(hours,(hours>1)?this.hoursText:this.hourText,_14e2,(_14e2>1)?this.minutesText:this.minuteText);}var self=this;window.setTimeout(function(){self._update();},60000);return;}diff=_14db.difference(_14e0,_14e1,"day");if(diff<31){this._setUI(diff,(diff>1)?this.daysText:this.dayText,false,false);return;}diff=_14db.difference(_14e0,_14e1,"month");if(diff<13){this._setUI(diff,(diff>1)?this.monthsText:this.monthText,false,false);return;}diff=_14db.difference(_14e0,_14e1,"year");this._setUI(diff,(diff>1)?this.yearsText:this.yearText);},_setUI:function(amt,_14e3,amt2,_14e4){if(amt!==0){_14dc.set(this._startsIn,(this._isOverdue)?this.overduebyText:this.startsInText);_14dc.set(this._countDownAmount," "+amt+" ");if(amt2){_14dc.set(this._countDown2Amount," "+amt2+" ");dojo.removeClass(this._countDown2,"display-none");}else{dojo.addClass(this._countDown2,"display-none");}}else{_14dc.set(this._startsIn,"");_14dc.set(this._countDownAmount,"");_14e3=this.startsNowText;}_14dc.set(this._countDownTimeFrame,_14e3);if(_14e4){_14dc.set(this._countDown2TimeFrame,_14e4);}if(this._isOverdue){dojo.addClass(this.domNode,"overdue-alarm");}else{dojo.removeClass(this.domNode,"overdue-alarm");}},_update:function(){this._calculate();},destroy:function(){if(this._timer){window.clearTimeout(this._timer);}this.inherited(arguments);}});return _14df;});},"Sage/main":function(){define("Sage/main",["Sage/_ActionMixin","Sage/Utility","Sage/LanguageList","Sage/Link","Sage/Array","Sage/_ConfigurationProvider","Sage/_Templated","Sage/Format","Sage/Data/main","Sage/Store/main","Sage/Groups/main","Sage/Layout/main","Sage/Library/main","Sage/MailMerge/main","Sage/Services/main","Sage/MainView/main","Sage/QuickForms/Design/main","Sage/TaskPane/main","Sage/UI/main","Sage/Utility/main","Sage/Workspaces/main","dojo/i18n!dijit/nls/common"],function(){});},"Sage/MainView/ReportMgr/Common/nls/ExportOptionsDialog":function(){define("Sage/MainView/ReportMgr/Common/nls/ExportOptionsDialog",["Sage/LanguageList","dojo/_base/lang"],function(_14e5,lang){var nls={root:{txtDialogTitle:"Export Options",txtDialogTitleScheduling:"Export And Scheduling Options",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel",txtName:"Name",txtSelectUser:"Select User",txtOK:"OK",txtOutputFormat_Caption:"Format",txtRunAs_Caption:"Run As",txtScheduleDescription_Caption:"Description"}};return lang.mixin(_14e5,nls);});},"Sage/QuickForms/Design/DataSourcePanel":function(){define("Sage/QuickForms/Design/DataSourcePanel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/string","dojo/dom","dojo/on","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/DeferredList","dijit/_Widget","Sage/Services/_ServiceMixin","Sage/_EventMapMixin","Sage/_Templated","dojo/dnd/Source","dojo/dnd/Manager","dojo/i18n!./nls/DataSourcePanel"],function(_14e6,array,lang,_14e7,_14e8,dom,on,_14e9,_14ea,_14eb,_14ec,_14ed,_14ee,_14ef,_14f0,_14f1,_14f2,_14f3){var _14f4=_14e6("Sage.QuickForms.Design.DataSourcePanelDnDSource",[_14f1],{avatarTemplate:new Simplate(["<div class=\"design-property\" data-property-type=\"{%: $.data.dataTypeId %}\">","<div class=\"design-property-icon\"></div>","<span>{%: $.propertyPath %}</span>","</div>"]),owner:null,accept:["none"],constructor:function(){this.creator=true;lang.mixin(this,_14f3);var _14f5=dojo.byId("TaskPane_taskPaneHelp");if(_14f5){_14f5.target="";_14f5.href="javascript:Sage.Utility.openHelp(\"Adding_Data_Field\");";}},checkAcceptance:function(_14f6,nodes){if(_14f6==this){return false;}return this.inherited(arguments);},onDropInternal:function(_14f7,nodes,copy){},onDropExternal:function(_14f8,nodes,copy){},onDndStart:function(_14f9,nodes,copy){this.inherited(arguments);},onDndCancel:function(){this.inherited(arguments);},getItem:function(key){var value=this.inherited(arguments),node=dom.byId(key),path=_14e9.get(node,"data-property"),_14fa=node&&this.owner._context[path];return lang.mixin({context:_14fa},value);},_normalizedCreator:function(data,hint){var _14fb=this.owner._context[data],_14fc=_14eb.toDom(this.avatarTemplate.apply(_14fb,this)),_14fd=_14eb.create("div",{"class":"design-surface-dnd-avatar"});_14eb.place(_14fc,_14fd);return {node:_14fd};}});var _14fe=_14e6("Sage.QuickForms.Design.DataSourcePanel",[_14ed,_14ee,_14ef,_14f0],{events:{"li:click":true},serviceMap:{"dataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"design-property-panel\">","<div class=\"design-property-panel-search\">","<div>","<input type=\"text\" data-dojo-attach-point=\"queryNode\" />","</div>","<input type=\"button\" />","</div>","<div class=\"design-property-panel-tree\" data-dojo-attach-point=\"treeNode\">","</div>","</div>"]),containerTemplate:new Simplate(["<ul></ul>"]),propertyTemplate:new Simplate(["<li class=\"design-property\" data-property=\"{%: $.propertyPath %}\" data-property-category=\"{%: $.type %}\" data-property-type=\"{%: $.data.dataTypeId %}\" data-action=\"_toggle\">","<div class=\"design-property-expando\"></div>","<div class=\"design-property-icon\"></div>","<span>{%: $.displayName %}</span>","</li>"]),loadingTemplate:new Simplate(["<ul class=\"design-property-loading\"><li>{%: $.loadingText %}</li></ul>"]),_context:null,_designGroup:null,_designGroupTopics:null,designGroup:"default",queryNode:null,treeNode:null,sortProperty:"propertyName",loadingText:"Loading...",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_14e8.substitute("/quickforms/design/${0}/clear",[this._designGroup]),this._onFormCleared),this.subscribe(_14e8.substitute("/quickforms/design/${0}/load",[this._designGroup]),this._onFormLoaded)];},constructor:function(){this._context={};this._sources=[];},uninitialize:function(){if(this._sources){array.forEach(this._sources,function(_14ff){_14ff.destroy();});}this._sources=[];},clear:function(){_14eb.empty(this.treeNode);this._context={};},_onFormCleared:function(){this.clear();},_onFormLoaded:function(entry){var _1500=entry["entity"]["EntityTypeName"].substr(1);this._load(_1500,this.treeNode);},_toggle:function(evt,node){var path=_14e9.get(node,"data-property"),_1501=this._context[path];if(_1501&&_1501.data["entityName"]){if(_1501["loaded"]){_14ea.toggle(node,"design-property-expanded");}else{_14ea.add(node,"design-property-expanded");_1501["loaded"]=true;this._load(_1501.data["entityName"],node);}}},_load:function(_1502,node){var _1503=_14eb.place(this.loadingTemplate.apply(this,this),node);var wait=[],_1504;_1504=new _14e7();new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("entities").setResourceSelector("\""+_1502+"\"").setQueryArg("select","properties/*").read({success:lang.hitch(this,this._onPropertyRequestSuccess,_1504,_1502),failure:lang.hitch(this,this._onRequestFailure,_1504)});wait.push(_1504);_1504=new _14e7();new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setResourceKind("relationships").setQueryArg("where",_14e8.substitute("(parentEntity.name eq \"${0}\" and cardinality eq \"M:1\") or (childEntity.name eq \"${0}\" and cardinality eq \"1:M\")",[_1502])).read({success:lang.hitch(this,this._onRelationshipRequestSuccess,_1504,_1502),failure:lang.hitch(this,this._onRequestFailure,_1504)});wait.push(_1504);_1504=new _14e7();new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setResourceKind("entities").setQueryArg("where",_14e8.substitute("extendedEntity.name eq \"${0}\"",[_1502])).setQueryArg("select","extendedEntityPropertyName").read({success:lang.hitch(this,this._onExtendedRequestSuccess,_1504,_1502),failure:lang.hitch(this,this._onRequestFailure,_1504)});wait.push(_1504);new _14ec(wait,false,true,true).then(lang.hitch(this,this._process,node,_1503),lang.hitch(this,this._error,node,_1503));},_onPropertyRequestSuccess:function(_1505,_1506,feed){_1505.resolve(feed["properties"]["$resources"]);},_onExtendedRequestSuccess:function(_1507,_1508,feed){var _1509=array.map(feed["$resources"],function(entry){return {displayName:entry["$descriptor"],propertyName:entry["$key"],entityName:entry["$key"]};});_1507.resolve(_1509);},_onRelationshipRequestSuccess:function(_150a,_150b,feed){var _150c=[],_150d=feed["$resources"];array.forEach(_150d,function(entry){if(_150b==entry["parentEntity"]["$key"]&&entry["parentProperty"]["isIncluded"]){_150c.push({displayName:entry["parentProperty"]["displayName"],propertyName:entry["parentProperty"]["propertyName"],propertyId:entry["parentProperty"]["id"],entityName:entry["childEntity"]["$key"],includes:array.map(entry["columns"]["$resources"],function(_150e){return _150e["parentPropertyId"];})});}else{if(_150b==entry["childEntity"]["$key"]&&entry["childProperty"]["isIncluded"]){_150c.push({displayName:entry["childProperty"]["displayName"],propertyName:entry["childProperty"]["propertyName"],propertyId:entry["childProperty"]["id"],entityName:entry["parentEntity"]["$key"],includes:array.map(entry["columns"]["$resources"],function(_150f){return _150f["childPropertyId"];})});}}},this);_150a.resolve(_150c);},_onRequestFailure:function(_1510,_1511){_1510.reject(_1511);},_error:function(node,_1512,error){_14eb.destroy(_1512);},_process:function(node,_1513,_1514){var _1515=_14e9.get(node,"data-property"),_1516={},_1517=[],_1518=[],_1519;array.forEach(_1514[1][1],function(_151a){array.forEach(_151a["includes"],function(id){_1516[id]=true;});_1517.push({propertyPath:_1515?_1515+"."+_151a["propertyName"]:_151a["propertyName"],propertyName:_151a["propertyName"],displayName:_151a["displayName"]||_151a["propertyName"],type:"relationship",data:_151a});});array.forEach(_1514[0][1],function(_151b){if(_1516[_151b["id"]]){return;}if(_151b["isIncluded"]){_1518.push({propertyPath:_1515?_1515+"."+_151b["propertyName"]:_151b["propertyName"],propertyName:_151b["propertyName"],displayName:_151b["displayName"]||_151b["propertyName"],type:"standard",data:_151b,dataTypeData:_151b["dataTypeData"]?dojo.fromJson(_151b["dataTypeData"]):{}});}});_1519=array.map(_1514[2][1],function(_151c){return {propertyPath:_1515?_1515+"."+_151c["propertyName"]:_151c["propertyName"],propertyName:_151c["propertyName"],displayName:_151c["displayName"]||_151c["propertyName"],type:"extended",data:_151c};});var all=_1518.concat(_1517,_1519),_151d=this.sortProperty;all.sort(function(a,b){var nameA=a[_151d],nameB=b[_151d];return (nameA<nameB)?-1:(nameA>nameB)?1:0;});_14eb.destroy(_1513);this.render(node,all);},render:function(node,_151e){var _151f=_14eb.place(this.containerTemplate.apply(this,this),node);var self=this;array.forEach(_151e,function(_1520){this._context[_1520.propertyPath]=_1520;var _1521=_14eb.place(this.propertyTemplate.apply(_1520,this),_151f);if(_1521&&_1520["type"]=="standard"){_14e9.set(_1521,"dndType","property");_14e9.set(_1521,"dndData",_1520.propertyPath);_14ea.add(_1521,"dojoDndItem");}else{on(_1521,"mousedown",function(){if(self._sources&&self._sources.length>0){self._sources[0].selectNone();}});}},this);var _1522=new _14fe.Source(_151f,{owner:this,copyOnly:true,selfAccept:false});_1522.startup();this._sources.push(_1522);}});_14fe.Source=_14f4;return _14fe;});},"Sage/Groups/GroupNavigator":function(){define("Sage/Groups/GroupNavigator",["Sage/_Templated","dijit/_Widget","Sage/UI/ToolBarLabel","Sage/UI/ImageButton","Sage/Groups/GroupContextService","Sage/Services/ClientEntityContext","dojo/i18n!./nls/GroupNavigator","dojo/_base/lang","dojo/_base/declare","dojo/topic"],function(_1523,_1524,_1525,_1526,_1527,_1528,nls,lang,_1529,topic){var _152a=_1529("Sage.Groups.GroupNavigator",[_1524,_1523],{widgetsInTemplate:true,firstText:"Move First",previousText:"Move Previous",nextText:"Move Next",lastText:"Move Last",listText:"List View",labelFmtText:"${0} of ${1}",noRecordsText:"No Records",id:"groupNavigator",_entityContextService:false,_groupContextService:false,_entityChangedHandle:false,_groupChangedHandle:false,widgetTemplate:new Simplate(["<span class=\"list-panel-tbar\">","<div id=\"{%= $.id %}-Start\" data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Start_16x16\" tooltip=\"{%= $.firstText %}\" alt=\"{%= $.firstText %}\" dojoAttachPoint=\"_firstButton\" dojoAttachEvent=\"onClick:_moveFirst\"></div>","<div id=\"{%= $.id %}-Previous\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Browse_Previous_16x16\" tooltip=\"{%= $.previousText %}\" alt=\"{%= $.previousText %}\" dojoAttachPoint=\"_previousButton\" dojoAttachEvent=\"onClick:_movePrevious\"></div>","<div id=\"{%= $.id %}-Label\"  data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" dojoAttachPoint=\"_groupNavLabel\"></div>","<div id=\"{%= $.id %}-Next\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Browse_Next_16x16\" tooltip=\"{%= $.nextText %}\" alt=\"{%= $.nextText %}\" dojoAttachPoint=\"_nextButton\" dojoAttachEvent=\"onClick:_moveNext\"></div>","<div id=\"{%= $.id %}-End\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_End_16x16\" tooltip=\"{%= $.lastText %}\" alt=\"{%= $.lastText %}\" dojoAttachPoint=\"_lastButton\" dojoAttachEvent=\"onClick:_moveLast\"></div>","<div id=\"{%= $.id %}-Switcher\"  data-dojo-type=\"Sage.UI.ImageButton\" imageClass=\"icon_Switch_to_List_View_16x16\" tooltip=\"{%= $.listText %}\" alt=\"{%= $.listText %}\" dojoAttachPoint=\"_listButton\" dojoAttachEvent=\"onClick:_moveToList\"></div>","</span>"]),startup:function(){this._setLabel();},destroy:function(){if(this._groupChangedHandle){dojo.disconnect(this._groupChangedHandle);this._groupChangedHandle=false;}this.inherited(arguments);},postMixInProperties:function(){this._entityContextService=Sage.Services.getService("ClientEntityContext");this._groupContextService=Sage.Services.getService("ClientGroupContext");lang.mixin(this,nls);},_setLabel:function(args){var _152b=this._getGroupContext(),_152c=_152b.CurrentEntityPosition,count=_152b.CurrentGroupCount,eCtx=this._entityContextService.getContext();this._enableButtons();if(this._groupNavLabel&&_152b){if(count===0){_152c=0;}var lbl=dojo.string.substitute(this.labelFmtText,[_152c,count]);this._groupNavLabel.set("label",lbl);if(_152c===0||_152c===1){this._previousButton.set("disabled",true);this._firstButton.set("disabled",true);}if(_152c===_152b.CurrentGroupCount||_152c===0){this._nextButton.set("disabled",true);this._lastButton.set("disabled",true);}}},_enableButtons:function(){this._nextButton.set("disabled",false);this._lastButton.set("disabled",false);this._previousButton.set("disabled",false);this._firstButton.set("disabled",false);},_moveFirst:function(){var _152d=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_152d.FirstEntityID!==""&&_152d.FirstEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/first",_152d.FirstEntityID,eCtx.EntityId,_152d.CurrentEntityPosition,_152d.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_152d.FirstEntityID,eCtx.EntityId);}},_movePrevious:function(){var _152e=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_152e.PreviousEntityID!==""&&_152e.PreviousEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/previous",_152e.PreviousEntityID,eCtx.EntityId,_152e.CurrentEntityPosition,_152e.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_152e.PreviousEntityID,eCtx.EntityId);}},_moveNext:function(){var _152f=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_152f.NextEntityID!==""&&_152f.NextEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/next",_152f.NextEntityID,eCtx.EntityId,_152f.CurrentEntityPosition,_152f.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_152f.NextEntityID,eCtx.EntityId);}},_moveLast:function(){var _1530=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_1530.LastEntityID!==""&&_1530.LastEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/last",_1530.LastEntityID,eCtx.EntityId,_1530.CurrentEntityPosition,_1530.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_1530.LastEntityID,eCtx.EntityId);}},_moveToList:function(){Sage.Link.toListView();},_getGroupContext:function(){return this._groupContextService.getContext();},_publishTopic:function(key,_1531,_1532,_1533,count){topic.publish(key,{"toEntityId":_1531,"fromEntityId":_1532,"position":_1533,"count":count});}});return _152a;});},"Sage/QuickForms/Design/DesignSurface":function(){define("Sage/QuickForms/Design/DesignSurface",["dojo/query","dojo/keys","dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/NodeList-traverse","dojo/NodeList-manipulate","dijit/registry","dijit/focus","dijit/layout/_LayoutWidget","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/PopupMenuItem","Sage/_EventMapMixin","dojo/dnd/Source","dojo/dnd/Manager","./ControlDesignerRegistry","./ControlDesigner","./FormDesigner","./RowDesigner","./ColumnDesigner","dojo/i18n!./nls/DesignSurface"],function(query,keys,_1534,topic,_1535,array,lang,event,_1536,_1537,_1538,_1539,_153a,_153b,_153c,_153d,focus,_153e,Menu,_153f,_1540,_1541,_1542,_1543,_1544,_1545,_1546,_1547,_1548,_1549,_154a){var _154b=_1535([_1543],{owner:null,accept:["designer","property"],constructor:function(){this.creator=true;},checkAcceptance:function(_154c,nodes){if(_154c==this){return false;}return this.inherited(arguments);},onDropInternal:function(_154d,nodes,copy){},onDropExternal:function(_154e,nodes,copy){var node,item;if(_154e.isInstanceOf(_154b)){node=nodes[0];item=node&&_154e.getItem(node.id);if(item){_154e.selectNone();this.selectNone();this.onDropDesigner(this,_153d.byId(item.data));}}else{node=nodes[0];item=node&&_154e.getItem(node.id);if(item&&array.indexOf(item.type,"property")>=0){_154e.selectNone();this.selectNone();this.onDropProperty(this,item.context);}}},onDropProperty:function(_154f,_1550){},onDropDesigner:function(_1551,_1552){},onDndStart:function(_1553,nodes,copy){this.inherited(arguments);},onDndCancel:function(){this.inherited(arguments);},_normalizedCreator:function(data,hint){var _1554=_153d.byId(data),_1555=_153a.toDom(_1554.domNode.parentNode.innerHTML),_1556=_153a.create("div",{"class":"design-surface-dnd-avatar"});_153a.place(_1555,_1556);return {node:_1556};},onDraggingOver:function(){this.inherited(arguments);if(this.empty){var _1557=_1544.manager();if(_1557.source.isInstanceOf(_154b)){var _1558=this.owner.validateMoveFromSource(this,_1557.source);_1557.canDrop(!_1558);}else{}}},onMouseMove:function(e){var _1559,_155a;if(this.isDragging&&!this.empty){_1559=this.before;_155a=this.targetAnchor;}this.inherited(arguments);if(this.isDragging&&!this.empty){if(this.targetAnchor!=_155a||this.before!=_1559){var _155b=_1544.manager();if(_155b.source.isInstanceOf(_154b)){var _155c=this.owner.validateMoveFromSource(this,_155b.source);_155b.canDrop(!_155c);}else{}}}}});var _155d=_1535([Menu],{owner:null,aboveText:"Above",belowText:"Below",leftText:"Left",rightText:"Right",insertRowText:"Insert Row",insertColumnText:"Insert Column",constructor:function(){lang.mixin(this,_154a);},postCreate:function(){this.inherited(arguments);var _155e=new Menu(),_155f=new Menu();_155e.addChild(new _153f({label:this.aboveText,onClick:lang.hitch(this,this._insertRow,true)}));_155e.addChild(new _153f({label:this.belowText,onClick:lang.hitch(this,this._insertRow,false)}));_155f.addChild(new _153f({label:this.leftText,onClick:lang.hitch(this,this._insertColumn,true)}));_155f.addChild(new _153f({label:this.rightText,onClick:lang.hitch(this,this._insertColumn,false)}));this.addChild(new _1541({label:this.insertRowText,popup:_155e}));this.addChild(new _1541({label:this.insertColumnText,popup:_155f}));},_insertColumn:function(_1560){if(this.owner){this.owner.insertColumnAround(this.target,_1560);}},_insertRow:function(_1561){if(this.owner){this.owner.insertRowAround(this.target,_1561);}},open:function(_1562,node,_1563){this.target=_1562;if(this.target){this._scheduleOpen(node,null,_1563);}}});var _1564=_1535([Menu],{owner:null,aboveText:"Above",belowText:"Below",insertRowText:"Insert Row",deleteRowText:"Delete Row",constructor:function(){lang.mixin(this,_154a);},postCreate:function(){this.inherited(arguments);var _1565=new Menu();_1565.addChild(new _153f({label:this.aboveText,onClick:lang.hitch(this,this._insertRow,true)}));_1565.addChild(new _153f({label:this.belowText,onClick:lang.hitch(this,this._insertRow,false)}));this.addChild(new _1541({label:this.insertRowText,popup:_1565}));this.addChild((this._delete=new _153f({label:this.deleteRowText,onClick:lang.hitch(this,this._deleteRow,false)})));},open:function(_1566,node,_1567){this.target=_1566;if(this.target){this._delete.set("disabled",this.owner.validateDeleteRowAt(this.target.index));this._scheduleOpen(node,null,_1567);}},_insertRow:function(_1568){if(this.owner){var index=_1568?this.target.get("index"):this.target.get("index")+1;this.owner.insertRowAt(index);}},_deleteRow:function(){if(this.owner){this.owner.deleteRowAt(this.target.index);}}});var _1569=_1535([Menu],{owner:null,leftText:"Left",rightText:"Right",insertColumnText:"Insert Column",deleteColumnText:"Delete Column",constructor:function(){lang.mixin(this,_154a);},postCreate:function(){this.inherited(arguments);var _156a=new Menu();_156a.addChild(new _153f({label:this.leftText,onClick:lang.hitch(this,this._insertColumn,true)}));_156a.addChild(new _153f({label:this.rightText,onClick:lang.hitch(this,this._insertColumn,false)}));this.addChild(new _1541({label:this.insertColumnText,popup:_156a}));this.addChild((this._delete=new _153f({label:this.deleteColumnText,onClick:lang.hitch(this,this._deleteColumn)})));},open:function(_156b,node,_156c){this.target=_156b;if(this.target){this._delete.set("disabled",!!this.owner.validateDeleteColumnAt(this.target.index));this._scheduleOpen(node,null,_156c);}},_insertColumn:function(_156d){if(this.owner){var index=_156d?this.target.get("index"):this.target.get("index")+1;this.owner.insertColumnAt(index);}},_deleteColumn:function(){if(this.owner){this.owner.deleteColumnAt(this.target.index);}}});var _156e=_1535("Sage.QuickForms.Design.DesignSurface",[_153e,_1542],{events:{"click":"_onClick","keydown":"_onKeyDown",".design-surface-selector-cell[data-select-row]:contextmenu":"_onRowContextMenu",".design-surface-selector-cell[data-select-column]:contextmenu":"_onColumnContextMenu",".dojoDndSource:contextmenu":"_onCellContextMenu"},_designGroup:null,_designGroupTopics:null,_rowContextMenu:null,_columnContextMenu:null,_cellContextMenu:null,baseClass:"design-surface",selections:null,form:null,columns:null,rows:null,columnCount:3,currentLayout:null,tableNode:null,singleSelection:true,designGroup:"default",bisectionErrorText:"The placement will cause another control to be bisected.",rowBoundsErrorText:"The chosen row is out of bounds.",columnBoundsErrorText:"The chosen column is out of bounds.",rowSpanBoundsErrorText:"The chosen row span is out of bounds.",columnSpanBoundsErrorText:"The chosen column span is out of bounds.",occupiedErrorText:"There is not enough empty space for the chosen size.",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_1534.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected)];},_onRowContextMenu:function(evt){event.stop(evt);if(this._rowContextMenu){this._rowContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},_onColumnContextMenu:function(evt){event.stop(evt);if(this._columnContextMenu){this._columnContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},_onCellContextMenu:function(evt){event.stop(evt);if(this._cellContextMenu){this._cellContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},constructor:function(){this.selections=[];lang.mixin(this,_154a);},buildRendering:function(){this.inherited(arguments);_1536.set(this.domNode,"tabIndex",0);},createContextMenus:function(){this._rowContextMenu=new _1564({owner:this});this._rowContextMenu.startup();this._columnContextMenu=new _1569({owner:this});this._columnContextMenu.startup();this._cellContextMenu=new _155d({owner:this});this._cellContextMenu.startup();},postCreate:function(){this.inherited(arguments);},uninitialize:function(){if(this._sources){array.forEach(this._sources,function(_156f){_156f.destroy();});}if(this._contextMenu){this._contextMenu.destroyRecursive();}this._sources=[];this.inherited(arguments);},startup:function(){if(this._started){return;}this.inherited(arguments);this.createContextMenus();},resize:function(){this.inherited(arguments);array.forEach(this.getChildren(),function(child){if(typeof child.resize=="function"){child.resize();}});if(this._sources){array.forEach(this._sources,function(_1570){_1570.sync();});}},_buildKeyHandlerMap:function(){var map={};map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";return map;},_onKeyDown:function(evt){var key=evt.keyCode,map=this._keyHandlerMap||(this._keyHandlerMap=this._buildKeyHandlerMap());if(map[key]&&this[map[key]]){this[map[key]](evt);event.stop(evt);}},_onLeftArrow:function(evt){this._moveSelectionIndicator("l");},_onRightArrow:function(evt){this._moveSelectionIndicator("r");},_onUpArrow:function(evt){this._moveSelectionIndicator("u");},_onDownArrow:function(evt){this._moveSelectionIndicator("d");},_moveSelectionIndicator:function(_1571){var _1572=this.selections.length==1?this.selections[0]:null,_1573=_1572&&_1572.designer;if(_1573&&_1573.isInstanceOf(_1546)){var next=this._findNextWidget(_1573,_1571),cell=next&&query(next.domNode).closest(".design-surface-cell")[0];if(next){this._handleSelectionOf(next,false,cell,next.domNode);}}},_findNextWidget:function(_1574,_1575){var _1576=this.currentLayout,_1577=_1574.get("row")||0,_1578=_1574.get("column")||0,_1579=_1574.get("rowSpan")||1,_157a=_1574.get("columnSpan")||1,spanV=[_1577,_1577+_1579-1],spanH=[_1578,_1578+_157a-1],_157b,_157c,_157d,_157e;switch(_1575){case "u":_157b=[_1577-1,0];_157c=-1;_157d=spanH;_157e=1;break;case "d":_157b=[_1577+_1579,_1576.rows.length-1];_157c=1;_157d=spanH;_157e=1;break;case "l":_157b=spanV;_157c=1;_157d=[_1578-1,0];_157e=-1;break;case "r":_157b=spanV;_157c=1;_157d=[_1578+_157a,_1576.columnCount-1];_157e=1;break;}for(var row=_157b[0];_157c*row<=_157b[1];row+=_157c){for(var _157f=_157d[0];_157e*_157f<=_157d[1];_157f+=_157e){var data=this._readFromLayout(_1576,row,_157f);if(!data){continue;}var _1580=data.widget;if(_1580===_1574){continue;}return _1580;}}return null;},_handleSelectionOf:function(_1581,_1582,_1583,_1584){if(_1581){var _1585=array.some(this.selections,function(_1586){return (_1586.designer===_1581);});if(_1582&&!this.singleSelection){if(!_1585){array.forEach(this.selections,function(_1587){if(_1587.focusNode){_1536.set(_1587.focusNode,"tabIndex","-1");}});this.selections.push({designer:_1581,styleNode:_1583,focusNode:_1584});if(_1584){_1536.set(_1584,"tabIndex",0);focus.focus(_1584);}if(_1583){_1537.add(_1583,"design-surface-cell-selected");}this.onSelectionChanged(this.selections,true);topic.publish(_1534.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1581,true,this);}}else{this._clearSelectionDom();this._clearSelectionState(false);this.selections=[{designer:_1581,styleNode:_1583,focusNode:_1584}];if(_1584){_1536.set(_1584,"tabIndex",0);focus.focus(_1584);}if(_1583){_1537.add(_1583,"design-surface-cell-selected");}this.onSelectionChanged(this.selections,false);topic.publish(_1534.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1581,false,this);}}else{if(this.singleSelection||!_1582){this._clearSelectionDom();this._clearSelectionState();}}},findDesignerByNode:function(_1588){var _1589=this._findSelectableDesignerByNode(_1588);return _1589&&_1589.designer;},_findSelectableDesignerByNode:function(_158a){var cell=query(_158a).closest(".design-surface-cell")[0],node=cell&&query(".dojoDndItem > *",cell)[0],_158b=node&&_153d.byNode(node);if(_158b){return {designer:_158b,styleNode:cell,focusNode:_158b.domNode};}if(cell&&_1536.has(cell,"data-select-row")){return {designer:this.form&&this.form.get("rows")[parseInt(_1536.get(cell,"data-select-row"))],styleNode:cell,focusNode:cell};}if(cell&&_1536.has(cell,"data-select-column")){return {designer:this.form&&this.form.get("columns")[parseInt(_1536.get(cell,"data-select-column"))],styleNode:cell,focusNode:cell};}return null;},_onClick:function(evt){var _158c=evt.shiftKey,_158d=this._findSelectableDesignerByNode(evt.target);if(_158d){if(_158d.designer.isInstanceOf(_1546)){this._handleSelectionOf(_158d.designer,_158c,_158d.styleNode,_158d.focusNode);}else{this._handleSelectionOf(_158d.designer,false,_158d.styleNode,_158d.focusNode);}}else{this._handleSelectionOf(this.form,_158c);}},onSelectionChanged:function(_158e,_158f){},_clearSelectionDom:function(){if(this.selections.length>0){array.forEach(this.selections,function(_1590){if(_1590.focusNode){_1536.set(_1590.focusNode,"tabIndex","-1");}if(_1590.styleNode){_1537.remove(_1590.styleNode,"design-surface-cell-selected");}});}},_clearSelectionState:function(_1591){if(this.selections.length>0){this.selections=[];if(_1591!==false){this.onSelectionChanged(this.selections);topic.publish(_1534.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),false,false,this);}}},_syncDomWithSelectionState:function(){array.forEach(this.selections,function(_1592){var _1593=_1592.designer;if(_1593.isInstanceOf(_1546)){_1592.styleNode=query(_1593.domNode).closest(".design-surface-cell")[0];_1592.focusNode=_1593.domNode;}else{if(_1593.isInstanceOf(_1548)){_1592.styleNode=query(_1534.substitute(".design-surface-selector-cell[data-select-row=\"${0}\"]",[_1593.index]),this.domNode)[0];_1592.focusNode=_1592.styleNode;}else{if(_1593.isInstanceOf(_1549)){_1592.styleNode=query(_1534.substitute(".design-surface-selector-cell[data-select-column=\"${0}\"]",[_1593.index]),this.domNode)[0];_1592.focusNode=_1592.styleNode;}}}_1536.set(_1592.focusNode,"tabIndex",0);focus.focus(_1592.focusNode);_1537.add(_1592.styleNode,"design-surface-cell-selected");},this);},_onDesignerSelected:function(_1594,_1595,_1596){if(_1594&&_1596!==this){this._clearSelectionDom();this._clearSelectionState(false);}},_buildLayoutFor:function(_1597){var rows=[],_1598=this.form?this.form.get("columnCount"):this.columnCount;array.forEach(_1597,function(child){var _1599=child.get("row")||0,_159a=child.get("column")||0,_159b=child.get("rowSpan")||1,_159c=child.get("columnSpan")||1,row,edge,i,j;if(_159b>1||_159c>1){edge=[_159a,_159a+(_159c-1)];for(i=0;i<_159b;i++){row=rows[_1599+i]||(rows[_1599+i]=[]);for(j=0;j<_159c;j++){row[_159a+j]={widget:child,span:(i>0||j>0),edge:edge};}}}else{row=rows[_1599]||(rows[_1599]=[]);row[_159a]={widget:child,span:false,edge:[_159a,_159a]};}if((_159a+_159c)>_1598){_1598=(_159a+_159c);}},this);return {rows:rows,columnCount:_1598,children:_1597};},_syncNonVisibleDesigners:function(_159d){if(!this.form){return;}var _159e=_159d.rows,_159f=_159e.length,_15a0=_159d.columnCount,rows,count,_15a1,i;if(this.form.get("rowCount")>_159f){rows=this.form.get("rows");for(i=(rows.length-1);i>(_159f-1);i--){if(rows[i].added){this.form.removeRow(i);}else{break;}}}else{if(this.form.get("rowCount")<_159f){rows=this.form.get("rows");count=rows.length;for(i=0;i<(_159f-count);i++){this.form.addRow(new _1548({entry:{"Height":35,"SizeType":"Absolute"},form:this.form,index:count+i,added:true}));}}}if(this.form.get("columnCount")>_15a0){_15a1=this.form.get("columns");for(i=(_15a1.length-1);i>(_15a0-1);i--){if(_15a1[i].added){this.form.removeColumn(i);}else{break;}}}else{if(this.form.get("columnCount")<_15a0){_15a1=this.form.get("columns");count=_15a1.length;for(i=0;i<(_15a0-count);i++){this.form.addColumn(new _1549({entry:{"Width":10,"SizeType":"Percent"},form:this.form,index:count+i,added:true}));}}}},_renderLayout:function(_15a2){if(this._sources){array.forEach(this._sources,function(_15a3){_15a3.destroy();});}this._sources=[];var rows=_15a2.rows,_15a4=_15a2.children,_15a5=Math.max((this.form&&this.form.get("rowCount"))||0,rows.length),_15a6=Math.max((this.form&&this.form.get("columnCount"))||0,_15a2.columnCount),_15a7=_153a.create("table",{"class":"design-surface-table"},this.domNode),_15a8=_153a.create("colgroup",null,_15a7),_15a9=_153a.create("tbody",null,_15a7),_15aa,_15ab,_15ac,_15ad,j,i;_153a.create("col",{},_15a8);var _15ae=100/_15a6;for(j=0;j<_15a6;j++){_153a.create("col",{"width":_15ae+"%"},_15a8);}var _15af=[];if(rows.length>0){_15aa=_153a.create("tr",{"class":"design-surface-selector-row"},_15a9);for(i=0;i<_15a6+1;i++){_15ab=_153a.create("td",{"class":"design-surface-cell design-surface-selector-cell","data-select-column":i-1},_15aa);}}for(j=0;j<_15a5;j++){var row=rows[j];_15aa=_153a.create("tr",{"class":"design-surface-row"},_15a9);_15ab=_153a.create("td",{"class":"design-surface-cell design-surface-selector-cell","data-select-row":j},_15aa);for(i=0;i<_15a6;i++){var cell=row&&row[i];if(cell){if(cell.span){continue;}var _15b0=cell.widget,_15b1=_15b0.get("row")||0,_15b2=_15b0.get("rowSpan")||1,_15b3=_15b0.get("column")||0,_15b4=_15b0.get("columnSpan")||1;_15ab=_153a.create("td",{"colspan":_15b4,"rowspan":_15b2,"class":"design-surface-cell","data-design-row":_15b1,"data-design-column":_15b3},_15aa);_15af.push({node:_15ab,widget:_15b0});}else{_15ab=_153a.create("td",{"class":"design-surface-cell design-surface-cell-empty"},_15aa);}_15ad=new _156e.Source(_15ab,{owner:this,empty:!cell,row:j,column:i,copyOnly:true,selfAccept:false,onDropProperty:lang.hitch(this,this._onDropProperty),onDropDesigner:lang.hitch(this,this._onDropDesigner)});_15ad.startup();this._sources.push(_15ad);}}array.forEach(_15af,function(_15b5){var _15b6=_1538.getComputedStyle(_15b5.node),_15b7=_1539.getMarginBox(_15b5.node,_15b6),_15b8=_1539.getPadExtents(_15b5.node,_15b6),_15b9=_1539.getBorderExtents(_15b5.node,_15b6);_15ac=_153a.create("div",{"dndType":"designer","dndData":_15b5.widget.id,"class":"dojoDndItem","style":{"padding":"0px"}},_15b5.node);var _15ba=_1538.getComputedStyle(_15ac),_15bb=_1539.getBorderExtents(_15ac,_15ba);_1539.setContentSize(_15ac,{h:(_15b7.h-_15b8.h-_15b9.h-_15bb.h)});_15ac.appendChild(_15b5.widget.domNode);},this);if(this.tableNode){this.tableNode.parentNode.removeChild(this.tableNode);}array.forEach(_15a4,function(child){if(typeof child.layout=="function"){child.layout();}});this.currentLayout=_15a2;this.tableNode=_15a7;if(this._sources){array.forEach(this._sources,function(_15bc){_15bc.sync();});}},_readFromLayout:function(_15bd,row,_15be){return (_15bd.rows[row]&&_15bd.rows[row][_15be]);},_applyPushToConnectionTree:function(_15bf,_15c0,_15c1){_15c1=_15c1||{};for(var i=0;i<_15c0.children.length;i++){var _15c2=_15c0.children[i],_15c3=_15bf-_15c2.distance,node=_15c2.node;if(_15c1[node.id]){if(_15c3>_15c1[node.id].value){_15c1[node.id].value=_15c3;}}else{_15c1[node.id]={widget:node.widget,value:_15c3};}this._applyPushToConnectionTree(_15c3,node,_15c1);}return _15c1;},_buildConnectionTree:function(_15c4,_15c5,_15c6,rootp){var span=[_15c5.column,_15c5.column+_15c5.columnSpan],_15c7=_15c4.rows.length,_15c8=_15c4.columnCount,_15c9={},nodes=_15c6||{},root=rootp||_15c5;for(var _15ca=span[0];_15ca<span[1];_15ca++){for(var row=(_15c5.row+_15c5.rowSpan);row<_15c7;row++){var data=this._readFromLayout(_15c4,row,_15ca);if(!data){continue;}var _15cb=data.widget;if(_15cb===_15c5.widget){continue;}if(_15cb===root.widget){continue;}if(_15c9[_15cb.id]){continue;}_15c9[_15cb.id]=true;if(nodes[_15cb.id]){_15c5.children.push({distance:row-(_15c5.row+_15c5.rowSpan),node:nodes[_15cb.id]});}else{var node={id:_15cb.id,widget:_15cb,row:_15cb.get("row"),rowSpan:_15cb.get("rowSpan")||1,column:_15cb.get("column"),columnSpan:_15cb.get("columnSpan")||1,children:[]};nodes[_15cb.id]=node;_15c5.children.push({distance:row-(_15c5.row+_15c5.rowSpan),node:node});this._buildConnectionTree(_15c4,node,nodes,root);}break;}}},moveWidget:function(_15cc,_15cd,_15ce){var _15cf=this.currentLayout,_15d0=_15cc.get("rowSpan")||1,_15d1=_15cc.get("columnSpan")||1,root={id:_15cc.id,widget:_15cc,row:_15cd,rowSpan:0,column:_15ce,columnSpan:_15d1,children:[]};this._buildConnectionTree(_15cf,root);var push=this._applyPushToConnectionTree(_15d0,root);for(var name in push){var _15d2=push[name].widget,value=push[name].value;if(value>0){_15d2.unchecked(function(){this.set("row",this.get("row")+value);});}}_15cc.unchecked(function(){this.set("row",_15cd);this.set("column",_15ce);});topic.publish(_1534.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_15cc,this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},_onDropProperty:function(_15d3,_15d4){var ctor=_1545.getDesignerForDataType(_15d4.data["dataTypeId"]);if(!ctor){return;}var _15d5=new ctor({form:this.form});_15d5.setupFor(_15d4);this.form.addControl(_15d5);this.addChild(_15d5);this._handleSelectionOf(_15d5,false);this._onDropDesigner(_15d3,_15d5);},_onDropDesigner:function(_15d6,_15d7){var _15d8=this.currentLayout,_15d9=_15d8.columnCount,_15da=this._readFromLayout(_15d8,_15d6.row,_15d6.column),_15db=_15da&&_15da.widget,_15dc=(_15db&&_15db.get("rowSpan"))||1,_15dd=(_15d7&&_15d7.get("rowSpan"))||1,_15de=(_15d7&&_15d7.get("columnSpan"))||1,_15df=(!_15da||_15d6.before)?_15d6.row:_15d6.row+_15dc,_15e0=((_15d6.column+_15de)>_15d9)?_15d9-_15de:_15d6.column;this.moveWidget(_15d7,_15df,_15e0);},insertRowAround:function(_15e1,_15e2){var _15e3=_15e1.get("row")||0,_15e4=_15e1.get("rowSpan")||1,_15e5=_15e2?_15e3:_15e3+_15e4;this.insertRowAt(_15e5);},insertRowAt:function(_15e6){this.form.addRow(new _1548({entry:{"Height":35,"SizeType":"Absolute"},form:this.form,index:_15e6}),_15e6);array.forEach(this.getChildren(),function(_15e7){var _15e8=_15e7.get("row")||0;if(_15e8>=_15e6){_15e7.unchecked(function(){this.set("row",this.get("row")+1);});topic.publish(_1534.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_15e7,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},deleteRowAt:function(_15e9){var _15ea=this.currentLayout,_15eb=_15ea.rows.length,_15ec=_15ea.columnCount;for(var _15ed=0;_15ed<_15ec;_15ed++){var _15ee=this._readFromLayout(_15ea,_15e9,_15ed);if(_15ee){return;}}this.form.removeRow(_15e9);array.forEach(this.getChildren(),function(_15ef){var _15f0=_15ef.get("row")||0;if(_15f0>=_15e9){_15ef.unchecked(function(){this.set("row",this.get("row")-1);});topic.publish(_1534.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_15ef,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},validateDeleteRowAt:function(_15f1){var _15f2=this.currentLayout,_15f3=_15f2.rows.length,_15f4=_15f2.columnCount;for(var _15f5=0;_15f5<_15f4;_15f5++){var _15f6=this._readFromLayout(_15f2,_15f1,_15f5);if(_15f6){return {error:"occupied"};}}return false;},insertColumnAround:function(_15f7,_15f8){var _15f9=_15f7.get("column")||0,_15fa=_15f7.get("columnSpan")||1,_15fb=_15f8?_15f9:_15f9+_15fa;this.insertColumnAt(_15fb);},insertColumnAt:function(_15fc){this.form.addColumn(new _1549({entry:{"Width":10,"SizeType":"Percent"},form:this.form,index:_15fc}),_15fc);array.forEach(this.getChildren(),function(_15fd){var _15fe=_15fd.get("column")||0;if(_15fe>=_15fc){_15fd.unchecked(function(){this.set("column",this.get("column")+1);});topic.publish(_1534.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_15fd,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},deleteColumnAt:function(_15ff){var _1600=this.currentLayout,_1601=_1600.rows.length,_1602=_1600.columnCount;for(var row=0;row<_1601;row++){var _1603=this._readFromLayout(_1600,row,_15ff);if(_1603){return;}}this.form.removeColumn(_15ff);array.forEach(this.getChildren(),function(_1604){var _1605=_1604.get("column")||0;if(_1605>=_15ff){_1604.unchecked(function(){this.set("column",this.get("column")-1);});topic.publish(_1534.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_1604,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},validateDeleteColumnAt:function(_1606){var _1607=this.currentLayout,_1608=_1607.rows.length,_1609=_1607.columnCount;for(var row=0;row<_1608;row++){var _160a=this._readFromLayout(_1607,row,_1606);if(_160a){return {error:"occupied"};}}return false;},validateSize:function(_160b,_160c,_160d){var _160e=this.currentLayout,_160f=_160e.rows.length,_1610=_160e.columnCount,_1611=_160b.get("row")||0,_1612=_160b.get("rowSpan")||1,_1613=_160b.get("column")||0,_1614=_160b.get("columnSpan")||1;if(_160c<1){return {error:"bounds",what:"rowSpan",message:this.rowSpanBoundsErrorText};}if(_160d<1){return {error:"bounds",what:"columnSpan",message:this.columnSpanBoundsErrorText};}if(_160c<=_1612&&_160d<=_1614){return false;}if(_1610<(_1613+_160d)){return {error:"bounds",what:"column",message:this.columnBoundsErrorText};}for(var row=_1611;row<(_1611+_160c)&&row<_160f;row++){var span=[row<(_1611+_1612)?_1613+_1614:_1613,_1613+_160d];for(var _1615=span[0];_1615<span[1];_1615++){var _1616=this._readFromLayout(_160e,row,_1615);if(!_1616){continue;}var _1617=_1616.widget;if(_1617===_160b){continue;}return {error:"occupied",what:_1617.id,message:this.occupiedErrorText};}}return false;},validateMove:function(_1618,_1619,_161a){var _161b=this.currentLayout,_161c=_161b.columnCount,_161d=_1618.get("columnSpan")||1,_161e={};if(_1619<0){return {error:"bounds",what:"row",message:this.rowBoundsErrorText};}if(_161a<0){return {error:"bounds",what:"column",message:this.columnBoundsErrorText};}if(_161c<(_161a+_161d)){return {error:"bounds",what:"column",message:this.columnBoundsErrorText};}for(var _161f=_161a;_161f<(_161a+_161d);_161f++){var _1620=this._readFromLayout(_161b,_1619,_161f);if(!_1620){continue;}var _1621=_1620.widget;if(_1621===_1618){continue;}if(_1620.span){if(_161e[_1621.id]){continue;}return {error:"bisection",what:_1621.id,message:this.bisectionErrorText};}_161e[_1621.id]=true;}return false;},validateMoveFromSource:function(_1622,_1623){var _1624=this.currentLayout,_1625=_1624.columnCount,_1626=this._readFromLayout(_1624,_1622.row,_1622.column),_1627=_1626&&_1626.widget,_1628=(_1627&&_1627.get("rowSpan"))||1,_1629=_1623.row,_162a=_1623.column,_162b=this._readFromLayout(_1624,_1629,_162a),_162c=_162b&&_162b.widget,_162d=(_162c&&_162c.get("rowSpan"))||1,_162e=(_162c&&_162c.get("columnSpan"))||1,_162f=(!_1626||_1622.before)?_1622.row:_1622.row+_1628,_1630=((_1622.column+_162e)>_1625)?_1625-_162e:_1622.column;return this.validateMove(_162c,_162f,_1630);},clearSelections:function(){this._clearSelectionDom();this._clearSelectionState();},clear:function(){this._clearSelectionState();array.forEach(this.getChildren(),function(child){this.removeChild(child);},this);this.form=null;this.layout();},layout:function(force){if(!this._borderBox||!this._borderBox.h){return;}var _1631=this.currentLayout,_1632=this.getChildren(),_1633={},_1634=false;if(_1631){array.forEach(_1631.children,function(child){_1633[child.id]=true;});for(var i=0;i<_1632.length;i++){if(!_1633[_1632[i].id]){break;}}_1634=(_1632.length!=i)||(_1632.length!=_1631.children.length);}else{_1634=true;}if(_1634||force){_1631=this._buildLayoutFor(_1632);this._syncNonVisibleDesigners(_1631);this._renderLayout(_1631);this._syncDomWithSelectionState();}}});_156e.Source=_154b;_156e.RowContextMenu=_1564;_156e.ColumnContextMenu=_1569;_156e.CellContextMenu=_155d;return _156e;});},"Sage/TaskPane/LeadTasksTasklet":function(){define("Sage/TaskPane/LeadTasksTasklet",["dojo/i18n!./nls/LeadTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/Lead/UpdateLeads","Sage/UI/Dialogs","dojo/_base/declare","Sage/Utility/Jobs"],function(_1635,_1636,_1637,_1638,_1639,_163a,jobs){var _163b=_163a("Sage.TaskPane.LeadTasksTasklet",[_1636,_1637],{taskItems:[],constructor:function(){dojo.mixin(this,_1635);this.taskItems=[{taskId:"UpdateLeads",type:"Link",displayName:this.updateLeadsTitle,clientAction:"leadTasksActions.updateLeads();",securedAction:"Entities/Lead/MultiUpdate"},{taskId:"DeleteLeads",type:"Link",displayName:this.deleteLeadsTitle,clientAction:"leadTasksActions.deleteLeads();",securedAction:"Entities/Lead/MultiDelete"}];},updateLeads:function(){this.prepareSelectedRecords(this.updateLeadsActionItem(this.getSelectionInfo()));},updateLeadsActionItem:function(_163c){return function(){var _163d=dijit.byId("dlgUpdateMultipleLeads");if(!_163d){_163d=new _1638(_163c);}else{_163d.setSelectionInfo(_163c);}_163d.show();};},deleteLeads:function(){this.prepareSelectedRecords(this.confirmDeleteLeadJob(this,this.getSelectionInfo()));},confirmDeleteLeadJob:function(self,_163e){return function(){_1639.raiseQueryDialog(_1635.deleteLeadsTitle,dojo.string.substitute("${0}",[_1635.confirmDeleteLeads]),function(_163f){self.deleteLeadsActionItem(_163f,self,_163e);},self.yesButtonText,self.noButtonText);};},deleteLeadsActionItem:function(_1640,self,_1641){if(_1640){var _1642=[{"name":"EntityName","value":"Lead"},{"name":"SelectedIds","value":(_1641.selectionCount>0)?_1641.selectedIds.join(",")||"":""},{"name":"GroupId","value":(_1641.selectionCount===0)?this.getCurrentGroupId()||"":""}];var _1643={closable:true,title:this.deleteLeadsTitle,key:"Sage.SalesLogix.BusinessRules.Jobs.DeleteEntityJob",parameters:_1642,success:function(_1644){},failure:function(_1645){_1639.showError(dojo.string.substitute(_1635.deleteJobError,[_1645.statusText]));},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_1643);}},getCurrentGroupId:function(){var _1646=Sage.Services.getService("ClientGroupContext");if(_1646){var _1647=_1646.getContext();return _1647.CurrentGroupID;}return "";}});return _163b;});},"Sage/MainView/Opportunity/nls/UpdateOpportunities":function(){define("Sage/MainView/Opportunity/nls/UpdateOpportunities",["Sage/LanguageList","dojo/_base/lang"],function(_1648,lang){var nls={root:{addToForecast_No:"No",addToForecast_Yes:"Yes",btnCancel_Caption:"Cancel",btnOK_Caption:"OK",estimatedClose_Days:"days",estimatedClose_MoveOut:"Move",estimatedClose_To:"To",moveEstCloseDate_Backward:"Backward",moveEstCloseDate_Forward:"Forward",update_To_Caption:"To:",update_Property_Caption:"Update:",updateMultipleOpps_Caption:"Update Opportunities",updateProp_AcctMgr:"Account Manager",updateProp_Comments:"Comments",updateProp_EstClose:"Estimated Close",updateProp_Forecast:"Add To Forecast",updateProp_Probability:"Close Probability %",lookupActMgrText:"Lookup Account Manager",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",errorUnspecifiedValue:"Please specify a value before continuing.",errorRequestingJobMgr:"An error occurred performing update: ${0}"}};return lang.mixin(_1648,nls);});},"Sage/MainView/ReportMgr/BaseListPanelConfig":function(){define("Sage/MainView/ReportMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_1649,_164a,Menu,_164b,_164c,_164d,_164e,_164f,_1650){var _1651=_1650("Sage.MainView.ReportMgr.BaseListPanelConfig",[_1649],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_service:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){this._nlsResources=_164e;var _1652=Sage.Services.getService("ClientContextService");if(_1652){if(_1652.containsKey("userID")){this._currentUserId=_1652.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_onListRefresh:function(event){},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _1653={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext};return _1653;},_getStore:function(){var store=new _164a({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _1654=[];return _1654;},_getInclude:function(){var _1655=[];return _1655;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _1656=[];return _1656;},_getSummaryConfig:function(){var store=new _164a({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _1657=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _1658=this._getFormatterScope();var _1659={structure:_1657,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_1658};return _1659;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _165a={items:[]};return _165a;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return [];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _165b=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_165b.length;for(var i=0;i<len;i++){var mDef=_165b[i];if(mDef.id===this._currentListContextSubMenu){this._buildChildMenu(mDef.submenu,null);}}return this._menuItems;},_getGridMenu:function(){var _165c=dijit.byId("_listContextmenu");return _165c;},_buildChildMenu:function(_165d,_165e){var len=_165d.length;for(var i=0;i<len;i++){var mDef=_165d[i];if(mDef.submenu.length>0){var _165f=new Menu();this._buildChildMenu(mDef.submenu,_165f);var _1660=new _164b({label:mDef.text,popup:_165f});if(_165e){_165e.addChild(_1660);}else{this._menuItems.push(_1660);}}else{var _1661=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_1661=new _164c();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_1661=new _164d({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_165e){_165e.addChild(_1661);}else{this._menuItems.push(_1661);}}}},_onListContext:function(){},getFilterConfig:function(_1662,entry,_1663){var _1664=this._service;var _1665=_1662;var _1666=this.entityName;var _1667=this._resourceKind;var where=this._where;var _1668={groupId:this._listId,store:new _164a({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_1665).setResourceKind("entities").setResourceSelector("\""+_1666+"\"").setResourceProperty("filters").setQueryArg("where","filterType ne \"analyticsMetric\"").setQueryArg("count",20)}),createStoreForFilter:function(_1669){return _1669&&_1669["filterName"]?new _164a({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_1664).setResourceKind(_1667).setResourceProperty("$queries/executeMetric").setQueryArg("_filterName",_1669["filterName"]).setQueryArg("orderby","displayName").setQueryArg("_activeFilter",where)}):null;},getFilterManager:function(){var _166a=_164f.byId("list");return _166a&&_166a.get("filterManager");}};return _1668;}});return _1651;});},"url:Sage/UI/Filters/templates/EditFilterItems.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-items-search\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>","Sage/Store/main":function(){define("Sage/Store/main",["Sage/Store/SData"],function(){});},"Sage/UI/nls/EditCalendarUsers":function(){define("Sage/UI/nls/EditCalendarUsers",["Sage/LanguageList","dojo/_base/lang"],function(_166b,lang){var nls={root:{selectAllText:"Select All",findItemText:"Find User:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Calendar Users",okText:"OK",cancelText:"Cancel",maxUsersErrorMessage:"Sorry, you cannot select more than ${0} users (including your own).  Clear one of the currently selected users and try again.",updateErrorMessage:"Error updating calendar users"}};return lang.mixin(_166b,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportParametersDialog":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportParametersDialog",["Sage/LanguageList","dojo/_base/lang"],function(_166c,lang){var nls={root:{txtDialogTitle:"Enter Values",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel"}};return lang.mixin(_166c,nls);});},"Sage/UI/main":function(){define("Sage/UI/main",["Sage/UI/Columns/main","Sage/UI/Controls/main","Sage/UI/Dashboard/main","Sage/UI/Alarms/main","Sage/UI/SLXPreviewGrid/main","Sage/UI/_DetailPane","Sage/UI/_DialogLoadingMixin","Sage/UI/widgetEditorLookup","Sage/UI/_DetailPanelConfigurationProvider","Sage/UI/_TitlePaneConfigProvider","Sage/UI/AttachmentList","Sage/UI/ActivityList","Sage/UI/NotesHistoryList","Sage/UI/ComboBox","Sage/UI/ConditionManager","Sage/UI/DashboardGroupListConfigurationProvider","Sage/UI/DateTextBox","Sage/UI/DetailPanel","Sage/UI/Dialogs","Sage/UI/EditableGrid","Sage/UI/EditorContainer","Sage/UI/Filters/CheckBoxFilter","Sage/UI/Filters/LookupFilter","Sage/UI/Filters/EditFilterItems","Sage/UI/Filters/EditFilters","Sage/UI/FilteringSelect","Sage/UI/Filters/FilterManager","Sage/UI/Filters/FilterPanel","Sage/UI/Filters/GroupFilterConfigurationProvider","Sage/UI/GridContainer","Sage/UI/GridMenuItem","Sage/UI/GroupListConfigurationProvider","Sage/UI/GroupMenuFmtScope","Sage/UI/GroupsTitlePaneConfigProvider","Sage/UI/GroupTabPane","Sage/UI/ImageButton","Sage/UI/JsonPrintDetailPane","Sage/UI/ListPanel","Sage/UI/MenuBar","Sage/UI/MenuBarItem","Sage/UI/MenuItem","Sage/UI/NavBar","Sage/UI/NavBarPane","Sage/UI/NumberTextBox","Sage/UI/OrientableMenuBar","Sage/UI/PopupMenuBarItem","Sage/UI/PopupMenuItem","Sage/UI/SDataLookup","Sage/UI/SearchConditionWidget","Sage/UI/SLXPreviewGrid","Sage/UI/SpeedSearch","Sage/UI/SummaryContainer","Sage/UI/SummaryContents","Sage/UI/SummaryDetailPane","Sage/UI/SummaryFormatterScope","Sage/UI/TextBox","Sage/UI/TimeZoneItem","Sage/UI/TitleContentPane","Sage/UI/ToggleButton","Sage/UI/ToolBarLabel","Sage/UI/UniqueToListValidationTextBox","Sage/UI/URL","Sage/UI/WidgetEditor","Sage/UI/ActivityScheduler","Sage/UI/TimelessActivitiesPane","Sage/UI/Calendar","Sage/UI/CalendarUsersListPane"],function(){});},"Sage/UI/Columns/PickList":function(){define("Sage/UI/Columns/PickList",["Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","Sage/Data/BaseSDataStore","dojo/_base/declare"],function(_166d,_166e,_166f,_1670){var _1671=_1670("Sage.UI.Columns.PickList",dojox.grid.cells._Widget,{icon:"",widgetClass:_166e,storeData:null,pickList:null,storageMode:"id",displayMode:"AsText",constructor:function(args){this.inherited(arguments);if(this.storageMode==="id"&&this.displayMode==="AsText"){if(this.pickListName&&this.storeData===null){this._loadPickList();}}},formatter:function(val,index){if(this.storageMode==="id"){val=this.getStoreTextById(val);}return val;},_loadPickList:function(){var _1672=new dojo.Deferred();var _1673={pickListName:this.pickListName,canEditText:false,itemMustExist:true,maxLength:-1,storeMode:this.storageMode,sort:false,displayMode:this.displayMode};this.pickList=new _166d(_1673);this.pickList.getPickListData(_1672);_1672.then(dojo.hitch(this,this._loadData),function(e){console.error(e);});},getStoreTextById:function(val){var _1674=val;if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.id===val){_1674=item.text;}},this);}return _1674;},_loadData:function(data){var items=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};}});return _1671;});},"Sage/UI/Controls/DurationSelect":function(){define("Sage/UI/Controls/DurationSelect",["Sage/UI/Controls/_customSelectMixin","Sage/Utility/Activity","dojo/date","dojo/data/ItemFileReadStore","dojo/i18n!./nls/DurationSelect","dojo/_base/declare"],function(_1675,_1676,_1677,_1678,_1679,_167a){var _167b=_167a("Sage.UI.Controls.DurationSelect",_1675,{id:"",startTime:new Date(),timeValue:new Date(),valuesAreAfterStart:true,_store:null,_storeData:{},labelFmt:"${amount} ${interval} (${endTime})",splitAmoutLabelFmt:"${amount1} ${interval1}, ${amount2} ${interval2} (${endTime})",minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days",timeIncrements:[0,5,10,15,30,60,120,240],items:[],itemsByDur:{},constructor:function(){dojo.mixin(this,_1679);},resetItems:function(){this.items=[];this.itemsByDur={};},_fillSelect:function(){if(this._select){this.resetItems();var _167c=false;for(var i=0;i<this.timeIncrements.length;i++){var inc=this.timeIncrements[i];this.items.push(this._createItem(inc));_167c=_167c||(this.value===inc);}if(!_167c&&(this.value)){this.items.push(this._createItem(this.value));}this._storeData={identifier:"value",label:"label",items:this.items};this._store=new _1678({data:this._storeData});this._select.set("store",this._store);this._select.set("searchAttr","label");if(this.value||this.value===0){this.set("value",this.value);}}},_createItem:function(inc){var st=this.startTime;if(st.getHours()===0&&st.getMinutes===0&&st.getSeconds()===5){st=new Date(st.getUTCFullYear(),st.getUTCMonth(),st.getUTCDate(),0,0,0);}var newD;newD=_1677.add(st,"minute",(this.valuesAreAfterStart)?inc:inc*-1);var obj={"value":inc,"dateValue":newD,"label":this._formatLabel(inc,newD)};this.itemsByDur[inc]=obj;return obj;},_formatLabel:function(inc,_167d){var _167e;var _167f={amount:inc,interval:(inc===1)?this.minuteText:this.minutesText,endTime:_1677.locale.format(_167d,{selector:"time"})};var _1680=this.labelFmt;if(inc>59){var mod=inc%60;_167e=Math.floor(inc/60);if(mod===0){_167f["amount"]=_167e;_167f["interval"]=(_167e===1)?this.hourText:this.hoursText;}else{_167f["amount1"]=_167e;_167f["interval1"]=(_167e===1)?this.hourText:this.hoursText;_167f["amount2"]=mod;_167f["interval2"]=(mod===1)?this.minuteText:this.minutesText;_1680=this.splitAmoutLabelFmt;}if(_167e>23){var _1681=Math.round(_167e/24);_167f["amount"]=_1681;_167f["interval"]=(_1681===1)?this.dayText:this.daysText;_167f["endTime"]=_1677.locale.format(_167d,{selector:"datetime"});}}return dojo.string.substitute(_1680,_167f);},_handleValueNotInStore:function(_1682){var _1683=this.text;var _1684=/\(([\s\S]*)\)/;var _1685=_1684.exec(_1682);var _1686=_1684.exec(_1683);if((_1685)&&(_1686)){if(_1685[1]===_1686[1]){_1682=_1682.replace(_1685[0],"");}else{var _1687=_1677.locale.parse(_1685[1],{selector:"time"});if(_1687){_1687.setFullYear(this.startTime.getFullYear());_1687.setMonth(this.startTime.getMonth());_1687.setDate(this.startTime.getDate());this._setTimeValueAttr(_1687);return this.value;}}}var dur=0;if(typeof _1682==="number"){dur=_1682;}else{if(_1682.indexOf(",")>0){var _1688=_1682.split(",");for(var i=0;i<_1688.length;i++){var _1689=this._getMinutesFromStringPart(_1688[i]);if(_1689){dur+=_1689;}}}else{dur=this._getMinutesFromStringPart(_1682);}}if(!dur){this._select.set("value",this.text);return this.value;}var _168a=this._createItem(dur);this.value=_168a.value;this.text=_168a.label;this._select.set("displayedValue",_168a.label);return _168a.value;},_setValueAttr:function(value){this._removeOldValueFromStore();this.text=value;this.value=value;if(this._store){this._store.fetchItemByIdentity({identity:value,onItem:function(item){if(item){this._select.set("value",this._store.getValue(item,this._storeData.label));this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this._handleValueNotInStore(value);}},onError:function(){},scope:this});}},_removeOldValueFromStore:function(){for(var i=0;i<this.timeIncrements.length;i++){if(this.value===this.timeIncrements[i]){return;}}delete (this.itemsByDur[this.value]);var l=this.items.length;for(i=0;i<l;i++){if(this.items[i].value===this.value||this.items[i].value[0]===this.value){this.items.splice(i,1);return;}}},_getMinutesFromStringPart:function(str){var parts=str.trim().split(" ");var num=parseInt(parts[0],10);if(isNaN(num)){return false;}if(parts.length>1){if(this.hoursText.indexOf(parts[1])>-1){num=num*60;}}return num;},_setStartTimeAttr:function(_168b){if(_1677.compare(this.startTime,_168b,"datetime")!==0){this.startTime=_168b;this._fillSelect();}},_setValuesAreAfterStartAttr:function(_168c){if(this.valuesAreAfterStart!==_168c){this.valuesAreAfterStart=_168c;this._fillSelect();}},_getTimeValueAttr:function(){if(this.itemsByDur.hasOwnProperty(this.value)){var dVal=this.itemsByDur[this.value].dateValue;return (dojo.isArray(dVal))?dVal[0]:dVal;}else{if(this.value&&this.startTime){var d=_1677.add(this.startTime,"minute",(this.valuesAreAfterStart)?this.value:this.value*-1);this.dateValue=d;return this.dateValue;}return null;}},_setTimeValueAttr:function(time){if(!time){return;}if(this.items.length<1){this._fillSelect();}var d=this.startTime;if(d.getHours()===0&&d.getMinutes===0&&d.getSeconds()===5){time=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds());}for(var obj in this.itemsByDur){if(obj&&this.itemsByDur[obj].dateValue){var _168d=dojo.isArray(this.itemsByDur[obj].dateValue)?this.itemsByDur[obj].dateValue[0]:this.itemsByDur[obj].dateValue;if(_1677.compare(_168d,time,"datetime")===0){this.set("value",this.itemsByDur[obj].value);this.text=this.itemsByDur[obj].label;this._select.set("displayedValue",this.itemsByDur[obj].label);return;}}}var dur=_1677.difference(this.startTime,time,"minute");if(dur<0){dur=dur*-1;}var o={"value":dur,"dateValue":time,"label":this._formatLabel(dur,time)};this.set("value",dur);this.text=o.label;this.itemsByDur[dur]=o;this._select.set("displayedValue",o.label);},_setTimeIncrementsAttr:function(_168e){if(this.timeIncrements===_168e){return;}this.timeIncrements=_168e;this._fillSelect();}});return _167b;});},"Sage/Services/ClientEntityContext":function(){define("Sage/Services/ClientEntityContext",["dojo/_base/declare"],function(_168f){var _1690=_168f("Sage.Services.ClientEntityContext",null,{hasClearListener:false,tempContext:false,constructor:function(_1691){this.inherited(arguments);dojo.mixin(this,_1691);this.emptyContext={"EntityId":"","EntityType":"","Description":"","EntityTableName":""};},getContext:function(){if(this.tempContext){return this.tempContext;}if((Sage.Data)&&(Sage.Data.EntityContextStore)){return Sage.Data.EntityContextStore;}return this.emptyContext;},setContext:function(obj){Sage.Data.EntityContextStore=dojo.mixin(this.emptyContext,obj);this.onEntityContextChanged(Sage.Data.EntityContextStore);},setTemporaryContext:function(obj){this.tempContext=obj;},clearTemporaryContext:function(){this.tempContext=false;},navigateSLXGroupEntity:function(_1692,_1693,_1694){if(Sage.Services){var mgr=Sage.Services.getService("ClientBindingManagerService");if((mgr)&&(!mgr.canChangeEntityContext())){return false;}var _1695=Sage.Services.getService("ClientContextService");if(_1695.containsKey("ClientEntityId")){_1695.setValue("ClientEntityId",_1692);}else{_1695.add("ClientEntityId",_1692);}_1693=(_1693)?_1693:Sage.Data.EntityContextStore.EntityId;if(_1695.containsKey("PreviousEntityId")){_1695.setValue("PreviousEntityId",_1693);}else{_1695.add("PreviousEntityId",_1693);}if(_1694){if(_1695.containsKey("ClientEntityPosition")){_1695.setValue("ClientEntityPosition",_1694);}else{_1695.add("ClientEntityPosition",_1694);}}if(!this.hasClearListener){Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(function(){if(Sage.Services){var _1696=Sage.Services.getService("ClientContextService");if(_1696.containsKey("PreviousEntityId")){_1696.remove("PreviousEntityId");}}});this.hasClearListener=true;}Sage.Data.EntityContextStore.EntityId=_1692;Sage.Data.EntityContextStore.Description="";}if(window.TabControl){var _1697=TabControl.getState();if(_1697){_1697.clearUpdatedTabs();TabControl.updateStateProxy();}}__doPostBack("MainContent","");return true;},onEntityContextChanged:function(_1698){}});if(!Sage.Services.hasService("ClientEntityContext")){Sage.Services.addService("ClientEntityContext",new Sage.Services.ClientEntityContext());}return _1690;});},"Sage/QuickForms/Design/Editors/CheckBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CheckBoxAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CheckBoxAdvancedPropertyEditor"],function(_1699,lang,_169a,_169b,_169c,_169d,_169e,_169f,_16a0,_16a1,_16a2){return _1699("Sage.QuickForms.Design.Editors.CheckBoxAdvancedPropertyEditor",[_169a,_16a0,_169f],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" style=\"display:none;\" title=\"{%= $.checkedTooltipText %}\">","<label>{%= $.checkedText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_checked\" data-dojo-attach-event=\"onChange:_onCheckedChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_checked:null,_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",checkedText:"Checked:",checkedTooltipText:"Sets default state of checkbox to selected.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_16a2);},setup:function(){this.inherited(arguments);this._checked.set("value",this._designer.get("checked"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._visible.set("value",this._designer.get("visible"));var _16a3=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_16a3&&_16a3["DataItemName"])||"");},_onCheckedChange:function(value){if(this.isSuspended()){return;}this._designer.set("checked",value);},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"url:Sage/MainView/Contact/templates/ContactDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Contact.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccount_Caption || \"Account:\" %}</td>',\r\n                        '<td class=\"DataItem\"><a href=\"Account.aspx?entityid={{%= $.templateData.account_id %}}\">{%= Sage.Utility.htmlEncode($.templateData.accountname) %}</a></td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n] ","Sage/MainView/ReportMgr/SchedulesListPanelConfig":function(){define("Sage/MainView/ReportMgr/SchedulesListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/SchedulesListPanelConfig","Sage/Utility/Jobs","Sage/UI/Columns/DateTime","dojo/_base/lang"],function(_16a4,_16a5,_16a6,_16a7,_16a8,_16a9,_16aa){var _16ab=_16a6("Sage.MainView.ReportMgr.SchedulesListPanelConfig",[_16a4],{_listId:"Schedules",_resourceKind:"triggers",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"ReportSchedulesListContextMenu",constructor:function(){_16aa.mixin(this,_16a7);var _16ac=Sage.Services.getService("JobService");this._service=_16ac.getSchedulingSDataService();this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.list.selectionMode="single";},_getStructure:function(){return [{field:"job",name:this.colJobName,width:"100px",formatter:_16a8.formatJobDescription},{field:"$descriptor",name:this.colNameDescription,width:"100px"},{field:"user",name:this.colNameRunAsUser,width:"100px",formatter:_16a8.formatUser},{field:"startTimeUtc",type:_16a9,name:this.colNameStartTimeUtc,width:"100px"},{field:"endTimeUtc",type:_16a9,name:this.colNameEndTimeUtc,width:"100px"},{field:"priority",name:this.colNamePriority,width:"100px"},{field:"status",name:this.colNameStatus,width:"100px"},{field:"timesTriggered",name:this.colNameExecutionCount,width:"100px"}];},_getSelect:function(){return ["$key","job","user","startTimeUtc","endTimeUtc","repeatCount","repeatInterval","priority","status","timesTriggered"];},_getInclude:function(){var _16ad=["$descriptors,$key"];return _16ad;},_getWhere:function(){return "jobId like 'Saleslogix.Reporting%'";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getSummaryListRequestConfig:function(){var _16ae={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false,sort:this._getSort()};return _16ae;},_getFormatterScope:function(){var _16af=this._getSummaryListRequestConfig();return new _16a5({templateLocation:"MainView/ReportMgr/templates/SchedulesListSummary.html",resetDataManager:true,requestConfiguration:_16af});},_getSummaryDetailRequestConfig:function(){var _16b0={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _16b0;},_getDetailConfig:function(){var _16b1=this._getFormatterScope();return {resourceKind:this._resourceKind,requestConfiguration:this._getSummaryDetailRequestConfig(),templateLocation:"MainView/ReportMgr/Templates/ScheduleDetailSummary.html"};},_getToolBars:function(){var _16b2={items:[]};return _16b2;}});return _16ab;});},"Sage/UI/GridContainer":function(){define("Sage/UI/GridContainer",["dojox/layout/GridContainer","dojo/_base/declare"],function(_16b3,_16b4){var _16b5=_16b4("Sage.UI.GridContainer",_16b3,{_updateColumnsWidth:function(_16b6){if(!_16b6){var _16b7=[];_16b7.push(this._dragManager);_16b7.callee=arguments.callee;this.inherited(_16b7);}else{this.inherited(arguments);}}});return _16b5;});},"Sage/UI/DateTextBox":function(){define("Sage/UI/DateTextBox",["dijit/form/DateTextBox","Sage/Utility","dojo/_base/declare"],function(_16b8,util,_16b9){var _16ba=_16b9("Sage.UI.DateTextBox",_16b8,{_getValueAttr:function(){var d=this.inherited(arguments);return (d)?util.Convert.toJsonStringFromDate(d):d;},_setValueAttr:function(value,_16bb,_16bc){if(Sage.Utility.Convert.isDateString(value)){value=util.Convert.toDateFromString(value);}this.inherited(arguments,[value,_16bb,_16bc]);}});return _16ba;});},"Sage/QuickForms/Design/nls/DateTimePickerControlDesigner":function(){define("Sage/QuickForms/Design/nls/DateTimePickerControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_16bd,lang){var nls={root:{displayNameText:"DateTime Picker"}};return lang.mixin(_16bd,nls);});},"Sage/UI/Controls/nls/HelpMenu":function(){define("Sage/UI/Controls/nls/HelpMenu",["Sage/LanguageList","dojo/_base/lang"],function(_16be,lang){var nls={root:{helpText:"Help",aboutText:"About",webClientHelpText:"Web Client Help",gettingStartedText:"Getting Started Guide",quickReferenceText:"Quick Reference Card"}};return lang.mixin(_16be,nls);});},"Sage/UI/_DetailPanelConfigurationProvider":function(){define("Sage/UI/_DetailPanelConfigurationProvider",["dojo/_base/declare"],function(_16bf){var _16c0=_16bf("Sage.UI._DetailPanelConfigurationProvider",null,{detailModeConfiguration:false,constructor:function(_16c1){dojo.mixin(this,_16c1);},requestDetailModeConfiguration:function(_16c2){if(_16c2.success&&this.detailModeConfiguration){_16c2.success.call(_16c2.scope||this,this.detailModeConfiguration,this);}}});return _16c0;});},"Sage/QuickForms/Design/Editors/nls/LayoutPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/LayoutPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_16c3,lang){var nls={root:{titleText:"Layout",positionText:"Position",sizeText:"Size",rowText:"Row:",rowTooltipText:"Row number of the control.",columnText:"Column:",columnTooltipText:"Column number of the control.",rowSpanText:"Row Span:",rowSpanTooltipText:"Number of cells the control occupies vertically.",columnSpanText:"Column Span:",columnSpanTooltipText:"Number of cells the control occupies horizontally."}};return lang.mixin(_16c3,nls);});},"Sage/TaskPane/nls/UserTasklet":function(){define("Sage/TaskPane/nls/UserTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_16c4,lang){var nls={root:{addToRoleTitle:"Add to Role",resetUsersTitle:"Reset Users",associateContactTitle:"Associate with Contact",disAssociateContactTitle:"Disassociate from Contact",disAssociateDialogTitle:"Disassociate from a Contact",confirmDisAssociate:"Are you sure you want to disassociate the ${0} selected user from an associated contact?",confirmDisAssociateMultiple:"Are you sure you want to disassociate the ${0} selected users from any associated contacts?",associationExistsMessage:"The user you selected is already associated to a contact. To associate this user to a different contact, you must first disassociate the user and contact.",multipleSelectionErrorMessage:"You can only perform this task for 1 user at a time. \n Please select a single user and select the task again.",noSelectionErrorMessage:"You need to select at least one user to disassociate. \n Please select one or more user(s) and select the task again.",singleSelectionErrorMessage:"You need to select a user to disassociate. \n Please select a single user and select the task again."}};return lang.mixin(_16c4,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/NumberParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/NumberParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_16c5,lang){var nls={root:{txtPleaseSpecifyNumberBetween:"Please specify a numeric value between {0} and {1}.",txtPleaseSpecifyNumberLesser:"Please specify a numeric value less than or equal to {0}.",txtPleaseSpecifyNumberGreater:"Please specify a numeric value greater than or equal to {0}.",txtPleaseSpecifyValue:"Please specify a numeric value."}};return lang.mixin(_16c5,nls);});},"Sage/UI/EditCalendarUsers":function(){require({cache:{"url:Sage/UI/templates/EditCalendarUsers.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\"  data-dojo-attach-point=\"dialogNode\" >\r\n        <div class=\"filter-items-search\" style=\"border-bottom: 1px solid #cccccc;\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>     \r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\" style=\"height:238px;\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/UI/EditCalendarUsers",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","dijit/Dialog","dijit/form/Button","Sage/UI/ImageButton","dijit/form/CheckBox","dijit/form/TextBox","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/json","dojo/parser","dojo/text!./templates/EditCalendarUsers.html","dojo/i18n!./nls/EditCalendarUsers","Sage/Utility"],function(_16c6,_16c7,_16c8,_16c9,_16ca,_16cb,_16cc,_16cd,_16ce,_16cf,_16d0,array,lang,_16d1,_16d2,_16d3,json,_16d4,_16d5,_16d6,_16d7){return _16d0("Sage.UI.EditCalendarUsers",[_16c6,_16c7,_16c8],{templateString:_16d5,widgetsInTemplate:true,id:"editFilterItems",store:null,checkBoxes:null,allItems:null,parent:null,formatter:null,favoriteUserIds:[],maxSelectCount:25,selectedCount:0,currentUserId:null,count:1000,loading:false,handles:null,mainHandles:null,safeCheck:true,open:false,checkBoxTemplate:new Simplate(["<input id=\"{%: $.id %}\" ","name=\"{%: $.name %}\" ","data-dojo-type=\"dijit.form.CheckBox\" ","data-dojo-props=\"label: '{%: $.name %}'\" ","{%: $.disabled %}","class=\"editFilterCheckBox\" />","<label for=\"{%: $.id %}\" {%: $.disabledStyle %}>{%: $.itemName %}</label><br />"]),constructor:function(_16d8){this.inherited(arguments);this.checkBoxes=[];this.allItems=[];this.handles=[];this.mainHandles=[];lang.mixin(this,_16d6);this.initialize();},initialize:function(){this.maxUsersErrorMessage=dojo.string.substitute(this.maxUsersErrorMessage,[this.maxSelectCount]);this.currentUserId=Sage.Utility.getClientContextByKey("userID");var _16d9=new Sage.SData.Client.SDataResourceCollectionRequest(_16c9.getSDataService("dynamic"));_16d9.setResourceKind("activityresourceviews");this.store=new _16ca({service:_16c9.getSDataService("dynamic"),resourceKind:"activityresourceviews",select:["$key","ResourceId","Name"],include:[],sort:[{attribute:"Name"}]});},_where:function(_16da){var _16db=Sage.Utility.getClientContextByKey("userID");var _16dc="";if(lang.trim(_16db)==="ADMIN"){_16dc=dojo.string.substitute("(AccessId eq '${0}' OR AccessId eq '${1}' OR AccessId eq 'EVERYONE') AND Type eq 'User'",[_16db,lang.trim(_16db)]);}else{_16dc=dojo.string.substitute("(AccessId eq '${0}' OR AccessId eq 'EVERYONE') AND Type eq 'User'",[lang.trim(_16db)]);}if(_16da){_16dc+=dojo.string.substitute(" AND Name like '%${0}%'",[lang.trim(_16da)]);}return _16dc;},postCreate:function(){this.inherited(arguments);this.mainHandles.push(this.textFind.on("keyDown",lang.hitch(this,this._onFindMouseDown)));},showDialog:function(_16dd,_16de){this.favariteUserCalendarId=_16de;this.favoriteUserIds=_16dd;this.requestData();lang.mixin(this.dialogNode,new _16d3());this.dialogNode.titleNode.innerHTML=this.dialogTitle;this.dialogNode.show();this.open=true;},hideDialog:function(){this.dialogNode.hide();},_onClearClick:function(){this.textFind.set("value","");this._onFindClick();},_onCancelClick:function(){this.textFind.set("value","");this.dialogNode.hide();this.allItems=[];},_onOKClick:function(){this.textFind.set("value","");this._addFavoriteUsers(this.allItems,this._refreshParent,this);this.dialogNode.hide();this.allItems=[];},_refreshParent:function(scope){if(scope.parent){scope.parent.refreshCalendarUsers(scope.allItems);}},_addFavoriteUsers:function(_16df,_16e0,scope){var _16e1=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _16e2=new Sage.SData.Client.SDataServiceOperationRequest(_16e1).setResourceKind("UserCalendarFavorites").setOperationName("UpdateUserCalendarFavorites");var entry={"$name":"UpdateUserCalendarFavorites","request":{"UserCalendarFavoriteId":this.favariteUserCalendarId,"userId":this.currentUserId,"favUserIds":_16df.join()}};_16e2.execute(entry,{success:_16e0(scope),failure:function(){_16e0(scope);},scope:scope||this});},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_16e3){_16e3.remove();});this._destroyContent();this.checkBoxes=null;this.allItems=null;this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.buttonFind.destroy(false);this.textFind.destroy(false);this.dialogNode.destroy(false);this.inherited(arguments);},requestData:function(_16e4){if(!this.loading){this._destroyContent();this.checkBoxes=[];}this.loading=true;var _16e5="";if(_16e4){_16e5=this._where(_16e4);}else{_16e5=this._where();}this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),query:{conditions:_16e5},count:this.count,scope:this});},_onFindMouseDown:function(event){if(event.keyCode===13){this._onFindClick();}},_onFindClick:function(){if(!this.loading){var _16e6=this.textFind.get("value");if(_16e6){this.requestData(_16e6);}else{this.requestData();}}},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_16d2.findWidgets(this.contentNode),function(_16e7){_16e7.destroy(false);});array.forEach(this.handles,function(_16e8){_16e8.remove();});this.handles=[];this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onCheckClick:function(e){var self=this.self,_16e9=this.checkBox,name=_16e9&&_16e9.get("id"),index;if(_16e9.checked){index=array.indexOf(self.allItems,name);if(index==-1){if(self.selectedCount<self.maxSelectCount){self.selectedCount++;self.allItems.push(name);}else{Sage.UI.Dialogs.showError(self.maxUsersErrorMessage);_16e9.set("checked",false);}}}else{index=array.indexOf(self.allItems,name);self.allItems.splice(index,1);self.selectedCount--;}},_onFetchComplete:function(items){var entry,_16ea,id,_16eb=null,_16ec=[],i,len=items.length,name,_16ed,_16ee,_16ef;this.selectedCount=0;for(i=0;i<len;i++){entry=items[i];_16ee="";_16ef="";name=entry.Name||"";id=entry.ResourceId;if(id==this.currentUserId){_16ee="disabled = 'true'";}name=name.replace("'","\\'");_16ec.push(this.checkBoxTemplate.apply({id:id,name:name,itemName:name,disabled:_16ee,disabledStyle:_16ef}));}this.contentNode.innerHTML="";_16eb=_16d1.toDom(_16ec.join(""));_16d1.place(_16eb,this.contentNode,"last");this._finishedLoading();},_finishedLoading:function(){this._parseCheckBoxes();this.setupCheckState();this.loading=false;},_parseCheckBoxes:function(){if(!this.contentNode){return;}var _16f0;_16d4.parse(this.contentNode);_16f0=_16d2.findWidgets(this.contentNode);array.forEach(_16f0,function(_16f1){_16f1.on("click",lang.hitch({checkBox:_16f1,self:this},this._onCheckClick));this.checkBoxes.push(_16f1);},this);},setupCheckState:function(){var _16f2=this.currentUserId;if(!_16d7.isItemInArray(this.favoriteUserIds,_16f2)){this.favoriteUserIds.push(_16f2);}array.forEach(this.checkBoxes,function(_16f3){var _16f4,_16f5,label=_16f3.get("id");_16f4=array.indexOf(this.favoriteUserIds,label);if(_16d7.isItemInArray(this.favoriteUserIds,label)){_16f3.set("checked",true);this.selectedCount++;this.allItems.push(label);}else{_16f3.set("checked",false);}},this);}});});},"Sage/Utility/File/LibraryDocument":function(){define("Sage/Utility/File/LibraryDocument",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility","Sage/Utility/ErrorHandler","Sage/Utility/File/DescriptionsForm","dojo/i18n!./nls/LibraryDocument"],function(_16f6,_16f7,_16f8,_16f9,dLang,_16fa,_16fb,_16fc,_16fd,nls){Sage.namespace("Utility.File.LibraryDocument");Sage.Utility.File.LibraryDocument={_stateInfo:{total:0,processed:0,successCount:0,failedCount:0},_errors:[],_store:false,_target:false,_totalProgress:0,_attachmentTemplate:false,_files:[],_fileCount:0,_uploadAttemptCount:0,_isUploading:false,_descriptionsForm:false,_uploadUrlFmt:"slxdata.ashx/slx/system/-/libraryDirectories('${0}')/documents/file",_uploadUrl:false,createDocuments:function(files,_16fe){this._target=(_16fe&&typeof _16fe!=="undefined")?_16fe:false;var _16ff="Library Document";this._ensureDescriptionsForm();this._descriptionsForm.set("entityDesc",_16ff);this._descriptionsForm.set("files",files);this._descriptionsForm.show();},handleDescriptions:function(files,_1700){var _1701="";var id="";var i;for(i=0;i<_1700.length;i++){_1700[i][_1701]=id;}for(i=0;i<files.length;i++){this._files.push(files[i]);}this.uploadFiles();},_checkState:function(){if(this._stateInfo.processed==this._stateInfo.total){_16f9.closeProgressBar();if(this._errors.length>0){var crlf="<br>";var _1702=[];_1702.push(_16fa.substitute(this.uploadError,[this._stateInfo.failedCount,this._stateInfo.successCount]));_1702.push(crlf);var self=this;dojo.forEach(this._errors,function(err,idx){if(err&&typeof err==="object"&&err.hasOwnProperty("message")){_1702.push(_16fa.substitute(self.failureNumber,[(idx+1)])+err.message);if(idx!==(self._errors.length-1)){_1702.push(crlf);}}});this._errors=[];Sage.UI.Dialogs.showError(_1702.join(crlf));}dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);this._resetCounts();}},_resetCounts:function(){this._fileCount=0;this._uploadAttemptCount=0;this._isUploading=false;this._totalProgress=0;this._stateInfo.processed=0;this._stateInfo.total=0;this._stateInfo.failedCount=0;this._stateInfo.successCount=0;},_failAdd:function(xhr){var _1703={url:this._uploadUrl};var _1704=_16fc.getHttpStatusInfo(xhr,_1703);if(_1704&&typeof _1704==="object"){this._errors.push(_1704);}else{this._errors.push({message:this.unknownError});}this._uploadAttemptCount=this._uploadAttemptCount+1;this._updateProgress((this._fileCount<1)?100:(this._uploadAttemptCount/this._fileCount)*100);this._stateInfo.processed++;this._stateInfo.failedCount++;this._checkState();},_ensureDescriptionsForm:function(){if(!this._descriptionsForm){this._descriptionsForm=new _16fd({entityDesc:"",fileType:Sage.Utility.File.fileType.ftLibraryDocs,files:this._files||[]});dojo.connect(this._descriptionsForm,"onDescriptionsEntered",this,"handleDescriptions");}},_successUpload:function(_1705){this._uploadAttemptCount=this._uploadAttemptCount+1;this._updateProgress((this._fileCount<1)?100:(this._uploadAttemptCount/this._fileCount)*100);this._stateInfo.processed++;this._stateInfo.successCount++;this._checkState();},_updateProgress:function(_1706){var pct=this._totalProgress;if(_1706&&_1706.lengthComputable){var _1707=(_1706.loaded/_1706.total)*100;pct+=Math.round(_1707/this._fileCount);}else{if(_1706){pct=_1706;}}this._totalProgress=pct;if(pct<99){_16f9.showProgressBar({pct:pct,title:this.percentComplete});}},uploadFiles:function(_1708){this._isUploading=true;this._fileCount=this._files.length;if(_1708&&!this._attachmentTemplate){this._attachmentTemplate=_1708;}var _1709="";if(Sage.Library&&Sage.Library.FileHandler){_1709=Sage.Library.FileHandler.findDirectoryId(this._target);}var sUrl=_16fa.substitute(this._uploadUrlFmt,[_1709]);this._uploadUrl=sUrl;this._stateInfo.processed=0;this._stateInfo.total=this._files.length;while(this._files.length>0){var file=this._files.pop();Sage.Utility.File.uploadFile(file,this._uploadUrl,this._updateProgress,this._successUpload,this._failAdd,this);}}};dLang.mixin(Sage.Utility.File.LibraryDocument,nls);return Sage.Utility.File.LibraryDocument;});},"Sage/UI/Controls/DropDownSelectUser":function(){require({cache:{"url:Sage/UI/Controls/templates/DropDownSelectUser.html":"<div>\r\n    <select data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onBlur: _onBlur\">\r\n    </select>\r\n</div>\r\n"}});define("Sage/UI/Controls/DropDownSelectUser",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/ComboBox","dojo/data/ItemFileReadStore","Sage/Data/BaseSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/ComboBox","dojo/text!./templates/DropDownSelectUser.html","dojo/_base/declare"],function(_170a,_170b,_170c,_170d,_170e,_170f,_1710,_1711,_1712,_1713){var _1714=_1713("Sage.UI.Controls.DropDownSelectUser",[_170c,_170a,_170b],{dataStore:null,storeOptions:null,storeData:null,templateString:_1712,widgetsInTemplate:true,constructor:function(_1715){this.storeOptions=_1715.storeOptions||{include:["UserInfo"],select:["Id","UserName","UserInfo/FirstName","UserInfo/LastName","Type"],sort:[{attribute:"UserInfo.LastName",descending:false}],service:_1710.getSDataService("dynamic",false,true,true),resourceKind:"users"};this.dataStore=new _170f(this.storeOptions);this.inherited(arguments);},postCreate:function(){var def=new dojo.Deferred();this.getUserData(def);def.then(dojo.hitch(this,function(data){if(!data){return;}var items=[];var count=data.length;var item=null;for(var i=0;i<count;i++){item=data[i];if(item.Type!=="Template"){items.push({id:item.$key,text:[item.UserInfo.FirstName,item.UserInfo.LastName].join(" ")});}}this.storeData={identifier:"id",label:"text",items:items};var _1716=new _170e({data:this.storeData});this.comboBox.set("store",_1716);this.comboBox.set("searchAttr","text");}),function(e){console.error(e);});this.inherited(arguments);},getUserData:function(_1717){this.dataStore.fetch({onComplete:function(data){_1717.callback(data);},onError:function(e){_1717.errback(e);},scope:this});},_getValueAttr:function(){return this.comboBox.get("value");}});return _1714;});},"Sage/QuickForms/Design/Editors/PickListAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/PickListAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/string","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dojo/data/ItemFileWriteStore","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/PickListAdvancedPropertyEditor"],function(_1718,lang,_1719,_171a,_171b,_171c,_171d,_171e,_171f,_1720,_1721,_1722,_1723){return _1718("Sage.QuickForms.Design.Editors.PickListAdvancedPropertyEditor",[_171a,_1721,_1720],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.displayModeTooltipText %}\">","<label>{%= $.displayModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_displayMode\" data-dojo-attach-event=\"onChange:_onDisplayModeChange\">","{% for (var mode in $.displayModeTypeText) { %}","<span value=\"{%= mode %}\">{%= $.displayModeTypeText[mode] %}</span>","{% } %}","</div>","</div>","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.allowMultiplesTooltipText %}\">","<label>{%= $.allowMultiplesText %}</label>","<div data-dojo-attach-point=\"_allowMultiples\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onAllowMultiplesChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.canEditTextTooltipText %}\">","<label>{%= $.canEditTextText %}</label>","<div data-dojo-attach-point=\"_canEditText\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onCanEditTextChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.mustExistInListTooltipText %}\">","<label>{%= $.mustExistInListText %}</label>","<div data-dojo-attach-point=\"_mustExistInList\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onMustExistInListChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_maxLength\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.pickListNameTooltipText %}\">","<label>{%= $.pickListNameText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_pickListName\" data-dojo-attach-event=\"onChange:_onPickListNameChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.storageModeTooltipText %}\">","<label>{%= $.storageModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_storageMode\" data-dojo-attach-event=\"onChange:_onStorageModeChange\" data-dojo-props=\"disabled:true\">","{% for (var mode in $.storageModeTypeText) { %}","<span value=\"{%= mode %}\">{%= $.storageModeTypeText[mode] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_allowMultiples:null,_canEditText:null,_controlType:null,_controlId:null,_controlLabelPlacement:null,_defaultDataBinding:null,_displayMode:null,_enabled:null,_maxLength:null,_mustExistInList:null,_pickListName:null,_required:null,_storageMode:null,_visible:null,pickListRequest:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",allowMultiplesText:"Allow Multiple Selections:",allowMultiplesTooltipText:"Allows user to select more than one item.",canEditTextText:"Can Edit Text:",canEditTextTooltipText:"Allows user to type value.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",mustExistInListText:"Item Must Exist:",mustExistInListTooltipText:"Requires typed value to be on list.",pickListNameText:"Pick List Name:",pickListNameTooltipText:"Name of the list of values the user can select from when entering data.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",storageModeText:"Storage Mode:",storageModeTooltipText:"How the value is stored: Text, Id, or Code.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},displayModeTypeText:{"AsControl":"As Control","AsText":"As Text","AsHyperlink":"As Hyperlink"},storageModeTypeText:{"Text":"Text","Id":"ID","Code":"Code"},pickListRequestErrorText:"Unable to retrieve picklists from server.",constructor:function(){lang.mixin(this,_1723);},setup:function(){this.inherited(arguments);this._allowMultiples.set("value",this._designer.get("allowMultiples"));this._canEditText.set("value",this._designer.get("canEditText"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._maxLength.set("value",this._designer.get("maxLength"));this._mustExistInList.set("value",this._designer.get("mustExistInList"));this._pickListName.set("value",this._designer.get("pickListName"));this._required.set("value",this._designer.get("required"));this._storageMode.set("value",this._designer.get("storageMode"));this._visible.set("value",this._designer.get("visible"));var _1724=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_1724&&_1724["DataItemName"])||"");},destroy:function(){if(this.pickListRequest){this.pickListRequest.abort();}this.inherited(arguments);},createPickListRequest:function(){var _1725=new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setCount(300).setStartIndex(0);_1725.setResourceKind("picklists");_1725.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.OrderBy,"name asc");return _1725;},requestPickListNames:function(){var _1726=this.createPickListRequest();if(_1726){this.pickListRequest=_1726.read({success:this.onRequestPickListNamesSuccess,failure:this.onRequestPickListNamesFailure,scope:this});}},onRequestPickListNamesSuccess:function(feed){this.pickListRequest=null;this.processPickListFeed(feed);},onRequestPickListNamesFailure:function(_1727,o){this.pickListRequest=null;alert(_1719.substitute(this.pickListRequestErrorText,[_1727,o]));},processPickListFeed:function(feed){if(!feed["$resources"]){return;}var _1728=new _171f({data:{identifier:"$key",label:"name",items:[]}});for(var i=0;i<feed["$resources"].length;i++){var entry=feed["$resources"][i];if(entry.name){_1728.newItem(entry);}}this._pickListName.set({store:_1728,disabled:false});},_onAllowMultiplesChange:function(value){if(this.isSuspended()){return;}this._designer.set("allowMultiples",value);},_onCanEditTextChange:function(value){if(this.isSuspended()){return;}this._designer.set("canEditText",value);},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onDefaultDataBindingChange:function(value){},_onDisplayModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("displayMode",value);},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onMaxLengthChange:function(value){if(this.isSuspended()){return;}this._designer.set("maxLength",value);},_onMustExistInListChange:function(value){if(this.isSuspended()){return;}this._designer.set("mustExistInList",value);},_onPickListNameChange:function(value){if(this.isSuspended()){return;}this._designer.set("pickListName",value);var _1729=this._pickListName.get("item");this._designer.set("pickListId",_1729["$key"][0]);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onStorageModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("storageMode",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectNumberParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint=\"divMultipleValues\" style=\"padding-top: 5px;\">\r\n            <center>\r\n                <table cellspacing=\"10\">\r\n                    <tr>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msAvailableValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAdd\" dojoAttachEvent=\"onClick:_cmdAdd_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdRemove\" dojoAttachEvent=\"onClick:_cmdRemove_OnClick\" >{%= Sage.Utility.htmlEncode(\"<\") %}</div>\r\n                        </td>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msSelectedValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px; padding-left: 10px\">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <div style=\"float:left\"><input type=\"text\" dojoType=\"Sage.UI.Controls.Numeric\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" /></div>\r\n            &nbsp;<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>","Sage/TaskPane/ActivityTaskContents":function(){define("Sage/TaskPane/ActivityTaskContents",["dijit/_Widget","Sage/_Templated","dojo/_base/declare"],function(_172a,_172b,_172c){var _172d=_172c("Sage.TaskPane.ActivityTaskContents",[_172a,_172b],{widgetsInTemplate:true,templateLocation:"",templateString:"",widgetTemplate:"",constructor:function(_172e){this.widgetTemplate=_172e.taskTemplate;dojo.subscribe("/sage/ui/list/selectionChanged",function(_172f){var _1730=dojo.byId("selectionCount");if(_1730){_1730.innerHTML=_172f.getTotalSelectionCount();}});},_clearSelection:function(e){var _1731=dijit.byId("list");if(_1731){_1731._listGrid.selection.clear();}}});return _172d;});},"Sage/UI/Controls/Phone":function(){define("Sage/UI/Controls/Phone",["dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","dojo/_base/declare"],function(_1732,_1733,_1734,_1735){var _1736=_1735("Sage.UI.Controls.Phone",_1734,{slxchangehook:"true",_setslxchangehookAttr:{node:"focusNode",type:"attribute",attribute:"slxchangehook"},shouldPublishMarkDirty:true,autoPostBack:false,postCreate:function(){this.inherited(arguments);this.unformattedValue=this.unformatNumber(this.get("value"));},unformattedValue:"",formatPhoneChange:function(_1737){var _1738=this.formatNumberForDisplay(_1737);this.unformattedValue=this.unformatNumber(_1737);this.set("value",_1738);},formatters:[{test:/^\+.*/,format:"{0}"},{test:/^(\d{3})(\d{3,4})$/,format:"{3}-{4}"},{test:/^(\d{3})(\d{3})(\d{2,4})$/,format:"({3}) {4}-{5}"},{test:/^(\d{3})(\d{3})(\d{2,4})([^0-9]{1,}.*)$/,format:"({3}) {4}-{5}{6}"},{test:/^(\d{11,})(.*)$/,format:"{1}"}],unformatNumber:function(_1739){var n=_1739;n=n.replace("(","");n=n.replace(")","");n=n.replace(" ","");n=n.replace("-","");return n;},formatNumberForDisplay:function(_173a,clean){var n=_173a;if(typeof clean==="undefined"){clean=n;}for(var i=0;i<this.formatters.length;i++){var _173b=this.formatters[i],match;if((match=_173b.test.exec(clean))){return String.format.apply(String,[_173b.format,n,clean].concat(match));}}return n;},onChange:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.formatPhoneChange(e);}});return _1736;});},"Sage/UI/Alarms/nls/ActivityAlarm":function(){define("Sage/UI/Alarms/nls/ActivityAlarm",["Sage/LanguageList","dojo/_base/lang"],function(_173c,lang){var nls={root:{noSubjectText:"No Subject",contactText:"Contact",accountText:"Account",opportunityText:"Opportunity",leadText:"Lead",companyText:"Company",recurringText:"Recurring",ticketText:"Ticket",leaderText:"Leader",locationText:"Location"}};return lang.mixin(_173c,nls);});},"url:Sage/Utility/File/templates/FallbackFilePicker_LibraryDoc.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.addLibraryFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                 '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                 '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"255\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/TaskPane/ActivityTaskPaneActions":function(){define("Sage/TaskPane/ActivityTaskPaneActions",["dojo/parser","dojo/ready"],function(_173d,ready){Sage.namespace("TaskPane.ActivityTaskPaneActions");Sage.TaskPane.ActivityTaskPaneActions={scheduleMeeting:function(){this._getActivityService().scheduleActivity({type:"Meeting"});},scheduleToDo:function(){this._getActivityService().scheduleActivity({type:"ToDo"});},schedulePhoneCall:function(){this._getActivityService().scheduleActivity({type:"PhoneCall"});},schedulePerosnalActivity:function(){this._getActivityService().scheduleActivity({type:"Personal"});},completeActivity:function(){this._getActivityService().completeActivity();},deleteActivity:function(){this._getActivityService().deleteActivity();},acceptConfirmation:function(){this._getActivityService().acceptConfirmation();},declineConfirmation:function(){this._getActivityService().declineConfirmation();},deleteConfirmation:function(){this._getActivityService().deleteConfirmation();},scheduleEvent:function(){this._getActivityService().scheduleEvent();},deleteEvent:function(){this._getActivityService().deleteEvent();},scheduleLitRequest:function(){this._activityService.scheduleLitRequest();},deleteLitRequest:function(){this._getActivityService().deleteLitRequest();},_getActivityService:function(){return Sage.Services.getService("ActivityService");}};return Sage.TaskPane.ActivityTaskPaneActions;});},"Sage/UI/Alarms/JobNotificationPopup":function(){define("Sage/UI/Alarms/JobNotificationPopup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","Sage/UI/EditableGrid","Sage/Utility","dojo/string","dojo/i18n!./nls/JobNotificationPopup","dojo/_base/declare","Sage/Utility/Jobs"],function(_173e,_173f,_1740,_1741,_1742,_1743,_1744,_1745,_1746){var _1747=_1745("Sage.UI.Alarms.JobNotificationPopup",[_1740,_173e,_173f],{_notificationCount:-1,_dataRequested:false,widgetsInTemplate:true,isOpen:false,grid:"",templateString:["<div class=\"alarm-popup notification-popup\">","<div class=\"alarm-title notification-title\">","<span class=\"alarm-main-title\">&nbsp;${notificationPopupStrings.title}</span>","<span class=\"alarm-title-tools notification-title-tools\">","<span dojoType=\"Sage.UI.ImageButton\" imageClass=\"icon_Help_16x16\" title=\"${notificationPopupStrings.helpText}\" dojoAttachEvent=\"onClick:_showHelp\" ></span>","</span>","</div>","<div data-dojo-type=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"alarm-body\" >","<div data-dojo-type=\"dijit.layout.BorderContainer\" id=\"jobNotifications_Grid\" dojoAttachPoint=\"jobNotifications_Grid\" style=\"width:100%;height:100%;\"></div>","</div>","</div>"].join(""),constructor:function(){this.notificationPopupStrings=_1744;var _1748=Sage.Services.getService("JobService");var _1749=_1748.getSchedulingSDataService();this._service=_1749;},onOpen:function(){this.isOpen=true;this._panelContainer.resize();if(!this._dataRequested){this._loadNotifications();}else{this.grid.refresh();}},_onNotificationRequestComplete:function(){var count=this.context.query.scope.rowCount;},_loadNotifications:function(){var _174a={readOnly:true,columns:this._getColumnLayout(),tools:[],storeOptions:{service:this._service,resourceKind:"executions",include:["$descriptors"],select:["$key","job","trigger","progress","elapsed","status","result"],sort:[{attribute:"status",descending:true}],onComplete:this._onNotificationRequestComplete},contextualCondition:function(){},id:this.id+"executions",tabId:"jobExecutions",gridNodeId:this.jobNotifications_Grid.id,singleClickEdit:true,dblClickAction:this._onDblClick,rowsPerPage:20};var grid=new _1741(_174a);var _174b=dijit.byId(grid.gridNodeId);_174b.addChild(grid);window.setTimeout(function(){grid.startup();_174b.resize();},1);this.grid=grid;grid.startup();this._dataRequested=true;},_onDblClick:function(){},_getColumnLayout:function(){function _174c(item,_174d,cell){var _174e=cell.grid.store.getValue(item,"result");if(!_174e){return this.defaultValue;}var parts=_174e.split("://");if(parts.length===1){return this.defaultValue;}return _1743.substitute("<a href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${1}');\" title=\"${0}\">${0}</a>",[item.trigger?item.trigger.$descriptor:"",parts[1]]);};function _174f(_1750){if(!_1750||typeof _1750!=="number"){_1750=0;}var _1751=new dijit.ProgressBar({indeterminate:false,maximum:100,value:_1750});return _1751;};var _1752=[{width:10,field:"$key",name:" ",sortable:false,hidden:true},{width:10,field:"job",name:this.notificationPopupStrings.colNameJobName||"Type",sortable:true,formatter:_1746.formatJobDescription},{width:8,field:"progress",name:this.notificationPopupStrings.colNameProgress||"Progress",formatter:_174f,sortable:false},{width:6,field:"status",name:this.notificationPopupStrings.colNameStatus||"Status",sortable:true},{width:24,field:"_item",name:this.notificationPopupStrings.colExecutionResult||"Result",formatter:_174c,sortable:false}];return _1752;},onClose:function(){this.isOpen=false;},startup:function(){this.inherited(arguments);},_showHelp:function(){_1742.openHelp("jobNotifications");}});return _1747;});},"Sage/MainView/Opportunity/nls/OpportunityStatistics":function(){define("Sage/MainView/Opportunity/nls/OpportunityStatistics",["Sage/LanguageList","dojo/_base/lang"],function(_1753,lang){var nls={root:{opportunityStatistics_Caption:"Opportunity Statistics",loadingMessge:"Loading...",opportunityCount:"# of Opportunities",salesPotentialTotal:"Sales Potential Total (Average)",weightedPotentialTotal:"Weighted Potential Total (Average)",averageCloseProbability:"Average Close Probability",actualAmountTotal:"Actual Amount Total (Average)",averageDaysOpen:"Average # of Days Open",rangeEstClose:"Range of Est. Close (Min - Max)",btnClose_Caption:"Close",errorRequestingStatistics:"Sorry an error occurred attempting to request opportunity statistics."}};return lang.mixin(_1753,nls);});},"Sage/UI/Filters/GroupFilterConfigurationProvider":function(){define("Sage/UI/Filters/GroupFilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Data/GroupLayoutSingleton","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/string","Sage/Utility/Filters","dojo/json"],function(_1754,_1755,_1756,_1757,_1758,lang,_1759,_175a,_175b,json){var _175c=_1758("Sage.UI.Filters.GroupFilterConfigurationProvider",[_1755,_1754],{FILTER_COUNT:150,_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_175d){this.inherited(arguments);this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(entry,_175e){var _175f=entry&&entry.layout,_1760=[],_1761=[],i=0,_1762=this.groupContextService&&this.groupContextService.getContext(),_1763=_1762&&_1762.CurrentGroupID,_1764=_1762&&_1762.CurrentEntity,_1765=this.systemDataService,_1766=this.metaDataService,_1767,where;for(i=0;i<_175f.length;i++){_1760.push("\""+_175f[i].propertyPath+"\"");_1761.push("\""+_175f[i].caption+"\"");}_1767=new Sage.SData.Client.SDataResourcePropertyRequest(_1766);_1767.setResourceKind("entities");_1767.setResourceSelector("\""+_1764+"\"");_1767.setResourceProperty("filters");_1767.setQueryArg("count",this.FILTER_COUNT);if(_1764==="User"){_1761.push("\"Role\"");_1761.push("\"Team\"");}where=_175a.substitute("filterType ne \"analyticsMetric\" and (propertyName in (${0}) or displayName in (${1}))",[_1760.join(","),_1761.join(",")]);_1767.setQueryArg("where",where);this._configuration.store=new _1757({executeReadWith:"readFeed",request:_1767});this._configuration.createStoreForFilter=function(_1768){var _1769=new Sage.SData.Client.SDataResourcePropertyRequest(_1765);_1769.setResourceKind("groups");_1769.setResourceSelector("\""+_1763+"\"");_1769.setResourceProperty("$queries/executeMetric");_1769.setQueryArg("_filterName",_1768.filterName);_1769.setQueryArg("orderby","displayName");return _1768&&_1768.filterName?new _1757({executeReadWith:"readFeed",request:_1769}):null;};this._configuration.getFilterManager=function(){var _176a=_1759.byId("list");return _176a&&_176a.get("filterManager");};this._configuration.groupId=_1763;},requestConfiguration:function(_176b){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;var _176c=new _1756(),group=this.getCurrentGroup(),_176d=lang.hitch(this,this._onRequestConfigurationSuccess,_176b||{}),_176e=lang.hitch(this,this._onRequestConfigurationFailure,_176b||{});_176c.getGroupLayout(this.formatPredicate(group),_176d,_176e,group.$key);this._getHiddenFilters(_176b);},formatPredicate:function(group){return "'"+group.$key+"'";},getCurrentGroup:function(){var _176f=this.groupContextService&&this.groupContextService.getContext(),_1770=_176f&&_176f.CurrentFamily,name=_176f&&_176f.CurrentName,id=_176f&&_176f.CurrentGroupID;return {name:name,family:_1770,$key:id};},_onRequestConfigurationSuccess:function(_1771,entry){this._createConfiguration(entry,_1771);this._hasLayoutConfiguration=true;this._callOptionsSuccess(_1771);},_onRequestConfigurationFailure:function(_1772,_1773){if(_1772.failure){_1772.failure.call(_1772.scope||this,_1773,_1772,this);}},_getHiddenFilters:function(_1774){var key=this._getHiddenFiltersKey();if(key){_175b.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_1774||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_175b.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_1775,_1776){if(_1776&&_1776.response&&_1776.response.value){this._configuration._hiddenFilters=json.parse(_1776.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_1775);},_callOptionsSuccess:function(_1777){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_1777.success){_1777.success.call(_1777.scope||this,this._configuration,_1777,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _175c;});},"Sage/UI/NavBarPane":function(){define("Sage/UI/NavBarPane",["dijit/layout/_LayoutWidget","Sage/_Templated","Sage/UI/MenuItem","dijit/Menu","dojo/_base/declare"],function(_1778,_1779,_177a,_177b,_177c){var _177d=_177c("Sage.UI.NavBarPane",[_1778,_1779],{textImageRelationMap:{0:new Simplate(["<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>","<br />","<span>{%: $.text %}</span>"]),1:new Simplate(["<span>{%: $.text %}</span>","<br />","<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>"]),2:new Simplate(["<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>","<span>{%: $.text %}</span>"]),3:new Simplate(["<span>{%: $.text %}</span>","<div class=\"Global_Images icon32x32 {%: $.imageClass %}\"></div>"]),4:new Simplate(["<img src=\"{%: $.img %}\" alt=\"\" />","<span>{%: $.text %}</span>"]),},attributeMap:{"listContent":{node:"listNode",type:"innerHTML"}},widgetTemplate:new Simplate(["<div class=\"nav-bar-pane\">","<ul dojoAttachPoint=\"listNode,containerNode\"></ul>","</div>"]),itemTemplate:new Simplate(["<li id=\"{%: $.id %}\" class=\"{%: $.className %}\" aria-haspopup=\"{%: $.haspopup %}\">","<a href=\"{%: $.href %}\">","{%= $.innerTemplate.apply($) %}","</a>","</li>"]),title:null,items:null,_requiredContextMenus:null,_contextMenus:null,constructor:function(){this._requiredContextMenus=[];this._contextMenus=[];},postCreate:function(){this.inherited(arguments);this._processItemCollection(this.items);},startup:function(){this.inherited(arguments);this._processContextMenus(this._requiredContextMenus);},destroy:function(_177e){this.inherited(arguments);dojo.forEach(this._contextMenus,function(item){item.destroy(_177e);});},_processItemCollection:function(items){var _177f=[];dojo.forEach(items,function(item){item.id=item.id||Sage.guid("NavItem");if(window.location.href.indexOf(item.href)!==-1){item.className="nav-bar-item-current-page";}else{item.className="nav-bar-item";}if(item.contextmenu){this._requiredContextMenus.push({id:item.id,name:item.contextmenu});item.haspopup="true";}else{item.haspopup="false";}if(item.imageClass===""){item.innerTemplate=this.textImageRelationMap[4];}else{item.innerTemplate=this.textImageRelationMap[item.textImageRelation];}_177f.push(this.itemTemplate.apply(item,this));},this);this.set("listContent",_177f.join(""));},_processContextMenus:function(menus){var i,j,menu,_1780,item,_1781,items;for(i=0;i<menus.length;i++){menu=menus[i];_1781=Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus[menu.name];items=_1781&&_1781.items;if(items&&items.length>0){_1780=new _177b({targetNodeIds:[menu.id]});for(j=0;j<items.length;j++){item=items[j];_1780.addChild(new _177a({id:_1780.id+"_"+item.id,label:item.text||"...",title:item.tooltip||"...",img:item.img||this._blankGif,ref:item.href,onClick:this._onContextMenuClick}));}this._contextMenus.push(_1780);}}},_onContextMenuClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});return _177d;});},"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectStringParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint=\"divMultipleValues\" style=\"padding-top: 5px;\">\r\n            <center>\r\n                <table cellspacing=\"10\">\r\n                    <tr>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msAvailableValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAdd\" dojoAttachEvent=\"onClick:_cmdAdd_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdRemove\" dojoAttachEvent=\"onClick:_cmdRemove_OnClick\" >{%= Sage.Utility.htmlEncode(\"<\") %}</div>\r\n                        </td>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msSelectedValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px; padding-left: 10px\">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" />\r\n            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>","Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1782,lang){var nls={root:{dlgCrystalReportConditionDetails_Title:"Add/Edit Condition",cmdOK_Caption:"OK",cmdCancel_Caption:"Cancel",cmbConditionType_Caption:"Match By",txtInvalidParameterTitle:"Invalid Parameter",txtInvalidParameterMessage:"Invalid Parameter: ${0}",lkpUser_Caption:"User",lkpGroup_Caption:"Group",txtSelectUser:"Select User",chkCurrentUser_Caption:"Current User",txtName:"Name",txtOK:"OK",txtSelectGroup:"Select Group",cmbDateRange_Caption:"Date Range",cmbDateRange_SpecificDates_Caption:"Specific Dates",cmbDateRange_ThisWeek_Caption:"This Week",cmbDateRange_ThisMonth_Caption:"This Month",cmbDateRange_ThisQuarter_Caption:"This Quarter",cmbDateRange_ThisYear_Caption:"This Year",cmbDateRange_LastWeek_Caption:"Last Week",cmbDateRange_LastMonth_Caption:"Last Month",cmbDateRange_LastQuarter_Caption:"Last Quarter",cmbDateRange_LastYear_Caption:"Last Year",cmbDateRange_MonthToDate_Caption:"Month to Date",cmbDateRange_QuarterToDate_Caption:"Quarter to Date",cmbDateRange_YearToDate_Caption:"Year to Date",dtFromDate_Caption:"From",dtToDate_Caption:"To",cmbTable_Caption:"Table",cmbField_Caption:"Field",cmbOperator_Caption:"Operator",txtValue_Caption:"Value",txtNumericValueFrom_Caption:"From",txtNumericValueTo_Caption:"To"}};return lang.mixin(_1782,nls);});},"Sage/UI/URL":function(){define("Sage/UI/URL",["dijit/_Widget","Sage/_Templated","dijit/form/ValidationTextBox","dojox/validate/regexp","Sage/UI/Controls/TextBox","dojo/_base/declare","Sage/Utility"],function(_1783,_1784,_1785,_1786,_1787,_1788,_1789){dojo.mixin(_1785.prototype.attributeMap,{slxchangehook:"focusNode"});var _178a=_1788("Sage.UI.URL",[_1783,_1784],{widgetTemplate:new Simplate(["<div class=\"urlcontrol\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","<input data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" ","data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\"","dojoAttachPoint=\"focusNode\" type=\"text\" style=\"\" ","hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} ","disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} ","readonly=\"readonly\" ","{% } %}","{% if ($.disabled !== \"disabled\") { %} "," dojoAttachEvent=\"onChange:formatURLChange, onDblClick:launchWebSite, regExpGen:regExpGen\" ","{% } %}"," tabindex=\"{%= $.tabIndex %}\" ","value=\"{%= $.url %}\" required=\"{%= $.required %}\" ","id=\"{%= $.id %}_urlText\" maxlength=\"{%= $.maxLength %}\" > ","{% if ($.buttonVisible && $.disabled !== \"disabled\") { %}","<img alt=\"{%= $.buttonToolTip %}\" data-dojo-attach-event=\"ondijitclick: launchWebSite\"   "," tabindex=\"{%= $.tabIndex %}\" alt=\"{%= $.buttonToolTip %}\" ","src=\"{%= $.buttonImageUrl %}\" title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}_urlButton\"> ","{% } %}","</div>"]),name:"",autoPostBack:false,readonly:"",disabled:"",hotKey:"",buttonVisible:true,maxLength:128,buttonImageUrl:"",buttonToolTip:"WWW",required:false,tabIndex:0,url:"",webAddressId:"",constructor:function(_178b){_178b.id=_178b.webAddressId;},postCreate:function(){this.formatURL();this.inherited(arguments);},widgetsInTemplate:true,attributeMap:{slxchangehook:{node:"focusNode",type:"attribute",attribute:"slxchangehook"}},regExpGen:function(){return _1789.regexp.invalidInput;},formatURL:function(){dojo.style(this.focusNode.focusNode,"color","#000099");dojo.style(this.focusNode.focusNode,"font-family","Tahoma");},formatURLChange:function(){if(this.url!==this.focusNode.value){this.url=this.focusNode.value;}},launchWebSite:function(){var url=this.url;if(url.length<1){return;}var _178c="http://";var _178d="https://";var winH;if(url.indexOf(_178c)===-1&&url.indexOf(_178d)===-1){url=_178c+url;}winH=window.open(url,"",["dependent=no","directories=yes","location=yes","menubar=yes","resizeable=yes","pageXOffset=0px","pageYOffset=0px","scrollbars=yes","status=yes","titlebar=yes","toolbar=yes"].join(","));}});return _178a;});},"Sage/MainView/JobMgr/JobDefinitionsListPanelConfig":function(){define("Sage/MainView/JobMgr/JobDefinitionsListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/JobDefinitionsListPanelConfig"],function(_178e,_178f,_1790,_1791){var _1792=_1790("Sage.MainView.JobMgr.JobDefinitionsListPanelConfig",[_178e],{constructor:function(){this._nlsResources=_1791;this._listId="JobDefinitions";this._resourceKind="jobs";this.entityName="Job";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="JobDefinitionsListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){var _1793=this._nlsResources.colNameJobName||"Job Name";var _1794=this._nlsResources.colNameDescription||"Description";var _1795=this._nlsResources.colNameType||"Type";var _1796=[{field:"$descriptor",name:_1793,width:"100px"},{field:"description",name:_1794,width:"100px"},{field:"type",name:_1795,width:"50px"}];return _1796;},_getSelect:function(){var _1797=["$key","description","type"];return _1797;},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"description"}];return sort;},_getInclude:function(){var _1798=[];return _1798;},_getSummaryListRequestConfig:function(){var _1799={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description"],include:[],useBatchRequest:false};return _1799;},_getFormatterScope:function(){var _179a=this._getSummaryListRequestConfig();var _179b=new _178f({templateLocation:"MainView/JobMgr/templates/JobDefinitionsListSummary.html",resetDataManager:true,requestConfiguration:_179a});return _179b;},_getSummaryDetailRequestConfig:function(){var _179c={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description"],include:["$descriptors"],useBatchRequest:false};return _179c;},_getDetailConfig:function(){var _179d=this._getFormatterScope();var _179e=this._getSummaryDetailRequestConfig();var _179f={resourceKind:this._resourceKind,requestConfiguration:_179e,templateLocation:"MainView/JobMgr/Templates/JobDefinitionDetailSummary.html"};return _179f;},_getToolBars:function(){var _17a0={items:[]};return _17a0;}});return _1792;});},"Sage/UI/Grid/Plugins/ShowHideColumns":function(){define("Sage/UI/Grid/Plugins/ShowHideColumns",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojox/grid/enhanced/_Plugin","dojox/grid/EnhancedGrid","dijit/Menu","dijit/CheckedMenuItem","dojo/on","dojo/topic"],function(_17a1,array,lang,_17a2,_17a3,Menu,_17a4,on,topic){var _17a5=_17a1("Sage.UI.Grid.Plugins.ShowHideColumns",_17a2,{name:"showHideColumns",privates:{},hideQueue:null,constructor:function(){this.hideQueue=[];this.inherited(arguments);},onStartUp:function(){var menu=new Menu(),_17a6;menu.startup();on(menu,"open",lang.hitch(this,function(){if(this.grid.headerMenu){this.grid.headerMenu.destroyDescendants();}array.forEach(this.grid.layout.cells,function(cell){_17a6=new _17a4({label:cell.name||"",checked:!cell.hidden});_17a6._onClick=lang.hitch({plugin:this,item:_17a6,cell:cell},function(e){this.plugin.hideQueue.push(this.cell);this.item.set("checked",!this.item.checked);e.cancelBubble=true;});this.grid.headerMenu.addChild(_17a6);},this);}));on(menu,"blur",lang.hitch(this,function(){array.forEach(this.hideQueue,function(item){this.grid.layout.setColumnVisibility(item.index,item.hidden);topic.publish("/sage/ui/grid/columnToggle/"+this.grid.id,item);},this);topic.publish("/sage/ui/grid/columnsToggled/"+this.grid.id);this.hideQueue=[];}));this.grid.set("headerMenu",menu);}});_17a3.registerPlugin(_17a5);return _17a5;});},"Sage/MainView/IntegrationContract/nls/AdvancedSearchOptions":function(){define("Sage/MainView/IntegrationContract/nls/AdvancedSearchOptions",["Sage/LanguageList","dojo/_base/lang"],function(_17a7,lang){var nls={root:{dialogCaption:"Link to Accounting",searchOptionsHeader:"Search for Matches in ",searchOptionsText:"The following criteria was used in the previous search. Modify the criteria for a new search. Click OK to begin searching.",propertyText:"Property",operatorText:"Operator",searchText:"Search Value",loadingText:"loading...",loadingDisplay:"Searching for results...",hideImgAltText:"Remove Condition",addImgAltText:"Add Condition",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_17a7,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility",["dojo/date/locale","dojo/i18n!./nls/CrystalReportsUtility","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility"],function(_17a8,_17a9,_17aa,_17ab){Sage.namespace("Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility");dojo.mixin(Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility,{_nlsResources:_17a9,getConditionTypes:function(_17ac){var _17ad=[];if(_17ac){if(_17ac.useDateFilter){_17ad.push({conditionType:_17aa.ReportConditionType.DateRange,caption:_17aa.getReportConditionTypeCaption(_17aa.ReportConditionType.DateRange)});}if(_17ac.useGroupFilter){_17ad.push({conditionType:_17aa.ReportConditionType.Group,caption:_17aa.getReportConditionTypeCaption(_17aa.ReportConditionType.Group)});}_17ad.push({conditionType:_17aa.ReportConditionType.Query,caption:_17aa.getReportConditionTypeCaption(_17aa.ReportConditionType.Query)});if(_17ac.useUserFilter){_17ad.push({conditionType:_17aa.ReportConditionType.User,caption:_17aa.getReportConditionTypeCaption(_17aa.ReportConditionType.User)});}}return _17ad;},getCurrentEntityCondition:function(){var _17ae=null;var _17af=_17ab.getCurrentEntityContext();if(_17af&&_17af.EntityTableName&&_17af.EntityId){var _17b0=_17af.EntityTableName.toUpperCase()+"ID";_17ae={conditionType:_17aa.ReportConditionType.Query,table:_17af.EntityTableName.toUpperCase(),field:_17b0,operator:_17aa.ReportConditionOperator.Is,value:_17af.EntityId,fromRange:null,toRange:null,dataType:_17aa.FieldDataTypes.String,tag:null};}return _17ae;},getCurrentUserCondition:function(){var _17b1={conditionType:_17aa.ReportConditionType.User,table:null,field:null,operator:_17aa.ReportConditionOperator.Is,value:_17a9.txtCurrentUser,fromRange:null,toRange:null,dataType:_17aa.FieldDataTypes.String,tag:":UserID"};return _17b1;},getDateOnlyFormattedDate:function(_17b2){return _17a8.format(_17b2,{selector:"date",fullYear:true});}});return Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility;});},"Sage/QuickForms/Design/Editors/FormAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/FormAdvancedPropertyEditor"],function(_17b3,lang,_17b4,_17b5,_17b6,_17b7,_17b8,_17b9,_17ba,_17bb){return _17b3("Sage.QuickForms.Design.Editors.FormAdvancedPropertyEditor",[_17b4,_17b9,_17b8],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.generalText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.useEntityNameAsTitleTooltipText %}\">","<label>{%= $.useEntityNameAsTitleText %}</label>","<div data-dojo-attach-point=\"_useEntityNameAsTitle\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onUseEntityNameAsTitleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_useEntityNameAsTitle:null,titleText:"Advanced",generalText:"General",useEntityNameAsTitleText:"Use Entity Name As Title:",useEntityNameAsTitleTooltipText:"Use name of current entity in form title.",constructor:function(){lang.mixin(this,_17bb);},setup:function(){this.inherited(arguments);this._useEntityNameAsTitle.set("value",this._designer.get("useEntityNameAsTitle"));},_onUseEntityNameAsTitleChange:function(value){if(this.isSuspended()){return;}this._designer.set("useEntityNameAsTitle",value);}});});},"Sage/QuickForms/Design/nls/ColumnDesigner":function(){define("Sage/QuickForms/Design/nls/ColumnDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_17bc,lang){var nls={root:{displayNameText:"Column"}};return lang.mixin(_17bc,nls);});},"Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig",["Sage/UI/Controls/Lookup","dojo/_base/declare"],function(_17bd,_17be){var _17bf=_17be("Sage.MainView.ActivityMgr.AttendeeLookup.BaseLookupConfig",null,{lookupName:"LookupName",lookupDisplayName:"Lookup Display Name",lookupType:_17bd,entityName:"entityName",id:false,cells:[],defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"picklistName":null,"defaultValue":""},gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"someEntity",sort:[{attribute:"SortField"}]},displayMode:0,isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],query:{},dialogTitle:"Lookup",dialogButtonText:"Ok",allowClearingResult:true,readonly:true,showEntityInfoToolTip:false,_nlsResources:{},constructor:function(){},rebuild:function(){this._lookup=null;},getLookupInstance:function(uiid){var _17c0=this.getConfig(uiid);var _17c1=new this.lookupType(_17c0);return _17c1;},addCell:function(cell,_17c2){},removeCell:function(_17c3){},getCells:function(){return this.cells;},getConfig:function(uiid){var _17c4={id:this.id+"_base_"+uiid,structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,storeOptions:this.storeOptions,isModal:this.isModal,displayMode:this.displayMode,initialLookup:this.initialLookup,preFilters:this.preFilters,returnPrimaryKey:this.returnPrimaryKey,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:function(){alert("overide the doSelect method");}};var _17c5={id:this.id+"_"+uiid,allowClearingResult:this.allowClearingResult,readonly:this.readonly,showEntityInfoToolTip:this.showEntityInfoToolTip,config:_17c4};return _17c5;}});return _17bf;});},"Sage/UI/Controls/SingleSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/SingleSelectPickList.html":"<div>\r\n    <select id=\"${id}-Combo\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" required=\"${required}\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onChange:_onChange\">\r\n    </select>\r\n</div>\r\n"}});define("Sage/UI/Controls/SingleSelectPickList",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/ComboBox","Sage/UI/Controls/PickList","dojo/text!./templates/SingleSelectPickList.html","dojo/string","dojo/_base/declare"],function(_17c6,_17c7,_17c8,_17c9,_17ca,_17cb,_17cc,_17cd,_17ce,_17cf,_17d0,_17d1){var _17d2=_17d1("Sage.UI.Controls.SingleSelectPickList",[_17ce,_17c6,_17c7,_17c8],{store:null,constructor:function(_17d3){if(_17d3.clientId){this.id=_17d3.clientId+"-SingleSelectPickList";}this.inherited(arguments);},postCreate:function(){this._setupTooltips(this.comboBox._buttonNode,this.comboBox.textbox);this._setupRenderAsHyperlink();this._setupTooltips();this.inherited(arguments);var _17d4=dojo.byId(this._textId);if(_17d4&&_17d4.value&&(this.comboBox.value!==_17d4.value)){this.comboBox.set("value",_17d4.value);}},_setupTooltips:function(){if(this.controlTooltip&&this.controlTooltip!==""){this.comboBox.set("title",this.controlTooltip);}if(this.buttonTooltip&&this.buttonTooltip!==""){if(this.comboBox._buttonNode){this.comboBox._buttonNode.title=this.buttonTooltip;}}},_setupRenderAsHyperlink:function(){if(!this.renderAsHyperlink){return;}dojo.addClass(this.comboBox.domNode,"comboAsHyperlink");dojo.connect(this.comboBox.domNode,"onclick",this,function(){this.comboBox.loadDropDown();});},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.comboBox.set("value",data);}var items=[];var _17d5;for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};this.store=new _17ca({data:this.storeData});this.comboBox.set("store",this.store);this.comboBox.set("searchAttr","text");this.store._forceLoad();var _17d6=dojo.byId(this._textId);var _17d7=dojo.byId(this._picklistId);var _17d8=dojo.byId(this._codeId);if(_17d6&&_17d6.value){this.lastValidValue=_17d6.value;this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}else{if(_17d7&&_17d7.value){_17d5=this.getStoreItemById(_17d7.value);if(_17d5){this.lastValidValue=this.store.getValue(_17d5,"text");this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}}else{if(_17d8&&_17d8.value){_17d5=this.getStoreItemByCode(_17d8.value);if(_17d5){this.lastValidValue=this.store.getValue(_17d5,"text");this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}}else{var val=this.comboBox.get("value");if(val||val===""){this.lastValidValue=val;}else{this.lastValidValue=items[0].text;this.comboBox.set("value",this.lastValidValue);}}}}}),function(e){console.error(e);});if(this.get("canEditText")===false){this.comboBox.textbox.disabled=true;}var len=this.get("maxLength");if(len>0){this.comboBox.set("maxLength",len);}},uninitialize:function(){this.inherited(arguments);},getStoreItemById:function(id){var _17d9=null,_17da;if(this.store){if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.id){_17da=this.store.getValue(item,"id");if(_17da===id){_17d9=item;return _17d9;}}},this);}}return _17d9;},getStoreItemByCode:function(code){var _17db=null,_17dc;if(this.store){if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.code){_17dc=this.store.getValue(item,"code");_17dc=_17d0.trim(_17dc);_17dc=_17dc.toUpperCase();code=_17d0.trim(code);code=code.toUpperCase();if(_17dc===code){_17db=item;return _17db;}}},this);}}return _17db;},getStoreItemByValue:function(value){var _17dd=null,text;if(value){if(this.store){dojo.forEach(this.storeData.items,function(item,index,array){if(item.text){text=this.store.getValue(item,"text");text=_17d0.trim(text);text=text.toUpperCase();value=_17d0.trim(value);value=value.toUpperCase();if(text===value){_17dd=item;return _17dd;}}},this);}}return _17dd;},_onChange:function(_17de){this.onChange(_17de);},_setPickListNameAttr:function(value){this.inherited(arguments);this._loadData();},_setValueAttr:function(value){this.inherited(arguments);this.comboBox.set("value",value);},_getValueAttr:function(){return this.comboBox.get("value");},_getCodeAttr:function(){var item,code,value,_17df;code="";value=this._getValueAttr();item=this.getStoreItemByValue(value);if(item){code=this.store.getValue(item,"code");}return code;},templateString:_17cf,widgetsInTemplate:true,storeData:null,lastValidValue:"",initialValue:"",disabled:false,_setDisabledAttr:function(_17e0){this.disabled=_17e0;this.comboBox.set("disabled",_17e0);},_getDisabledAttr:function(){this.disabled=this.comboBox.get("disabled");return this.disabled;},focus:function(){this.comboBox.focus();},onChange:function(_17e1){if(this.storeData){var val=this.comboBox.get("value");if(val!=this.initialValue){if(this.get("itemMustExist")){var valid=dojo.some(this.storeData.items,function(item){if(item.text==_17e1||_17e1==""){return true;}else{return false;}},this);if(valid){this.lastValidValue=_17e1;}if(!valid){if(this.lastValidValue!=="undefined"&&this.lastValidValue!==null){this.comboBox.set("value",this.lastValidValue);return;}}}if(this.comboBox.isValid()){var code="",id="";dojo.forEach(this.storeData.items,function(item,index,array){if(item.text==val){code=item.code;id=item.id;}},this);this.setASPNETInputs(val,code,id);}}}}});return _17d2;});},"Sage/MainView/JobMgr/SDataDetailViewDataManager":function(){define("Sage/MainView/JobMgr/SDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_17e2,_17e3,_17e4,lang){var _17e5=_17e4("Sage.MainView.JobMgr.SDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_17e6){lang.mixin(this,_17e6);this.requestHash={};this.fetching=false;var _17e7=Sage.Services.getService("JobService");this.service=_17e7.getSchedulingSDataService();},add:function(_17e8,_17e9){var _17ea=this.requestHash[_17e8];if((_17ea)&&(_17ea.id!==_17e9.id)){if(!_17ea.duplicates){_17ea.duplicates=[];}var found=false;for(var i=0;i<_17ea.duplicates.length;i++){if(_17ea.duplicates[i].context.id===_17e9.id){found=true;}}if(!found){_17ea.duplicates.push({id:_17e9.id,context:_17e9});}}else{this.requestHash[_17e8]=_17e9;}},send:function(_17eb,_17ec){this.fetching=true;var _17ed=this;var _17ee=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_17ee.setResourceKind(this.resourceKind);for(var id in this.requestHash){_17ee.setResourceSelector("'"+id+"'");}_17ee.setQueryArg("include",this.include.join(","));_17ee.read({success:lang.hitch(_17ec,_17eb,_17ed),failure:lang.hitch(this,this.requestFailed,_17ed)});},requestFailed:function(a,b,c){}});var _17ef=_17e4("Sage.MainView.JobMgr.SDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _17e5();this.requestTimeout=false;},requestDataNoWait:function(_17f0,_17f1,_17f2){var _17f3=new _17e5();if(_17f2.keyField){this.keyField=_17f2.keyField;}_17f3.select=_17f2.select;_17f3.resourceKind=_17f2.resourceKind;_17f3.serviceName=_17f2.serviceName;_17f3.include=_17f2.include;_17f3.useBatchRequest=_17f2.useBatchRequest;if(_17f2.expandRecurrences!==null){_17f3.expandRecurrences=_17f2.expandRecurrences;}_17f3.add(_17f0,_17f1);_17f3.send(this.receiveData,this);},receiveData:function(_17f4,data){var _17f5=data;var id=_17f5.id;if(!id){id=_17f5[this.keyField];_17f5.id=id;}var _17f6=_17f4.requestHash[_17f5.id];if(_17f6){try{if(!_17f6.applied){_17f6.applied=true;_17f6.set("entity",_17f5);}}catch(err){console.error(err);}}}});return _17ef;});},"Sage/UI/OrientableMenuBar":function(){define("Sage/UI/OrientableMenuBar",["dijit/MenuBar","dojo/_base/declare"],function(_17f7,_17f8){var _17f9=_17f8("Sage.UI.OrientableMenuBar",_17f7,{postCreate:function(args){this.inherited(arguments);if(typeof this.orientation!=="undefined"){this._orient=this.orientation;}}});return _17f9;});},"Sage/UI/nls/SearchMenuItem":function(){define("Sage/UI/nls/SearchMenuItem",["Sage/LanguageList","dojo/_base/lang"],function(_17fa,lang){var nls={root:{findText:"Find",clearText:"Clear",showHiddenText:"Show Hidden: "}};return lang.mixin(_17fa,nls);});},"Sage/Library/nls/DocumentProperties":function(){define("Sage/Library/nls/DocumentProperties",["Sage/LanguageList","dojo/_base/lang"],function(_17fb,lang){var nls={root:{Abstract:"Abstract",Cancel:"Cancel",DocumentProperties:"Document Properties",Created:"Created",Description:"Description",Directory:"Directory",DoNotExpire:"Do Not Expire",Expires:"Expires",FileName:"File Name",ForceDistribution:"Force distribution of this file",InvalidFileName:"A filename cannot contain any of the following characters: \\ / : * ? \" < > |",Never:"Never",OK:"OK",Revised:"Revised",Size:"Size",Status:"Status"}};return lang.mixin(_17fb,nls);});},"Sage/QuickForms/Design/Help":function(){define("Sage/QuickForms/Design/Help",["dojo/string"],function(_17fc){return {defaultTarget:"MCWebHelp",defaultTopic:null,defaultSubSystem:null,defaultUrlFormat:"help/WebClient_CSH.htm#${0}",subSystemUrlFormat:"help/Subsystems/${1}/${1}_CSH.htm#${0}",open:function(topic,_17fd,_17fe){var url=Sage.Link.getHelpUrl(topic,_17fd);window.open(url,_17fe||this.defaultTarget);}};});},"Sage/UI/nls/NotesHistoryList":function(){define("Sage/UI/nls/NotesHistoryList",["Sage/LanguageList","dojo/_base/lang"],function(_17ff,lang){var nls={root:{typeText:"Type",showDbChangesText:"Show Database Changes",selectAllText:"Select All",dateText:"Date",dateTimeText:"Date/Time",dateRangeText:"Date Range",userText:"User",accountText:"Account",contactText:"Contact",opportunityText:"Opportunity",regardingText:"Regarding",notesText:"Notes",resultText:"Result",categoryText:"Category",sendEmailText:"Send via E-Mail",sendToWordText:"Send to Word",addNoteText:"Add Note",completeAnActivityText:"Complete an Activity",helpText:"Help",pleaseSelectRecordsText:"Please select one or more records",UnableToFindWordMsg:"Cannot start Microsoft Word.  Please check your security settings.",printedOnText:"Printed On"}};return lang.mixin(_17ff,nls);});},"Sage/Data/ServiceOperationSDataStore":function(){define("Sage/Data/ServiceOperationSDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_1800,_1801,_1802,lang){var _1803=_1802("Sage.Data.ServiceOperationSDataStore",_1800,{isInsertMode:false,constructor:function(o){lang.mixin(this,o);this.features["dojo.data.api.Notification"]=true;this.identityAttributes=["$cacheID"];this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;},entry:"",fetch:function(_1804){var items={};items.$resources=[];if(_1804.isRender&&this.dataCarrierId){var _1805=dojo.query([".",this.dataCarrierId].join(""));if(_1805[0].value.length>0){var _1806=dojo.fromJson(_1805[0].value);this.addItemsToCache(_1804,_1806.$resources);}}for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){items.$resources.push(this.dataCache[item]);}}this.setContext(_1804);this.verifyService();if(this.isInsertMode){var self=this;window.setTimeout(function(){self.onSuccess(_1804,items);},5);return;}var _1807=new Sage.SData.Client.SDataServiceOperationRequest(this.service).setContractName(this.contractName).setOperationName(this.operationName);var qry="";if(this.query){if(!_1804.query){_1804.query={};}lang.mixin(_1804.query,this.query);}if(_1804.query){if(typeof _1804.query==="function"){qry=_1804.query();}else{if(typeof _1804.query==="string"){qry=_1804.query;}else{if(typeof _1804.query==="object"){if(_1804.query.hasOwnProperty("fn")){qry=_1804.query.fn.call(_1804.query.scope||this);}if(_1804.query.hasOwnProperty("conditions")){if(typeof _1804.query.conditions==="string"){qry+=(qry.length>0)?" and "+_1804.query.conditions:_1804.query.conditions;}}}}}}_1804.evaluatedQuery=qry||"";if(qry&&qry!==""){_1807.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_1807.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_1807.setQueryArg("include",this.include.join(","));}_1807.execute(this.entry,{success:lang.hitch(this,this.onSuccess,_1804),failture:lang.hitch(this,this.onFailure,_1804)});var key;return {abort:lang.hitch(this,this.abortRequest,key)};},onSuccesssss:function(_1808,feed){if(this.entry===""){this.entry=feed;}if(_1808.onBegin){_1808.onBegin.call(_1808.scope||this,feed.response.totalCount,_1808);}if(_1808.onComplete){_1808.onComplete.call(_1808.scope||this,feed.response.totalCount,_1808);}},onSuccess:function(_1809,feed){if(_1809.onBegin){_1809.onBegin.call(_1809.scope||this,feed.response.totalCount,_1809);}if(this.onProcess){this.onProcess.call(_1809.scope||this,feed.response.items,_1809);}if(_1809.onComplete){_1809.onComplete.call(_1809.scope||this,feed.response.items,_1809);}if(this.onComplete){this.onComplete.call(_1809.scope||this,feed.response.items,_1809);}this.addToCache(_1809,feed);},addToCache:function(_180a,item,count){var key;count=(typeof count==="undefined")?(Math.random()*11):count;if(this.isInsertMode){item.$cacheID=new Date().getTime()+count;}key=this.getIdentity(item);this.dataCache[key]=item;},addItemsToCache:function(_180b,items){for(var i=0;i<items.length;i++){this.addToCache(_180b,items[i],i);}},clearCache:function(){this.inherited(arguments);this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_180c){var id=this.getIdentity(_180c);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_180d){return this.isItem(_180d);},loadItem:function(_180e){if(!this.isItem(_180e.item)){throw new Error("Unable to load "+_180e.item);}},getValues:function(item,_180f){if(this.isItem(item)&&(typeof _180f==="string")){return (item[_180f]||[]).slice(0);}return [];},hasAttribute:function(item,_1810){if(this.isItem(item)&&(typeof _1810==="string")){return _1810 in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,scope){var id=this.getIdentity(item);if(id&&id!==""){delete this.dataCache[id];}var _1811={};_1811.scope=scope||this;var _1812=function(){if(typeof this.onResponse==="function"){this.onResponse.call(this);}};_1811.success=_1812;_1811.success.call(_1811.scope);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},newItem:function(args){var _1813=this.createTemplateRequest();if(_1813){_1813.read({success:function(entry){if((args)&&(args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,entry);}},failure:this.requestTemplateFailure,scope:this});}},createTemplateRequest:function(){var _1814=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_1814.setResourceKind(this.resourceKind);}return _1814;},requestTemplateFailure:function(){},saveNewEntity:function(_1815,_1816,_1817,scope){this.addToCache(scope,_1815);_1816();},createItem:function(item,scope){var _1818={};_1818.scope=scope||this;_1818.scope.store=this;var _1819=function(_181a){if(typeof this.onResponse==="function"){this.onResponse.call(this,_181a);}};_1818.success=_1819;this.addToCache(scope,item);_1818.success.call(_1818.scope,item);},revert:function(){this.clearDirtyDataCache();this.onDataReset();},setValue:function(item,_181b,value){var _181c=this.getValue(item,_181b,"");_1801.setValue(item,_181b,value);this.onSet(item,_181b,_181c,value);return true;},setValues:function(item,_181d,_181e){alert("not implemented - setValues");},unsetAttribute:function(item,_181f){alert("not implemented - unsetAttribute");},dataCacheToArray:function(){var _1820=[];for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){_1820.push(this.dataCache[item]);}}return _1820;},onDataChange:function(){this.clearDirtyDataCache();var _1821=dojo.query([".",this.dataCarrierId].join(""));if(_1821[0]){this.entry.$resources=this.dataCacheToArray();_1821[0].value=JSON.stringify(this.entry);}},onSet:function(item,_1822,_1823,_1824){},onNew:function(_1825,_1826){},onDelete:function(_1827){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_1828,_1829){},onItemNotSaved:function(_182a,error){}});return _1803;});},"Sage/MainView/ReportMgr/ReportManagerFormatter":function(){define("Sage/MainView/ReportMgr/ReportManagerFormatter",["Sage/Utility","dojo/date/locale","dojo/number","dojo/string","dojo/_base/array","dojo/i18n!./nls/ReportManagerFormatter","Sage/Reporting/Enumerations"],function(_182b,_182c,_182d,_182e,_182f,_1830,_1831){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerFormatter");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerFormatter,{_isNumeric:function(value){return !isNaN(parseFloat(value))&&isFinite(value);},formatDate:function(value){if(_182b.Convert.isDateString(value)){var date=_182b.Convert.toDateFromString(value);return _182c.format(date,{selector:"datetime",fullYear:true});}return "";},formatFileSize:function(value){var self=Sage.MainView.ReportMgr.ReportManagerFormatter;if(value&&self._isNumeric(value)){return _182d.round(value/1024,0)+" KB";}return "";},formatElapsedTime:function(value){var self=Sage.MainView.ReportMgr.ReportManagerFormatter;if(value&&self._isNumeric(value)){var days=Math.floor(value/(24*3600));var hours=Math.floor((value-(days*24*3600))/3600);var _1832=Math.floor((value-(hours*3600))/60);var _1833=value-(days*24*3600)-(hours*3600)-(_1832*60);return _182e.pad(hours,2)+":"+_182e.pad(_1832,2)+":"+_182e.pad(_1833,2);}return "";},formatBoolean:function(value){return _182b.isTrue(value)?_1830.txtTrue:_1830.txtFalse;},_getParameterValue:function(_1834,name){var value="";if(_1834){_182f.some(_1834,function(entry,i){if(entry.name===name){value=entry.value;return true;}});}return value;},formatGetUserById:function(item){if(!item){return "";}else{return _182b.getUserName(item);}},getParameterRunAsUser:function(_1835){if(_1835){var _1836=Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(_1835,"RunAsUserId");return _182b.getUserName(_1836);}return "";},formatScheduleName:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"ScheduleName");},formatScheduleDescription:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"Description");},formatPluginName:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"PluginName");},formatTemplateName:function(_1837){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(_1837,"TemplateName");},formatOutputFormat:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"OutputFormat");},formatScheduleUser:function(user){if(user&&user.$descriptor){return user.$descriptor;}return "";},formatCronExpression:function(item){return item.cronExpression;},formatAttachment:function(value,_1838,cell){var item=this.grid.getItem(_1838);return _182e.substitute("<a href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${0}');\" title=\"${1}\">${1}</a>",[item.AttachId,item.ScheduleName]);},formatExecutionType:function(value,_1839,cell){return _1831.getExecutionTypeCaption(value);},formatReportType:function(value){return _1831.getReportTypeCaption(value);},formatProperCase:function(value){if(typeof value==="string"){return value.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase();});}else{return "";}}});return Sage.MainView.ReportMgr.ReportManagerFormatter;});},"Sage/MainView/ReportMgr/nls/HistoryListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/HistoryListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_183a,lang){var nls={root:{colNameDate:"Date",colNameScheduleName:"Description",colNameExecutionType:"Execution Type",colNameRunAs:"Run As",colNameScheduledBy:"Scheduled By",colNameReportName:"Report",colNameSize:"File Size",colNameOutputFormat:"Output Format",colNameReportType:"Type"}};return lang.mixin(_183a,nls);});},"Sage/UI/Columns/Lookup":function(){define("Sage/UI/Columns/Lookup",["Sage/Utility","dojox/grid/cells","dojo/_base/declare"],function(_183b,cells,_183c){var _183d=_183c("Sage.UI.Columns.Lookup",cells._Widget,{widgetClass:Sage.UI.SDataLookup,defaultValue:"",constructor:function(o){if(o.lookupOptions.returnObject){this.formatter=function(_183e,_183f,_1840){if(_183e!==null){var _1841=o.lookupOptions.field.split(".");var _1842=_183e;for(var i=0;i<_1841.length;i++){if(_1842){_1842=_1842[_1841[i]];}}return _1842;}return null;};}},getWidgetProps:function(_1843){var luId=this.LuId();var _1844="";if(this.lookupOptions.seedOnRelatedEntity){var oItem=this.item[this.lookupOptions.seedOnRelatedEntity];if(oItem&&typeof oItem.$key!=="undefined"){_1844=oItem.$key;}else{}}return dojo.mixin({},this.widgetProps||{},{id:luId,value:_1843,displayMode:this.lookupOptions.displayMode,seedOnRowEntity:this.lookupOptions.seedOnRowEntity,seedOnRelatedEntity:this.lookupOptions.seedOnRelatedEntity,relatedEntityId:_1844,rowEntityId:this.item.$key,returnObject:this.lookupOptions.returnObject,addEmptyListItem:this.lookupOptions.addEmptyListItem,field:this.lookupOptions.field,name:this.lookupOptions.name,structure:this.lookupStructure,storeOptions:this.lookupStoreOptions,gridOptions:this.lookupGridOptions,shouldPublishMarkDirty:false});},formatNode:function(_1845,_1846,_1847){if(!this.widgetClass){return _1846;}var _1848=dijit.byId(this.LuId());if(!_1848){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_1848;this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_1847);this.grid.scroller.rowHeightChanged(_1847,true);this.widget.focusNode.focus();return undefined;},setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},LuId:function(){this.setCurrentItems();var _1849=[this.item.$key,this.editInfo.cell.field].join("_");if(_183b.getModeId()==="insert"){_1849=[this.item.$cacheID,this.editInfo.cell.field].join("_");}return _1849;},getValue:function(){this.setCurrentItems();if(this.lookupOptions.returnObject){return (this.widget.focusNode.item!==null)?this.widget.focusNode.item:this.widget.focusNode.value;}return this.widget.focusNode.value;}});return _183d;});},"Sage/UI/Columns/Dnd":function(){define("Sage/UI/Columns/Dnd",["Sage/UI/Columns/DndCell","dojo/_base/declare"],function(_184a,_184b){var _184c=_184b("Sage.UI.Columns.Dnd",dojox.grid.cells._Base,{formatter:function(val,index){var item=this.grid.getItem(index);var _184d=item.displayName||item.columnName||this.defaultValue;var cell=new _184a({value:_184d,index:index});return cell;}});return _184c;});},"Sage/Library/Manager":function(){define("Sage/Library/Manager",["Sage/Data/SDataServiceRegistry","Sage/Library/FileHandler","Sage/Library/FolderHandler","Sage/Services/RoleSecurityService","Sage/Services/SystemOptions","Sage/UI/Dialogs","Sage/Utility","dojox/grid/DataGrid","Sage/UI/ImageButton","dijit/Toolbar","dijit/Tree","dijit/tree/ForestStoreModel","dojo/data/ItemFileReadStore","dojo/i18n","dojo/string","dojo/_base/array","dojo/date/locale","dojo/dom-construct","dojo/_base/lang","dojo/i18n!./nls/Manager","dojox/widget/Standby"],function(_184e,_184f,_1850,_1851,_1852,_1853,_1854,_1855,_1856,_1857,Tree,_1858,_1859,i18n,_185a,_185b,_185c,_185d,dLang,nls,_185e){Sage.namespace("Library.Manager");dojo.mixin(Sage.Library.Manager,{_convert:_1854.Convert,_grid:null,_remote:false,_roles:null,_rootId:null,_standby:false,_system:null,_tree:null,_addButtonToToolbar:function(btn,_185f){_185f.addChild(new _1856({label:btn.label,showLabel:false,iconClass:btn.icon,id:btn.id,layoutAlign:"right",onClick:function(){btn.clickHandler();}}));},_createGrid:function(){var self=this;this._grid=new _1855({store:new _1859({data:{items:[]}}),id:"libraryGrid",structure:[{field:"_item",name:self.resources.File,formatter:self._renderFileName,width:"160px",sortField:"fileName"},{field:"fileSize",name:self.resources.Size,formatter:self._renderSize,width:"50px"},{field:"createDate",name:self.resources.Created,formatter:self._renderDate,width:"60px"},{field:"revisionDate",name:self.resources.Revised,formatter:self._renderDate,width:"60px"},{field:"_item",name:self.resources.Expires,formatter:self._renderExpires,width:"60px",sortField:"expireDate"},{field:"description",name:self.resources.Description,width:"150px"}]});if(this._remote){var _1860={field:"status",name:"Status",formatter:self._renderStatus,width:"150px"};this._grid.structure.splice(1,0,_1860);this._grid.setStructure(this._grid.structure);}var _1861=this._grid.getSortProps;this._grid.getSortProps=function(){var info=dojo.hitch(self._grid,_1861)();if(info&&typeof info!=="undefined"){if(info[0]&&info[0]["attribute"]==="_item"){var cell=self._grid.getCell(self._grid.getSortIndex());if(cell&&typeof cell!=="undefined"&&cell.hasOwnProperty("sortField")){info[0]["attribute"]=cell.sortField;}}return info;}return null;};dojo.byId("libraryGridPlaceHolder").appendChild(this._grid.domNode);this._grid.startup();},_createGridToolbar:function(){var _1862=new _1857({},"gridToolbar");var btns=[];if(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage){btns.push({label:this.resources.AddFiles,id:"btnAddFiles",clickHandler:Sage.Library.FileHandler.handleAddButtonClicked,icon:"libraryIcon addFileIcon"});}btns.push({label:this.resources.FileProperties,id:"btnEditFile",clickHandler:Sage.Library.FileHandler.editLibraryFileProps,icon:"libraryIcon editFileIcon"});if(Sage.Library.FileHandler.can["delete"]||Sage.Library.FileHandler.can.manage){btns.push({label:this.resources.DeleteSelectedFile,id:"btnDeleteFile",clickHandler:Sage.Library.FileHandler.handleDeleteButtonClicked,icon:"libraryIcon deleteFileIcon"});}btns.push({label:this.resources.Help,id:"btnHelp",clickHandler:function(){window.open(Link.getHelpUrl("library"),Link.getHelpUrlTarget());},icon:"libraryIcon helpFileIcon"});for(var i=0;i<btns.length;i++){this._addButtonToToolbar(btns[i],_1862);}},_createTreeView:function(){this.refreshDirs();},_createTreeViewToolbar:function(){var _1863=new _1857({},"treeToolbar");var btns=[];if(Sage.Library.FolderHandler.can.add||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.AddFolder,id:"btnAddFolder",clickHandler:Sage.Library.FolderHandler.handleAddFolder,icon:"libraryIcon addFolderIcon"});}if(Sage.Library.FolderHandler.can.edit||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.EditFolder,id:"btnEditFolder",clickHandler:Sage.Library.FolderHandler.handleEditFolderName,icon:"libraryIcon editFolderIcon"});}if(Sage.Library.FolderHandler.can["delete"]||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.DeleteFolder,id:"btnDeleteFolder",clickHandler:Sage.Library.FolderHandler.handleDeleteFolderClicked,icon:"libraryIcon deleteFolderIcon"});}if(btns.length>0){for(var i=0;i<btns.length;i++){this._addButtonToToolbar(btns[i],_1863);}}},_createView:function(){this._createTreeViewToolbar();this._createTreeView();this._createGridToolbar();this._createGrid();},_handleDeliveredDocRequest:function(_1864){Sage.Library.FileHandler.updateRemoteStatus(_1864,"DeliveredRead",function(){Sage.Library.Manager.refreshGrid();var sUrl=_185a.substitute("slxdata.ashx/slx/system/-/libraryDocuments('${0}')/file",[_1864]);window.open(sUrl,"FileWin");});},_handleOrderDocRequest:function(_1865,_1866){_1853.raiseQueryDialog(Sage.Library.Manager.resources.Confirm,Sage.Library.Manager.resources.ConfirmDownload,function(_1867){if(_1867){Sage.Library.FileHandler.updateRemoteStatus(_1865,_1866,function(entry){Sage.Library.FileHandler.logRemoteDocRequest(_1865);Sage.Library.Manager.refreshGrid();});}},Sage.Library.Manager.resources.Yes,Sage.Library.Manager.resources.No,"questionIcon");},_handleReorderDocRequest:function(_1868){_1853.raiseQueryDialog(Sage.Library.Manager.resources.Confirm,Sage.Library.Manager.resources.ConfirmDownloadReorder,function(_1869){if(_1869){Sage.Library.FileHandler.logRemoteDocRequest(_1868);}},Sage.Library.Manager.resources.Yes,Sage.Library.Manager.resources.No,"questionIcon");},_renderDate:function(value){try{if(!value){return "";}if(dojo.isString(value)&&Sage.Library.Manager._convert.isDateString(value)){var date=Sage.Library.Manager._convert.toDateFromString(value);date=new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate());return dojo.date.locale.format(date,{selector:"date"});}return "";}catch(e){if(typeof console!=="undefined"){console.error("_renderDate: %o",e);}return "";}},_renderExpires:function(item,meta,_186a){try{if(item.expires[0]!==true){return Sage.Library.Manager.resources.Never;}return Sage.Library.Manager._renderDate(item.expireDate[0]);}catch(e){if(typeof console!=="undefined"){console.error("_renderExpires: %o",e);}return "";}},_renderFileName:function(item,index,_186b){try{if(!Sage.Library.Manager._remote){return _185a.substitute("<a id=\"document_${0}\" href=\"slxdata.ashx/slx/system/-/libraryDocuments('${0}')/file\" target=\"FileWin\">${1}</a>",[item.$key[0],item.fileName[0]||""]);}else{switch(item.status[0]){case "Available":return _185a.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleOrderDocRequest('${0}', 'Ordered');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "Revised":return _185a.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleOrderDocRequest('${0}', 'RevisionOrdered');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "Ordered":case "RevisionOrdered":return _185a.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleReorderDocRequest('${0}');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "Delivered":return _185a.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleDeliveredDocRequest('${0}');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case "DeliveredRead":return _185a.substitute("<a id=\"document_${0}\" href=\"slxdata.ashx/slx/system/-/libraryDocuments('${0}')/file\" target=\"FileWin\">${1}</a>",[item.$key[0],item.fileName[0]||""]);default:return item.fileName[0]||"";}}}catch(e){if(typeof console!=="undefined"){console.error("_renderFileName: %o",e);}return "";}},_renderFixed:function(n,d){try{if(typeof d!=="number"){d=2;}var m=Math.pow(10,d);var v=Math.floor(parseFloat(n)*m)/m;return v;}catch(e){if(typeof console!=="undefined"){console.error("_renderFixed: %o",e);}return "";}},_renderSize:function(value){try{if(value/(1024*1024)>0.5){return Sage.Library.Manager._renderFixed(value/(1024*1024),1)+" MB";}if(value/(1024)>0.05){return Sage.Library.Manager._renderFixed(value/(1024),1)+" KB";}return value+" B";}catch(e){if(typeof console!=="undefined"){console.error("_renderSize: %o",e);}return "";}},_renderStatus:function(value){return Sage.Library.FileHandler.translateStatus(value);},_showLoading:function(){if(this._standby===false&&this._grid.domNode){var _186c=this._grid.domNode;this._standby=new _185e({target:_186c,color:"white",image:"images/loader_lg.gif"});document.body.appendChild(this._standby.domNode);this._standby.startup();}var self=this;window.setTimeout(function(){self._standby.show();},0);},_hideLoading:function(){var self=this;window.setTimeout(function(){if(self._standby){self._standby.hide();self._standby=false;}},1);},resources:{},init:function(){Sage.Library.Manager._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.Manager._system=_184e.getSDataService("system");dLang.mixin(Sage.Library.Manager.resources,nls);dojo.subscribe("/sage/library/manager/libraryDirs/refresh",function(){Sage.Library.Manager.refreshDirs();});dojo.subscribe("/sage/library/manager/libraryDocuments/refresh",function(item){Sage.Library.Manager.refreshGrid(item);});},createView:function(){var _186d=Sage.Services.getService("SystemOptions");if(_186d){_186d.get("DbType",function(val){this._remote=(val&&val==2);this._createView();},function(){this._createView();if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.DbType.");}},this);}else{this._createView();if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}},getDirs:function(_186e){var self=this;var _186f=new Sage.SData.Client.SDataResourceCollectionRequest(this._system);_186f.setResourceKind("libraryDirectories");_186f.setQueryArg("orderBy","fullPath");_186f.setQueryArg("format","json");_186f.setQueryArg("count",200);_186f.read({success:function(feed){var _1870=feed["$resources"];if(_1870&&dojo.isArray(_1870)&&_1870.length>0){var _1871,oData,_1872=0,_1873=false;try{var _1874=function(dir){var _1875=dojo.filter(_1871[(dir.depth-2)].items,function(item){return (item.$key==dir.parentId);});if(_1875.length==1){return _1875[0];}return null;};for(var i=_1870.length-1;i>=0;i--){if(this._remote===false&&_1870[i].directoryExists===false){_1870.splice(i,1);}}dojo.some(_1870,function(dir){if(dir.parentId.trim()=="0"){dir.parentId="0";dir.fullPath="";dir.root=true;self._rootId=dir.$key;return true;}else{return false;}});dojo.forEach(_1870,function(dir){if(dir.root!==true&&dir.fullPath.indexOf("\\")!==0){dir.fullPath="\\"+dir.fullPath;_1873=true;if(typeof console!=="undefined"){}}dir.depth=dir.fullPath.split("\\").length;if(dir.depth>_1872){_1872=dir.depth;}});if(_1873){_1870.sort(function(dir1,dir2){return (dir1.fullPath.toLocaleUpperCase().localeCompare(dir2.fullPath.toLocaleUpperCase()));});}_1870.sort(function(dir1,dir2){return dir1.depth-dir2.depth;});_1871=new Array(_1872);dojo.forEach(_1871,function(item,idx){_1871[idx]={items:[]};});dojo.forEach(_1870,function(dir){_1871[dir.depth-1].items.push(dir);});dojo.forEach(_1870,function(dir,idx){if(idx===0){if(dir.root!==true){throw new Error(_185a.substitute(self.resources.InvalidRoot,[dir.directoryName,dir.$key]));}dir.id=dir.$key;dir.items=[];oData=dir;}else{if(dir.depth>1){switch(dir.depth){case 2:dir.id=dir.$key;dir.children=[];oData.items.push(dir);break;default:var _1876=_1874(dir);if(_1876!==null){dir.id=dir.$key;dir.children=[];if(!_1876.children){_1876.children=[];}_1876.children.push(dir);}else{if(typeof console!=="undefined"){}}break;}}}});if(typeof _186e==="function"){_186e(oData);}}catch(e){Sage.UI.Dialogs.showError(self.resources.LibraryDataError+" "+e);}}},failure:function(xhr,sdata){_1854.ErrorHandler.handleHttpError(xhr,sdata,{message:self.resources.DirectoryInformationError});}});return true;},getOpenFolderId:function(item){var id=this.getRootId();if(item&&item.id&&item.root!==true){id=item.id;if(dojo.isArray(id)){id=id[0];}if(typeof console!=="undefined"){}}else{if(this._tree.attr("selectedItem")){id=this._tree.attr("selectedItem").id;if(dojo.isArray(id)){id=id[0];}if(typeof console!=="undefined"){}}else{if(typeof console!=="undefined"){}}}return id;},getRootId:function(){return this._rootId;},refreshDirs:function(){var self=this;this.getDirs(function(data){if(self._tree){self._tree.destroyRecursive();}var _1877=new _1859({data:data});var _1878=new _1858({store:_1877,rootId:data.$key,rootLabel:Sage.Library.Manager.resources.Library,labelAttr:"directoryName",childrenAttrs:["children"]});var _1879=new dojo.create("div",{id:"libraryTree"});self._tree=new dijit.Tree({model:_1878,onClick:Sage.Library.FolderHandler.handleFolderClicked,persist:false,_createTreeNode:function(args){args.id="dijit__TreeNode_"+args.item.id;return new dijit._TreeNode(args);},rootId:data.$key},_1879);var _187a=dojo.connect(self._tree,"onLoad",function(){dojo.disconnect(_187a);self.refreshGrid();});dojo.place(self._tree.domNode,"libraryTreeRoot","after");});},refreshGrid:function(item){var self=this;var id=this.getOpenFolderId(item);var _187b=new Sage.SData.Client.SDataResourceCollectionRequest(this._system);_187b.setResourceKind("libraryDocuments");_187b.setQueryArg("where",_185a.substitute("directory.Id eq '${0}'",[id]));_187b.setQueryArg("orderBy","fileName");_187b.setQueryArg("format","json");this._showLoading();_187b.read({success:function(feed){try{var files={items:feed["$resources"]||[]};for(var i=files.items.length-1;i>=0;i--){if(files.items[i].fileExists===false){if(!self._remote){files.items.splice(i,1);}else{if(files.items[i].status==="Delivered"||files.items[i].status==="DeliveredRead"){files.items[i].status="Available";Sage.Library.FileHandler.updateRemoteStatus(files.items[i].$key,"Available");}}}}var _187c=new _1859({data:files});self._grid.setStore(_187c);}finally{self._hideLoading();}},failure:function(xhr,sdata){self._hideLoading();_1854.ErrorHandler.handleHttpError(xhr,sdata,{message:self.resources.DocumentInformationError});}});}});Sage.Library.Manager.init();return Sage.Library.Manager;});},"Sage/MainView/ReportMgr/Crystal/nls/BooleanParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/BooleanParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_187d,lang){var nls={root:{txtPleaseSpecifyValue:"Please specify a value."}};return lang.mixin(_187d,nls);});},"Sage/QuickForms/Design/EditableGridControlDesigner":function(){define("Sage/QuickForms/Design/EditableGridControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/GenericBasicPropertyEditor","./Editors/GenericAdvancedPropertyEditor","dojo/i18n!./nls/EditableGridControlDesigner"],function(_187e,array,lang,_187f,_1880,_1881,_1882,_1883,_1884,_1885,_1886,_1887,_1888){return _187e("Sage.QuickForms.Design.EditableGridControlDesigner",[_1882,_1883,_1881,_1884],{designSupport:{visible:true},editors:[_1886,_1887,_1885],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<table class=\"{%= $.fieldClass %}-table\" data-dojo-attach-point=\"tableNode\">","</table>","</div>"]),tableHeaderTemplate:new Simplate(["<th>{%: $.ColumnHeading || $.Text %}</th>"]),fieldClass:"design-editablegrid",helpTopicName:"visual_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.SDataGrid.QFSDataGrid, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Editable Grid",constructor:function(){lang.mixin(this,_1888);},_getColumnsAttr:function(){return lang.getObject("Columns",false,this.entry);},_setColumnsAttr:function(value){lang.setObject("Columns",value,this.entry);},renderColumns:function(){var _1889=this.get("columns"),row=_187f.create("tr");for(var i=0;i<_1889.length;i++){var _188a=lang.clone(_1889[i]);_188a.widthStyle=_188a.Width>0?_188a.Width+"em":"auto";_187f.place(this.tableHeaderTemplate.apply(_188a,this),row,"last");}_187f.place(row,this.tableNode,"only");},startup:function(){this.inherited(arguments);this.renderColumns();}});});},"Sage/QuickForms/Design/nls/UrlControlDesigner":function(){define("Sage/QuickForms/Design/nls/UrlControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_188b,lang){var nls={root:{displayNameText:"Url"}};return lang.mixin(_188b,nls);});},"Sage/TaskPane/nls/ContactTasksTasklet":function(){define("Sage/TaskPane/nls/ContactTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_188c,lang){var nls={root:{associateContactTitle:"Associate with User",disAssociateContactTitle:"Disassociate from User",disAssociateDialogTitle:"Disassociate from a User",confirmDisAssociate:"Are you sure you want to disassociate the ${0} selected contact from an associated user?",confirmDisAssociateMultiple:"Are you sure you want to disassociate the ${0} selected contacts from any associated users?",associationExistsMessage:"The contact you selected is already associated to a user. To associate this contact to a different user, you must first disassociate the contact and user.",multipleSelectionErrorMessage:"You can only perform this task for 1 contact at a time. \n Please select a single contact and select the task again.",noSelectionErrorMessage:"You need to select at least one contact to disassociate. \n Please select one or more contact(s) and select the task again.",singleSelectionErrorMessage:"You need to select a contact to disassociate. \n Please select a single contact and select the task again."}};return lang.mixin(_188c,nls);});},"Sage/Data/QBTreeStoreModel":function(){define("Sage/Data/QBTreeStoreModel",["dijit/tree/ForestStoreModel","Sage/Data/SDataServiceRegistry","dojo/string","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_188d,_188e,_188f,array,_1890,lang){return _1890("Sage.Data.QBTreeStoreModel",_188d,{insertedChildren:null,constructor:function(){this.insertedChildren=[];},convertDescriptionToFilter:function(_1891){if(_1891.$descriptor){var _1892=_1891.$descriptor;_1892=_1892.replace(this.rootId+":","");return _1892;}return _1891.id;},getChildren:function(_1893,_1894,_1895){this.store.fetch({queryArgs:{"_pathFilter":this.convertDescriptionToFilter(_1893)},resourcePredicate:_1893.root?undefined:"",onComplete:lang.hitch(this,function(data,obj){var _1896=_188e.getSDataService("metadata",false,true,false),_1897,table,i,temp,_1898=[],_1899,_189a;table=_1893.id||_1893.toTable;array.forEach(this.insertedChildren,lang.hitch(this,function(child){if(child.parentItem===_1893){data.push(child);}}));_1899=[function(item){if(item.toTable===table){item.toTable=item.fromTable;temp=item.toField;item.toField=item.fromField;item.fromTable=table;item.fromField=temp;}},function(item){var _189b=item.joinType,_189c={"Left":"[left]",">":"[left]","Inner":"[inner]","=":"[inner]","Right":"[right]","<":"[right]"},_189d=_189c[_189b];if(item.toTable){item.label=_188f.substitute("${2} (${1} -> ${3})${4}",[item.fromTable,item.fromField,item.toTableDisplayName,item.toField,_189d]);}},function(item){item.parentItem=_1893;},function(item){item.children=[];},function(item){var _189e=item.joinType,_189f={"Left":">","Inner":"=","Right":"<",},_18a0=_189f[_189e]||item.joinType;item.dataPathSegment=_188f.substitute("${0}${1}${2}.${3}",[item.fromField,_18a0,item.toField,item.toTable]);},function(item){item.displayPathSegment=_188f.substitute("${0}",[item.toTable]);},function(item){var _18a1;function _18a2(path,_18a3){if(_18a3.root){if(path&&path.length>0){if(path.startsWith("!")){path=path.substring(1,path.length);}}return _18a3.id+":"+path;}return _18a2(_188f.substitute("!${0}",[_18a3.dataPathSegment])+path,_18a3.parentItem);};_18a1=_18a2("!",item);item.dataPath=_18a1;item["$descriptor"]=item["$descriptor"]||_18a1;},function(item){var _18a4;function _18a5(path,_18a6){if(_18a6.root){return _18a6.id+path;}return _18a5(_188f.substitute(".${0}${1}",[_18a6.displayPathSegment,path]),_18a6.parentItem);};_18a4=_18a5("",item);item.displayPath=_18a4;}];_189a=function(item){return function(func){func(item);};};for(i=0;i<data.length;i++){array.forEach(_1899,lang.hitch(this,_189a(data[i])));}data=array.filter(data,lang.hitch(this,function(item){var _18a7=item.parentItem;while(!_18a7.root){if(item.toTable===_18a7.toTable){return false;}_18a7=_18a7.parentItem;}if(item.toTable===_18a7.id){return false;}return true;}));data.sort(function(a,b){if(a.toTable<b.toTable){return -1;}if(a.toTable>b.toTable){return 1;}return 0;});_1893.children=data;_1894(data,obj);}),onError:_1895});},getIdentity:function(item){return item.$descriptor;},mayHaveChildren:function(item){return item.root||true;},newItem:function(args,_18a8){var child={"$descriptor":args.fromtable,"$etag":"","$httpStatus":200,"fromTable":args.fromtable,"fromField":args.fromfield,"toTable":args.totable,"toTableDisplayName":args.fromtable,"toField":args.tofield,"cascadeType":args.cascadetype,"joinType":args.jointype,"parentItem":_18a8.item,"children":[]};this.insertedChildren.push(child);this.addItemToStore(child,_18a8.item);},addItemToStore:function(_18a9,_18aa){var store=this.store,_18ab=this.childrenAttrs[0],_18ac=store.getValue(_18aa,_18ab),_18ad;if(_18aa){if(_18ac){_18ad=_18ac.slice(0);_18ad.push(_18a9);store.setValue(_18aa,_18ab,_18ad);}}}});});},"Sage/MainView/ReportMgr/Common/nls/_WizardDialogBase":function(){define("Sage/MainView/ReportMgr/Common/nls/_WizardDialogBase",["Sage/LanguageList","dojo/_base/lang"],function(_18ae,lang){var nls={root:{txtFinish:"Finish"}};return lang.mixin(_18ae,nls);});},"Sage/UI/ImageButton":function(){require({cache:{"url:Sage/templates/ImageButton.html":"<span id=\"${id}\" class=\"dijit dijitReset dijitInline\" role=\"presentation\">\r\n<span class=\"dijitReset dijitInline dijitButtonNode imageButtonNode\" data-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\">\r\n        <span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\">\r\n                <img alt=\"\" src=\"\" data-dojo-attach-point=\"iconNode\"/>\r\n                <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n            </span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r\r\n"}});define("Sage/UI/ImageButton",["dijit/form/Button","dijit/_Widget","dojo/text","dojo/dom-style","dojo/_base/declare","dojo/text!../templates/ImageButton.html"],function(_18af,_18b0,text,_18b1,_18b2,_18b3){var _18b4=_18b2("Sage.UI.ImageButton",_18af,{hoverText:"",templateString:_18b3,iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},tooltip:"",_setTooltipAttr:{node:"titleNode",type:"attribute",attribute:"title"},alt:"",_setAltAttr:{node:"valueNode",type:"attribute",attribute:"title"},postMixInProperties:function(){if(this.hasImageClass()&&this.hasIcon()){this.icon=this._blankGif;}else{this.icon=this.icon||this._blankGif;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.hasImageClass()){this.set("icon",this._blankGif);_18b1.set(this.iconNode,"display","none");}else{_18b1.set(this.iconNodeSprite,"display","none");}},hasImageClass:function(){if(this.imageClass&&this.imageClass!=="noIcon"){return true;}return false;},hasIcon:function(){if(this.icon&&this.icon!==this._blankGif){return true;}return false;},_onButtonClick:function(e){}});return _18b4;});},"Sage/MainView/JobMgr/nls/SchedulesListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/SchedulesListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_18b5,lang){var nls={root:{colNameTriggerName:"Schedule",colNameJobName:"Job Name",colNameUser:"Scheduled By",colNameStartTimeUtc:"Start Time",colNameEndTimeUtc:"End Time",colNamePriority:"Priority",colNameStatus:"Status",colNameTimesTriggered:"Execution Count"}};return lang.mixin(_18b5,nls);});},"Sage/MainView/ActivityMgr/PastDueListPanelConfig":function(){define("Sage/MainView/ActivityMgr/PastDueListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/SDataStore","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(_18b6,_18b7,_18b8,_18b9,_18ba,_18bb,_18bc,_18bd,_18be,_18bf,_18c0){var _18c1=_18bf("Sage.MainView.ActivityMgr.PastDueListPanelConfig",[_18b6],{constructor:function(){this._nlsResources=_18c0;this._listId="pastdue";this._resourceKind="useractivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_18be.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;this.rebuildOnRefresh=true,dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);},_onListRefresh:function(event){var _18c2=Sage.Services.getService("ActivityService");_18c2.refreshList("pastdue");},_getSelect:function(){var _18c3=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status"];return _18c3;},_getInclude:function(){var _18c4=["Activity","$descriptors"];return _18c4;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where;var dt=new Date();var dtNow=Sage.Utility.Convert.toIsoStringFromDate(dt);var _18c5=_18b8.formatTimelessEndDate(dt,"day",-1);where=dojo.string.substitute("(User.Id eq '${0}') and ( Activity.Type ne \"atLiterature\" ) and ((Alarm eq 'false') or (Alarm eq null)) and ((Activity.StartDate lt '${1}') and ((Activity.Timeless eq 'false') or (Activity.Timeless eq null )) or ((Activity.StartDate lt '${2}') and (Activity.Timeless eq 'true' )))",[this._currentUserId,dtNow,_18c5]);return where;},_getStructure:function(){var _18c6="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _18c7="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _18c8="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _18c9=this._nlsResources.colNameType||"Activity Type";var _18ca=this._nlsResources.colNameStartDate||"Start Date";var _18cb=this._nlsResources.colNameDuration||"Duration";var _18cc=this._nlsResources.colNameContact||"Name";var _18cd=this._nlsResources.colNameAccount||"Account/Company";var _18ce=this._nlsResources.colNameRegarding||"Regarding";var _18cf=this._nlsResources.colNamePriority||"Priority";var _18d0=this._nlsResources.colNameUserId||"Leader";var _18d1=this._nlsResources.colNameTypeName||"Type";var _18d2=[{field:"Status",name:_18c8,type:_18b8.activityConfirmStatusCell,width:"20px"},{field:"Activity.Attachment",name:_18c6,type:_18b8.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_18c7,type:_18b8.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_18c9,type:_18b8.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_18ca,type:_18bd,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_18cb,type:_18b8.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_18d1,type:_18b8.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_18cc,type:_18b8.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_18cd,type:_18b8.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_18ce,width:"100px"},{field:"Activity.Priority",name:_18cf,width:"40px"},{field:"Activity.Leader",name:_18d0,type:_18b8.activityLeaderCell,width:"200px"}];return _18d2;},_getSummaryConfig:function(){var store=new _18bb({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _18d3=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _18d4=this._getFormatterScope();var _18d5={structure:_18d3,layout:"layout",store:store,rowHeight:120,rowsPerPage:10,formatterScope:_18d4};return _18d5;},_getDetailConfig:function(){var _18d6=this._getFormatterScope();var _18d7=this._getSummaryDetailRequestConfig();var _18d8={resourceKind:this._resourceKind,requestConfiguration:_18d7,templateLocation:"MainView/ActivityMgr/Templates/UserActivityDetailSummary.html"};return _18d8;},_getSummaryListRequestConfig:function(){var _18d9={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _18d9;},_getSummaryDetailRequestConfig:function(){var _18da={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _18da;},_getFormatterScope:function(){var _18db=this._getSummaryListRequestConfig();var _18dc=new _18ba({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_18db});return _18dc;},_getToolBars:function(){var _18dd={items:[]};return _18dd;},getTimelessProperty:function(_18de){return "Activity.Timeless";}});return _18c1;});},"Sage/Library/FileHandler":function(){define("Sage/Library/FileHandler",["Sage/Data/SDataServiceRegistry","Sage/Services/RoleSecurityService","Sage/Services/SystemOptions","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/Utility/File/DragDropWatcher","Sage/Utility/File/DefaultDropHandler","Sage/Utility/File/FallbackFilePicker","Sage/Utility/File/LibraryDocument","Sage/Library/DocumentProperties","Sage/UI/Dialogs","Sage/Utility","dijit/ProgressBar","dojo/i18n","dojo/parser","dojo/string","dojo/dom-construct","dojo/_base/lang","dojo/i18n!./nls/FileHandler"],function(_18df,_18e0,_18e1,File,_18e2,_18e3,_18e4,_18e5,_18e6,_18e7,_18e8,_18e9,_18ea,i18n,_18eb,_18ec,_18ed,dLang,nls){Sage.namespace("Library.FileHandler");dojo.mixin(Sage.Library.FileHandler,{_docPropsDlg:false,_fileInputBtn:false,_getNewRequest:function(){var _18ee=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Library.FileHandler._system);_18ee.setResourceKind("libraryDocuments");_18ee.setQueryArg("format","json");return _18ee;},_initSecurity:function(){this.can.add=this._roles.hasAccess("Entities/LibraryDocs/Add");this.can.edit=this._roles.hasAccess("Entities/LibraryDocs/Edit");this.can["delete"]=this._roles.hasAccess("Entities/LibraryDocs/Delete");this.can.manage=(this._roles.hasAccess("Administration/Manage/Library")||this._roles.hasAccess("Administration/View"));},_remote:false,_roles:null,_system:null,can:{add:false,edit:false,"delete":false,manage:false},resources:{},init:function(){var _18ef=Sage.Services.getService("SystemOptions");if(_18ef){_18ef.get("DbType",function(val){this._remote=(val&&val==2);},function(){if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.DbType.");}},this);}else{if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}Sage.Library.FileHandler._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.FileHandler._initSecurity();Sage.Library.FileHandler._system=_18df.getSDataService("system");dLang.mixin(Sage.Library.FileHandler.resources,nls);if(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage){dojo.connect(_18e3,"onFilesDropped",this,"onFilesDropped");}var self=this;this._fileInputBtn=dojo.doc.createElement("INPUT");dojo.attr(this._fileInputBtn,{"type":"file","multiple":"true","accept":"*/*","class":"display-none",onchange:function(e){self.handleHTML5Files(e);}});dojo.place(this._fileInputBtn,"filePicker");Sage.Utility.File.DefaultDropHandler.fileType=Sage.Utility.File.fileType.ftLibraryDocs;},addFiles:function(){if(!(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}if(Sage.gears&&Sage.gears.factory){var _18f0=Sage.gears.factory.create("beta.desktop");_18f0.openFiles(function(files){if(files&&files.length>0){_18e6.createDocuments(files);}});}else{if(File.supportsHTML5File){Sage.Library.FileHandler._fileInputBtn.click();}else{var fbfp=dijit.byId("fallbackFilePicker");if(!fbfp){fbfp=new _18e5({id:"fallbackFilePicker",fileType:Sage.Utility.File.fileType.ftLibraryDocs});}fbfp.show();}}},deleteFile:function(_18f1,_18f2,_18f3){if(!(Sage.Library.FileHandler.can["delete"]||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}var _18f4=Sage.Library.FileHandler._getNewRequest();_18f4.setResourceSelector("'"+_18f1+"'");_18f4["delete"]({},{scope:this,ignoreETag:true,success:function(){if(_18f2&&typeof _18f2==="function"){_18f2();}},failure:function(xhr,sdata){if(_18f3&&typeof _18f3==="function"){_18f3(xhr,sdata);}else{_18e9.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.FileDeleteError});}}});},updateProperties:function(_18f5,data,_18f6,_18f7){if(!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}var _18f8=Sage.Library.FileHandler._getNewRequest();_18f8.setResourceSelector("'"+_18f5+"'");_18f8.setQueryArg("_includeFile","false");_18f8.update(data,{scope:this,success:function(entry){if(_18f6&&typeof _18f6==="function"){_18f6(entry);}},failure:function(xhr,sdata){if(_18f7&&typeof _18f7==="function"){_18f7(xhr,sdata);}else{if(xhr.readyState==4&&xhr.status==412){Sage.UI.Dialogs.showError(Sage.Library.FileHandler.resources.DocumentUpdateConflictError);}else{_18e9.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.DocumentPropertiesUpdateError});}}}});},onFilesDropped:function(files,_18f9){Sage.Utility.File.DefaultDropHandler.fileType=Sage.Utility.File.fileType.ftLibraryDocs;},documentProperties:function(){if(Sage.Library.FileHandler._docPropsDlg===false){Sage.Library.FileHandler._docPropsDlg=new _18e7();}return Sage.Library.FileHandler._docPropsDlg;},getSelectedRow:function(_18fa){try{if(!_18fa){_18fa="$key";}var grid=dijit.byId("libraryGrid");if(grid){var _18fb=grid.selection.getSelected();if(_18fb&&_18fb.length>0){return _18fb[0][_18fa][0];}}return false;}catch(e){console.error(e);return false;}},handleHTML5Files:function(e){if(this._fileInputBtn.files.length>0){_18e6.createDocuments(this._fileInputBtn.files);}},handleAddButtonClicked:function(event){Sage.Library.FileHandler.addFiles();},findDirectoryId:function(_18fc){if(!_18fc){if(Sage.Library.Manager){return Sage.Library.Manager.getOpenFolderId();}else{return "";}}try{var _18fd=dijit.getEnclosingWidget(_18fc);if(_18fd&&typeof _18fd==="object"&&_18fd.isTreeNode){if(_18fd.item){if(_18fd.item.root!==true){if(_18fd.item.id&&dojo.isArray(_18fd.item.id)&&_18fd.item.id.length==1){return _18fd.item.id[0];}else{return "";}}else{return _18fd.item.id;}}}}catch(e){if(typeof console!=="undefined"){console.error(e);}}if(Sage.Library.Manager){return Sage.Library.Manager.getOpenFolderId();}return "";},editLibraryFileProps:function(){var row=Sage.Library.FileHandler.getSelectedRow();if(row){var _18fe=!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage);Sage.Library.FileHandler.showPropertiesDialog(row,_18fe);}else{Sage.UI.Dialogs.showInfo(Sage.Library.FileHandler.resources.PleaseSelectFile);}},validateProperties:function(_18ff){if(!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage)){return;}if(!_18ff){return;}if(typeof console!=="undefined"){try{var _1900=dojo.clone(_18ff);}catch(e){console.error(e);}}var _1901=["abstract","createDate","description","expireDate","expires","fileName","flags","revisionDate","doNotExpire","forceDistribution","status","fileSize","directory"];dojo.forEach(_1901,function(prop){if(_18ff.hasOwnProperty(prop)){var value=_18ff[prop];var _1902;var _1903;switch(prop){case "expireDate":case "revisionDate":_1902=_18ff[prop+"$originalValue"];if(_1902&&dojo.isString(_1902)&&_18e9.Convert.isDateString(_1902)){var _1904=_18e9.Convert.toDateFromString(_1902);_1904=new Date(_1904.getUTCFullYear(),_1904.getUTCMonth(),_1904.getUTCDate());if(value&&value.toString()===_1904.toString()){delete _18ff[prop];}}break;case "doNotExpire":if(value){if(_18ff.hasOwnProperty("expires")){_1903=dojo.isArray(value)&&value.length>0&&value[0]==="on";var _1905=_18ff["expires"];if(_1905===null){_1905="false";}if((!_1903&&_1905=="true")||(_1903&&_1905=="false")){delete _18ff["expires"];}else{_18ff["expires"]=(_1903)?false:true;}}}delete _18ff[prop];break;case "forceDistribution":if(value){if(_18ff.hasOwnProperty("flags")){_1903=dojo.isArray(value)&&value.length>0&&value[0]==="on";var flags=_18ff["flags"];if(flags===null){flags="0";}if((!_1903&&flags==="0")||(_1903&&flags==="1")){delete _18ff["flags"];}else{_18ff["flags"]=(_1903)?1:0;}}}delete _18ff[prop];break;case "expires":case "flags":break;case "status":case "createDate":case "fileSize":case "directory":delete _18ff[prop];break;default:_1902=_18ff[prop+"$originalValue"];if(value===null&&_1902===null){delete _18ff[prop];}else{if(value!==null&&_1902===null){}else{if(value===null&&_1902!==null){}else{if(dojo.isString(value)&&dojo.isString(_1902)){if(value==_1902){delete _18ff[prop];}}}}}break;}}if(_18ff.hasOwnProperty(prop+"$originalValue")){delete _18ff[prop+"$originalValue"];}});if(typeof console!=="undefined"){}var _1906=false;dojo.some(_1901,function(prop){if(_18ff.hasOwnProperty(prop)){_1906=true;return true;}else{return false;}});if(_1906){var sKey=_18ff.$key;delete _18ff.$key;Sage.Library.FileHandler.updateProperties(sKey,_18ff,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);});}},closePropertiesDialog:function(){Sage.Library.FileHandler.documentProperties().hide();},showPropertiesDialog:function(_1907,_1908,_1909){if(_1907){var _190a=Sage.Library.FileHandler._getNewRequest();_190a.setResourceSelector("'"+_1907+"'");_190a.setQueryArg("_includeFile","false");_190a.setQueryArg("include","directory/fullPath");_190a.read({scope:this,success:function(entry){var _190b=["abstract","createDate","description","expireDate","expires","fileName","flags","revisionDate","status"];dojo.forEach(_190b,function(prop){var value=entry[prop];if(prop!="createDate"){entry[prop+"$originalValue"]=value;}switch(prop){case "createDate":case "expireDate":case "revisionDate":if(value&&dojo.isString(value)&&_18e9.Convert.isDateString(value)){var date=_18e9.Convert.toDateFromString(value);entry[prop]=new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate());}break;case "expires":if(value===null){entry[prop]="false";}break;case "flags":if(value===null){entry[prop]=0;}break;case "abstract":case "description":case "fileName":if(value===null){entry[prop]="";}break;case "status":entry[prop]=Sage.Library.FileHandler.translateStatus(value);break;}});Sage.Library.FileHandler.documentProperties().show(entry,_1908);},failure:function(xhr,sdata){if(_1909&&typeof _1909==="function"){_1909(xhr,sdata);}else{_18e9.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.DocumentPropertiesError});}}});}},handleDeleteButtonClicked:function(_190c,event){var name=Sage.Library.FileHandler.getSelectedRow("fileName");if(name){var msg=_18ec.substitute(Sage.Library.FileHandler.resources.DeleteFileCnfmFmt,[name]);Sage.UI.Dialogs.raiseQueryDialog(Sage.Library.FileHandler.resources.Confirm,msg,Sage.Library.FileHandler.handleDeleteConfirmed,Sage.Library.FileHandler.resources.Yes,Sage.Library.FileHandler.resources.No,"questionIcon");}else{Sage.UI.Dialogs.showInfo(Sage.Library.FileHandler.resources.PleaseSelectFile);}},handleDeleteConfirmed:function(ok){if(ok){var id=Sage.Library.FileHandler.getSelectedRow();if(id){Sage.Library.FileHandler.deleteFile(id,function(){dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);});}}},logRemoteDocRequest:function(_190d){if(!this._remote){return;}var _190e=new Sage.SData.Client.SDataServiceOperationRequest(this._system);_190e.setResourceKind("libraryDocuments");_190e.setQueryArg("format","json");_190e.setOperationName("RequestLibraryDocument");var _190f={"$name":"RequestLibraryDocument","request":{"entity":{$key:_190d},"LibraryDocumentId":_190d}};_190e.execute(_190f,{scope:this,success:function(entry){var _1910=false;if(dojo.isObject(entry)){var _1911=entry.response||null;if(_1911!==null){_1910=_1911.Result||false;}}if(_1910===false){_18e8.showError(Sage.Library.FileHandler.resources.LogRequestError);}},failure:function(xhr,sdata){_18e9.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.LogRequestError});}});},showAccessError:function(){Sage.UI.Dialogs.showError(Sage.Library.FileHandler.resources.AccessError);},translateStatus:function(_1912){if(!dojo.isString(_1912)){return Sage.Library.FileHandler.resources.Unknown;}switch(_1912){case "Available":return Sage.Library.FileHandler.resources.Available;case "Ordered":return Sage.Library.FileHandler.resources.Ordered;case "Delivered":return Sage.Library.FileHandler.resources.Delivered;case "Revised":return Sage.Library.FileHandler.resources.Revised;case "RevisionOrdered":return Sage.Library.FileHandler.resources.RevisionOrdered;case "DeliveredRead":return Sage.Library.FileHandler.resources.DeliveredRead;default:return Sage.Library.FileHandler.resources.Unknown;}},updateRemoteStatus:function(_1913,_1914,_1915,_1916){if(!this._remote){return;}var _1917=Sage.Library.FileHandler._getNewRequest();_1917.setResourceSelector("'"+_1913+"'");_1917.setQueryArg("_includeFile","false");_1917.update({status:_1914},{scope:this,success:function(entry){if(_1915&&typeof _1915==="function"){_1915(entry);}},failure:function(xhr,sdata){if(_1916&&typeof _1916==="function"){_1916(xhr,sdata);}else{_18e9.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.FileStatusError});}}});}});Sage.Library.FileHandler.init();return Sage.Library.FileHandler;});},"Sage/Utility/File/nls/GoogleDocPicker":function(){define("Sage/Utility/File/nls/GoogleDocPicker",["Sage/LanguageList","dojo/_base/lang"],function(_1918,lang){var nls={root:{googleDocumentsTitle:"Google Documents",couldNotOpenWindowMsg:"Could not open authentication window - please check your popup blocker settings."}};return lang.mixin(_1918,nls);});},"Sage/QuickForms/Design/nls/ComboBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/ComboBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1919,lang){var nls={root:{displayNameText:"ComboBox"}};return lang.mixin(_1919,nls);});},"Sage/UI/SDataSummaryFormatterScope":function(){define("Sage/UI/SDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/Data/SDataSummaryViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_191a,i18n,_191b,_191c,_191d,_191e){var _191f=_191e("Sage.UI.SDataSummaryFormatterScope",[_191b],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _191c(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _191f;});},"Sage/MainView/ActivityMgr/nls/LitRequestListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/LitRequestListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1920,lang){var nls={root:{colNameView:"View",colNameContact:"Contact",colNameDescription:"Description",colNameFillDate:"Filled",colNameFillStatus:"Status",colNameOptions:"Options",colNamePriority:"Priority",colNameReqestDate:"Request Date",colNameSendDate:"Send Date",colNameSendVia:"Send Via",colNameTotalCost:"Total Cost",colNameFillUser:"Fill User",colNameReqestUser:"Request User",colNameAccount:"Account",colNamePostalCode:"Postal Code"}};return lang.mixin(_1920,nls);});},"Sage/MainView/ActivityMgr/nls/HistoryEditor":function(){define("Sage/MainView/ActivityMgr/nls/HistoryEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1921,lang){var nls={root:{labelWidth:"100",tabNameGeneralText:"General",tabNameAttachmentsText:"Attachments",scheduleText:"Schedule",startTimeText:"Scheduled",completedDateText:"Completed",timeLessText:"Timeless",durationText:"Duration",contactText:"Contact",accountText:"Account",leadText:"Lead",opportunityText:"Opportunity",ticketText:"Ticket",companyText:"Company",regardingText:"Regarding",resultText:"Result",notesText:"Notes",priorityText:"Priority",leaderText:"Leader",categoryText:"Category",locationText:"Location",scheduledByFormatText:"Scheduled by ${user} on ${date}",cancelText:"Cancel",okText:"OK",deleteText:"Delete",lookupActText:"Lookup Account",lookupContactText:"Lookup Contact",lookupOpportunityText:"Lookup Opportunity",lookupTicketText:"Lookup Ticket",lookupLeadText:"Lookup Lead",lookupLeaderText:"Lookup Leader",lookupResourcesText:"Lookup",mainPhoneText:"Main Phone",typeText:"Type",subTypeText:"Sub-Type",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",acctMgrText:"Acct Manager",descriptionText:"Description",stageText:"Stage",statusText:"Status",ownerText:"Owner",ticketNumberText:"Ticket Number",phoneText:"Phone",urgencyText:"Urgency",areaText:"Area",recurringText:"Recurring",followupText:"Follow-up",noneText:"None",carryOverAttachmentsText:"Carry Over Attachments",carryOverNotesText:"Carry Over Notes",asScheduledText:"As Scheduled",insertText:"Insert",couldNotSaveErrorText:"We're sorry, the history could not be saved because an error occurred.",deleteMessage:"You are about to permanently delete this record.",deleteTitle:"Delete History",couldNotDeleteErrorText:"We're sorry, the history could not be deleted because an error occurred.",postalText:"Postal Code",tabNameParticipants:"All Participants"}};return lang.mixin(_1921,nls);});},"Sage/UI/DetailPanel":function(){define("Sage/UI/DetailPanel",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/i18n","dijit/registry","dijit/layout/BorderContainer","dijit/Toolbar","dijit/ToolbarSeparator","Sage/_Templated","Sage/UI/_DetailPanelConfigurationProvider"],function(_1922,lang,array,_1923,_1924,i18n,_1925,_1926,_1927,_1928,_1929,_192a,_192b){return _1922("Sage.UI.DetailPanel",[_1926,_1929],{widgetsInTemplate:true,contentTemplate:new Simplate(["<div class=\"detail-panel-toolbar listPanelToolbar rightTools\" data-dojo-type=\"dijit.Toolbar\" style=\"{%= $.toolbarStyle %}\" data-dojo-attach-point=\"_toolbar\" data-dojo-props=\"region: 'top', align: 'right', splitter: false\">","<span data-dojo-type=\"dijit.ToolbarSeparator\" data-dojo-attach-point=\"_buttonSeparator\"></span>","<div data-dojo-type=\"dijit.form.Button\" data-dojo-attach-point=\"_helpButton\" data-dojo-attach-event=\"onClick:showHelp\" data-dojo-props=\"showLabel:true\">{%= $.helpText %}</div>","</div>"]),helpText:"Help",helpTopicName:"detailview",toolbarStyle:"",toolbarActive:true,id:"detailPanel",buildRendering:function(){this.inherited(arguments);_1924.add(this.domNode,"detail-panel");},startup:function(){this.inherited(arguments);this.requestConfiguration();},showHelp:function(){Sage.Utility.openHelp(this.helpTopicName);},requestConfiguration:function(){if(this.configurationProvider){this.configurationProvider.requestDetailModeConfiguration({scope:this,success:this._applyConfiguration});}},_applyConfiguration:function(_192c){this._configuration=_192c;this._configureToolbar(_192c);this._configureContent(_192c);},_configureContent:function(_192d){var _192e=_192d&&_192d.content;if(_192e){var _192f=_192e;if(lang.isFunction(_192f)){_192f=_192f.call(this,_192d,this);}if(_192f){if(this._content){this.removeChild(this._content);this._content.destroyRecursive();this._content=null;}_192f.set("region","center");this._content=_192f;this.addChild(_192f);this.layout();}}},_configureToolbar:function(_1930){if(this._toolbarApplied){return;}var _1931=_1930&&_1930.toolBar;if(_1931===false){if(this.toolbarActive){this.removeChild(this._toolbar);this.toolbarActive=false;}}else{if(_1931){if(!this.toolbarActive){this.addChild(this._toolbar);this.toolbarActive=true;}array.forEach(_1931.items,function(item,index){this._toolbar.addChild(new dijit.form.Button(item),index);},this);}}this._toolbarApplied=true;}});});},"Sage/Groups/nls/GroupManager":function(){define("Sage/Groups/nls/GroupManager",["Sage/LanguageList","dojo/_base/lang"],function(_1932,lang){var nls={root:{ConfirmDeleteMessage:"Are you sure you want to delete the current group?",ConfirmDeleteFmtMessage:"Are you sure you want to delete this group: ${0}",InvalidSortStringMessage:"Error: Invalid sort string - ",InvalidConditionStringMessage:"Error: Invalid condition string - ",InvalidLayoutConditionStringMessage:"Error: Invalid layout string - ",noneSelectedTitle:"No records selected",noneSelectedPromptFmt:"No records selected. The full group, ${0} record(s), will be added.  Proceed?",noneSelectedRemovePromptFmt:"No records selected. The full group, ${0} record(s), will be removed.  Proceed?",noRecordsInGroup:"There are no records to be selected from this group.",newGroupTitle:"Add Records to new Group",newGroupNamePrompt:"${0} selected record(s) will be added to this new group.<br><br>Group Name:<br>${1}",newGroupRePrompt:"&nbsp;&nbsp;<i>Please enter a group name.</i>",invalidCharMsg:"Name Cannot contain: / \\ : * ? \" <> | or '",groupNameText:"Group Name:",saveLookupDlgTitle:"Save Lookup Results as New Group",yesCaption:"Yes",noCaption:"No",cancelCaption:"Cancel",okCaption:"OK",LOCALSTORE_NAMESPACE:"SageGroups",exportToExcel:"This method has been deprecated, please see Sage.TaskPane.CommonTasksTasklet.exportToExcel."}};return lang.mixin(_1932,nls);});},"Sage/UI/TimelessActivitiesPane":function(){define("Sage/UI/TimelessActivitiesPane",["dijit/_Widget","dojo/i18n","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","Sage/UI/Columns/ActivityType","Sage/UI/Columns/HistoryType","Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","dojo/_base/lang","dojo/string","dojo/i18n!./nls/TimelessActivitiesPane","dojo/_base/declare"],function(_1933,i18n,_1934,_1935,_1936,_1937,_1938,_1939,_193a,lang,_193b,_193c,_193d){var _193e=_193d("Sage.UI.TimelessActivitiesPane",_1933,{gridMode:null,Id:null,grid:null,currentUserIds:[],userColor:[],queryStartDate:null,queryEndDate:null,currentUserDeafultCalendarView:null,schedulerDate:null,weekStart:null,workWeekStart:null,users:{},userActivities:[],constructor:function(_193f){lang.mixin(this,i18n.getLocalization("Sage.UI","TimelessActivitiesPane",this.lang));this.Id=_193f.Id;this.users=_193f.users;this.gridMode=_193f.mode;var _1940;var self=this;var _1941=function(data){var ndate=data.date.valueOf();switch(data.mode){case "day":var _1942=new Date(ndate);_1942.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_1942);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_1942);break;case "month":var _1943=dojo.date.getDaysInMonth(new Date(ndate));var _1944=new Date(new Date(ndate).setDate(1));_1944.setHours(0,0,0,0);var _1945=new Date(new Date(ndate).setDate(_1943));_1945.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_1944);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_1945);break;case "week":var _1946=new Date(data.weekStartDate.valueOf());var _1947=new Date(data.weekEndDate.valueOf());_1946.setHours(0,0,0,0);_1947.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_1946);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_1947);break;case "workweek":var _1948=new Date(data.workWeekStartDate.valueOf());var _1949=new Date(data.workWeekEndDate.valueOf());_1948.setHours(0,0,0,0);_1949.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_1948);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_1949);break;default:var sDate=new Date(ndate);sDate.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(sDate);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(sDate,"day",1);break;}};if(this.users){for(var i in this.users){_1940=lang.trim(this.users[i]["userId"].toString());var _194a=_193b.substitute("'${0}'",[_1940]);if(dojo.indexOf(this.currentUserIds,_194a)==-1){this.currentUserIds.push(_194a);}if(this.users[i]["usercolor"]){this.userColor[_1940]=lang.trim(this.users[i]["usercolor"].toString());}if(this.currentUserDeafultCalendarView===null){this.currentUserDeafultCalendarView=this.users[i]["defaultcalendarview"].toString();}if(this.weekStart===null){this.weekStart=this.users[i]["weekstartdate"];}if(this.weekEnd===null){this.weekEnd=this.users[i]["weekenddate"];}if(this.workWeekStart===null){this.workWeekStart=this.users[i]["workweekstartdate"];}if(this.workWeekEnd===null){this.workWeekEnd=this.users[i]["workweekenddate"];}}var _194b={};_194b.mode=this.currentUserDeafultCalendarView;_194b.date=new Date();_194b.weekStartDate=this.weekStart;_194b.weekEndDate=this.weekEnd;_194b.workWeekStartDate=this.workWeekStart;_194b.workWeekEndDate=this.workWeekEnd;_1941(_194b);}dojo.subscribe("/sage/ui/calendarUserList/updated",function addUser(_194c){if(_194c){self.currentUserIds=[];for(var i in _194c){var _194d=lang.trim(_194c[i]["userId"].toString());var _194e=_193b.substitute("'${0}'",[_194d]);if(dojo.indexOf(self.currentUserIds,_194e)==-1){self.currentUserIds.push(_194e);}if(_194c[i]["usercolor"]){self.userColor[_194d]=lang.trim(_194c[i]["usercolor"].toString());}}}self.userActivities=[];setTimeout(function(){self.grid.refresh();},"1");});dojo.subscribe("/sage/ui/calendarUser/selectionChanged/add",function addUser(data){var _194f=lang.trim(data.userId.toString());var _1950=_193b.substitute("'${0}'",[_194f]);if(dojo.indexOf(self.currentUserIds,_1950)==-1){self.currentUserIds.push(_1950);}self.userColor[_194f]=data.usercolor.toString();self.userActivities=[];setTimeout(function(){self.grid.refresh();},"1");});dojo.subscribe("/sage/ui/calendarUser/selectionChanged/remove",function removeUser(data){self.currentUserIds=dojo.filter(self.currentUserIds,function(item){return item!="'"+data.userId.toString()+"'";});self.userActivities=[];self.grid.refresh();});dojo.subscribe("/entity/activity/calendar/schedulerDateChanged",function refreshList(data){_1941(data);self.userActivities=[];self.grid.refresh();});dojo.subscribe("/entity/activity/create",function(data){self.refreshGrid(data);});dojo.subscribe("/entity/userActivities/timeless/saved",function(data){self.grid.refresh();});dojo.subscribe("/entity/activity/change",function(data){self.refreshGrid(data);});dojo.subscribe("/entity/activity/timeless/delete",function(data){self.userActivities=[];self.grid.refresh();});},refreshGrid:function(data){if(data!==null){if(data.Timeless||data.TimelessChanged){this.userActivities=[];this.grid.refresh();}}},startup:function(){var self=this;var _1951;if(this.gridMode==="completed"){_1951={context:null,readOnly:true,columns:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_1952,cel){var _1953=[cel.grid.id,"-row",_1952].join("");var id=(Sage.Utility.getModeId()==="insert")?_1953:value;var _1954=["<div id=",id," >",id,"</ div>"].join("");return _1954;}},{field:"UserId",name:" ",sortable:false,width:"20px",formatter:function(value){return "<div class='userStyles "+self.userColor[value]+"'></div>";}},{field:"Type",keyField:"$key",name:this.header_type,type:_1937,width:"90px"},{field:"ContactName",name:this.header_contact,width:"100px"},{field:"Description",name:this.header_regarding,width:"100px"}],storeOptions:{service:_1939.getSDataService("dynamic"),resourceKind:"history",include:["$descriptors"],select:["$key","Regarding","Description","AccountId","AccountName","ActivityId","ContactName","Recurring","StartDate","Timeless","Type","Priority","Leader/$key","PhoneNumber","LeadId","LeadName","LongNotes","Location","UserName"],sort:[{attribute:"StartDate",descending:true}]},tools:[],contextualCondition:function(){if(self.queryStartDate===null){self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(new Date());}if(self.queryEndDate===null){self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(new Date());}return dojo.string.substitute("UserId in (${0}) and Timeless and StartDate between @${1}@ and @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[self.currentUserIds.toString(),self.queryStartDate,self.queryEndDate]);},id:this.Id,tabId:"ActivityCalendar",gridNodeId:this.gridNodeId,rowsPerPage:10,singleClickEdit:true,dblClickAction:Sage.Link.editActivity,selectionMode:"single"};}else{_1951={context:null,readOnly:true,columns:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_1955,cel){var _1956=[cel.grid.id,"-row",_1955].join("");var id=(Sage.Utility.getModeId()==="insert")?_1956:value;var _1957=["<div id=",id," >",id,"</ div>"].join("");return _1957;}},{field:"UserActivities.$resources",name:" ",sortable:false,width:"20px",formatter:function(data){var uId;if(data){for(var i=0;i<data.length;i++){var _1958=data[i];if(!_1958["remove"]){var _1959=_1958.User.$key;uId=_1959;}}}return "<div class='userStyles "+self.userColor[uId]+"'></div>";}},{field:"Type",keyField:"$key",name:this.header_type,type:_1936,width:"90px"},{field:"ContactName",name:this.header_contact,width:"100px"},{field:"Description",name:this.header_regarding,width:"100px"}],storeOptions:{service:_1939.getSDataService("system"),resourceKind:"activities",include:["$descriptors,UserInfo"],select:["$key","Regarding","Description","AccountId","AccountName","ActivityId","ContactName","Recurring","StartDate","Timeless","Type","Priority","Leader/$key","PhoneNumber","LeadId","LeadName","LongNotes","Location","UserActivities/User/$key"],sort:[{attribute:"StartDate",descending:true}],onComplete:this._onComplete},tools:[],contextualCondition:function(){if(self.queryStartDate===null){self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(new Date());}if(self.queryEndDate===null){self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(new Date());}return dojo.string.substitute("UserActivities.UserId in (${0}) and Timeless and UserActivities.Status ne 'asDeclned' and StartDate between @${1}@ and @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[self.currentUserIds.toString(),self.queryStartDate,self.queryEndDate]);},id:this.Id,tabId:"ActivityCalendar",gridNodeId:this.gridNodeId,rowsPerPage:10,singleClickEdit:true,dblClickAction:Sage.Link.editActivity,selectionMode:"single"};}var grid=new _1935(_1951);var _195a=dijit.byId(grid.gridNodeId);_195a.addChild(grid);window.setTimeout(function(){grid.startup();_195a.resize();},1);this.grid=grid;grid.onRowContextMenu=function(e){var item=e.grid.getItem(e.rowIndex);self._bindContextMenu(item.$key,new Date(),e.grid.domNode);};var _195b=function(id){var valid=false;if(id){if(id.trim()!==""){valid=true;}}return valid;};grid.onRowMouseOver=function(e){var item=e.grid.getItem(e.rowIndex);var html="";var _195c,_195d="";if(item.Type){html+=self.tooltip_type+" : "+Sage.Utility.Activity.getActivityTypeName(item.Type)+"<br>";}if(_195b(item.LeadId)){html+=self.tooltip_lead+" : "+item.LeadName+"<br>";if(item.AccountName){html+=self.tooltip_company+" : "+item.AccountName+"<br>";}}else{if(item.ContactName){html+=self.tooltip_contact+" : "+item.ContactName+"<br>";}if(item.AccountName){html+=self.tooltip_account+" : "+item.AccountName+"<br>";}}if(item.PhoneNumber){html+=self.tooltip_phone+" : "+item.PhoneNumber+"<br>";}if(item.UserId){_195c=item.UserId;_195d=item.UserName;}else{if(item.Leader){_195c=item.Leader.$key;_195d=item.Leader.$descriptor;}}if(lang.trim(_1938.getClientContextByKey("userID")).toUpperCase()!==_195c){if(_195d){html+=self.tooltip_leader+" : "+_195d+"<br>";}}if(item.Description){html+=self.tooltip_regarding+" : "+item.Description+"<br>";}if(item.Location){html+=self.tooltip_location+" : "+item.Location+"<br>";}if(item.LongNotes){html+=self.tooltip_notes+" : "+item.LongNotes+"<br>";}dijit.showTooltip(html,e.cellNode);};grid.onRowMouseOut=function(e){dijit.hideTooltip(e.cellNode);};dojo.connect(this.grid,"onHeaderCellClick",function(e){self.userActivities=[];this.inherited(arguments);});dojo.connect(dijit.byId("TaskPane_splitter"),"onMouseUp",function(e){self.userActivities=[];});},_startGrid:function(data){this.grid.startup();},_onComplete:function(data){var self=this;if(data){self.userActivities=[];var cnt=data.length;for(var i=0;i<cnt;i++){var _195e=false;var _195f=data[i]["$key"];if(data[i].UserActivities){var _1960=data[i].UserActivities.$resources;var ln=_1960.length;for(var j=0;j<ln;j++){if(_195e){data[i].UserActivities.$resources[j]["remove"]=true;continue;}var _1961=_1960[j];var _1962=_1961.User.$key;var _1963=self.userActivities[_195f];if(_1963){if(dojo.indexOf(_1963,_1962)<0){self.userActivities[_195f].push(_1962);_195e=true;}else{data[i].UserActivities.$resources[j]["remove"]=true;}}else{self.userActivities[_195f]=[];self.userActivities[_195f].push(_1962);_195e=true;}}}else{var uId=data[i].Leader.$key;var uIds=self.userActivities[_195f];if(uIds){if(dojo.indexOf(uIds,uId)<0){self.userActivities[_195f].push(uId);}}else{self.userActivities[_195f]=[];self.userActivities[_195f].push(uId);}data[i].UserActivities=[];data[i].UserActivities.$resources=[];var _1964={};_1964.$key=uId;_1964.User={$key:uId};data[i].UserActivities.$resources.push(_1964);}}}},_bindContextMenu:function(_1965,_1966,_1967){if(this.pMenu1){this.pMenu1.unBindDomNode(_1967);}this.pMenu1=null;this.pMenu1=new dijit.Menu({});var _1968="mnuCalendarActivity";if(this.gridMode==="completed"){_1968="mnuCalendarHistory";}var _1969=Sage.UI.DataStore.ContextMenus.calendar_activityContextMenu.items;var len=_1969.length;for(var i=0;i<len;i++){var mDef=_1969[i];if(mDef.id===_1968){this._buildChildMenu(mDef.submenu,null,_1965,_1966);break;}}this.pMenu1.bindDomNode(_1967);},_buildChildMenu:function(_196a,_196b,_196c,_196d){var len=_196a.length;for(var i=0;i<len;i++){var mDef=_196a[i];if(mDef.submenu.length>0){var _196e=new dijit.Menu();this._buildChildMenu(mDef.submenu,_196e,_196c,_196d);var _196f=new dijit.PopupMenuItem({label:mDef.text,popup:_196e});if(_196b){_196b.addChild(_196f);}else{this.pMenu1.addChild(_196f);}}else{var _1970=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_1970=new dijit.MenuSeparator();}else{var href=mDef.href;var self=this;_1970=new Sage.UI.MenuItem({label:mDef.text||"...",icon:"Libraries/dojo/dojo/resources/blank.gif",title:mDef.tooltip||"",ref:href,onClick:function(){switch(this.ref.toUpperCase()){case "OPENACTIVITY":Sage.Link.editActivity(_196c);break;case "OPENHISTORY":Sage.Link.editHistory(_196c);break;case "COMPLETEACTIVITY":Sage.Link.completeActivity(_196c);break;case "DELETEACTIVITY":Sage.Link.deleteActivity(_196c,function(data){self.grid.refresh();});break;case "GOTOACCOUNT":Sage.Link.goToActivityAssociation("Account",_196c);break;case "GOTOCONTACT":Sage.Link.goToActivityAssociation("Contact",_196c);break;case "GOTOOPPORTUNITY":Sage.Link.goToActivityAssociation("Opportunity",_196c);break;case "GOTOTICKET":Sage.Link.goToActivityAssociation("Ticket",_196c);break;case "GOTOLEAD":Sage.Link.goToActivityAssociation("Lead",_196c);break;}}});}if(_196b){_196b.addChild(_1970);}else{this.pMenu1.addChild(_1970);}}}}});return _193e;});},"url:Sage/MainView/ActivityMgr/templates/RecurringEditor.html":"\r\n['<div>',\r\n    '<table style=\"width:100%\">',\r\n        '<tr>',\r\n            '<td class=\"recurring-selectors\">',  //radio buttons...\r\n                '<div>{%= $.activityOccurrsText %}</div>',\r\n                '<div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"None\" id=\"{%= $.id %}_rdo_Once\" dojoAttachPoint=\"rdo_Once\" checked=\"true\" dojoAttachEvent=\"onChange:_onceChanged\" />',  //  \r\n                    '<label for=\"{%= $.id %}_rdo_Once\">&nbsp;{%= $.onceText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"daily\" id=\"{%= $.id %}_rdo_Daily\" dojoAttachPoint=\"rdo_Daily\" dojoAttachEvent=\"onChange:_dailyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Daily\">&nbsp;{%= $.dailyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"weekly\" id=\"{%= $.id %}_rdo_Weekly\" dojoAttachPoint=\"rdo_Weekly\" dojoAttachEvent=\"onChange:_weeklyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Weekly\">&nbsp;{%= $.weeklyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"monthly\" id=\"{%= $.id %}_rdo_Monthly\" dojoAttachPoint=\"rdo_Monthly\" dojoAttachEvent=\"onChange:_monthlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Monthly\">&nbsp;{%= $.monthlyText %}</label>',\r\n                '</div><div>',\r\n                    '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"recurPeriod\" value=\"yearly\" id=\"{%= $.id %}_rdo_Yearly\" dojoAttachPoint=\"rdo_Yearly\" dojoAttachEvent=\"onChange:_yearlyChanged\" />',\r\n                    '<label for=\"{%= $.id %}_rdo_Yearly\">&nbsp;{%= $.yearlyText %}</label>',\r\n                '</div>',\r\n            '</td>',\r\n            '<td>',  //panel for each different recurring type...\r\n                '<div dojoType=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"recurring-body\" >',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_oncePanel\" class=\"recurring-panel\"  >',\r\n                        '{%= $.occursOnceText %}',\r\n                    '</div>',\r\n//daily panel...............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_dailyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"days\" id=\"{%= $.id %}_rdoDailyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoDailyEvery\" dojoAttachEvent=\"onChange:_dailyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysText %}</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"dailyEvery\" value=\"daysAfter\" id=\"{%= $.id %}_rdoDailyEveryAfter\" dojoAttachPoint=\"_rdoDailyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoDailyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_dailyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.daysAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n//weekly panel............................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_weeklyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksOn\" id=\"{%= $.id %}_rdoWeeklyEvery\" checked=\"true\" dojoAttachPoint=\"_rdoWeeklyEvery\" dojoAttachEvent=\"onChange:_weeklyEveryChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEvery\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksOnText %}</span>',\r\n                        '</div>',\r\n                        '<div style=\"white-space:normal;padding-bottom:10px;\">',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkMonday\" value=\"mon\" id=\"{%= $.id %}_chkMonday\" dojoAttachPoint=\"_chkMonday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkMonday\" class=\"padded-inline-label\">{%= $.monText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkTuesday\" value=\"tue\" id=\"{%= $.id %}_chkTuesday\" dojoAttachPoint=\"_chkTuesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkTuesday\" class=\"padded-inline-label\">{%= $.tueText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkWednesday\" value=\"wed\" id=\"{%= $.id %}_chkWednesday\" dojoAttachPoint=\"_chkWednesday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkWednesday\" class=\"padded-inline-label\">{%= $.wedText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkThursday\" value=\"thu\" id=\"{%= $.id %}_chkThursday\" dojoAttachPoint=\"_chkThursday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkThursday\" class=\"padded-inline-label\">{%= $.thurText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkFriday\" value=\"fri\" id=\"{%= $.id %}_chkFriday\" dojoAttachPoint=\"_chkFriday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkFriday\" class=\"padded-inline-label\">{%= $.friText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSaturday\" value=\"sat\" id=\"{%= $.id %}_chkSaturday\" dojoAttachPoint=\"_chkSaturday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSaturday\" class=\"padded-inline-label\">{%= $.satText %}</label>',\r\n                            '</span>',\r\n                            '<span class=\"no-wrap\">',\r\n                                '<input dojoType=\"dijit.form.CheckBox\" type=\"checkbox\" name=\"chkSunday\" value=\"sun\" id=\"{%= $.id %}_chkSunday\" dojoAttachPoint=\"_chkSunday\" dojoAttachEvent=\"onClick:_dayChecked\" />',\r\n                                '<label for=\"{%= $.id %}_chkSunday\" class=\"padded-inline-label\">{%= $.sunText %}</label>',\r\n                            '</span>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"weeklyEvery\" value=\"weeksAfter\" id=\"{%= $.id %}_rdoWeeklyEveryAfter\" dojoAttachPoint=\"_rdoWeeklyEveryAfter\" />',\r\n                                '<label for=\"{%= $.id %}_rdoWeeklyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_weeklyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.weeksAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n//monthly panel.........................................................\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_monthlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOn\" id=\"{%= $.id %}_rdoMonthlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoMonthlyOn\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_datesSelect\" dojoAttachEvent=\"onChange:_calculateEnd\" maxHeight=\"300\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyOnThe\" id=\"{%= $.id %}_rdoMonthlyOnThe\" dojoAttachPoint=\"_rdoMonthlyOnThe\" />', // dojoAttachEvent=\"onChange:_monthlyOnChanged\"\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyOnThe\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyOnTheText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsOnTheText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_weekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_calculateEnd\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"monthlyOn\" value=\"monthyAfter\" id=\"{%= $.id %}_rdoMonthlyAfter\" dojoAttachPoint=\"_rdoMonthlyAfter\" dojoAttachEvent=\"onChange:_monthlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoMonthlyAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_monthlyAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.monthsAfterText %}</span>',\r\n                        '</div>',\r\n                    '</div>',\r\n// yearly panel..............\r\n                    '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_yearlyPanel\" class=\"recurring-panel\"  >',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOn\" id=\"{%= $.id %}_rdoYearlyOn\" checked=\"true\" dojoAttachPoint=\"_rdoYearlyOn\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOn\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryText\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_intervalChanged\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsOnText %}</span>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_monthNamesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" maxHeight=\"300\" dojoAttachPoint=\"_yearDatesSelect\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= ($.labelWidth - 3) %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyOnThe\" id=\"{%= $.id %}_rdoYearlyOnThe\" dojoAttachPoint=\"_rdoYearlyOnThe\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyOnThe\" class=\"padded-inline-label\">{%= $.theText %}</label>',\r\n                            '</div>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeeksSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearWeekdaySelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                            '<label class=\"padded-inline-label\">{%= $.inText %}</label>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"_yearMonthNamesSelect\" disabled=\"true\" dojoAttachEvent=\"onChange:_yearlyRecurDateChanged\"></select>',\r\n                        '</div>',\r\n                        '<div>',\r\n                            '<div class=\"recurring-radio-label\" style=\"min-width:{%= $.labelWidth %}px;\">',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"yearlyOn\" value=\"yearlyEveryAfter\" id=\"{%= $.id %}_rdoYearlyEveryAfter\" dojoAttachPoint=\"_rdoYearlyEveryAfter\" dojoAttachEvent=\"onChange:_yearlyOnChanged\" />',\r\n                                '<label for=\"{%= $.id %}_rdoYearlyEveryAfter\" class=\"padded-inline-label\">{%= $.everyText %}</label>',\r\n                            '</div>',\r\n                            '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"1\" constraints=\"{places: 0, type: \\'decimal\\'}\" dojoAttachPoint=\"_yearlyEveryAfterText\" disabled=\"true\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_calculateEnd\" />',\r\n                            '<span class=\"padded-inline-label\">{%= $.yearsAfterText %}</span>',\r\n                            '</div>',\r\n                    '</div>',\r\n                '</div>', //stack container\r\n// End date calculator section.........................................\r\n                '<div dojoAttachPoint=\"_startEndCalculator\" class=\"display-none\">',\r\n                    '<hr />',\r\n                    '<table>',\r\n                        '<tr>',\r\n                            '<td>{%= $.startRecurringText %}</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartRecur\" value=\"{%= $.startDate %}\" dojoAttachPoint=\"dtp_startRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_recurringStartDateChanged\" readOnly=\"true\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                        '<tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endAfterNum\" id=\"{%= $.id %}_rdoEndAfterNum\" dojoAttachPoint=\"_rdoEndAfter\" dojoAttachEvent=\"onChange:_endCalcModeChanged\" checked=\"true\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndAfterNum\" class=\"padded-inline-label\">{%= $.endAfterText  %}</label>',\r\n                            '</td><td>',\r\n                                '<input dojoType=\"Sage.UI.NumberTextBox\" shouldPublishMarkDirty=\"false\" value=\"2\" constraints=\"{places: 0, type: \\'decimal\\', max: 999, min: 1}\" maxlength=\"3\" id=\"{%= $.id %}_num_Occurances\" dojoAttachPoint=\"num_Occurances\" class=\"small-inline-textbox\" dojoAttachEvent=\"onChange:_numOccurancesChanged\" />',\r\n                                '<span class=\"padded-inline-label\">{%= $.occurrencesText %}</span>',\r\n                            '</td>',\r\n                        '</tr><tr>',\r\n                            '<td>',\r\n                                '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"endRecur\" value=\"endOn\" id=\"{%= $.id %}_rdoEndOn\" dojoAttachPoint=\"_rdoEndOn\" />',\r\n                                '<label for=\"{%= $.id %}_rdoEndOn\" class=\"padded-inline-label\">{%= $.endOnText %}</label>',\r\n                            '</td>',\r\n                            '<td>',\r\n                                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_EndRecur\" dojoAttachPoint=\"dtp_endRecur\" displayDate=\"true\" displayTime=\"false\" dojoAttachEvent=\"onChange:_endRecurChanged\" ></div>',\r\n                            '</td>',\r\n                        '</tr>',\r\n                    '</table>',\r\n                '</div>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</table>',\r\n'</div>']","Sage/UI/Columns/DndCell":function(){require({cache:{"url:Sage/UI/Columns/templates/DndCell.html":"<div>\r\n    <div data-dojo-type=\"dojo.dnd.Source\" dojoAttachPoint=\"sourceNode\" copyOnly=\"true\" accept=\"\">\r\n        <div class=\"dojoDndItem\" dojoAttachPoint=\"dndItem\"></div>\r\n    </div>\r\n</div>\r\n"}});define("Sage/UI/Columns/DndCell",["dijit/_Widget","dijit/_Templated","dojo/dnd/Source","dojo/text!./templates/DndCell.html","dojo/_base/declare"],function(_1971,_1972,_1973,_1974,_1975){var _1976=_1975("Sage.UI.Columns.DndCell",[_1971,_1972],{templateString:_1974,widgetsInTemplate:true,value:null,index:-1,constructor:function(_1977){this.inherited(arguments);},postCreate:function(){this.dndItem.innerHTML=this.get("value");this.dndItem.type="cell";this.dndItem.data={value:this.get("value"),index:this.index};this.inherited(arguments);}});return _1976;});},"Sage/QuickForms/Design/Editors/nls/DateTimePickerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DateTimePickerAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1978,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",buttonToolTipText:"Button Tooltip:",buttonToolTipTooltipText:"The tooltip  to display when the user\\'s mouse hovers over the button part of the control.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",timelessText:"Timeless:",timelessTooltipText:"Use date without time and no DST conversion.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},displayModeTypeText:{AsControl:"As Control",AsText:"As Text",AsHyperlink:"As Hyperlink"}}};return lang.mixin(_1978,nls);});},"Sage/UI/ComboBox":function(){define("Sage/UI/ComboBox",["dijit/form/ComboBox","dojo/currency","dojo/_base/declare"],function(_1979,_197a,_197b){var _197c=_197b("Sage.UI.ComboBox",[_1979],{_hClickBody:false,maxHeight:dojo.isIE?160:170,shouldPublishMarkDirty:true,autoPostBack:false,_onKeyPress:function(e){dojo.stopEvent(e);},postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},onClickBody:function(e){if(dojo.isIE>=9&&this._opened){var obj=dijit.getEnclosingWidget(e.target);if(obj&&obj===this){return;}this.closeDropDown();}},closeDropDown:function(focus){if(dojo.isIE>=9&&this._hClickBody){dojo.disconnect(this._hClickBody);this._hClickBody=false;}this.inherited(arguments);},openDropDown:function(){if(dojo.isIE>=9){this._hClickBody=dojo.connect(document.body,"onclick",this,this.onClickBody);}this.inherited(arguments);}});return _197c;});},"Sage/QuickForms/Design/Editors/nls/ComboBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ComboBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_197d,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_197d,nls);});},"Sage/UI/Dialogs":function(){define("Sage/UI/Dialogs",["dijit/form/Button","dijit/Dialog","dijit/ProgressBar","dijit/form/TextBox","dijit/form/ValidationTextBox","dojo/i18n!./nls/Dialogs","dojo/_base/array"],function(_197e,_197f,_1980,_1981,_1982,_1983,array){Sage.namespace("UI.Dialogs");dojo.mixin(Sage.UI.Dialogs,{raiseQueryDialog:function(title,query,_1984,_1985,_1986,_1987){return this.raiseQueryDialogExt({title:title,query:query,callbackFn:_1984,yesText:_1985,noText:_1986,icon:_1987});},raiseQueryDialogExt:function(opts){var dlg=dijit.byId("queryDialog"),_1988,_1989,_198a,_198b,i,_198c,_198d,_198e;if(dlg){dlg.destroyRecursive();}_1988=(opts&&typeof opts.width==="number")?opts.width:700;_1989=new dijit.Dialog({id:"queryDialog",title:opts.title,style:opts.style||{"width":_1988}});_198a=function(_198f){_1989.hide();if(!opts.callbackFn||typeof opts.callbackFn!=="function"){return;}if(_198f){opts.callbackFn.call(opts.scope||this,true);}else{opts.callbackFn.call(opts.scope||this,false);}};_1989.on("hide",function(){_1989.destroyRecursive();});if(opts.icon){var _1990=new dojo.create("div",{id:"queryDialog-iconDiv","class":"messageIcon "+opts.icon});_1989.containerNode.appendChild(_1990);}_198b=[];if(opts.query instanceof Array){for(i=0;i<opts.query.length;i++){_198b.push(dojo.create("div",{id:"queryDialog-questionDiv_"+i,innerHTML:opts.query[i]}));}}else{var div=dojo.create("div",{id:"queryDialog-questionDiv",innerHTML:opts.query});var _1991=div.getElementsByTagName("script");array.forEach(_1991,function(_1992){var src=_1992.getAttribute("src");if(src===null&&_1992.innerHTML!==""){eval(_1992.innerHTML);}else{if(src!==null&&_1992.innerHTML===""){var head=document.getElementsByTagName("head")[0];var clone=dojo.clone(_1992);(head||document.body).appendChild(clone);}else{if(typeof console!=="undefined"){}}}div.removeChild(_1992);});_198b.push(div);}_198c=new dojo.create("div",{id:"queryDialog-buttonDiv",style:"text-align: "+(opts.align||"center")+"; margin-top: 10px"});_198d=new dijit.form.Button({label:opts.yesText||_1983.yesText,id:"qry_yesButton",onClick:function(_1993){_198a(true);}});_198c.appendChild(_198d.domNode);if((opts.noText)||(opts.showNoButton)){_198e=new dijit.form.Button({label:opts.noText||_1983.noText,id:"qry_noButton",style:"padding-left: 10px",onClick:function(_1994){_198a(false);}});_198c.appendChild(_198e.domNode);}dojo.forEach(_198b,function(_1995){_1989.containerNode.appendChild(_1995);});_1989.containerNode.appendChild(_198c);_1989.show();},raiseInputDialog:function(title,query,_1996,_1997,_1998,_1999,_199a,_199b){return this.raiseInputDialogExt({title:title,query:query,callbackFn:_1996,yesText:_1997,noText:_1998,defaultValue:_1999,regExp:_199a,invalidMessage:_199b});},raiseInputDialogExt:function(opts){var _199c,_199d,_199e,_199f,_19a0,_19a1,_19a2;_199c=dijit.byId("inputDialog");if(_199c){_199c.destroyRecursive();}_199c=new dijit.Dialog({id:"inputDialog",title:opts.title});_199d=dojo.create("div",{id:"inputDialog-questionDiv",innerHTML:opts.query});_199e=(opts.regExp&&dojo.isString(opts.regExp))?new dijit.form.ValidationTextBox({id:"inputDialog-inputBox",value:opts.defaultValue||"",style:"margin-top: 8px",regExp:opts.regExp||"",invalidMessage:opts.invalidMessage||""}):new dijit.form.TextBox({id:"inputDialog-inputBox",value:opts.defaultValue||"",style:"margin-top: 8px"});_199f=function(_19a3){if(_19a3){opts.callbackFn(true,_199e.get("value"));}else{opts.callbackFn(false,_199e.get("value"));}_199c.hide();};_19a0=new dijit.form.Button({label:opts.yesText||_1983.yesText,id:"inp_yesButton",onClick:function(_19a4){_199f(true);}});_19a1=new dijit.form.Button({label:opts.noText||_1983.noText,id:"inp_noButton",onClick:function(_19a5){_199f(false);}});_19a2=new dojo.create("div",{id:"inputDialog-buttonDiv"});_199c.on("hide",function(){_199c.destroyRecursive();});_19a2.appendChild(_19a0.domNode);_19a2.appendChild(_19a1.domNode);_199c.containerNode.appendChild(_199d);_199c.containerNode.appendChild(_199e.domNode);_199c.containerNode.appendChild(_19a2);if(opts.closable===false){dojo.destroy(_199c.closeButtonNode);}_199c.show();},showProgressBar:function(opts){var iMax=(opts&&typeof opts.maximum!=="undefined")?opts.maximum:100,prog,_19a6=(opts&&typeof opts.width==="number")?opts.width:300,_19a7=(opts&&typeof opts.width==="number")?opts.height:125,_19a8=dojo.string.substitute("width: ${0}px; height: ${1}px",[_19a6,_19a7]),_19a9=(opts&&typeof opts.canclose==="boolean")?opts.canclose:true,_19aa,sMsg,_19ab,bar,msg;if(!dijit.byId("progressDialog")){prog=new dijit.ProgressBar({id:"progressDialogBar",style:"margin-top: 10px; margin-bottom: 10px",indeterminate:(opts&&opts.indeterminate!=="undefined")?opts.indeterminate:false,maximum:iMax});_19aa=new dijit.Dialog({id:"progressDialog",title:opts.title,style:_19a8,closable:_19a9});if(opts&&typeof opts.showmessage==="boolean"&&opts.showmessage){sMsg=(opts&&typeof opts.message==="string")?opts.message:"";_19ab=new dojo.create("div",{innerHTML:sMsg,style:"text-align: left; margin-top: 10px; margin-bottom: 10px",id:"progressDialogMessage"});_19aa.containerNode.appendChild(_19ab);}_19aa.containerNode.appendChild(prog.domNode);_19aa.show();}bar=dijit.byId("progressDialogBar");bar.update({progress:opts.pct,title:opts.title});if(opts&&typeof opts.showmessage==="boolean"&&opts.showmessage&&typeof opts.message==="string"){msg=dojo.byId("progressDialogMessage");if(msg){msg.innerHTML=opts.message;}}},closeProgressBar:function(opts){var dlg=dijit.byId("progressDialog");if(dlg){dlg.hide();dlg.destroyRecursive();}},alert:function(msg,title,icon){var opts={title:title||"Saleslogix",query:msg,callbackFn:false,yesText:_1983.okText||"OK",noText:false,scope:window,icon:icon||"noIcon",style:{width:"700px"}};Sage.UI.Dialogs.raiseQueryDialogExt(opts);},showInfo:function(msg,title){this.alert(msg,title,"infoIcon");},showWarning:function(msg,title){this.alert(msg,title,"warningIcon");},showError:function(msg,title){this.alert(msg,title,"errorIcon");}});Sage.WebClientMessageService=function(_19ac){};Sage.WebClientMessageService.prototype.hideClientMessage=function(){if(typeof console!=="undefined"){}};Sage.WebClientMessageService.prototype.showClientMessage=function(title,msg,fn,scope){if(typeof console!=="undefined"){}if(typeof title==="object"){Sage.UI.Dialog.raiseQueryDialogEx(title);}var o={title:(typeof msg==="string")?title:"",query:(typeof msg==="string")?msg:title,callbackFn:fn,yesText:_1983.yesText||"Yes",noText:_1983.noText||"No",scope:scope};Sage.UI.Dialogs.raiseQueryDialogExt(o);};Sage.Services.addService("WebClientMessageService",new Sage.WebClientMessageService());return Sage.UI.Dialogs;});},"Sage/MainView/ReportMgr/nls/ReportsListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/ReportsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_19ad,lang){var nls={root:{colNameReportName:"Name",colNameType:"Type",colNameTable:"Table",colNameCreateUser:"Create User",colNameCreateDate:"Create Date",colNameLastExecutionDate:"Last Run",colNameLastExecutionUser:"Last Run By",colNameModifyUser:"Modify User",colNameModifyDate:"Modify Date"}};return lang.mixin(_19ad,nls);});},"Sage/_EventMapMixin":function(){define("Sage/_EventMapMixin",["dojo/on","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/query"],function(on,_19ae,array,lang,_19af,query){var proxy=function(fn,scope){return function(evt){fn.call(scope,evt,this);};};return _19ae("Sage._EventMapMixin",null,{events:null,_eventSignals:null,postCreate:function(){this.inherited(arguments);this._eventSignals=(this._eventSignals||[]);if(this.events){for(var name in this.events){var item=this.events[name];if(item){var event=null,fn=null;if(lang.isObject(item)){event=item.selector?on.selector(item.selector,item.event||name):item.event||name;fn=lang.isFunction(this[item.action])?this[item.action]:this._invokeDynamicAction;}else{event=name;fn=lang.isFunction(this[item])?this[item]:this._invokeDynamicAction;}this._eventSignals.push(on(this.domNode,event,proxy(fn,this)));}}}},_invokeDynamicAction:function(evt,node){var _19b0=_19af.get(node,"data-action"),fn=lang.isFunction(this[_19b0])?this[_19b0]:null;if(fn){fn.call(this,evt,node);}},uninitialize:function(){this.inherited(arguments);array.forEach(this._eventSignals,function(_19b1){_19b1.remove();});}});});},"Sage/UI/Alarms/nls/JobNotificationButton":function(){define("Sage/UI/Alarms/nls/JobNotificationButton",["Sage/LanguageList","dojo/_base/lang"],function(_19b2,lang){var nls={root:{notificationToolTip:"You have ${0} job notifications."}};return lang.mixin(_19b2,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportWizardController":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportWizardController",["Sage/LanguageList","dojo/_base/lang"],function(_19b3,lang){var nls={root:{txtOnDemandScheduleName:"On Demand",txtReportSuccessfullyScheduled:"Report successfully scheduled.",txtDynamicParametersMessage:"Reports with dynamic parameters are currently not supported.",txtError:"Error",txtScheduleSuccessfullyUpdated:"Schedule successfully updated."}};return lang.mixin(_19b3,nls);});},"Sage/UI/SLXPreviewGrid/Filter/Lookup":function(){define("Sage/UI/SLXPreviewGrid/Filter/Lookup",["dojo/_base/declare","dijit/_Widget","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin"],function(_19b4,_19b5,_19b6){var _19b7=_19b4("Sage.UI.SLXPreviewGrid.Filter.Lookup",[_19b5,_19b6],{okText:"OK",lookupStructure:[],lookupGridOptions:{},lookupStoreOptions:{},postCreate:function(){this.inherited(arguments);var _19b8={structure:this.lookupStructure,gridOptions:this.lookupGridOptions,storeOptions:this.lookupStoreOptions,isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.name,dialogButtonText:this.okText};this._lup=new Sage.UI.Controls.Lookup({id:this.id+"_lup",config:_19b8,required:false},this.domNode);var div=document.createElement("div");this.domNode.appendChild(div);dojo.place(this._lup.domNode,div,"only");},getQuery:function(){var obj=this._lup.get("selectedObject");if(obj&&obj["$key"]){return this.field+" eq '"+obj["$key"]+"'";}return "";},reset:function(){this._lup.set("selectedObject",null);},getState:function(){return {"value":this._lup.get("selectedObject")};},applyState:function(state){if(state){this._lup.set("selectedObject",state["value"]||"");}}});return _19b7;});},"Sage/Data/SingleEntryPropertySDataStore":function(){define("Sage/Data/SingleEntryPropertySDataStore",["Sage/Data/SingleEntrySDataStore","dojo/_base/declare"],function(_19b9,_19ba){var _19bb=_19ba("Sage.Data.SingleEntryPropertySDataStore",_19b9,{propertyName:null,fetch:function(_19bc){var _19bd=this._getRequest(_19bc),key;if(this.sort){_19bd.setQueryArg("orderby",this.sort);}this.verifyService();if(_19bc.predicate){if(this._entity&&(_19bc.predicate===this._entity.$key)&&this._okToCache){if(_19bc.onComplete){_19bc.onComplete.call(_19bc.scope||this,this._entity,_19bc);return;}}_19bd.setResourceSelector(_19bc.predicate);}if(this.select&&this.select.length>0){_19bd.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_19bd.setQueryArg("include",this.include.join(","));}if(this.predicate&&this.predicate.length>0){_19bd.setResourceSelector(this.predicate);}if(_19bc.beforeRequest){_19bc.beforeRequest.call(_19bc.scope||this,_19bd);}_19bd.setQueryArg("startIndex",_19bc.start+1);_19bd.setQueryArg("count",_19bc.count||100);key=_19bd.readFeed({success:dojo.hitch(this,this.onSuccess,_19bc),failure:dojo.hitch(this,this.onFailure,_19bc)});return {abort:dojo.hitch(this,this.abortRequest,key)};},abortRequest:function(key){this.service.abortRequest(key);},onSuccess:function(_19be,feed){if(_19be.onBegin){_19be.onBegin.call(_19be.scope||this,feed.$totalResults,_19be);}if(_19be.onComplete){_19be.onComplete.call(_19be.scope||this,feed.$resources,_19be);}},_getRequest:function(_19bf){if(!this._request){var req=new Sage.SData.Client.SDataResourcePropertyRequest(this.service);req.setResourceKind(this.resourceKind);req.setResourceProperty(this.propertyName);this._request=req;}return this._request;},});return _19bb;});},"Sage/MainView/JobMgr/nls/JobDefinitionsListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/JobDefinitionsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_19c0,lang){var nls={root:{colNameJobName:"Job Name",colNameDescription:"Description",colNameType:"Type"}};return lang.mixin(_19c0,nls);});},"Sage/MainView/ActivityMgr/nls/RecurringEditor":function(){define("Sage/MainView/ActivityMgr/nls/RecurringEditor",["Sage/LanguageList","dojo/_base/lang"],function(_19c1,lang){var nls={root:{activityOccurrsText:"This activity occurs...",onceText:"Once",dailyText:"Daily",weeklyText:"Weekly",monthlyText:"Monthly",yearlyText:"Yearly",occursOnceText:"This activity occurs only once",everyText:"Every",daysText:"Day(s)",daysAfterText:"Day(s) after completion",startRecurringText:"Start Recurring: ",endAfterText:"End After",endOnText:"End Recurring",occurrencesText:"occurrences",weeksOnText:"Week(s) on",monText:"Monday",tueText:"Tuesday",wedText:"Wednesday",thurText:"Thursday",friText:"Friday",satText:"Saturday",sunText:"Sunday",weeksAfterText:"Week(s) after completion",monthsOnText:"Month(s) on day",monthsOnTheText:"Month(s) on the",monthsAfterText:"Month(s) after completion",firstText:"1st",secondText:"2nd",thirdText:"3rd",fourthText:"4th",lastText:"last",yearsOnText:"Year(s) on",yearsAfterText:"Year(s) after completion",janText:"January",febText:"February",marText:"March",aprText:"April",mayText:"May",junText:"June",julText:"July",augText:"August",sepText:"September",octText:"October",novText:"November",decText:"December",theText:"The",inText:"in"}};return lang.mixin(_19c1,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsUtility":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsUtility",["Sage/LanguageList","dojo/_base/lang"],function(_19c2,lang){var nls={root:{txtCurrentUser:"Current User"}};return lang.mixin(_19c2,nls);});},"Sage/MainView/JobMgr/BaseListPanelConfig":function(){define("Sage/MainView/JobMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Services/JobService","Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_19c3,_19c4,_19c5,_19c6,Menu,_19c7,_19c8,_19c9,_19ca,_19cb,_19cc){var _19cd=_19cc("Sage.MainView.JobMgr.BaseListPanelConfig",[_19c3],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_sDataService:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){var _19ce=Sage.Services.getService("JobService");this._sDataService=_19ce.getSchedulingSDataService();this._nlsResources=_19ca;var _19cf=Sage.Services.getService("ClientContextService");if(_19cf){if(_19cf.containsKey("userID")){this._currentUserId=_19cf.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _19d0={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext,selectionMode:"single"};return _19d0;},_getStore:function(){var store=new _19c6({id:this._listId,service:this._sDataService,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _19d1=[];return _19d1;},_getInclude:function(){var _19d2=[];return _19d2;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _19d3=[];return _19d3;},_getSummaryConfig:function(){var store=new _19c6({id:this._listId,service:this._sDataService,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _19d4=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _19d5=this._getFormatterScope();var _19d6={structure:_19d4,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_19d5};return _19d6;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _19d7={items:[]};return _19d7;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return [];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _19d8=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_19d8.length;for(var i=0;i<len;i++){var mDef=_19d8[i];if(mDef.id===this._currentListContextSubMenu){this._buildChildMenu(mDef.submenu,null);}}return this._menuItems;},_getGridMenu:function(){var _19d9=dijit.byId("_listContextmenu");return _19d9;},_buildChildMenu:function(_19da,_19db){var len=_19da.length;for(var i=0;i<len;i++){var mDef=_19da[i];if(mDef.submenu.length>0){var _19dc=new Menu();this._buildChildMenu(mDef.submenu,_19dc);var _19dd=new _19c7({label:mDef.text,popup:_19dc});if(_19db){_19db.addChild(_19dd);}else{this._menuItems.push(_19dd);}}else{var _19de=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_19de=new _19c8();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_19de=new _19c9({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_19db){_19db.addChild(_19de);}else{this._menuItems.push(_19de);}}}},_onListContext:function(){},getFilterConfig:function(_19df,entry,_19e0){var _19e1=this._sDataService;var _19e2=_19df;var _19e3=this.entityName;var _19e4=this._resourceKind;var where=this._where;var _19e5={};var _19e6=new Sage.SData.Client.SDataResourcePropertyRequest(_19e2);_19e6.setResourceKind("executions");_19e6.setResourceSelector("\""+_19e3+"\"");_19e6.setResourceProperty("filters");_19e6.setQueryArg("where","filterType ne \"analyticsMetric\"");_19e6.setQueryArg("count",20);_19e5["groupId"]=this._listId;_19e5["store"]=new _19c6({executeReadWith:"readFeed",request:_19e6});var _19e7=new Sage.SData.Client.SDataResourcePropertyRequest(_19e1);_19e7.setResourceKind(_19e4);_19e7.setResourceProperty("$queries/executeMetric");_19e7.setQueryArg("_filterName",filter["filterName"]);_19e7.setQueryArg("orderby","displayName");_19e7.setQueryArg("_activeFilter",where);_19e5["createStoreForFilter"]=function(_19e8){return _19e8&&_19e8["filterName"]?new _19c6({executeReadWith:"readFeed",request:_19e7}):null;};_19e5["getFilterManager"]=function(){var _19e9=_19cb.byId("list");return _19e9&&_19e9.get("filterManager");};return _19e5;}});return _19cd;});},"Sage/QuickForms/Design/Editors/nls/DataGridAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DataGridAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_19ea,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",emptyTableRowText:"Empty Table Row Text:",emptyTableRowTooltipText:"Text to display if grid shows no data.",expandableRowsText:"Expandable Rows:",expandableRowsTooltipText:"Allows user to expand grid rows to show more text.",renderVerticalText:"Render Vertically:",renderVerticalTooltipText:"Show grid rows as columns.",showSortIconText:"Show Sort Icon:",showSortIconTooltipText:"Show sort icon on columns that are sortable.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form."}};return lang.mixin(_19ea,nls);});},"Sage/UI/EditableGrid":function(){define("Sage/UI/EditableGrid",["dojox/grid/DataGrid","dijit/Toolbar","dijit/form/Button","dijit/layout/ContentPane","Sage/Data/WritableSDataStore","Sage/Data/WritableStore","Sage/UI/SDataLookup","dojo/i18n","dojo/_base/lang","Sage/Utility","Sage/UI/ImageButton","Sage/UI/Dialogs","Sage/Utility/_LocalStorageMixin","dojo/i18n!./nls/EditableGrid","Sage/UI/ToolBarLabel","dojo/parser","dojo/dom-construct","dojo/_base/declare","dojo/_base/array"],function(_19eb,_19ec,_19ed,_19ee,_19ef,_19f0,_19f1,i18n,_19f2,_19f3,_19f4,_19f5,_19f6,_19f7,_19f8,_19f9,_19fa,_19fb,array){var _19fc=_19fb("Sage.UI.EditableGrid",[_19eb,_19f6],{recordCountLabel:null,STORE_KEY_COLUMN_SIZE:"_COLUMN_UNIT_WIDTH_",STORE_NS:"SAGE_UI_EDITABLEGRID",STORE_KEY_SORT:"_SORT_INFO_",lookupControl:null,mode:"",region:"center",_dataChangeConnections:[],_registeredWidgets:null,constructor:function(opts){this.mode=_19f3.getModeId();if(opts.storeOptions&&opts.storeOptions.isInsertMode){this.mode="insert";}this._dataChangeConnections=[];this._registeredWidgets=[];},_setModeAttr:function(mode){if(this.mode!==mode){this.mode=mode;if(!this.store){return;}if(((mode==="insert")&&(this.store.declaredClass!=="Sage.Data.WritableStore"))||((mode!=="insert")&&(this.store.declaredClass!="Sage.Data.WritableSDataStore"))){this._replaceStore();}}},_getModeAttr:function(){return this.mode;},onBlur:function(){if(this.edit&&this.edit.isEditing()){this.edit.apply();}},postMixInProperties:function(){dojo.mixin(this,_19f7);dojo.mixin(this,i18n.getLocalization("dijit","common"));this.setEditable();if(!this.storeOptions){this.storeOptions={};}this.ensureValue(this.storeOptions,"pagesize",this.rowsPerPage||20);this.ensureValue(this,"singleClickEdit",true);if(typeof this.contextualCondition==="function"){this.query={fn:this.contextualCondition,scope:this};}else{if(typeof this.contextualCondition==="object"){if(this.contextualCondition.fn){this.ensureValue(this.contextualCondition,"scope",this);this.query=this.contextualCondition;}}}this.structure=[{defaultCell:_19f2.mixin({defaultValue:""},this.columnDefaults),cells:this.columns}];function _19fd(item,list){for(var i=0;i<list.length;i++){if(item===list[i]){return;}}list.push(item);};if((this.tabId)&&(this.tabId!=="")){this.addToolsToWorkspaceToolbar();this.currentEntityId=_19f3.getCurrentEntityId();}else{this.createOwnToolbar();}this._setUserPrefColumnWidths();var cols=this.columns,sel,i,p,inc,parts,_19fe,field;if(!this.store){sel=this.storeOptions.select||[];for(i=0;i<sel.length;i++){sel[i]=sel[i].replace(/\./g,"/");}inc=this.storeOptions.include||[];for(i=0;i<cols.length;i++){if(cols[i].field){field=cols[i].field;_19fd(field.replace(/\./g,"/"),sel);}if(cols[i].field.indexOf(".")>0){parts=cols[i].field.split(".");_19fe="";for(p=0;p<parts.length-1;p++){_19fe+=parts[p];_19fd(_19fe,inc);_19fe+="/";}}}this.store=this.getStore();this.markClean();}else{sel=this.store.select=this.store.select||[];inc=this.store.include=this.store.include||[];for(i=0;i<sel.length;i++){sel[i]=sel[i].replace(/\./g,"/");}for(i=0;i<cols.length;i++){if(cols[i].field){field=cols[i].field;_19fd(field.replace(/\./g,"/"),sel);}if(cols[i].field.indexOf(".")>0){parts=cols[i].field.split(".");_19fe="";for(p=0;p<parts.length-1;p++){_19fe+=parts[p];_19fd(_19fe,inc);_19fe+="/";}}}}this._setSortInfo();this.inherited(arguments);},postCreate:function(){dojo.connect(this,"onKeyDown",this.customKeyDown);dojo.connect(this,"onResizeColumn",this._onResizeColumn);dojo.subscribe("Sage/events/TabWorkspace/MIDDLE_AREA_DROP",this,this._setMiddleAreaHeight);this.connect(this,"_onNew",this.showLoading);this.connect(this.scroller,"scroll",this._onScroll);dojo.connect(this,"onResizeColumn",this._onScroll);this.setupHeader();this.inherited(arguments);},showLoading:function(){this.showMessage(this.loadingMessage);this._clearData();this.markClean();},headerTemplate:new Simplate(["<div>","<div id=\"{%= $.id %}_HeaderBar\"  data-dojo-type=\"dijit.layout.ContentPane\" gutters=\"false\"  region=\"top\" ","style=\"{%= $.headerStyle %}\" class=\"editable-grid-hbar\">","<div class=\"editable-grid-hbar-left\"></div>","<div class=\"editable-grid-hbar-center\"></div>","<div class=\"editable-grid-hbar-right\"><div id=\"{%= $.gridNodeId %}_recordCountLabel\"></div></div>","</div>","</div>"]),setupHeader:function(){this.recordCountLabel=new _19f8();this.recordCountLabel.set("label",dojo.string.substitute(this.recordCountFormatString,this._getRecordCount()));var _19ff=this.headerTemplate.apply(this);_19ff=dojo.toDom(_19ff);this.headerContentPane=_19f9.parse(_19ff);var _1a00=dijit.byId(this.gridNodeId);_1a00.addChild(this.headerContentPane[0]);dojo.place(this.recordCountLabel.domNode,this.gridNodeId+"_recordCountLabel","replace");},resetContextualCondition:function(_1a01){if(typeof _1a01==="function"){this.query={fn:_1a01,scope:this};}else{if(typeof _1a01==="object"){if(_1a01.fn){this.ensureValue(_1a01,"scope",this);this.query=_1a01;}}}this.contextualCondition=_1a01;},_getRecordCount:function(){var _1a02,_1a03,_1a04,count;_1a02=this.scroller;count=_1a02.rowCount;if(count<=0){_1a03=0;_1a04=0;count=0;}else{_1a03=(_1a02.firstVisibleRow===0)?1:_1a02.firstVisibleRow+1;_1a04=(_1a02.lastVisibleRow>=_1a02.rowCount)?_1a02.rowCount:_1a02.lastVisibleRow;}return [_1a03,_1a04,count];},_onScroll:function(inTop){if(this.recordCountLabel){this.recordCountLabel.set("label",dojo.string.substitute(this.recordCountFormatString,this._getRecordCount()));}},_setMiddleAreaHeight:function(data){var _1a05=["#",data.tab.ElementId," #",this.id].join("");var self=dojo.query(_1a05)[0];if(self){var _1a06=["#",data.tab.ElementId," .tws-tab-view-body"].join("");var _1a07=dojo.query(_1a06)[0];dojo.style(_1a07,"height","10px");TabControl.setViewBodyHeight();}},_setUserPrefColumnWidths:function(){var self=this;dojo.forEach(this.columns,function(col){if(col&&col.field){var key=self._getColumnSizeKey(col),value=self.getFromLocalStorage(key,self.STORE_NS);if(value){col.width=value;}}});},_getColumnSizeKey:function(cell){var _1a08=cell.field.replace(/[\.\$]/g,"_"),id=[this.id,"_",this.STORE_KEY_COLUMN_SIZE,_1a08].join("");return id;},_onResizeColumn:function(_1a09){var cell=this.getCell(_1a09),value=cell.unitWidth,key=this._getColumnSizeKey(cell);this.saveToLocalStorage(key,value,this.STORE_NS);},listenForPageSave:function(){var _1a0a=Sage.Services.getService("ClientBindingManagerService");if(_1a0a){_1a0a.addListener(_1a0a.ON_SAVE,this.saveChanges,this);}},removePageSaveListener:function(){var _1a0b=Sage.Services.getService("ClientBindingManagerService");if(_1a0b){_1a0b.removeListener(_1a0b.ON_SAVE,this.saveChanges);}},setEditable:function(){var _1a0c=true,i;if(this.appliedSecurity){var svc=Sage.Services.getService("RoleSecurityService");if(svc){_1a0c=svc.hasAccess(this.appliedSecurity);}}if(this.readOnly){_1a0c=false;}if(!_1a0c){for(i=0;i<this.columns.length;i++){if(this.columns[i].editable){this.columns[i].editable=false;}}this.editable=false;}else{for(i=0;i<this.columns.length;i++){if(this.columns[i].editable){this.editable=true;break;}}}},onHeaderCellClick:function(e){var r=true;if(this.store.dirtyDataCache.isDirty){var s=Sage.Services.getService("ClientBindingManagerService");r=confirm(s._PageExitWarningMessage);}if(this.columns[e.cell.index].sortable===false||!r||this.mode==="insert"){dojo.stopEvent(e);}else{this.inherited(arguments);var _1a0d=this.getSortProps();if(_1a0d&&_1a0d.length>0){var _1a0e=_1a0d[0];_1a0e.cellIndex=e.cell.index;this.saveToLocalStorage(this.STORE_KEY_SORT+this.id,_1a0e,this.STORE_NS);}}},_setSortInfo:function(){var key=this.STORE_KEY_SORT+this.id;var _1a0f=this.getFromLocalStorage(key,this.STORE_NS);if(_1a0f){if(_1a0f.descending){this.sortInfo=(_1a0f.cellIndex+1)*-1;}else{this.sortInfo=_1a0f.cellIndex+1;}}},ensureValue:function(obj,key,_1a10){obj[key]=obj[key]||_1a10;},amIInATab:function(){if(this.context&&this.context.workspace){return (this.context.workspace.indexOf("TabWorkspace")>-1);}return false;},isMyTabVisible:function(){if(this.amIInATab()&&window.TabControl){return window.TabControl.getState().isTabVisible(this.tabId);}return true;},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.mode!=="insert"){this.listenForPageSave();}if(this.context&&this.context.workspace){if(this.context.workspace.indexOf("TabWorkspace")<=-1){dojo.style(dojo.byId(this.id+"_Container"),"height","300px");var main=dijit.byId(this.gridNodeId);main.resize();}}if(this.amIInATab()&&this.isMyTabVisible()){var _1a11=["#","element_",this.tabId," .formtable"].join("");var _1a12=dojo.query(_1a11)[0];if(_1a12){var _1a13=dojo.byId(this.id+"_Container");if(!_1a13){_1a13=dijit.byId(this.id).getParent();_1a13=_1a13.domNode;}dojo.style(_1a13,"height","300px");}}},destroy:function(){if(this.lookupControl){this.lookupControl.destroy(false);}if(this.toolbar){this.toolbar.destroy(false);}if(this.grid){this.grid.destroy(false);}if(this.store&&this.store.destroy){this.store.destroy(false);}if(this._registeredWidgets){array.forEach(this._registeredWidgets,function(item){item.destroy(false);});this._registeredWidgets=null;}this.removePageSaveListener();this.inherited(arguments);},_replaceStore:function(){dojo.forEach(this._dataChangeConnections,function(_1a14){dojo.disconnect(_1a14);});if(this.store&&this.store.destroy){this.store.destroy(false);}this.store=false;this.store=this.getStore();},getStore:function(){if(this.store){return this.store;}this.storeOptions["isInsertMode"]=(this.mode==="insert");var store=(this.mode!=="insert")?new _19ef(this.storeOptions):new _19f0(this.storeOptions);if(this.onDataChange){this._dataChangeConnections.push(dojo.connect(store,"onSet",this.onDataChange));}if(store.onDataChange){this._dataChangeConnections.push(dojo.connect(store,"setValue",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"saveNewEntity",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"deleteItem",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"createItem",store.onDataChange));}this._dataChangeConnections.push(dojo.connect(store,"onSet",this,function(_1a15,_1a16,_1a17,_1a18){if(this.mode!=="insert"&&_1a18){if(this.edit.info.cell&&this.edit.info.cell.widget&&this.edit.info.cell.widget.returnObject===true){if(_1a17.$key!==_1a18.$key){this.markDirty();}}else{if(_1a17!==_1a18){this.markDirty();}}}}));return store;},customKeyDown:function(e){this.applyEditOnEnter(e);this.navigateOnKeyDown(e);},navigateOnKeyDown:function(e){},applyEditOnEnter:function(e){if(e.charOrCode==13||e.keyCode==13){this.doApplyEdit();this.edit.apply();dojo.stopEvent(e);}},createOwnToolbar:function(){var _1a19=Sage.Services.getService("RoleSecurityService");var _1a1a=dijit.byId(this.gridNodeId);this.toolbar=new _19ec({"class":"right-tools","region":"top"});_1a1a.addChild(this.toolbar);for(var i=0;i<this.tools.length;i++){var tool=this.tools[i];if(tool.appliedSecurity&&tool.appliedSecurity!==""){if((_1a19)&&(!_1a19.hasAccess(tool.appliedSecurity))){continue;}}var btn=false;if(typeof tool==="string"){switch(tool){case "add":btn=new _19f4({imageClass:"icon_plus_16x16",tooltip:this.addText,id:this.id+"_addBtn",onClick:_19f2.hitch(this,function(){this.addNew();})});break;case "delete":btn=new _19f4({imageClass:"icon_Delete_16x16",tooltip:this.deleteText,id:this.id+"_delBtn",onClick:_19f2.hitch(this,function(){this.deleteSelected();})});break;case "save":btn=new _19f4({imageClass:"icon_Save_16x16",tooltip:this.saveText,id:this.id+"_saveBtn",onClick:_19f2.hitch(this,function(){this.saveChanges();})});break;case "cancel":btn=new _19f4({imageClass:"icon_Reset_16x16",tooltip:this.cancelText,id:this.id+"_cancelBtn",onClick:_19f2.hitch(this,function(){this.cancelChanges();})});break;}}else{if((tool.type)&&(tool.type==="Sage.UI.SDataLookup")){var conf=tool.controlConfig||tool;btn=new _19f1(conf);this.lookupControl=btn;}else{btn=new _19f4({icon:tool.icon||"",imageClass:tool.imageClass||"",id:tool.id,onClick:_19f2.hitch(tool.scope||this,tool.handler),tooltip:tool.alternateText||tool.tooltip});}}if(btn){this.toolbar.addChild(btn);btn=false;}}this.toolbar.startup();},addToolsToWorkspaceToolbar:function(){if(this.readOnly){return;}this.dirtyDataMsgID=this.tabId+"_dirtydatamsg";var _1a1b=_19fa.create("span",{"class":"grid-unsaveddata-msg","id":this.dirtyDataMsgID,"style":"display:none;","content":(this.editable)?this.unsavedDataText:""});var _1a1c,_1a1d;switch(this.context.workspace){case "Sage.Platform.WebPortal.Workspaces.Tab.TabWorkspace":if(this.mode!=="insert"){var elem=dojo.query("#"+"element_"+this.tabId+" td.tws-tab-view-title");if(elem){dojo.place(_1a1b,elem[0]);}}_1a1d=["element_",this.tabId].join("");_1a1c=dojo.query(["#",_1a1d," td.tws-tab-view-tools-right"].join(""));break;case "Sage.Platform.WebPortal.Workspaces.MainContentWorkspace":if(this.mode!=="insert"){dojo.place(_1a1b,dojo.query("#"+this.tabId+" span.mainContentHeaderTitle")[0]);}_1a1d=this.tabId;_1a1c=dojo.query("#"+_1a1d+" td.mainContentHeaderToolsRight");break;case "Sage.Platform.WebPortal.Workspaces.DialogWorkspace":_1a1c=dojo.query("td.dialog-tools-right");break;default:}var _1a1e=Sage.Services.getService("RoleSecurityService");var _1a1f=0,_1a20,_1a21;for(var i=0;i<this.tools.length;i++){_1a20="";var tool=this.tools[i];if(typeof tool.mergeControlId!=="undefined"&&tool.mergeControlId.length!==0){_1a21=dojo.query("[id$="+tool.mergeControlId+"]",dojo.byId("element_"+this.tabId))[0];_1a20=tool.mergePosition.toLowerCase();}if(!_1a21){_1a21=_1a1c[0];_1a20="";}if(this.mode==="insert"&&!tool.displayInInsert){continue;}if(tool.appliedSecurity&&tool.appliedSecurity!==""){if((_1a1e)&&(!_1a1e.hasAccess(tool.appliedSecurity))){continue;}}if(typeof tool==="string"){switch(tool){case "add":var addid=this.id+"_addBtn";var _1a22=new _19f4({id:addid,imageClass:"icon_plus_16x16",onClick:_19f2.hitch(this,this.addNew),tooltip:this.addText});this._registeredWidgets.push(_1a22);dojo.place(_1a22.domNode,_1a1c[0],_1a1f);break;case "delete":var delid=this.id+"_delBtn";var _1a23=new _19f4({id:delid,tooltip:this.deleteText,imageClass:"icon_Delete_16x16",onClick:_19f2.hitch(this,this.deleteSelected)});this._registeredWidgets.push(_1a23);dojo.place(_1a23.domNode,_1a1c[0],_1a1f);break;case "save":var _1a24=this.id+"_saveBtn";var _1a25=new _19f4({id:_1a24,tooltip:this.saveText,imageClass:"icon_Save_16x16",onClick:_19f2.hitch(this,this.saveChanges)});this._registeredWidgets.push(_1a25);dojo.place(_1a25.domNode,_1a1c[0],_1a1f);break;case "cancel":var cclid=this.id+"_cancelBtn";var _1a26=new _19f4({id:cclid,tooltip:this.cancelText,imageClass:"icon_Reset_16x16",onClick:_19f2.hitch(this,this.cancelChanges)});this._registeredWidgets.push(_1a26);dojo.place(_1a26.domNode,_1a1c[0],_1a1f);break;}}else{if((tool.type)&&(tool.type==="Sage.UI.SDataLookup")){var conf=tool.controlConfig||tool;var lup=new _19f1(conf);dojo.place(lup.domNode,_1a21,_1a1f);this.lookupControl=lup;}else{var _1a27=new _19f4({id:tool.id,icon:tool.icon||"",imageClass:tool.imageClass||"",onClick:_19f2.hitch(tool.scope||this,tool.handler),tooltip:tool.alternateText||tool.tooltip});this._registeredWidgets.push(_1a27);dojo.place(_1a27.domNode,_1a21,(_1a20.length>0)?_1a20:_1a1f);}}_1a1f++;}},addNew:function(args){if(this.store){this.store.newItem(args);}},addAssociatedItems:function(items,_1a28,_1a29,_1a2a){var grid=this;if(_19f3.getModeId()!=="insert"&&this.store.dirtyDataCache.isDirty){_19f5.raiseQueryDialog("Saleslogix",this.dirtyDataMessage,function(_1a2b){if(_1a2b){grid.addSelectedItems(items,_1a28,_1a29,_1a2a);}},this.okText,this.cancelText);}else{grid.addSelectedItems(items,_1a28,_1a29,_1a2a);}},addSelectedItems:function(items,_1a2c,_1a2d,_1a2e){var _1a2f=[];var grid=this;for(var i=0;i<items.length;i++){var _1a30=false;for(var k in grid.store.dataCache){var rec=grid.store.dataCache[k];if(rec[_1a2d]&&rec[_1a2d].$key==items[i].$key){_1a30=true;}}if(_1a30){continue;}var _1a31={};if(_19f3.getModeId()!=="insert"){_1a31[_1a2c]={$key:_19f3.getCurrentEntityId()};}_1a31[_1a2d]={};_19f3.extend(_1a31[_1a2d],items[i]);delete _1a31.$key;delete _1a31.$name;delete _1a31.$url;_1a2f.push(_1a31);}if(_1a2f.length>0){grid.createItems(_1a2f,function(){if(_19f3.getModeId()!=="insert"){__doPostBack("MainContent","");}});}if(_1a2e){_1a2e.lookupDialog.hide();}},createItems:function(items,_1a32){if(dojo.isArray(items)){var store=this.store;var _1a33=items.length;if(typeof console!=="undefined"){}var _1a34=function(arg1){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{if(arg1&&typeof arg1!=="undefined"&&typeof arg1.$httpStatus==="string"){}else{}}}if(this.currentCount===this.totalCount){this.grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(this.grid);}}};var scope={grid:this,totalCount:_1a33,currentCount:0,onResponse:_1a34,onComplete:_1a32||null};for(var i=0;i<items.length;i++){store.createItem(items[i],scope);}}else{_19f5.showError(this.createItemsInvalidArrayText);}},deleteSelected:function(_1a35){var _1a36=this.selection.getSelected();if(_1a36.length<1){_19f5.showError(this.noSelectionsText);return;}if(this.mode!=="insert"){if(!this.store._checkPageExitWarningMessage()){return;}}var self=this;var opts={title:"Saleslogix",query:dojo.string.substitute(this.confirmDeleteFmtTxt,[_1a36.length]),callbackFn:function(_1a37){self.deleteCallback(_1a37,_1a35,_1a36);},yesText:this.buttonOk,noText:this.buttonCancel};_19f5.raiseQueryDialogExt(opts);},deleteCallback:function(_1a38,_1a39,_1a3a){if(_1a38){var grid=this;var store=this.store;var _1a3b=0;for(var i=0;i<_1a3a.length;i++){if(this.store.isItem(_1a3a[i])){_1a3b++;}}grid.selection.clear();this.showLoading();var _1a3c=function(arg1,arg2){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{}}if(this.currentCount===this.totalCount){grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(grid);}}};var scope={grid:grid,totalCount:_1a3b,currentCount:0,onResponse:_1a3c,onComplete:_1a39||null};for(i=0;i<_1a3a.length;i++){if(store.isItem(_1a3a[i])){store.deleteItem(_1a3a[i],scope);}}store.clearCache();}},cancelChanges:function(){if(this.store&&this.store.revert){this.store.revert();this.markClean();this.refresh();}},saveChanges:function(_1a3d){this.onBlur();if(!this.store.save){return;}var _1a3e=0;for(var key in this.store.dirtyDataCache){if(key!=="isDirty"){var _1a3f=this.store.dirtyDataCache[key];if(this.store.isItem(_1a3f)){_1a3e++;}}}var _1a40=function(arg1,arg2){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{if(arg1&&typeof arg1!=="undefined"&&typeof arg1.$httpStatus==="string"){}else{}}}if(this.currentCount===this.totalCount){this.grid.markClean();this.grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(this.grid);}}};var scope={grid:this,totalCount:_1a3e,currentCount:0,onResponse:_1a40,onComplete:_1a3d||null};this.store.save(scope);},markClean:function(){if(this.dirtyDataMsgID){var _1a41=dojo.byId(this.dirtyDataMsgID);if(_1a41){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}var _1a42=Sage.Services.getService("ClientBindingManagerService");if(_1a42){_1a42.clearDirtyAjaxItem(this.id);}}},markDirty:function(){var node=dojo.byId(this.dirtyDataMsgID);if(node){dojo.style(node,"display","inline");}var _1a43=Sage.Services.getService("ClientBindingManagerService");if(_1a43){_1a43.addDirtyAjaxItem(this.id);}},refresh:function(){if(!this.scroller){return;}this._refresh();this.onRefresh();},onRefresh:function(){}});return _19fc;});},"Sage/TaskPane/ContactTasksTasklet":function(){define("Sage/TaskPane/ContactTasksTasklet",["dojo/i18n!./nls/ContactTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/MainView/Contact/ContactUserAssociationEditor","dojo/_base/declare","Sage/UI/Dialogs","dojo/string","Sage/UI/MenuItem","dijit/Menu","dijit/popup"],function(_1a44,_1a45,_1a46,_1a47,_1a48,_1a49,_1a4a,_1a4b,_1a4c,_1a4d,_1a4e,_1a4f){var _1a50=_1a4a("Sage.TaskPane.ContactTasksTasklet",[_1a45,_1a46],{taskItems:[],oAuthProviders:null,endPointId:"",constructor:function(){dojo.mixin(this,_1a44);this.taskItems=[{taskId:"Associate Contact",type:"Link",displayName:this.associateContactTitle,clientAction:"contactTasksActions.associateContact();",securedAction:"Entities/Contact/AssociateContact"},{taskId:"Disassociate Contact",type:"Link",displayName:this.disAssociateContactTitle,clientAction:"contactTasksActions.disAssociateContact();",securedAction:"Entities/Contact/DisAssociateContact"}];},associateContact:function(_1a51){var self=this;this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.singleSelectionErrorMessage);}else{if(this._selectionInfo.selectionCount>1){Sage.UI.Dialogs.showError(this.multipleSelectionErrorMessage);}else{var _1a52={"selectionInfo":this._selectionInfo,"action":_1a51};this._setupStore();this._contactUserStore.fetch({predicate:"ContactId eq '"+this._selectionInfo.selectedIds[0]+"'",onComplete:function(_1a53){Sage.UI.Dialogs.showError(self.associationExistsMessage);},onError:function(){self.prepareSelectedRecords(this.associateContactActionItem(_1a52));},scope:this});}}},disAssociateContact:function(){this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.noSelectionErrorMessage);}else{this.prepareSelectedRecords(this.confirmDisassociate(this));}},confirmDisassociate:function(self){return function(){var _1a54=self.confirmDisAssociate;if(self._selectionInfo.selectionCount>1){_1a54=self.confirmDisAssociateMultiple;}_1a4b.raiseQueryDialog(self.disAssociateDialogTitle,dojo.string.substitute(_1a54,[self._selectionInfo.selectionCount]),function(_1a55){self.disAssociateActionItem(_1a55,self);},self.okButtonText,self.cancelButtonText);};},disAssociateActionItem:function(_1a56,self){if(_1a56){self.getSelectionInfo();var _1a57=this.selectionInfo.selectedIds.join();this._removeContactUsers(_1a57,self._successfulContactUserDelete,self);}},_removeContactUsers:function(_1a58,_1a59,scope){var _1a5a=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _1a5b=new Sage.SData.Client.SDataServiceOperationRequest(_1a5a).setResourceKind("ContactUsers").setOperationName("RemoveContactUserAssociations");var entry={"$name":"RemoveContactUserAssociations","request":{"ContactUserId":null,"contactIds":_1a58,"userIds":null}};_1a5b.execute(entry,{success:function(){},failure:function(){},scope:scope||this});},_successfulContactUserDelete:function(){},_failedContactUserDelete:function(){},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1a47({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},associateContactActionItem:function(_1a5c,_1a5d){return function(){var _1a5e=dijit.byId("dlgContactUserAssociation");if(!_1a5e){_1a5e=new _1a49(_1a5c,_1a5d);}else{_1a5e.setSelectionInfo(_1a5c,_1a5d);}_1a5e.show();};}});return _1a50;});},"Sage/MainView/ActivityManager":function(){define("Sage/MainView/ActivityManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/Utility/Activity","Sage/MainView/ActivityMgr/ActivityGroupContextService","Sage/Services/ActivityService","Sage/MainView/ActivityMgr/FilterConfigurationProvider","dojo/i18n!./nls/ActivityManager","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","require","Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig","Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig","Sage/Extensions/ActivityRequirements"],function(_1a5f,_1a60,_1a61,_1a62,_1a63,_1a64,_1a65,_1a66,_1a67,lang,_1a68,_1a69,_1a6a,_1a6b){var _1a6c=_1a67("Sage.MainView.ActivityManager",_1a5f,{_nlsResources:false,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_groupContextService:false,_tabNameCache:{},_mainViewName:"ActivityManager",store:false,custTabs:{},custTabConfigs:null,configTypes:null,listPanelOverrides:{},listPanelOverrideConfigs:null,_custTabConfigType:{},constructor:function(_1a6d){this._nlsResources=_1a66;this._currentUserId="x";var _1a6e=Sage.Services.getService("ClientGroupContext");if(!_1a6e||_1a6e.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){Sage.Services.removeService("ClientGroupContext");_1a6e=new _1a63();Sage.Services.addService("ClientGroupContext",_1a6e);}var ctx=_1a6e.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;var _1a6f=Sage.Services.getService("ClientContextService");if(_1a6f){if(_1a6f.containsKey("userID")){this._currentUserId=_1a6f.getValue("userID");}}this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:this._nlsResources.titleFmtString||"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");lang.mixin(this.custTabs,_1a6a);lang.mixin(this.listPanelOverrides,_1a6b);this.configTypes=_1a6e.groupConfigTypes;if(this.listPanelOverrides&&this.listPanelOverrides.overrideConfigs){this.listPanelOverrideConfigs=this.listPanelOverrides.overrideConfigs;for(var x=0;x<this.listPanelOverrideConfigs.length;x++){this._overrideTab(this.listPanelOverrideConfigs[x].listId,this.listPanelOverrideConfigs[x].newConfig,_1a6e.groupConfigTypes);}}if(this.custTabs&&this.custTabs.configTypes){this.custTabConfigs=this.custTabs.configTypes;for(var y=0;y<this.custTabConfigs.length;y++){this._addCustomTab(_1a6e.groupConfigTypes,this.custTabConfigs[y]);}}},_setListPanelConfig:function(){var _1a70=Sage.Services.getService("ClientGroupContext");if(_1a70){this.listPanelConfiguration=_1a70.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}return;},_getListPanelConfig:function(){this._setListPanelConfig();return this.listPanelConfiguration;},requestConfiguration:function(_1a71){if(_1a71.success){_1a71.success.call(_1a71.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_1a72){if(_1a72.success){_1a72.success.call(_1a72.scope||this,this.titlePaneConfiguration,this);}},onConfigurationChange:function(obj){},onTitlePaneConfigurationChange:function(){},_setUIForNewTab:function(tabId,_1a73){this._currentTabId=tabId;this._currentTabDescription=_1a73;},_onCurrentGroupChanged:function(args){var _1a74=args["current"];if(!_1a74){var _1a75=Sage.Services.getService("ClientGroupContext");_1a74=_1a75.getContext();}if(dijit.byId("GroupTabs").selectedChildWidget.id!==_1a74.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_1a74.CurrentGroupID);}},_onTabSelected:function(tab){var _1a76=Sage.Services.getService("ClientGroupContext");var id=tab.id||tab;var _1a77=_1a76.getKeyField(id);if(_1a76){var ctx=_1a76.getContext();if(ctx.CurrentGroupID===id){return;}this._setUIForNewTab(id,tab.title);_1a76.setCurrentGroup(id,tab.title,_1a77);}},_getTabsConfig:function(){var _1a78={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _1a78;},_getStaticTabs:function(){var _1a79=Sage.Services.getService("ClientGroupContext");var _1a7a=_1a79.getStaticTabs();return _1a7a;},_getMenuConfig:function(){return false;},_overrideTab:function(_1a7b,_1a7c,_1a7d){this._dynamicRequire(_1a7c,function(_1a7e){for(var i=0;i<_1a7d.length;i++){if(_1a7d[i].key.toUpperCase()===_1a7b.toUpperCase()){_1a7d[i].configProviderType=_1a7e;}}});},_addCustomTab:function(_1a7f,_1a80){this._dynamicRequire(_1a80.configProviderType,function(_1a81){_1a80.configProviderType=_1a81;_1a7f.push(_1a80);});},_dynamicRequire:function(_1a82,_1a83){var _1a84=new _1a68();_1a69([_1a82],function(_1a85){_1a84.resolve(_1a85);});_1a84.then(function(_1a86){_1a83(_1a86);},function(err){console.error("Error: _dynamicRequire :  Attempted to add an unknown module type .",err);});}});return _1a6c;});},"Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange":function(){define("Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange",["dojo/_base/declare","Sage/UI/SLXPreviewGrid/Filter/DateRange"],function(_1a87,_1a88){var _1a89=_1a87("Sage.UI.SLXPreviewGrid.Filter.ActivityDateRange",[_1a88],{getQuery:function(){var query=this.inherited(arguments);return query.replace(/Timeless/g,"Activity.Timeless");}});return _1a89;});},"Sage/MainView/ReportMgr/Crystal/nls/DateRangeParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/DateRangeParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1a8a,lang){var nls={root:{txtNoLowerValue:"No lower value",txtNoUpperValue:"No upper value",txtIncludeThisValue:"Include this value",txtFrom:"From:",txtTo:"To:",txtPleaseSpecifyFromValue:"Please specify From value",txtPleaseSpecifyToValue:"Please specify To value",txtPleaseSpecifyDateBetween:"Please specify a date value between {0} and {1}.",txtPleaseSpecifyDateLesser:"Please specify a date value less than or equal to {0}.",txtPleaseSpecifyDateGreater:"Please specify a date value greater than or equal to {0}.",txtFromMustBeLessThanOrEqualToTo:"From value must be less than or equal to To value."}};return lang.mixin(_1a8a,nls);});},"Sage/MainView/ReportMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1a8b,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_1a8b,nls);});},"Sage/UI/Alarms/ActivityAlarm":function(){define("Sage/UI/Alarms/ActivityAlarm",["Sage/_Templated","dijit/_Widget","dijit/form/CheckBox","Sage/Utility/Activity","Sage/UI/Alarms/AlarmCountDown","Sage/Link","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n","dojo/i18n!./nls/ActivityAlarm","dojo/_base/declare"],function(_1a8c,_1a8d,_1a8e,_1a8f,_1a90,link,_1a91,i18n,_1a92,_1a93){var _1a94=_1a93("Sage.UI.Alarms.ActivityAlarm",[_1a8d,_1a8c],{widgetsInTemplate:true,userActivity:null,selected:false,key:"",_tooltips:[],widgetTemplate:new Simplate(["<div class=\"alarm-item\">","<table style=\"width:100%\" dojoAttachPoint=\"_item\" dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">","<col width=\"50px\" />","<col width=\"50%\" />","<col width=\"50%\" />","<col width=\"80px\" />","<tr>","{% var imageClass = Sage.Utility.Activity.getActivityImageClass($.userActivity.Activity.Type, \"medium\"); %}","<td class=\"alarm-icon\">","<div class=\"dijitIcon dijitMenuItemIcon Global_Images icon24x24 {%= imageClass %}\" title=\"{%= $.cleanText($.userActivity.Activity.Description) %}\"></div>","<input type=\"checkbox\" data-dojo-type=\"dijit.form.CheckBox\" size=\"30px\" dojoAttachPoint=\"_checkbox\" />","</td>","<td class=\"alarm-content\">","{% var desc = $.userActivity.Activity.Description;if (!desc) { desc = Sage.Utility.Activity.getActivityTypeName($.userActivity.Activity.Type); } %}","<div class=\"alarm-description\">","{% if ($.userActivity.Activity.Recurring) { %}<div class=\"Global_Images icon16x16 icon_recurring\" title=\"{%= $.recurringText %}\" > </div>&nbsp;&nbsp;{% } %}","{% if ($.userActivity.Status === \"asUnconfirmed\") { %}","<a href=\"javascript:Sage.Link.confirmActivityFor('{%= $.userActivity.Activity.$key %}', '{%= $.userActivity.User.$key %}')\">{%= desc %}</a>","{% } else { %}","<a href=\"javascript:Sage.Link.editActivity('{%= $.userActivity.Activity.$key %}', {%= $.userActivity.Activity.Recurring %})\">{%= desc %}</a>","{% } %}","</div>","<div>{%= Sage.Utility.Activity.formatActivityStartDate($.userActivity.Activity.StartDate) %}</div>","{% if (($.userActivity.Activity.LeadId) && ($.userActivity.Activity.LeadId.trim() !== \"\")) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_lead\" dojoAttachPoint=\"_leadnode\">","{%= $.leadText %}: <a href=\"lead.aspx?entityid={%= $.userActivity.Activity.LeadId %}\">{%= $.userActivity.Activity.LeadName %}</a>","</div>","{% if ($.userActivity.Activity.AccountName !== \"\") { %}","<div>{%= $.companyText %}: {%= $.userActivity.Activity.AccountName %}</div>","{% } %}","{% } else { %}","{% if ($.userActivity.Activity.ContactName !== \"\") { %}","<div id=\"{%= $.userActivity.Activity.$key %}_con\" dojoAttachPoint=\"_connode\">","{%= $.contactText %}: <a href=\"Contact.aspx?entityid={%= $.userActivity.Activity.ContactId %}\">{%= $.userActivity.Activity.ContactName %}</a>","</div>","{% } %}","{% if ($.userActivity.Activity.AccountName !== \"\") { %}","<div id=\"{%= $.userActivity.Activity.$key %}_acc\" dojoAttachPoint=\"_accnode\">","{%= $.accountText %}: <a href=\"Account.aspx?entityid={%= $.userActivity.Activity.AccountId %}\">{%= $.userActivity.Activity.AccountName %}</a>","</div>","{% } %}","{% } %}","</td><td class=\"alarm-content\">","{% if ($.userActivity.Activity.Location) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_Location\" dojoAttachPoint=\"_location\">","{%= $.locationText %}: {%= $.userActivity.Activity.Location %}&nbsp;","</div>","{% } %}","{% if ($.userActivity.Activity.OpportunityName) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_opp\" dojoAttachPoint=\"_oppnode\">","{%= $.opportunityText %}: <a href=\"Opportunity.aspx?entityid={%= $.userActivity.Activity.OpportunityId %}\">{%= $.userActivity.Activity.OpportunityName %}</a>","</div>","{% } %}","{% if ($.userActivity.Activity.TicketNumber) { %}","<div id=\"{%= $.userActivity.Activity.$key %}_tick\" dojoAttachPoint=\"_ticknode\">","{%= $.ticketText %}: <a href=\"Ticket.aspx?entityid={%= $.userActivity.Activity.TicketId %}\">{%= $.userActivity.Activity.TicketNumber %}</a>","</div>","{% } %}","</td>","<td class=\"alarm-countdownContainer\">","<div data-dojo-type=\"Sage.UI.Alarms.AlarmCountDown\" startDate=\"{%= $.userActivity.Activity.StartDate %}\"></div>","</td>","</tr>","</table>","</div>"]),constructor:function(){dojo.mixin(this,_1a92);},postCreate:function(){this.inherited(arguments);this._checkbox.set("checked",this.selected);this._setupTooltips();},_setUserActivityAttr:function(ua){this.userActivity=ua;this.key=ua["$key"];},_setupTooltips:function(){if(this.userActivity.Activity.AccountName!==""){this._tooltips.push(new _1a91({connectId:this._accnode,position:["below"],entityName:"accounts",entityId:this.userActivity.Activity.AccountId}));}if(this.userActivity.Activity.ContactName!==""){this._tooltips.push(new _1a91({connectId:this._connode,position:["below"],entityName:"contacts",entityId:this.userActivity.Activity.ContactId}));}if(this.userActivity.Activity.LeadName!==""){this._tooltips.push(new _1a91({connectId:this._leadnode,position:["below"],entityName:"leads",entityId:this.userActivity.Activity.LeadId}));}},closeTooltips:function(){for(var i=0;i<this._tooltips.length;i++){this._tooltips[i].close();}},cleanText:function(str){if(!str){return "";}var _1a95=new RegExp("[/:\"*?<>|\r\n'\"`]+","g");return str.replace(_1a95,"");},_onHover:function(){dojo.addClass(this.domNode,"alarm-item-hover");},_onUnhover:function(){dojo.removeClass(this.domNode,"alarm-item-hover");},_onClick:function(){this.selected=!this.selected;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_setSelectedAttr:function(_1a96){this.selected=_1a96;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_getSelectedAttr:function(){return this.selected;},_setSelectedStyle:function(){if(this.selected){dojo.addClass(this.domNode,"alarm-item-selected");}else{dojo.removeClass(this.domNode,"alarm-item-selected");}}});return _1a94;});},"Sage/MainView/ReportMgr/Crystal/nls/DateParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/DateParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1a97,lang){var nls={root:{txtPleaseSpecifyDateBetween:"Please specify a date value between {0} and {1}.",txtPleaseSpecifyDateLesser:"Please specify a date value less than or equal to {0}.",txtPleaseSpecifyDateGreater:"Please specify a date value greater than or equal to {0}.",txtPleaseSpecifyValue:"Please specify a date value."}};return lang.mixin(_1a97,nls);});},"Sage/UI/Controls/Email":function(){define("Sage/UI/Controls/Email",["dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","dojox/validate/regexp","dojo/_base/declare","Sage/Utility"],function(_1a98,_1a99,_1a9a,_1a9b,_1a9c,_1a9d){var _1a9e=_1a9c("Sage.UI.Controls.Email",[_1a98,_1a99],{widgetTemplate:new Simplate(["<div class=\"email\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","<input data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" ","data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\"","dojoAttachPoint=\"focusNode\" type=\"text\" style=\"\" ","hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} ","disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} ","readonly=\"readonly\" ","{% } %}","{% if ($.disabled !== \"disabled\") { %} "," dojoAttachEvent=\"onChange:_onChange, onDblClick:sendEmail, regExpGen:regExpGen\" ","{% } %}"," tabindex=\"{%= $.tabIndex %}\" ","value=\"{%= $.email %}\" required=\"{%= $.required %}\" ","id=\"{%= $.id %}_emailText\" maxlength=\"{%= $.maxLength %}\" > ","{% if ($.buttonVisible && $.disabled !== \"disabled\") { %}","<img alt=\"{%= $.buttonToolTip %}\" tabindex=\"{%= $.tabIndex %}\" data-dojo-attach-event=\"ondijitclick: sendEmail\" ","style=\"padding-left:0;cursor: pointer; vertical-align: left;\" ","src=\"{%= $.buttonImageUrl %}\" ","title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}_emailButton\"> ","{% } %}","</div>"]),shouldPublishMarkDirty:true,name:"",autoPostBack:false,displayMode:"",_class:"",textboxToolTip:"",textboxStyle:"",readonly:"",disabled:"",hotKey:"",maxLength:128,buttonVisible:true,buttonImageUrl:"",buttonToolTip:"",buttonStyle:"",required:false,tabIndex:0,email:"",emailId:"",constructor:function(_1a9f){_1a9f.id=_1a9f.emailId;},postCreate:function(){this.formatEmail();this.inherited(arguments);},formatEmail:function(){dojo.style(this.focusNode.focusNode,"color","#000099");},widgetsInTemplate:true,_onChange:function(_1aa0){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.formatEmailChange();},regExpGen:function(){var _1aa1="[^< ]+@[^< ]+\\.+.[^< ]*?";return _1aa1;},formatEmailChange:function(){if(this.email!==this.focusNode.value){this.email=this.focusNode.value;}},sendEmail:function(){var email=this.email;email="mailto:"+email;document.location.href=email;}});return _1a9e;});},"Sage/Library/FolderHandler":function(){define("Sage/Library/FolderHandler",["Sage/Data/SDataServiceRegistry","Sage/Services/RoleSecurityService","Sage/UI/Dialogs","Sage/Utility","dijit/ProgressBar","dojo/i18n","dojo/parser","dojo/string","dojo/_base/lang","dojo/i18n!./nls/FolderHandler"],function(_1aa2,_1aa3,_1aa4,_1aa5,_1aa6,i18n,_1aa7,_1aa8,dLang,nls){Sage.namespace("Library.FolderHandler");dojo.mixin(Sage.Library.FolderHandler,{_getNewRequest:function(){var _1aa9=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Library.FolderHandler._system);_1aa9.setResourceKind("libraryDirectories");_1aa9.setQueryArg("format","json");return _1aa9;},_initSecurity:function(){this.can.add=this._roles.hasAccess("Entities/LibraryDirs/Add");this.can.edit=this._roles.hasAccess("Entities/LibraryDirs/Edit");this.can["delete"]=this._roles.hasAccess("Entities/LibraryDirs/Delete");this.can.manage=(this._roles.hasAccess("Administration/Manage/Library")||this._roles.hasAccess("Administration/View"));},_roles:null,_system:null,can:{add:false,edit:false,"delete":false,manage:false},resources:{},init:function(){Sage.Library.FolderHandler._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.FolderHandler._initSecurity();Sage.Library.FolderHandler._system=_1aa2.getSDataService("system");dLang.mixin(Sage.Library.FolderHandler.resources,nls);},addFolder:function(_1aaa,_1aab,_1aac,_1aad){if(!(Sage.Library.FolderHandler.can.add||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1aae=Sage.Library.FolderHandler._getNewRequest();_1aae.create({parentId:_1aaa,directoryName:_1aab},{scope:this,success:function(entry){if(_1aac&&typeof _1aac==="function"){_1aac(entry);}},failure:function(xhr,sdata){if(_1aad&&typeof _1aad==="function"){_1aad(xhr,sdata);}else{_1aa5.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.AddFolderError});}}});},deleteFolder:function(_1aaf,_1ab0,_1ab1){if(!(Sage.Library.FolderHandler.can["delete"]||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1ab2=Sage.Library.FolderHandler._getNewRequest();_1ab2.setResourceSelector("'"+_1aaf+"'");_1ab2["delete"]({},{scope:this,ignoreETag:true,success:function(){if(_1ab0&&typeof _1ab0==="function"){_1ab0();}},failure:function(xhr,sdata){if(_1ab1&&typeof _1ab1==="function"){_1ab1(xhr,sdata);}else{_1aa5.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.DeleteFolderError});}}});},getOpenFolderEtag:function(item){if(item){return item.$etag;}var _1ab3=dijit.byId("libraryTree");var etag=(!(_1ab3.selectedNode)||_1ab3.selectedNode.item.root)?_1ab3.selectedNode.item.root.$etag[0]:_1ab3.selectedNode.item.$etag[0];return etag;},getOpenFolderName:function(){var _1ab4=dijit.byId("libraryTree");return _1ab4.selectedNode.label;},handleDeleteFolderClicked:function(_1ab5,event){if(Sage.Library.Manager.getOpenFolderId()==Sage.Library.Manager.getRootId()){Sage.UI.Dialogs.showWarning(Sage.Library.FolderHandler.resources.DontDeleteRoot);return;}var _1ab6=Sage.Library.FolderHandler.getOpenFolderName();if(_1ab6!==""){var msg=_1aa8.substitute(Sage.Library.FolderHandler.resources.DeleteFolderCnfmFmt,[_1ab6]);Sage.UI.Dialogs.raiseQueryDialog(Sage.Library.FolderHandler.resources.Confirm,msg,Sage.Library.FolderHandler.handleDeletefolderConfirmed,Sage.Library.FolderHandler.resources.Yes,Sage.Library.FolderHandler.resources.No,"questionIcon");}else{Sage.UI.Dialogs.showInfo(Sage.Library.FolderHandler.resources.PleaseSelectFolder);}},handleDeletefolderConfirmed:function(ok){if(ok){Sage.Library.FolderHandler.deleteFolder(Sage.Library.Manager.getOpenFolderId(),function(){dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleAddFolder:function(_1ab7,event){Sage.UI.Dialogs.raiseInputDialog(Sage.Library.FolderHandler.resources.NewFolder,Sage.Library.FolderHandler.resources.EnterFolderName,Sage.Library.FolderHandler.handleAddFolderCallback,Sage.Library.FolderHandler.resources.OK,Sage.Library.FolderHandler.resources.Cancel);},handleAddFolderCallback:function(ok,text){if(ok){var dirid=Sage.Library.Manager.getOpenFolderId();Sage.Library.FolderHandler.addFolder(dirid,text,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleEditFolderName:function(_1ab8,event){if(Sage.Library.Manager.getOpenFolderId()==Sage.Library.Manager.getRootId()){Sage.UI.Dialogs.showWarning(Sage.Library.FolderHandler.resources.DontEditRoot);return;}var _1ab9=Sage.Library.FolderHandler.getOpenFolderName();Sage.UI.Dialogs.raiseInputDialog(Sage.Library.FolderHandler.resources.NewFolder,Sage.Library.FolderHandler.resources.EnterNewFolderName,Sage.Library.FolderHandler.handleEditFolderNameCallback,Sage.Library.FolderHandler.resources.OK,Sage.Library.FolderHandler.resources.Cancel,_1ab9,"[^\\\\/:\"*?<>|\r\n]+",Sage.Library.FolderHandler.resources.InvalidFolderName);},handleEditFolderNameCallback:function(ok,text){if(ok){var dirid=Sage.Library.Manager.getOpenFolderId();var etag=Sage.Library.FolderHandler.getOpenFolderEtag();Sage.Library.FolderHandler.renameFolder(dirid,text,etag,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleFolderClicked:function(item,node){var _1aba=dijit.byId("btnDeleteFolder");var _1abb=dijit.byId("btnEditFolder");if((typeof _1aba!=="undefined")&&(_1aba!==null)&&(_1abb!==null)){if(item.root){_1aba.set("disabled",true);_1abb.set("disabled",true);}else{_1aba.set("disabled",false);_1abb.set("disabled",false);}}dojo.publish("/sage/library/manager/libraryDocuments/refresh",item);},renameFolder:function(_1abc,_1abd,etag,_1abe,_1abf){if(!(Sage.Library.FolderHandler.can.edit||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1ac0=Sage.Library.FolderHandler._getNewRequest();_1ac0.setResourceSelector("'"+_1abc+"'");_1ac0.update({$etag:etag,directoryId:_1abc,directoryName:_1abd},{scope:this,success:function(entry){if(_1abe&&typeof _1abe==="function"){_1abe(entry);}},failure:function(xhr,sdata){if(_1abf&&typeof _1abf==="function"){_1abf(xhr,sdata);}else{if(xhr.readyState==4&&xhr.status==412){Sage.UI.Dialogs.showError(Sage.Library.FolderHandler.resources.FolderUpdateConflictError);}else{_1aa5.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.RenameFolderError});}}}});},showAccessError:function(){Sage.UI.Dialogs.showError(Sage.Library.FolderHandler.resources.AccessError);}});Sage.Library.FolderHandler.init();return Sage.Library.FolderHandler;});},"Sage/UI/SummaryFormatterScope":function(){define("Sage/UI/SummaryFormatterScope",["Sage/UI/SummaryContainer","Sage/Data/SummaryViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/lang","dojo/_base/declare"],function(_1ac1,_1ac2,_1ac3,lang,_1ac4){var _1ac5=_1ac4("Sage.UI.SummaryFormatterScope",null,{templateLocation:false,queryName:"",idField:"",dataManager:null,requestConfiguration:false,widgets:[],constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1ac2();if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);},formatSummary:function(value,idx){var _1ac6,id=idx+"_sum_"+value;if(value===null){return "";}if(this.dataManager===null){this.dataManager=Sage.Services.getService("SummaryViewDataManager");}if(this.dataManager===null){this._setupDataManager();}_1ac6=dijit.byId(id);if(_1ac6){_1ac6.destroy();}_1ac6=new _1ac1({id:id,templateLocation:this.templateLocation});this.dataManager.requestData(value,_1ac6,this.requestConfiguration);this.widgets[idx]=_1ac6;return this.widgets[idx];},preFetchResources:function(){var _1ac7=["Sage"];var _1ac8=this.templateLocation.split("/");for(var i=0;i<_1ac8.length-1;i++){_1ac7.push(_1ac8[i]);}var path="dojo/i18n!"+_1ac7.join("/")+"/nls/"+_1ac8[_1ac8.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));dojo["cache"]("Sage",this.templateLocation);}});return _1ac5;});},"Sage/UI/_TitlePaneConfigProvider":function(){define("Sage/UI/_TitlePaneConfigProvider",["dojo/_base/declare"],function(_1ac9){var _1aca=_1ac9("Sage.UI._TitlePaneConfigProvider",null,{titlePaneConfiguration:{menu:{},tabs:{},titleFmtString:"${0}"},requestTitlePaneConfiguration:function(_1acb){if(_1acb.success&&this.titlePaneConfiguration){_1acb.success.call(_1acb.scope||this,this.titlePaneConfiguration,this);}}});return _1aca;});},"Sage/QuickForms/Design/nls/CurrencyControlDesigner":function(){define("Sage/QuickForms/Design/nls/CurrencyControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1acc,lang){var nls={root:{displayNameText:"Currency"}};return lang.mixin(_1acc,nls);});},"Sage/LanguageList":function(){define("Sage/LanguageList",[],function(){return {root:null,"af":true,"ar":true,"ar-dz":true,"ar-jo":true,"ar-lb":true,"ar-ma":true,"ar-sy":true,"ar-tn":true,"az":true,"be":true,"bg":true,"ca":true,"cs":true,"da":true,"de":true,"de-at":true,"de-ch":true,"de-li":true,"el":true,"en":true,"en-au":true,"en-bz":true,"en-ca":true,"en-gb":true,"en-jm":true,"en-nz":true,"en-tt":true,"en-us":false,"en-za":true,"es":true,"es-ar":true,"es-bo":true,"es-cl":true,"es-co":true,"es-cr":true,"es-ec":true,"es-gt":true,"es-hn":true,"es-pa":true,"es-pe":true,"es-pr":true,"es-py":true,"es-uy":true,"es-ve":true,"et":true,"eu":true,"fa":true,"fi":true,"fo":true,"fr":true,"fr-be":true,"fr-ca":true,"fr-ch":true,"fr-lu":true,"gd":true,"he":true,"hi":true,"hr":true,"hu":true,"id":true,"is":true,"it":true,"it-ch":true,"ja":true,"kk":true,"ko":true,"lt":true,"lv":true,"mk":true,"ms":true,"mt":true,"nb":true,"nl":true,"nl-be":true,"pl":true,"pt":true,"pt-pt":true,"pt-br":true,"rm":true,"ro":true,"ru":true,"sk":true,"sl":true,"sq":true,"sr":true,"sv":true,"sv-fi":true,"th":true,"tn":true,"tr":true,"ts":true,"uk":true,"ur":true,"ve":true,"vi":true,"xh":true,"zh":true,"zh-cn":true,"zh-hk":true,"zh-sg":true,"zh-tw":true,"zu":true};});},"Sage/MainView/ReportMgr/ReportManagerGroupContextService":function(){define("Sage/MainView/ReportMgr/ReportManagerGroupContextService",["Sage/Groups/BaseGroupContextService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/ReportMgr/ReportsListPanelConfig","Sage/MainView/ReportMgr/SchedulesListPanelConfig","Sage/MainView/ReportMgr/HistoryListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/ReportManagerGroupContextService"],function(_1acd,_1ace,_1acf,lang,_1ad0,_1ad1,_1ad2,_1ad3,_1ad4,_1ad5){var _1ad6=_1ad4("Sage.MainView.ReportMgr.ReportManagerGroupContextService",_1acd,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentListConfiguration:false,staticTabsConfiguration:[{key:"reports",descriptor:_1ad5.reportsTabDisplayName,keyField:"$key",configProviderType:_1ad0},{key:"schedules",descriptor:_1ad5.schedulesTabDisplayName,keyField:"$key",configProviderType:_1ad1},{key:"history",descriptor:_1ad5.historyTabDisplayName,keyField:"$key",configProviderType:_1ad2}],_configsHash:false,_LOCALSTORE_NAMESPACE:"ReportManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _1ad7=this._getDefaultTabId();this.setContext(_1ad7,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_1ace.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},getStaticTabs:function(){return this.staticTabsConfiguration;},buildCurrentEntityContext:function(){var _1ad8=this._currentContext.CurrentGroupID;if(!_1ad8){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_1ad8);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_1ad8);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.staticTabsConfiguration.length;i++){var cfg=this.staticTabsConfiguration[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var tabId=this._currentContext.CurrentGroupID;var _1ad9=(this.configsHash.hasOwnProperty(tabId))?this.configsHash[tabId]:this.configsHash["groups"];if(!_1ad9.instance){_1ad9.instance=new _1ad9.configProviderType();this.onTabConfigCreated(_1ad9.instance);}else{_1ad9.instance.rebuild();}this._currentListConfiguration=_1ad9.instance;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(tabid){this._ensureConfigsHash();var _1ada="$key";if(this.configsHash[tabid]){_1ada=this.configsHash[tabid]["keyField"]||"$key";}return _1ada;},getGroupName:function(tabid){this._ensureConfigsHash();var name="default";if(this.configsHash[tabid]){name=this.configsHash[tabid]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_1adb){dojo.publish("/group/context/changed",[_1adb,self]);this._clearFilterManager();var self=this;this._onDefaultFilterLoad(function(){var _1adc=self.getContext();self._saveToLocalStorage(self._STORE_KEY_LASTAB,_1adc.CurrentGroupID);});},_clearFilterManager:function(){var _1add={};var _1ade={};dojo.publish("/ui/filters/default/apply",[_1add,_1ade,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_1adf){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_1adf){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_1adf;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_1ae0){},_onDefaultFilterRefresh:function(_1ae1,_1ae2,_1ae3){var _1ae4=this.getContext(),_1ae5=_1acf.getSDataService("system"),entry={"$name":"applyFilterToEntity","request":{"entityName":_1ae4.CurrentEntity,"filter":dojo.toJson(_1ae3.createValueSet()),"key":_1ae4.CurrentGroupID}},_1ae6=new Sage.SData.Client.SDataServiceOperationRequest(_1ae5).setOperationName("applyFilterToEntity");_1ae6.execute(entry,{});},_saveToLocalStorage:function(key,value,_1ae7){this._saveToSessionStorage(key,value,_1ae7);return;},_getFromLocalStorage:function(key,_1ae8){return this._getFromSessionStorage(key,_1ae8);},_getFromSessionStorage:function(key,_1ae9){if(!_1ae9){_1ae9=this._LOCALSTORE_NAMESPACE;}var _1aea=_1ae9+"_"+key;return sessionStorage.getItem(_1aea);},_saveToSessionStorage:function(key,value,_1aeb){if(!_1aeb){_1aeb=this._LOCALSTORE_NAMESPACE;}var _1aec=_1aeb+"_"+key;sessionStorage.setItem(_1aec,value);},_getDefaultTabId:function(){var _1aed="reports";var _1aee=this._getUrlTabId();if(_1aee){_1aee=this._validateTabId(_1aee);if(_1aee){return _1aee;}}var _1aef=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_1aef){_1aed=_1aef;}else{}if(!this._configsHash){for(var i=0;i<this.staticTabsConfiguration;i++){if(_1aed===this.staticTabsConfiguration[i]["key"]){return _1aed;}}}return _1aed;},_getUrlTabId:function(){var tabId=false,_1af0="[\\?&]tabId=([^%#]*)",regex=new RegExp(_1af0),_1af1=regex.exec(window.location.href);if(_1af1!==null){tabId=_1af1[1];}return tabId;},_validateTabId:function(tabId){if(tabId){for(var i=0;i<this.staticTabsConfiguration.length;i++){var cfg=this.staticTabsConfiguration[i];if(cfg.key.toUpperCase()===tabId.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_1af2){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _1ad6());}else{var _1af3=Sage.Services.getService("ClientGroupContext");if(_1af3.declaredClass!=="Sage.MainView.ReportMgr.ReportManagerGroupContextService"){_1af3.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _1ad6());}}return _1ad6;});},"Sage/Services/JobService":function(){define("Sage/Services/JobService",["Sage/UI/Dialogs","dojo/_base/declare","dojo/string","dojo/i18n!./nls/JobService"],function(_1af4,_1af5,_1af6,_1af7){var _1af8=_1af5("Sage.Services.JobService",null,{getSchedulingSDataService:function(){var svc=new Sage.SData.Client.SDataService({serverName:window.location.hostname,virtualDirectory:Sage.Utility.getVirtualDirectoryName()+"/slxdata.ashx",applicationName:"$app",contractName:"scheduling",port:window.location.port&&window.location.port!==80?window.location.port:false,protocol:/https/i.test(window.location.protocol)?"https":false,json:true});return svc;},getJobDefinition:function(_1af9){if(!_1af9){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1af9.key!=="string"){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options.key"]),"Job Service");return;}var svc=this.getSchedulingSDataService();var _1afa=new Sage.SData.Client.SDataSingleResourceRequest(svc);_1afa.setQueryArg("include","$descriptors");_1afa.setResourceKind(_1af6.substitute("${0}('${1}')",[_1af9.resourceKind,_1af9.key]));_1afa.read({success:function(_1afb){if(_1af9.success){_1af9.success(_1afb);}},failure:function(xhr){var _1afc="getJobDefinition: "+_1af6.substitute(_1af7.txtUnexpectedError,[xhr.status,xhr.statusText]);if(_1af9.failure){_1af9.failure(xhr);}}});},getExecution:function(_1afd){if(!_1afd){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options"]),"Job Service");return;}if((typeof _1afd.triggerId!=="string")&&(typeof _1afd.executionId!=="string")){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options.triggerId or options.executionId"]),"Job Service");return;}var svc=this.getSchedulingSDataService();var _1afe=new Sage.SData.Client.SDataSingleResourceRequest(svc);if(typeof _1afd.triggerId==="string"){_1afe.setResourceKind("executions");_1afe.setQueryArg("include","$descriptors");_1afe.setQueryArg("where",_1af6.substitute("triggerId eq '${0}'",[_1afd.triggerId]));}if(typeof _1afd.executionId==="string"){_1afe.setResourceKind(_1af6.substitute("executions('${0}')",[_1afd.executionId]));}_1afe.read({success:function(_1aff){if(_1afd.success){_1afd.success(_1aff);}},failure:function(xhr){var _1b00="getExecution: "+_1af6.substitute(_1af7.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_1b00);if(_1afd.failure){_1afd.failure(xhr);}}});},interruptExecution:function(_1b01){if(!_1b01){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b01.key!=="string"){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b02=this.getSchedulingSDataService();var _1b03=new Sage.SData.Client.SDataServiceOperationRequest(_1b02);_1b03.setApplicationName("$app");_1b03.setOperationName("interrupt");_1b03.setResourceKind("executions('"+_1b01.key+"')");var entry={};_1b03.execute(entry,{success:function(_1b04){if(_1b01.success){_1b01.success(_1b04);}},failure:function(xhr){var _1b05=_1af6.substitute(_1af7.txtTriggerJobError,[_1b01.key,xhr.status,xhr.statusText]);console.error(_1b05);if(_1b01.failure){_1b01.failure(xhr);}}});},scheduleJob:function(_1b06){if(!_1b06){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b06.key!=="string"){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b07=this.getSchedulingSDataService();var entry={$descriptor:_1b06.descriptor?_1b06.descriptor:"",job:{$key:_1b06.key},startTimeUtc:_1b06.startTime,endTimeUtc:_1b06.endTime,parameters:_1b06.parameters,cronExpression:_1b06.cronExpression};var _1b08=new Sage.SData.Client.SDataApplicationRequest(_1b07);_1b08.setResourceKind("triggers");_1b08.execute=function(entry,_1b09){return _1b08.service.executeServiceOperation(_1b08,entry,_1b09);},_1b08.execute(entry,{success:function(_1b0a){if(_1b06.success){_1b06.success(_1b0a);}},failure:function(xhr){var _1b0b=_1af6.substitute(_1af7.txtScheduleJobError,[_1b06.key,xhr.status,xhr.statusText]);console.error(_1b0b);if(_1b06.failure){_1b06.failure(xhr);}}});},getTrigger:function(_1b0c){if(!_1b0c){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options"]),"Job Service");return;}if((typeof _1b0c.triggerId!=="string")){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options.triggerId"]),"Job Service");return;}var _1b0d=this.getSchedulingSDataService();var _1b0e=new Sage.SData.Client.SDataSingleResourceRequest(_1b0d);_1b0e.setResourceKind(_1af6.substitute("triggers('${0}')",[_1b0c.triggerId]));_1b0e.read({success:function(_1b0f){if(_1b0c.success){_1b0c.success(_1b0f);}},failure:function(xhr){var _1b10="getExecution: "+_1af6.substitute(_1af7.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_1b10);if(_1b0c.failure){_1b0c.failure(xhr);}}});},updateTrigger:function(_1b11){if(!_1b11){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b11.key!=="string"){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b12=this.getSchedulingSDataService();var entry={$descriptor:_1b11.descriptor,job:{$key:_1b11.key},startTimeUtc:_1b11.startTime,endTimeUtc:_1b11.endTime,parameters:_1b11.parameters,cronExpression:_1b11.cronExpression};var _1b13=new Sage.SData.Client.SDataSingleResourceRequest(_1b12);_1b13.setResourceKind("triggers");_1b13.setResourceSelector(_1af6.substitute("'${0}'",[_1b11.key]));_1b13.update(entry,{success:function(_1b14){if(_1b11.success){_1b11.success(_1b14);}},failure:function(xhr){var _1b15=_1af6.substitute(_1af7.txtScheduleJobError,[_1b11.key,xhr.status,xhr.statusText]);if(_1b11.failure){_1b11.failure(xhr);}}});},deleteScheduledJob:function(key){if(!key){return false;}var _1b16=this.getSchedulingSDataService();var _1b17=new Sage.SData.Client.SDataApplicationRequest(_1b16);_1b17.setApplicationName("$app");_1b17.setResourceKind(_1af6.substitute("triggers('${0}')",[key]));var sUrl=_1b17.uri;dojo.xhrDelete({handleAs:"json",url:sUrl,error:function(xhr){_1af4.showError(_1af6.substitute(_1af7.txtTriggerJobError,[key,xhr.status,xhr.statusText]));return false;}});return true;},triggerJob:function(_1b18){if(!_1b18){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b18.key!=="string"){_1af4.showError(_1af6.substitute(_1af7.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b19=this.getSchedulingSDataService();var entry={name:_1b18.key,request:{parameters:_1b18.parameters?_1b18.parameters:[]}};var _1b1a=new Sage.SData.Client.SDataServiceOperationRequest(_1b19);_1b1a.setApplicationName("$app");_1b1a.setOperationName("trigger");_1b1a.setResourceKind("jobs('"+_1b18.key+"')");_1b1a.execute(entry,{success:function(_1b1b){if(_1b18.success){_1b18.success(_1b1b);}},failure:function(xhr){var _1b1c=_1af6.substitute(_1af7.txtTriggerJobError,[_1b18.key,xhr.status,xhr.statusText]);console.error(_1b1c);if(_1b18.failure){_1b18.failure(xhr);}}});}});if(!Sage.Services.hasService("JobService")){Sage.Services.addService("JobService",new Sage.Services.JobService());}return _1af8;});},"Sage/QuickForms/Design/NonVisibleControlContainer":function(){define("Sage/QuickForms/Design/NonVisibleControlContainer",["dojo/query","dojo/topic","dojo/string","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/dom-attr","dojo/dom-class","dojo/NodeList-traverse","dojo/NodeList-manipulate","dijit/registry","dijit/focus","dijit/layout/_LayoutWidget","Sage/_EventMapMixin","Sage/_Templated","dojo/i18n!./nls/NonVisibleControlContainer"],function(query,topic,_1b1d,_1b1e,array,lang,event,_1b1f,_1b20,_1b21,_1b22,_1b23,focus,_1b24,_1b25,_1b26,_1b27){return _1b1e("Sage.QuickForms.Design.NonVisibleControlContainer",[_1b24,_1b25,_1b26],{events:{"click":"_onClick","keydown":"_onKeyDown"},widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"design-hidden-container\">","<div class=\"design-hidden-container-header dijit dijitToolbar\">{%: $.headerText %}</div>","<div class=\"design-hidden-container-content\" data-dojo-attach-point=\"containerNode\"></div>","<div>"]),_designGroup:null,_designGroupTopics:null,selections:null,singleSelection:false,designGroup:"default",headerText:"Non-Visual Controls",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_1b1d.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected)];},constructor:function(){this.selections=[];lang.mixin(this,_1b27);},buildRendering:function(){this.inherited(arguments);_1b1f.set(this.domNode,"tabIndex",0);},_onKeyDown:function(evt){},_handleSelectionFor:function(_1b28,_1b29){if(_1b28){var _1b2a=(array.indexOf(this.selections,_1b28)>-1);if(_1b29&&!this.singleSelection){if(!_1b2a){array.forEach(this.selections,function(_1b2b){query(_1b2b.domNode).attr("tabIndex","-1");});this.selections.push(_1b28);_1b1f.set(_1b28.domNode,"tabIndex",0);focus.focus(_1b28.domNode);_1b20.add(_1b28.domNode,"design-hidden-item-selected");this.onSelectionChanged(this.selections,true);topic.publish(_1b1d.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1b28,true,this);}}else{this._clearSelectionDom();this._clearSelectionState(false);this.selections=[_1b28];_1b1f.set(_1b28.domNode,"tabIndex",0);focus.focus(_1b28.domNode);_1b20.add(_1b28.domNode,"design-hidden-item-selected");this.onSelectionChanged(this.selections);topic.publish(_1b1d.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1b28,true,this);}}else{if(this.singleSelection||!_1b29){this._clearSelectionDom();this._clearSelectionState();}}},_onClick:function(evt){var node=query(evt.target).closest(".dijitLayoutContainer-child")[0],_1b2c=node&&_1b23.byNode(node),_1b2d=evt.shiftKey;this._handleSelectionFor(_1b2c,_1b2d);},onSelectionChanged:function(_1b2e,_1b2f){},_clearSelectionDom:function(){if(this.selections.length>0){array.forEach(this.selections,function(_1b30){query(_1b30.domNode).attr("tabIndex","-1").removeClass("design-hidden-item-selected");});}},_clearSelectionState:function(_1b31){if(this.selections.length>0){this.selections=[];if(_1b31!==false){this.onSelectionChanged(this.selections);topic.publish(_1b1d.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),false,false,this);}}},_onDesignerSelected:function(_1b32,_1b33,_1b34){if(_1b32&&_1b34!==this){this._clearSelectionDom();this._clearSelectionState(false);}},clearSelections:function(){this._clearSelectionDom();this._clearSelectionState();},clear:function(){this._clearSelectionState();array.forEach(this.getChildren(),function(child){this.removeChild(child);},this);this.layout();}});});},"Sage/Extensions/ActivityRequirements":function(){define("Sage/Extensions/ActivityRequirements",["Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig","Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig"],function(){return true;});},"url:Sage/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n        <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n\n","Sage/Array":function(){define("Sage/Array",[],function(){if(typeof Array.prototype.swap==="undefined"){Array.prototype.swap=function(d,s){if(d>this.length||s>this.length){return;}var tmp=this[d];this[d]=this[s];this[s]=tmp;return this;};}if(typeof Array.prototype.getIndexByProp==="undefined"){Array.prototype.getIndexByProp=function(str,prop){for(var i=0,len=this.length;i<len;i++){if(prop&&prop==="key"){if(str in this[i]){return i;}}else{if(prop&&prop==="value"){for(var p in this[i]){if(this[i].hasOwnProperty(p)){if(this[i][p]===str){return i;}}}}}}};}if(typeof Array.prototype.placeByAttr==="undefined"){Array.prototype.placeByAttr=function(obj,attr){var _1b35=false;if(!this.length){this.push(obj);return;}for(var i=0,len=this.length;i<len;i++){if(this[i][attr]>=obj[attr]){_1b35=true;this.splice(i,0,obj);break;}}if(!_1b35){this.push(obj);}};}if(typeof Array.prototype.removeByAttr==="undefined"){Array.prototype.removeByAttr=function(attr,arg){if(!this.length){return;}for(var i=0,len=this.length;i<len;i++){if(this[i][attr]===arg){this.splice(i,1);break;}}};}if(typeof Array.prototype.filter==="undefined"){Array.prototype.filter=function(fun){"use strict";if(this===null){throw new TypeError();}var t=Object(this);var len=t.length>>>0;if(typeof fun!="function"){throw new TypeError();}var res=[];var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val);}}}return res;};}return Array;});},"Sage/QuickForms/Design/nls/DataGridControlDesigner":function(){define("Sage/QuickForms/Design/nls/DataGridControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1b36,lang){var nls={root:{displayNameText:"Data Grid",emptyTableRowStringText:"No records match the selection criteria."}};return lang.mixin(_1b36,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionEditor.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.dlgCrystalReportConditionDetails_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 300px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                \r\n                '<table cellspacing=\"10\">',\r\n                    \r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbConditionType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',                            \r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionType\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionType_OnChange\" style=\"width:150px\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trCurrentUser\">',\r\n                        '<td>',\r\n                            '&nbsp;',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkCurrentUser\" dojoAttachEvent=\"onChange:_chkCurrentUser_OnChange\" /> <label>{%= $._nlsResources.chkCurrentUser_Caption %}</label>',\r\n                        '</td>',                        \r\n                    '</tr>',\r\n                    \r\n                    '<tr dojoAttachPoint=\"trUser\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpUser_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpUser_Caption %}\" dojoAttachPoint=\"contentPaneLkpUser\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',                        \r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trGroup\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpGroup_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpGroup_Caption %}\" dojoAttachPoint=\"contentPaneLkpGroup\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',\r\n                    '</tr>',                                                       \r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trDateRange\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbDateRange_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbDateRange\" dojoAttachEvent=\"onChange:_cmbDateRange_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"DateRange\">{%= $._nlsResources.cmbDateRange_SpecificDates_Caption %}</option>',\r\n                                '<option value=\"ThisWeek\">{%= $._nlsResources.cmbDateRange_ThisWeek_Caption %}</option>',\r\n                                '<option value=\"ThisMonth\">{%= $._nlsResources.cmbDateRange_ThisMonth_Caption %}</option>',\r\n                                '<option value=\"ThisQuarter\">{%= $._nlsResources.cmbDateRange_ThisQuarter_Caption %}</option>',\r\n                                '<option value=\"ThisYear\">{%= $._nlsResources.cmbDateRange_ThisYear_Caption %}</option>',\r\n                                '<option value=\"LastWeek\">{%= $._nlsResources.cmbDateRange_LastWeek_Caption %}</option>',\r\n                                '<option value=\"LastMonth\">{%= $._nlsResources.cmbDateRange_LastMonth_Caption %}</option>',\r\n                                '<option value=\"LastQuarter\">{%= $._nlsResources.cmbDateRange_LastQuarter_Caption %}</option>',\r\n                                '<option value=\"LastYear\">{%= $._nlsResources.cmbDateRange_LastYear_Caption %}</option>',\r\n                                '<option value=\"MonthToDate\">{%= $._nlsResources.cmbDateRange_MonthToDate_Caption %}</option>',\r\n                                '<option value=\"QuarterToDate\">{%= $._nlsResources.cmbDateRange_QuarterToDate_Caption %}</option>',\r\n                                '<option value=\"YearToDate\">{%= $._nlsResources.cmbDateRange_YearToDate_Caption %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trFromDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trToDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trTable\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbTable_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbTables\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbTables_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trField\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbField_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbFields\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbFields_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trOperator\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbOperator_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOperators\" sortByLabel=\"false\" style=\"width:150px\" dojoAttachEvent=\"onChange:_cmbOperators_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue1\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue1\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue2_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue2\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue1\">',\r\n                        '<td>',\r\n                            '<label dojoAttachPoint=\"lblNumericValue1\">{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue1\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtNumericValueTo_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue2\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trDateValue1\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue1\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trDateValue2\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue2\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    \r\n                '</table>',\r\n                \r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $._nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $._nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor",["dojo/_base/declare","dojo/string","dojo/_base/array","dojo/topic","dojo/i18n!./nls/CrystalReportConditionEditor","dojo/text!./templates/CrystalReportConditionEditor.html","dijit/_Widget","Sage/_Templated","dojo/_base/lang","Sage/UI/Controls/_DialogHelpIconMixin","Sage/UI/Controls/Lookup","Sage/UI/Dialogs","Sage/Data/SDataServiceRegistry","dojo/data/ItemFileWriteStore","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","dijit/form/Select","dijit/form/CheckBox"],function(_1b37,_1b38,_1b39,topic,_1b3a,_1b3b,_1b3c,_1b3d,_1b3e,_1b3f,_1b40,_1b41,_1b42,_1b43,_1b44,_1b45,_1b46){var _1b47=_1b37("Sage.MainView.ReportMgr.CrystalReportConditionEditor",[_1b3c,_1b3d],{id:"dlgCrystalReportConditionEditor",_dialog:false,_reportMetadata:null,widgetTemplate:new Simplate(eval(_1b3b)),_nlsResources:_1b3a,widgetsInTemplate:true,_entity:null,_mode:"new",constructor:function(_1b48,_1b49){this._entity=_1b48;this._reportMetadata=_1b49;if(_1b48){this._mode="edit";}},show:function(){this._dialog.show();if(!this._dialog.helpIcon){_1b3e.mixin(this._dialog,new _1b3f());this._dialog.createHelpIconByTopic("reportconditions");}},destroy:function(){this.lkpUser.destroy();this.lkpGroup.destroy();this.inherited(arguments);},_dialog_OnShow:function(){this._initializeControls();},_closeDialog:function(){var self=this;self._dialog.hide();self.destroyRecursive();},_cmdOK_OnClick:function(){if(this._isValid()){this._save();}},_cmdCancel_OnClick:function(){this._closeDialog();},_dialog_OnCancel:function(){this._closeDialog();},_cmbConditionType_OnChange:function(){this._setControlsVisibility();},_cmbDateRange_OnChange:function(){this._setDateRangeControlsVisibility();},_cmbTables_OnChange:function(){this._initializeFieldsDropdown();},_cmbFields_OnChange:function(){this._initializeOperatorsDropdown();},_cmbOperators_OnChange:function(){this._setQueryControlsVisibility();},_chkCurrentUser_OnChange:function(){if(this.chkCurrentUser.checked){this.lkpUser.set("selectedObject",null);}_1b45.setDomNodeVisible(this.trUser,!this.chkCurrentUser.checked);},_isValid:function(){switch(this.cmbConditionType.value){case String(_1b44.ReportConditionType.Group):if(!this.lkpGroup.get("selectedObject")){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbGroup_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}break;case String(_1b44.ReportConditionType.DateRange):if(this.cmbDateRange.value==="DateRange"){if(this.dtFromDate.focusNode.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(this.dtToDate.focusNode.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtToDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case String(_1b44.ReportConditionType.User):if(!this.chkCurrentUser.checked&&!this.lkpUser.get("selectedObject")){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.lkpUser_Caption]),this._nlsResources.txtInvalidParameterTitle);}break;case String(_1b44.ReportConditionType.Query):if(!this.cmbTables.value||this.cmbTables.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbTable_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.cmbFields.value||this.cmbFields.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbField_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.cmbOperators.value||this.cmbOperators.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbOperator_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}var _1b4a=this.cmbOperators.value;var _1b4b=this._getFieldDataType();switch(_1b4b){case _1b44.FieldDataTypes.Numeric:if(_1b4a==_1b44.ReportConditionOperator.IsInTheRange){if(!this.txtNumericValue1.focusNode.textbox.value||this.txtNumericValue1.focusNode.textbox.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtNumericValueFrom_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.txtNumericValue2.focusNode.textbox.value||this.txtNumericValue2.focusNode.textbox.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtNumericValueTo_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}else{if(!this.txtNumericValue1.focusNode.textbox.value||this.txtNumericValue1.focusNode.textbox.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtValue_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case _1b44.FieldDataTypes.DateTime:if(_1b4a==_1b44.ReportConditionOperator.IsInTheRange){if(this.dtDateValue1.focusNode.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(this.dtDateValue2.focusNode.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtToDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}else{if(this.dtDateValue1.focusNode.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case _1b44.FieldDataTypes.String:if(!this.txtStringValue1.value||this.txtStringValue1.value===""){_1b41.showError(_1b38.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtValue_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}break;default:console.error("Unsupported field type: "+_1b4b);}break;}return true;},_setControlsVisibility:function(){_1b45.setDomNodeVisible(this.trUser,false);_1b45.setDomNodeVisible(this.trCurrentUser,false);_1b45.setDomNodeVisible(this.trGroup,false);_1b45.setDomNodeVisible(this.trDateRange,false);_1b45.setDomNodeVisible(this.trFromDate,false);_1b45.setDomNodeVisible(this.trToDate,false);_1b45.setDomNodeVisible(this.trTable,false);_1b45.setDomNodeVisible(this.trField,false);_1b45.setDomNodeVisible(this.trOperator,false);_1b45.setDomNodeVisible(this.trValue,false);if(this.cmbConditionType){switch(this.cmbConditionType.value){case _1b44.ReportConditionType.Group:_1b45.setDomNodeVisible(this.trGroup,true);break;case _1b44.ReportConditionType.DateRange:_1b45.setDomNodeVisible(this.trDateRange,true);_1b45.setDomNodeVisible(this.trFromDate,true);_1b45.setDomNodeVisible(this.trToDate,true);break;case _1b44.ReportConditionType.User:_1b45.setDomNodeVisible(this.trUser,true);_1b45.setDomNodeVisible(this.trCurrentUser,true);break;case _1b44.ReportConditionType.Query:_1b45.setDomNodeVisible(this.trTable,true);_1b45.setDomNodeVisible(this.trField,true);_1b45.setDomNodeVisible(this.trOperator,true);_1b45.setDomNodeVisible(this.trValue,true);break;}}this._setQueryControlsVisibility();},_setDateRangeControlsVisibility:function(){if(this.cmbDateRange){switch(this.cmbDateRange.value){case "DateRange":_1b45.setDomNodeVisible(this.trFromDate,true);_1b45.setDomNodeVisible(this.trToDate,true);break;default:_1b45.setDomNodeVisible(this.trFromDate,false);_1b45.setDomNodeVisible(this.trToDate,false);break;}}},_initializeControls:function(){this._initializeConditionTypeDropdown();this._createUserLookup();this._createGroupLookup();this._setControlsVisibility();this._initializeTablesDropdown();this._setValues();},_setValues:function(){if(this._entity){this.cmbConditionType.attr("value",this._entity.conditionType);switch(this.cmbConditionType.value){case _1b44.ReportConditionType.Group:var group=this._entity.value?_1b45.getGroup(this._entity.value):null;this.lkpGroup.set("selectedObject",group);break;case _1b44.ReportConditionType.DateRange:this.cmbDateRange.attr("value",this._entity.value);if(this.cmbDateRange.value==="DateRange"){this.dtFromDate.set("value",this._entity.fromRange);this.dtToDate.set("value",this._entity.toRange);}break;case _1b44.ReportConditionType.User:if(this._entity.tag.toUpperCase()===":USERID"){this.chkCurrentUser.set("checked",true);}else{var user=this._entity.value?_1b45.getUser(this._entity.tag):null;this.lkpUser.set("selectedObject",user);}break;case _1b44.ReportConditionType.Query:this.cmbTables.attr("value",this._entity.table);var _1b4c=this._entity.operator;switch(this._entity.dataType){case _1b44.FieldDataTypes.Numeric:if(_1b4c==_1b44.ReportConditionOperator.IsInTheRange){this.txtNumericValue1.focusNode.textbox.value=this._entity.fromRange;this.txtNumericValue2.focusNode.textbox.value=this._entity.toRange;}else{this.txtNumericValue1.focusNode.textbox.value=this._entity.value;}break;case _1b44.FieldDataTypes.DateTime:if(_1b4c==_1b44.ReportConditionOperator.IsInTheRange){this.dtDateValue1.set("value",this._entity.fromRange);this.dtDateValue2.set("value",this._entity.toRange);}else{this.dtDateValue1.set("value",this._entity.value);}break;case _1b44.FieldDataTypes.String:this.txtStringValue1.set("value",this._entity.value);break;default:console.error("Unsupported field type: "+this._entity.dataType);}break;default:console.error("Unsupported condition type: "+this.cmbConditionType.value);}}},_initializeConditionTypeDropdown:function(){var _1b4d=_1b46.getConditionTypes(this._reportMetadata);var data={identifier:"conditionType",label:"caption",items:_1b4d};var store=new _1b43({data:data});this.cmbConditionType.setStore(store);this.cmbConditionType.startup();},_createUserLookup:function(){var _1b4e={id:"_lkpConditionUser",structure:[{cells:[{name:_1b3a.txtName,field:"UserInfo.UserName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "Type ne 5 and Type ne 8 and Type ne 6";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",include:["UserInfo"],sort:[{attribute:"UserInfo.UserName"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_1b3a.txtSelectUser,dialogButtonText:_1b3a.txtOK};this.lkpUser=new _1b40({id:"lkpConditionUser",readonly:false,config:_1b4e});dojo.place(this.lkpUser.domNode,this.contentPaneLkpUser.domNode,"only");},_createGroupLookup:function(){var _1b4f=_1b38.substitute("upper(family) eq '${0}' or upper(family) eq '${1}'",[this._reportMetadata.family.toUpperCase(),this._reportMetadata.mainTable.toUpperCase()]);var _1b50={id:"_lkpConditionGroup",structure:[{cells:[{name:_1b3a.txtName,field:"displayName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return _1b4f;},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"groups",include:[],select:["displayName","name","family"],sort:[{attribute:"displayName",descending:false}],service:_1b42.getSDataService("system",false,true,false)},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_1b3a.txtSelectGroup,dialogButtonText:_1b3a.txtOK};this.lkpGroup=new _1b40({id:"lkpConditionGroup",readonly:false,config:_1b50});dojo.place(this.lkpGroup.domNode,this.contentPaneLkpGroup.domNode,"only");},_getTableMetadata:function(_1b51){var _1b52=null;if(this._reportMetadata.tables){_1b39.some(this._reportMetadata.tables,function(entry,i){if(entry.alias===_1b51){_1b52=entry;return true;}});}return _1b52;},_getFieldMetadata:function(_1b53,_1b54){var _1b55=this._getTableMetadata(_1b53);var _1b56=null;if(_1b55){if(_1b55.fields){_1b39.some(_1b55.fields,function(entry,i){if(entry.name==_1b54){_1b56=entry;return true;}});}}return _1b56;},_getFieldDataType:function(){var _1b57=this.cmbTables.value;var _1b58=this.cmbFields.value;var _1b59=this._getFieldMetadata(_1b57,_1b58);var _1b5a=_1b59&&_1b59.dataType?_1b59.dataType:null;return _1b5a;},_initializeTablesDropdown:function(){var items=[];if(this._reportMetadata.tables){_1b39.forEach(this._reportMetadata.tables,function(entry,i){items.push({alias:entry.alias,displayName:entry.displayName});});}var data={identifier:"alias",label:"displayName",items:items};var store=new _1b43({data:data});this.cmbTables.setStore(store);this.cmbTables.startup();},_initializeFieldsDropdown:function(){var _1b5b=this.cmbTables.value;var _1b5c=this._getTableMetadata(_1b5b);var _1b5d=_1b5c&&_1b5c.fields?_1b5c.fields:[];var items=[];_1b39.forEach(_1b5d,function(entry,i){items.push({name:entry.name,displayName:entry.displayName});});var data={identifier:"name",label:"displayName",items:items};var store=new _1b43({data:data});this.cmbFields.setStore(store);this.cmbFields.startup();if(this._entity){this.cmbFields.attr("value",this._entity.field);}},_initializeOperatorsDropdown:function(){var _1b5e=this._getFieldDataType();var _1b5f=_1b45.getOperators(_1b5e);var data={identifier:"operator",label:"caption",items:_1b5f};var store=new _1b43({data:data});this.cmbOperators.setStore(store);this.cmbOperators.startup();if(this._entity){this.cmbOperators.attr("value",this._entity.operator);}},_save:function(){if(!this._entity){this._entity={conditionType:this.cmbConditionType.value,tableName:null,fieldName:null,operator:null,value:null,fromValue:null,toValue:null,dataType:null,tag:null};}this._entity.conditionType=this.cmbConditionType.value;this._entity.table=null;this._entity.field=null;this._entity.operator=null;this._entity.value=null;this._entity.fromRange=null;this._entity.toRange=null;this._entity.dataType=null;this._entity.tag=null;switch(this.cmbConditionType.value){case _1b44.ReportConditionType.Group:var group=this.lkpGroup.get("selectedObject");this._entity.value=group.family+":"+group.name;this._entity.tag=group.$key;this._entity.operator=String(_1b44.ReportConditionOperator.Is);this._entity.dataType=_1b44.FieldDataTypes.String;break;case _1b44.ReportConditionType.DateRange:this._entity.dataType=_1b44.FieldDataTypes.DateTime;if(this.cmbDateRange.value==="DateRange"){this._entity.operator=String(_1b44.ReportConditionOperator.IsInTheRange);this._entity.value=null;this._entity.fromRange=this.dtFromDate.get("value");this._entity.toRange=this.dtToDate.get("value");}else{this._entity.operator=String(_1b44.ReportConditionOperator.Is);this._entity.value=this.cmbDateRange.value;}break;case _1b44.ReportConditionType.User:if(this.chkCurrentUser.checked){this._entity.value=_1b3a.chkCurrentUser_Caption;this._entity.tag=":UserID";}else{var user=this.lkpUser.get("selectedObject");this._entity.value=user.$descriptor;this._entity.tag=user.$key;}this._entity.operator=String(_1b44.ReportConditionOperator.Is);this._entity.dataType=_1b44.FieldDataTypes.String;break;case _1b44.ReportConditionType.Query:var _1b60=this.cmbOperators.value;this._entity.table=this.cmbTables.value;this._entity.field=this.cmbFields.value;this._entity.operator=_1b60;var _1b61=this._getFieldDataType();this._entity.dataType=_1b61;switch(_1b61){case _1b44.FieldDataTypes.Numeric:if(_1b60==_1b44.ReportConditionOperator.IsInTheRange){this._entity.fromRange=parseInt(this.txtNumericValue1.focusNode.textbox.value);this._entity.toRange=parseInt(this.txtNumericValue2.focusNode.textbox.value);}else{this._entity.value=parseInt(this.txtNumericValue1.focusNode.textbox.value);}break;case _1b44.FieldDataTypes.DateTime:if(_1b60==_1b44.ReportConditionOperator.IsInTheRange){this._entity.fromRange=this.dtDateValue1.get("value");this._entity.toRange=this.dtDateValue2.get("value");}else{this._entity.value=this.dtDateValue1.get("value");}break;case _1b44.FieldDataTypes.String:this._entity.value=this.txtStringValue1.get("value");break;default:console.error("Unsupported field type: "+_1b61);}break;default:console.error("Unsupported condition type: "+this.cmbConditionType.value);}if(this._mode==="new"){topic.publish("/reportManager/reportWizard/createCondition",this._entity);}else{topic.publish("/reportManager/reportWizard/updateCondition",this._entity);}this._closeDialog();},_setQueryControlsVisibility:function(){_1b45.setDomNodeVisible(this.trStringValue1,false);_1b45.setDomNodeVisible(this.trStringValue2,false);_1b45.setDomNodeVisible(this.trNumericValue1,false);_1b45.setDomNodeVisible(this.trNumericValue2,false);_1b45.setDomNodeVisible(this.trDateValue1,false);_1b45.setDomNodeVisible(this.trDateValue2,false);if(this.cmbConditionType.value!==_1b44.ReportConditionType.Query){return;}var _1b62=this._getFieldDataType();var _1b63=this.cmbOperators.value;switch(_1b62){case _1b44.FieldDataTypes.Numeric:this.lblNumericValue1.innerHTML=this._nlsResources.txtValue_Caption+":";_1b45.setDomNodeVisible(this.trNumericValue1,true);if(_1b63==_1b44.ReportConditionOperator.IsInTheRange){this.lblNumericValue1.innerHTML=this._nlsResources.txtNumericValueFrom_Caption+":";_1b45.setDomNodeVisible(this.trNumericValue2,true);}break;case _1b44.FieldDataTypes.DateTime:_1b45.setDomNodeVisible(this.trDateValue1,true);if(_1b63==_1b44.ReportConditionOperator.IsInTheRange){_1b45.setDomNodeVisible(this.trDateValue2,true);}break;case _1b44.FieldDataTypes.String:_1b45.setDomNodeVisible(this.trStringValue1,true);break;default:console.error("Unsupported field type: "+_1b62);}}});return _1b47;});},"url:Sage/UI/Controls/templates/Lookup.html":"<div class=\"textcontrol lookup\">\r\n    <span id=\"${id}\" class=\"lookup\">\r\n        <input id=\"${id}_LookupText\" class=\"text-with-icons\" required=\"${required}\" type=\"text\" dojoAttachPoint=\"textbox,focusNode\" />\r\n        <a href=\"#\">\r\n            <img id=\"${id}_LookupBtn\" src=\"images/icons/Find_16x16.png\" dojoAttachPoint=\"lookupButton\" alt=\"${buttonToolTip}\" title=\"${buttonToolTip}\" />\r\n        </a>\r\n        \r\n        <img id=\"${id}_btnClearResult\" src=\"images/icons/Delete_16x16.png\" dojoAttachPoint=\"clearButton\" class=\"display-none\" alt=\"${closeButtonToolTip}\" title=\"${closeButtonToolTip}\"/>\r\n    </span>\r\n</div>","Sage/UI/Columns/Boolean":function(){define("Sage/UI/Columns/Boolean",["dojox/grid/cells/_base","dojo/i18n","Sage/Utility","dojo/i18n!../nls/Boolean","dojo/_base/declare"],function(_1b64,i18n,_1b65,_1b66,_1b67){var _1b68=_1b67("Sage.UI.Columns.Boolean",_1b64,{constructor:function(){var _1b69=i18n.getLocalization("Sage.UI","Boolean");dojo.mixin(this,_1b69);this.inherited(arguments);},formatter:function(val,index){var _1b6a={"T":true,"t":true,"Y":true,"y":true,"1":true,"+":true};if(!this.formatString){return (val in _1b6a)?this.yesText:this.noText;}var _1b6b=this.formatString.split("/");if(_1b6b.length&&_1b6b.length===2){var _1b6c=(val in _1b6a)?_1b6b[0]:_1b6b[1];if(!_1b6c){return (val in _1b6a)?this.yesText:this.noText;}else{return _1b65.htmlEncode(_1b6c);}}return (val in _1b6a)?this.yesText:this.noText;}});return _1b68;});},"Sage/MainView/SecurityMgr/SecurityProfile":function(){define("Sage/MainView/SecurityMgr/SecurityProfile",["dojo/i18n!./nls/SecurityProfile","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dojo/_base/declare","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer","dojo/i18n!./nls/SecurityProfile"],function(_1b6d,_1b6e,_1b6f,_1b70,_1b71,_1b72,_1b73){var _1b74=_1b73("Sage.MainView.SecurityMgr.SecurityProfile",[_1b71,_1b72],{_dialog:false,selectedFieldIndex:1,store:false,_isNew:false,widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id %}_dlgSecurityProfile\" title=\"{%= $.securityProfile_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">","<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmSecurityProfile\">","<table cellspacing=\"20\">","<tr>","<td>","<label>{%= $.description_Text %}</label>","</td>","<td>","<input type=\"text\" id=\"secDlg_Description\" dojoAttachPoint=\"profileDescription\" name=\"profileDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" />","</td>","<tr>","<td>","<label>{%= $.profileType_Text %}</label>","</td>","<td>","<select dojoType=\"dijit.form.Select\" name=\"profileType\" id=\"secDlg_Type\">","<option value=\"U\">User</option>","<option value=\"S\">System</option>","</select>","</td>","</tr>","</table>","<div align=\"right\">","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.ok_Text %}</div>","<div data-dojo-type=\"dijit.form.Button\" style=\"margin-left:5px;\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(isNew){this._isNew=isNew;dojo.mixin(this,_1b6d);},show:function(){if(this._isNew){var store=this.getStore();store.newItem({onComplete:this.receiveNewProfileToEdit,scope:this});}this._dialog.show();if(!this._dialog.helpIcon){_1b6f.mixin(this._dialog,new _1b6e());this._dialog.createHelpIconByTopic("securityprofile");}},getStore:function(){if(this.store){return this.store;}var _1b75=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new Sage.Data.SingleEntrySDataStore({service:_1b75,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"]});return this.store;},receiveNewProfileToEdit:function(_1b76){this.receiveProfileToEdit(_1b76,true);},receiveProfileToEdit:function(_1b77,isNew){this._isNew=(isNew===true);var dlg=dijit.byId("secProfileDlg");if(dlg){dlg.set("value",_1b77);dlg.show();}},_okClick:function(){},save:function(_1b78){if(this.store){var dlg=dijit.byId("secProfileDlg");var _1b79=dlg.get("value");for(var prop in _1b79){this.store.setValue(false,prop,_1b79[prop]);}if(this._isNew){this.store.saveNewEntity(false,_1b78.success,_1b78.failure,this);}else{this.store.save(_1b78);}}},saveAndClose:function(){this.save({success:function(_1b7a){var dlg=dijit.byId("secProfileDlg");dlg.hide();var _1b7b=dijit.byId("titlePane");if(_1b7b){_1b7b.resetConfiguration();}},failure:function(err){alert("The profile could not be saved: "+err);}});},_close:function(){this._dialog.destroyRecursive();}});return _1b74;});},"Sage/QuickForms/Design/nls/PickListControlDesigner":function(){define("Sage/QuickForms/Design/nls/PickListControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1b7c,lang){var nls={root:{displayNameText:"Pick List"}};return lang.mixin(_1b7c,nls);});},"Sage/QuickForms/Design/Editors/nls/CheckBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CheckBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b7d,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1b7d,nls);});},"Sage/UI/TextBox":function(){define("Sage/UI/TextBox",["dijit/form/TextBox","dojo/_base/declare"],function(_1b7e,_1b7f){var _1b80=_1b7f("Sage.UI.TextBox",_1b7e,{postCreate:function(){this.inherited(arguments);this._val=this.get("value");if(this.get("value")===""&&this._val){this.set("value",this._val);}this.set("class","txt-ss-watermark");},onFocus:function(){this.set("value","");this.set("class","txt-ss");},forceFocus:function(val){this.set("value",val);this.set("class","txt-ss");},onBlur:function(){if(this.get("value")===""){this.set("class","txt-ss-watermark");this.set("value",this._val);}}});return _1b80;});},"Sage/Library/nls/FolderHandler":function(){define("Sage/Library/nls/FolderHandler",["Sage/LanguageList","dojo/_base/lang"],function(_1b81,lang){var nls={root:{AccessError:"You do not have the role security required to execute this action.",AddFolderError:"There was an unexpected error attempting to add a library folder.",Cancel:"Cancel",Confirm:"Confirm",DeleteFolderCnfmFmt:"Are you sure you want to delete the \"${0}\" folder and all of its contents?",DeleteFolderError:"There was an unexpected error attempting to delete a library folder.",DontDeleteRoot:"Please do not delete the root folder.",DontEditRoot:"Please do not change the name of the root folder.",EnterFolderName:"Please enter the name of the new folder:",EnterNewFolderName:"Please enter the new name for this folder.",FolderUpdateConflictError:"The folder has been updated by another user, please refresh and retry.",InvalidFolderName:"A folder name cannot contain any of the following characters: \\ / : * ? \" < > |",NewFolder:"New Folder",No:"No",OK:"OK",PleaseSelectFolder:"Please select a folder.",RenameFolderError:"There was an unexpected error attempting to rename a library folder.",Yes:"Yes"}};return lang.mixin(_1b81,nls);});},"Sage/QuickForms/Design/Editors/nls/ComboBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ComboBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b82,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",itemGroupText:"Items",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",itemsText:"Items:",itemsTooltipText:"Values the user can select.",textFieldText:"Text Field:",textFieldTooltipText:"The name of the data source field used to populate the visible text portion of the list items.",valueFieldText:"Value Field:",valueFieldTooltipText:"The name of the data source field used to populate the value portion of the list items.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},hasItemsText:"Set",noItemsText:"Not Set"}};return lang.mixin(_1b82,nls);});},"Sage/MainView/Contact/nls/ContactSearchForDuplicates":function(){define("Sage/MainView/Contact/nls/ContactSearchForDuplicates",["Sage/LanguageList","dojo/_base/lang"],function(_1b83,lang){var nls={root:{svAccount_Caption:"Account:",svCompany_Caption:"Company:",svEmail_Caption:"Email:",svName_Caption:"Name:",svTitle_Caption:"Title:",svType_Caption:"Type:",svSubType_Caption:"Sub Type:",svAccMgr_Caption:"Acct. Mgr.:",svHomePhone_Caption:"Home phone:",svWorkPhone_Caption:"Work phone:",svMobilePhone_Caption:"Mobile phone:",svStatus_Caption:"Status:",svWebAddress_Caption:"Web:",svEntityAccount_Caption:"Account",svEntityLead_Caption:"Lead",svEntityContact_Contact:"Contact",svTollFree_Caption:"Toll free:",svIndustry_Caption:"Industry:",svDivision_Caption:"Division:",svMainPhone_Caption:"Main phone:",LeadSummaryView_Title:"Summary View - Lead",ContactSummaryView_Title:"Summary View - Contact",AccountSummaryView_Title:"Summary View - Account",closeText:"Close",errorLoadingSummaryView:"An error occurred loading summary view: ${0}"}};return lang.mixin(_1b83,nls);});},"Sage/QuickForms/Design/Editors/nls/DateTimePickerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DateTimePickerBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b84,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",displayDateText:"Display Date:",displayDateTooltipText:"Display the date portion.",displayTimeText:"Display Time:",displayTimeTooltipText:"Display the time portion.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1b84,nls);});},"Sage/UI/CalendarUsersListPane":function(){define("Sage/UI/CalendarUsersListPane",["Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","Sage/UI/EditCalendarUsers","Sage/Utility","dojo/_base/lang","dojo/_base/array","dojo/i18n","dojo/on","dojo/parser","dojo/dom","dojo/query","dojo/_base/lang","dojo/_base/declare","dojo/dom-construct","dojo/i18n!./nls/CalendarUsersListPane","dojo/data/ItemFileWriteStore","dojox/grid/enhanced/plugins/IndirectSelection","dojox/grid/EnhancedGrid","dojox/grid/enhanced/plugins/Pagination"],function(_1b85,_1b86,_1b87,_1b88,_1b89,array,i18n,on,_1b8a,dom,_1b8b,lang,_1b8c,_1b8d,_1b8e){var _1b8f=_1b8c("Sage.UI.CalendarUsersListPane",null,{Id:null,_store:null,_grid:null,_colors:{},_selectedUsers:{},_maxUserCount:4,_checkedUsersCount:0,_initialLoad:false,_storeItems:[],_maxUserCountReached:false,_userOptions:{},editCalendarUsers:null,_favoriteUsersList:[],editCalendarUsersHandle:null,_userCalendarFavoriteId:null,_usersListUpdatedFromDialog:false,_selectedUsersListUpdatedFromDialog:false,_LOCALSTORE_NAMESPACE:"SalesLogix-Calendar",_currentUserId:null,constructor:function(_1b90){this.Id=_1b90.Id;this.EditCalUsersNodeId=_1b90.EditUsersNode;this._userOptions=_1b90.options;this._usersListUpdatedFromDialog=false;this._selectedUsersListUpdatedFromDialog=false;this._currentUserId=Sage.Utility.getClientContextByKey("userID");this._colors=[{"usercolor":"user2","set":false},{"usercolor":"user3","set":false},{"usercolor":"user4","set":false},{"usercolor":"user5","set":false}];lang.mixin(this,_1b8e);this._initializeList();var self=this;var _1b91=_1b8d.toDom("<div align=\"right\"><a id=\"editUserLink\" href=\"#\" class=\"filter-edit-items\">"+this.editUsersLinkText+"</a></div>");_1b8d.place(_1b91,dojo.byId("grid"),"before");this.editCalendarUsers=new _1b87({id:"EditCalendarUsers1",parent:this});on(dom.byId("editUserLink"),"click",function(e){self.editCalendarUsers.showDialog(self._favoriteUsersList,self._userCalendarFavoriteId);e.cancelBubble=true;});},refresh:function(){var _1b92=Sage.Utility.getClientContextByKey("userID");var query={conditions:dojo.string.substitute("AccessId eq '${0}'",[_1b89.trim(_1b92)])};dijit.byId("grid").setQuery(query);},_where:function(){var _1b93=Sage.Utility.getClientContextByKey("userID");return dojo.string.substitute("AccessId eq '${0}'",[_1b89.trim(_1b93)]);},_getSort:function(){var sort=[{attribute:"Name"}];return sort;},_getUserColor:function(_1b94){var color="";if(this._selectedUsers[_1b94]){color=this._selectedUsers[_1b94].usercolor;}return color;},_initializeList:function(){var _1b95=this.header_user||"User";var _1b96=this.maxUsersErrorMessage||"Sorry, you cannot view more than ${0} calendars (including your own) at one time.  Clear one of the currently-selected calendars and try again.";_1b96=dojo.string.substitute(_1b96,[this._maxUserCount]);var self=this;var _1b97=function(data,_1b98){self._storeItems=[];self._favoriteUsersList=[];array.forEach(data,function(item,i){_1b89.mixin(item,{usercolor:"",username:item["Name"],userId:item["ResourceId"],ResourceId:_1b89.trim(item["ResourceId"])});self._favoriteUsersList.push(item["ResourceId"]);self._storeItems.push(item);if(!self._userCalendarFavoriteId){self._userCalendarFavoriteId=item["$key"];}});if(self._favoriteUsersList.length===0){self._favoriteUsersList.push(Sage.Utility.getClientContextByKey("userID"));}};var store=this._store=new Sage.Data.WritableSDataStore({service:_1b85.getSDataService("dynamic"),resourceKind:"calendarfavoriteusersviews",select:["$key","Name","UserId","ResourceId","Selected"],include:[],sort:[{attribute:"Selected desc"}],query:{conditions:this._where()},onComplete:_1b97});var _1b99=[{field:"ResourceId",width:"20px",name:" ",formatter:function(value){return "<div class='userStyles "+self._getUserColor(value)+"'></div>";}},{field:"Name",width:"100%",name:_1b95}];var grid=this._grid=new dojox.grid.EnhancedGrid({id:"grid",store:store,structure:_1b99,layout:"layout",noDataMessage:"<span class='dojoxGridNoData'>"+this.noUsersMessage+"</span>",keepSelection:true,plugins:{indirectSelection:{headerSelector:false,width:"20px",styles:"text-align: center;"}}},dojo.byId(this.Id));dojo.connect(grid.selection,"onSelected",function(_1b9a){if(!self._initialLoad){if(self._checkedUsersCount<self._maxUserCount){var item=grid.getItem(_1b9a);self._checkedUsersCount++;var _1b9b=item["ResourceId"].substr(0,12);var _1b9c="";if(self._selectedUsers[_1b9b]){}else{if(_1b9b===_1b89.trim(_1b88.getClientContextByKey("userID"))){_1b9c="user1";}else{if(!_1b9c||_1b9c===""){for(var j=0;j<self._colors.length;j++){if(!self._colors[j]["set"]){_1b9c=self._colors[j]["usercolor"];self._colors[j]["set"]=true;break;}}}}var _1b9d={};_1b9d["userId"]=_1b9b;_1b9d["usercolor"]=_1b9c;self._selectedUsers[_1b9b]=_1b9d;var _1b9e=_1b89.clone(_1b9d);self._saveUserOption();grid.update();dojo.publish("/sage/ui/calendarUser/selectionChanged/add",[_1b9e,null]);}}else{self._maxUserCountReached=true;grid.rowSelectCell.toggleRow(_1b9a,false);Sage.UI.Dialogs.showError(_1b96);}}else{if(self._checkedUsersCount<self._maxUserCount){}}});dojo.connect(grid.selection,"onDeselected",function(_1b9f){if(!self._initialLoad){if(self._maxUserCountReached){self._maxUserCountReached=false;return;}var item=grid.getItem(_1b9f);var _1ba0=false;var _1ba1=item["ResourceId"].substr(0,12);var _1ba2=self._selectedUsers[_1ba1].usercolor;if(self._selectedUsers[_1ba1]){_1ba0=true;}if(_1ba0){for(var j=0;j<self._colors.length;j++){if(self._colors[j]["usercolor"]===_1ba2){self._colors[j]["set"]=false;break;}}delete self._selectedUsers[_1ba1];self._checkedUsersCount--;self._saveUserOption();grid.update();var _1ba3={};_1ba3["userId"]=_1ba1;dojo.publish("/sage/ui/calendarUser/selectionChanged/remove",[_1ba3,this]);}}});dojo.connect(grid,"_onFetchComplete",function(){self._initialLoad=true;var _1ba4=false;var _1ba5=[];var _1ba6=_1b89.clone(self._selectedUsers);var _1ba7=self._grid.rowCount>self._grid.rowsPerPage?self._grid.rowsPerPage:self._grid.rowCount;for(var i=0;i<_1ba7;i++){var item=self._storeItems[i];var _1ba8=item["ResourceId"].substr(0,12);if(self._selectedUsers[_1ba8]){_1ba5.push(_1ba8);if(!self._grid.selection.selected[i]){if(self._checkedUsersCount<self._maxUserCount){self._grid.rowSelectCell.toggleRow(i,true);self._checkedUsersCount++;}}}else{self._grid.rowSelectCell.toggleRow(i,false);}}for(var j in _1ba6){var uId=_1b89.trim(_1ba6[j]["userId"].toString());var _1ba9=_1b89.trim(_1ba6[j]["usercolor"].toString());if(array.indexOf(_1ba5,uId)<0){delete self._selectedUsers[uId];for(var k=0;k<self._colors.length;k++){if(self._colors[k]["usercolor"]===_1ba9){self._colors[k]["set"]=false;break;}}_1ba4=true;}}if(_1ba4){self._saveUserOption();}self._initialLoad=false;if(self._selectedUsers&&!self._isEmpty(self._selectedUsers)){var _1baa=_1b89.clone(self._selectedUsers);if(!self._usersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/loaded",[_1baa,null]);}else{if(self._usersListUpdatedFromDialog&&self._selectedUsersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/updated",[_1baa,null]);}}self._grid.update();}else{if(!self._usersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/loadedNavigationCalendar",[self._userOptions["weekstart"],this]);}}});self._grid.canSort=function(col){return false;};if(this._userOptions["rememberusers"]){this._loadCalendarUserListOptions();}else{var data={};var key="calendarUsers-"+this._currentUserId;data["value"]=this._getFromSessionStorage(key,this._LOCALSTORE_NAMESPACE);this._receivedCalendarUserListOptions(data);}},_isEmpty:function(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false;}}return true;},_loadCalendarUserListOptions:function(){var _1bab=Sage.Services.getService("UserOptions");if(_1bab){_1bab.get("CalendarUsers","Calendar",this._receivedCalendarUserListOptions,null,this);}},_receivedCalendarUserListOptions:function(data){if(data!==null){if(data){var _1bac=data["value"];var _1bad=_1b88.getClientContextByKey("userID");_1bad=_1b89.trim(_1bad);if(_1bac===null||_1bac===""){_1bac=_1bad+"|"+"user1";}else{if(_1bac.indexOf(_1bad)<0){_1bac+=","+_1bad+"|"+"user1";}}dojo.cookie("selectedCalendarUsers",_1bac);this._setSelectedUsers(_1bac);}}if(this._selectedUsers){this._grid.startup();}},refreshCalendarUsers:function(_1bae){var _1baf="";var _1bb0=false;var self=this;for(var i in this._selectedUsers){_1baf=this._selectedUsers[i]["userId"].toString();if(!_1b88.isItemInArray(_1bae,_1baf)){var _1bb1=this._selectedUsers[_1baf].usercolor;for(var j=0;j<this._colors.length;j++){if(this._colors[j]["usercolor"]===_1bb1){this._colors[j]["set"]=false;break;}}this._checkedUsersCount--;var _1bb2={};_1bb2["userId"]=_1baf;dojo.publish("/sage/ui/calendarUser/selectionChanged/remove",[_1bb2,this]);delete this._selectedUsers[i];_1bb0=true;}}this._usersListUpdatedFromDialog=true;if(_1bb0){this._selectedUsersListUpdatedFromDialog=true;this._saveUserOption(this.refresh);}else{this._selectedUsersListUpdatedFromDialog=false;setTimeout(function(){self.refresh();},"10");}},_saveUserOption:function(_1bb3){var _1bb4="";if(this._selectedUsers){for(var i in this._selectedUsers){if(_1bb4!==""){_1bb4+=",";}_1bb4+=_1b89.trim(this._selectedUsers[i]["userId"].toString());_1bb4+="|";if(this._selectedUsers[i]["usercolor"]){_1bb4+=this._selectedUsers[i]["usercolor"].toString();}}if(this._userOptions["rememberusers"]){var _1bb5=Sage.Services.getService("UserOptions");if(_1bb5){_1bb5.set("CalendarUsers","Calendar",_1bb4,_1bb3,null,this);}}else{var key="calendarUsers-"+this._currentUserId;this._saveToSessionStorage(key,_1bb4,this._LOCALSTORE_NAMESPACE);}}},_setSelectedUsers:function(_1bb6){if(_1bb6!==null){var _1bb7=_1bb6.split(",");var _1bb8;var _1bb9,_1bba;for(var i=0;i<_1bb7.length;i++){_1bb8=_1bb7[i];if(_1bb8){_1bb9=_1bb8.split("|")[0];_1bba=_1bb8.split("|")[1];if(!_1bba){for(var j=0;j<this._colors.length;j++){if(!this._colors[j]["set"]){_1bba=this._colors[j]["usercolor"];this._colors[j]["set"]=true;break;}}}else{for(var k=0;k<this._colors.length;k++){if(this._colors[k]["usercolor"]===_1bba){this._colors[k]["set"]=true;break;}}}var _1bbb={};_1bbb["userId"]=_1bb9;_1bbb["usercolor"]=_1bba;this._selectedUsers[_1bb9]=_1bbb;}}}},_getFromSessionStorage:function(key,_1bbc){if(!_1bbc){_1bbc=this._LOCALSTORE_NAMESPACE;}var _1bbd=_1bbc+"_"+key;return sessionStorage.getItem(_1bbd);},_saveToSessionStorage:function(key,value,_1bbe){if(!_1bbe){_1bbe=this._LOCALSTORE_NAMESPACE;}var _1bbf=_1bbe+"_"+key;sessionStorage.setItem(_1bbf,value);}});return _1b8f;});},"Sage/QuickForms/Design/NumericControlDesigner":function(){define("Sage/QuickForms/Design/NumericControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/NumericBasicPropertyEditor","./Editors/NumericAdvancedPropertyEditor","dojo/i18n!./nls/NumericControlDesigner"],function(_1bc0,array,lang,_1bc1,_1bc2,_1bc3,_1bc4,_1bc5,_1bc6,_1bc7,_1bc8){return _1bc0("Sage.QuickForms.Design.NumericControlDesigner",[_1bc2,_1bc3,_1bc1,_1bc4],{designSupport:{visible:true},editors:[_1bc6,_1bc7,_1bc5],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-numeric",helpTopicName:"Numeric_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXNumeric, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Numeric",constructor:function(){lang.mixin(this,_1bc8);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1bc9){return (_1bc9["ControlItemName"]=="Text");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDecimalDigitsAttr:function(){return lang.getObject("DecimalDigits.DecimalDigits",false,this.entry);},_setDecimalDigitsAttr:function(value){lang.setObject("DecimalDigits.DecimalDigits",value,this.entry);},_getFormatTypeAttr:function(){return lang.getObject("FormatType",false,this.entry);},_setFormatTypeAttr:function(value){lang.setObject("FormatType",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getStrictAttr:function(){return lang.getObject("DecimalDigits.Strict",false,this.entry);},_setStrictAttr:function(value){lang.setObject("DecimalDigits.Strict",value,this.entry);},setupFor:function(_1bca){this.inherited(arguments);this.set("decimalDigits",-1);this.set("formatType","Number");this.set("maxLength",_1bca["data"].length||-1);this.set("strict",false);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_1bca.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1bca.propertyPath||"");},startup:function(){this.inherited(arguments);var _1bcb=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1bcb&&_1bcb["DataItemName"])||this.get("text")||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/TaskPane/nls/AccountingTasksTasklet":function(){define("Sage/TaskPane/nls/AccountingTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1bcc,lang){var nls={root:{updatePricingRecords:"You may only select one record when performing this option."}};return lang.mixin(_1bcc,nls);});},"Sage/QuickForms/Design/Editors/nls/DataGridBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DataGridBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1bcd,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",dataText:"Data",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",pageSizeText:"Page Size:",pageSizeTooltipText:"The number of grid records to display on a single page.",resizableColumnsText:"Resizable Columns:",resizableColumnsTooltipText:"Allows user to resize columns.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1bcd,nls);});},"Sage/UI/SpeedSearch":function(){require({cache:{"url:Sage/templates/SpeedSearch.html":"<span>\r    <!-- the textbox -->\r    <input type=\"text\" id=\"txt_ss\" />\r    <!--the image button-->\r    <button id='ss-btn-image' type=\"button\" style=\"font-size:10px\"></button>\r    <button id='ss-btn-toggle' type=\"button\" style=\"font-size:10px\"></button>\r</span>\r"}});define("Sage/UI/SpeedSearch",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/i18n","dojo/text","dijit/_Widget","Sage/UI/TextBox","Sage/UI/ImageButton","Sage/UI/ToggleButton","dojo/i18n!./nls/SpeedSearch","dojo/text!../templates/SpeedSearch.html","dojo/_base/declare"],function(_1bce,_1bcf,i18n,text,_1bd0,_1bd1,_1bd2,_1bd3,nls,_1bd4,_1bd5){var _1bd6=_1bd5("Sage.UI.SpeedSearch",[_1bd0,_1bce,_1bcf],{templateString:_1bd4,standardText:"standard",advancedText:"advanced",speedSearchText:"SpeedSearch",postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI","SpeedSearch"));this.inherited(arguments);},postCreate:function(){var that=this;var re=/SpeedSearch\.aspx|speedsearch\.aspx/;this.isSS=re.test(window.location.pathname);this.QS=window.location.search;if(this.QS){this.queryObject=dojo.queryToObject(this.QS.substring(1,this.QS.length));}var _1bd7=new _1bd3({showLabel:true,checked:false,"class":"quick-speedsearch-toggle",onClick:function(){if(this.getValue()===that.standardText){this.setValue(that.advancedText);if(that.isSS){that.toggleAdv();}}else{this.setValue(that.standardText);if(that.isSS){that.toggleAdv();}}},label:this.queryObject?this.queryObject.type:this.standardText},"ss-btn-toggle");_1bd7.set("class","displaynone");if(_1bd7.getValue()===this.advancedText&&this.isSS){this.toggleAdv();}var _1bd8=new _1bd1({watermark:true,value:this.speedSearchText,"class":"quick-speedsearch-text",onKeyDown:function(event){if(event.keyCode===13){that._goSearch(_1bd8.getValue(),_1bd7.getValue());}}},"txt_ss");if(this.queryObject){_1bd8.forceFocus(this.queryObject.terms);}var _1bd9=new _1bd2({imageClass:"icon_SpeedSearch_16x16","class":"quick-speedsearch-button",onClick:function(){that._goSearch(_1bd8.getValue(),_1bd7.getValue());}},"ss-btn-image");this.inherited(arguments);},_goSearch:function(terms,type){if(terms!==this.speedSearchText){window.location="SpeedSearch.aspx?terms="+terms+"&type="+type;}},toggleAdv:function(){window.ToggleAdvanced();}});return _1bd6;});},"Sage/QuickForms/Design/Editors/nls/CurrencyBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CurrencyBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1bda,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1bda,nls);});},"Sage/UI/nls/EditableGrid":function(){define("Sage/UI/nls/EditableGrid",["Sage/LanguageList","dojo/_base/lang"],function(_1bdb,lang){var nls={root:{unsavedDataText:"*unsaved data",addText:"Add",deleteText:"Delete",saveText:"Save",cancelText:"Cancel",noSelectionsText:"There are no records selected.",confirmDeleteFmtTxt:"Are you sure you want to delete these ${0} items?",yesText:"Yes",noText:"No",createItemsInvalidArrayText:"The items parameter in Sage.UI.EditableGrid.createItems() should be an array.",recordCountFormatString:"Records ${0} - ${1} of ${2}",noDataMessage:"No records match the selection criteria.",dirtyDataMessage:"You have unsaved data.  If you continue you will lose the changes you have made.",okText:"OK"}};return lang.mixin(_1bdb,nls);});},"Sage/MainView/IntegrationContract/nls/SalesQuoteRTDV":function(){define("Sage/MainView/IntegrationContract/nls/SalesQuoteRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_1bdc,lang){var nls={root:{dialogCaption:"Sales Quote Details",loadingText:"loading...",lblSalesQuoteCaption:"Sales Quote:",lblStatusCaption:"Status:",lblGrossTotalCaption:"Quote Amount:",lblQuoteDateCaption:"Quote Date:",lblTaxTotalCaption:"Tax Total:",lblHoldStatusCaption:"Hold Status:",lblCurrencyCaption:"Currency:",lblTypeCaption:"Type:",lblCostTotalCaption:"Total Cost:",lblPONumberCaption:"PO Number:",lblProfitTotalCaption:"Total Profit:",lblQuotationCaption:"Quotation:",lblInvoiceStatusCaption:"Invoice Status:",lblContactCaption:"Contact:",lblDeliveryDateCaption:"Delivery Date:",lblDueDateCaption:"Due Date:",lblPriceListCaption:"Price List:",lblCarrierCaption:"Carrier:",lblNetTotalCaption:"Net Total:",lblAllocationStatusCaption:"Allocation Status:",lblDiscountTotalCaption:"Discount Total:",lblDeliveryStatusCaption:"Delivery Status:",lblChargesTotalCaption:"Charges Total:",detailsTabTitle:"Details",salesPersonsTabTitle:"Sales Persons",addressTabTitle:"Addresses",salesQuoteLinesTabTitle:"Sales Quote Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdSalesQuote_Edit:"Edit",grdSalesQuote_QuoteNumber:"Quote Number",grdSalesQuote_QuoteDate:"Quote Date",grdSalesQuote_Status:"Status",grdSalesQuote_HoldStatus:"Hold Status",grdSalesQuote_Type:"Type",grdSalesQuote_PO:"PO Number",grdSalesQuote_NetTotal:"Net Total",grdSalesQuote_DiscountTotal:"Discount Total",grdSalesQuote_ChargesTotal:"Charges Total",grdSalesQuote_TaxTotal:"Tax Total",grdSalesQuote_GrossTotal:"Gross Total",grdSalesQuote_Currency:"Currency",grdSalesPersons_Name:"Name",grdSalesPersons_Type:"Type",grdSalesPersons_Extension:"Extension",grdSalesPersons_Relationship:"Relationship",grdAddress_Name:"Name",grdAddress_Address1:"Address 1",grdAddress_Address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Zip",grdItems_Line:"Line Number",grdItems_Type:"Type",grdItems_Commodity:"Commodity",grdItems_CommodityVariant:"Variant",grdItems_CommodityDimension:"Dimension",grdItems_UnitOfMeasure:"Unit",grdItems_Location:"Location",grdItems_PriceList:"Price List",grdItems_Quantity:"Quantity",grdItems_InitialPrice:"Initial Price",grdItems_ActualPrice:"Actual Price",grdItems_NetTotal:"Net Total",grdItems_ChargesTotal:"Charges Total",grdItems_DiscountTotal:"Discount Total",grdItems_TaxTotal:"Tax Total",grdItems_GrossTotal:"Gross Total",grdPayments_Date:"Payment Date",grdPayments_Name:"Name",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_NetTotal:"Net Total",grdPayments_Discounts:"Discounts",grdPayments_Charges:"Charges",grdPayments_Tax:"Tax",grdPayments_GrossTotal:"Gross Total",grdPayments_Currency:"Currency",grdPayments_TenderType:"Tender Type",grdPayments_TenderReference:"Tender Reference",grdPayments_ProcessDate:"Process Date",grdDeliveries_Number:"Number",grdDeliveries_Type:"Type",grdDeliveries_Status:"Status",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_Method:"Method",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_ExceptionReason:"Exception Reason",errorERPRequest:"An error occurred opening accounting systems sales quote detail view. ",errorERPRequestDetails:"${0}, ${1} Request: ${2}",btnCloseCaption:"Close"}};return lang.mixin(_1bdc,nls);});},"Sage/MainView/SecurityMgr/nls/SecurityProfile":function(){define("Sage/MainView/SecurityMgr/nls/SecurityProfile",["Sage/LanguageList","dojo/_base/lang"],function(_1bdd,lang){var nls={root:{securityProfile_Caption:"Security Profile",btnCancel_Caption:"Cancel",ok_Text:"OK",description_Text:"Description",profileType_Text:"Profile Type"}};return lang.mixin(_1bdd,nls);});},"Sage/Data/ProxySDataStore":function(){define("Sage/Data/ProxySDataStore",["Sage/Data/BaseSDataStore","Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_1bde,_1bdf,_1be0){var _1be1=_1be0("Sage.Data.ProxySDataStore",_1bde,{constructor:function(o){this.singleResource=null;this._request=null;this._hasValidService=(typeof this.service!=="undefined");},getCollectionRequestObj:function(_1be2){if(!this._hasValidService){return false;}var _1be3=this.inherited(arguments);if(typeof this.getResourcePredicate==="function"){var idx=(_1be3.uri.getPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex))?Sage.SData.Client.SDataUri.ResourcePropertyIndex:_1be3.uri.pathSegments.length-1;var _1be4=_1be3.uri.getPathSegment(idx);var pred=this.getResourcePredicate.call(this);if(typeof pred!=="undefined"&&pred!==""){if((pred.indexOf(" ")<0)&&((pred.replace(/[\"\']/,"")===pred))){pred="'"+pred+"'";}_1be4["predicate"]=pred;_1be3.uri.setPathSegment(idx,_1be4);}else{if(typeof console!=="undefined"){return false;}}}if(this.pathSegments&&this.pathSegments.length>0){var _1be5=_1be3.uri.pathSegments.length;for(var i=0;i<this.pathSegments.length;i++){_1be3.uri.setPathSegment(_1be5,this.evaluatePathSegment(this.pathSegments[i]));_1be5++;}}return _1be3;},fetch:function(_1be6){if(_1be6.queryOptions&&_1be6.queryOptions.singleResourceRequest){return this.returnCollectionProperty(_1be6,_1be6.queryOptions.property);}return this.inherited(arguments);},verifyService:function(){if(!this.service){this.service=_1bdf.getSDataService("proxy",true);}this._hasValidService=true;if(typeof this.getAppId==="function"){var appid=this.getAppId();if(typeof appid!=="undefined"&&appid!==""){this.service.setDataSet(appid);}else{if(typeof console!=="undefined"){this._hasValidService=false;}}}},returnCollectionProperty:function(_1be7,_1be8){if(this._entity.hasOwnProperty(_1be8)&&this._entity[_1be8]!==null){var list=this._entity[_1be8].$resources;if(typeof list!=="unknown"){if(_1be7.onBegin){_1be7.onBegin.call(_1be7.scope||this,list.length,_1be7);}if(_1be7.onComplete){_1be7.onComplete.call(_1be7.scope||this,list,_1be7);}}}if(_1be7.onError){_1be7.onError.call(_1be7.scope||this,"Invalid data url",_1be7);}},evaluatePathSegment:function(_1be9){if(typeof _1be9==="string"){return {"text":_1be9};}if(typeof _1be9.getPredicate==="function"){return {"text":_1be9.text,"predicate":_1be9.getPredicate()};}if(typeof _1be9.getPredicate==="string"){return {"text":_1be9.text,"predicate":_1be9.getPredicate};}return _1be9;},receiveSingleResource:function(data){this.onGetSingleResource(data);},_getRequest:function(){this.verifyService();if(this._request===null){var _1bea=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_1bea.setResourceKind(this.resourceKind);if(typeof this.getResourcePredicate==="function"){var idx=_1bea.uri.getPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex)||_1bea.uri.pathSegments.length-1;var _1beb=_1bea.uri.getPathSegment(idx);var pred=this.getResourcePredicate.call(this);if(typeof pred!=="undefined"&&pred!==""){if((pred.indexOf(" ")<0)&&((pred.replace(/[\"\']/,"")===pred))){pred="'"+pred+"'";}_1beb["predicate"]=pred;_1bea.uri.setPathSegment(idx,_1beb);}else{if(typeof console!=="undefined"){return false;}}}if(this.pathSegments&&this.pathSegments.length>0){var _1bec=_1bea.uri.pathSegments.length;for(var i=0;i<this.pathSegments.length;i++){_1bea.uri.setPathSegment(_1bec,this.evaluatePathSegment(this.pathSegments[i]));_1bec++;}}_1bea.setQueryArgs({"select":this.select.join(","),"include":this.include.join(",")});if(this.includeContent&&this.includeContent===true){_1bea.setQueryArg({"_includeContent":true});}this._request=_1bea;}return this._request;},getSingleResource:function(){var _1bed=this._getRequest();_1bed.read({success:dojo.hitch(this,this.onSuccessLoad),failure:dojo.hitch(this,this.onFailure)});},onSuccessLoad:function(data){if(data){if(typeof console!=="undefined"){}this._entity=data;this.onGetSingleResource(data);}else{if(typeof console!=="undefined"){}var empty={$resources:[]};this._entity=empty;this.onGetSingleResource(empty);}},onGetSingleResource:function(data){}});return _1be1;});},"url:Sage/TaskPane/User/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divContactLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"contactLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/Utility":function(){define("Sage/Utility",["dojo/parser","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","Sage/Utility/ErrorHandler","dojox/validate/regexp","dojo/i18n!./Utility/nls/Utility","dojo/ready","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/xhr"],function(_1bee,_1bef,_1bf0,_1bf1,_1bf2,_1bf3,ready,_1bf4,array,lang,xhr){Sage.namespace("Utility");dojo.mixin(Sage.Utility,{_timeZones:null,_userCache:null,nameToPathCache:{},nlsStrings:_1bf3,regexp:{invalidInput:"^((?!(<([!\\/?A-Za-z])|(&#))).)*$",invalidInputFmt:"^((?!(<([!\\/?A-Za-z])|(&#)|(${0}))).)*$",invalidInputMatch:"<[!\\/?A-Za-z]|&#"},makeTemplateFromString:function(_1bf5,split){var _1bf6,_1bf7;if(typeof split==="undefined"||split===null){split="\r";}_1bf6=array.filter(_1bf5.split(split),function(item){return typeof item!=="undefined"&&item!==null&&_1bf4.trim(item)!=="";});_1bf7=new Simplate(_1bf6);return _1bf7;},joinInvalidInputRegExpWith:function(_1bf8){if(_1bf8&&dojo.isString(_1bf8)&&_1bf8.length>0){return _1bf4.substitute(this.regexp.invalidInputFmt,[_1bf8]);}return _1bf8;},getInvalidInputMatches:function(s){if(s&&dojo.isString(s)&&s.length>0){var _1bf9=s.match(this.regexp.invalidInputMatch,"g");if(_1bf9&&dojo.isArray(_1bf9)){return _1bf9;}}return [];},isSafeForPosting:function(s){if(s&&dojo.isString(s)){if(s.length===0){return true;}var match=s.match(this.regexp.invalidInputMatch);if(match===null){return true;}if(dojo.isArray(match)&&match.length===0){return true;}}if(!s&&s===null){return true;}return false;},makeSafeForPosting:function(s){var _1bfa=this.getInvalidInputMatches(s);if(_1bfa&&dojo.isArray(_1bfa)&&_1bfa.length>0){array.forEach(_1bfa,function(match){var _1bfb=match;if(match.length>=2){_1bfb=match.substr(0,1)+" "+match.substr(1);}if(_1bfb!==match){s=s.replace(match,_1bfb);}});}return s;},nameToPath:function(name){var parts,path,i,match;if(typeof name!=="string"){return [];}if(Sage.Utility.nameToPathCache[name]){return Sage.Utility.nameToPathCache[name];}parts=name.split(".");path=[];for(i=0;i<parts.length;i++){match=parts[i].match(/([a-zA-Z0-9_$]+)\[([^\]]+)\]/);if(match){path.push(match[1]);if(/^\d+$/.test(match[2])){path.push(parseInt(match[2],10));}else{path.push(match[2]);}}else{path.push(parts[i]);}}Sage.Utility.nameToPathCache[name]=path.reverse();return Sage.Utility.nameToPathCache[name];},expand:function(scope,_1bfc){if(typeof _1bfc==="function"){return _1bfc.apply(scope,Array.prototype.slice.call(arguments,2));}else{return _1bfc;}},getValue:function(o,name,_1bfd){_1bfd=(typeof _1bfd!=="undefined"&&_1bfd!==null)?_1bfd:"";var path=Sage.Utility.nameToPath(name).slice(0);var _1bfe=o;while(_1bfe&&path.length>0){var key=path.pop();if(typeof _1bfe[key]!=="undefined"&&_1bfe[key]!==null){_1bfe=_1bfe[key];}else{return _1bfd;}}return _1bfe;},setValue:function(o,name,val){var _1bff=o;var path=Sage.Utility.nameToPath(name).slice(0);while((typeof _1bff!=="undefined")&&path.length>1){var key=path.pop();if(path.length>0){var next=path[path.length-1];_1bff=_1bff[key]=(typeof _1bff[key]!=="undefined")?_1bff[key]:(typeof next==="number")?[]:{};}}if(_1bff!==null&&typeof path[0]!=="undefined"){_1bff[path[0]]=val;}return o;},getPlainText:function(node){var _1c00=function(a){if(!a){return "";}return a.replace(/ +/g," ").replace(/[\t]+/gm,"").replace(/[ ]+$/gm,"").replace(/^[ ]+/gm,"").replace(/\n+/g,"\n").replace(/\n+$/,"").replace(/^\n+/,"").replace(/\nNEWLINE\n/g,"\n\n").replace(/NEWLINE\n/g,"\n\n");};var _1c01=function(node){var _1c02=function(node){return !(/[^\t\n\r ]/.test(node.nodeValue));};var ws=[];var _1c03=function(node){for(var i=0;i<node.childNodes.length;i++){var n=node.childNodes[i];if(n.nodeType==3&&_1c02(n)){ws.push(n);}else{if(n.hasChildNodes()){_1c03(n);}}}};_1c03(node);for(var i=0;i<ws.length;i++){ws[i].parentNode.removeChild(ws[i]);}};var sty=function(n,prop){if(n.style[prop]){return n.style[prop];}var s=n.currentStyle||n.ownerDocument.defaultView.getComputedStyle(n,null);if(n.tagName=="SCRIPT"){return "none";}if(!s[prop]){return "LI,P,TR".indexOf(n.tagName)>-1?"block":n.style[prop];}if(s[prop]=="block"&&n.tagName=="TD"){return "feaux-inline";}return s[prop];};var _1c04="table-row,block,list-item";var _1c05=function(n){var s=sty(n,"display")||"feaux-inline";if(_1c04.indexOf(s)>-1){return true;}return false;};var _1c06=function(n){if(/pre/.test(sty(n,"whiteSpace"))){t+=n.innerHTML.replace(/\t/g," ").replace(/\n/g," ");return "";}var s=sty(n,"display");if(s=="none"){return "";}var gap=_1c05(n)?"\n":" ";t+=gap;for(var i=0;i<n.childNodes.length;i++){var c=n.childNodes[i];if(c.nodeType==3){t+=c.nodeValue;}if(c.childNodes.length){_1c06(c);}}t+=gap;return t;};node=node.cloneNode(true);node.innerHTML=node.innerHTML.replace(/<br>/g,"\n");var paras=node.getElementsByTagName("p");for(var i=0;i<paras.length;i++){paras[i].innerHTML+="NEWLINE";}var t="";_1c01(node);return _1c00(_1c06(node));},debounce:function(func,wait,_1c07){var _1c08;return function(){var _1c09=this,args=arguments;var later=function(){_1c08=null;if(!_1c07){func.apply(_1c09,args);}};if(_1c07&&!_1c08){func.apply(_1c09,args);}clearTimeout(_1c08);_1c08=setTimeout(later,wait);};},extend:function(){var _1c0a=arguments[0]||{},i=1,_1c0b=arguments.length,deep=false,_1c0c;if(_1c0a.constructor==Boolean){deep=_1c0a;_1c0a=arguments[1]||{};i=2;}if(typeof _1c0a!="object"&&typeof _1c0a!="function"){_1c0a={};}if(_1c0b==i){_1c0a=this;--i;}for(;i<_1c0b;i++){if((_1c0c=arguments[i])!=null){for(var name in _1c0c){var src=_1c0a[name],copy=_1c0c[name];if(_1c0a===copy){continue;}if(deep&&copy&&typeof copy=="object"&&!copy.nodeType){_1c0a[name]=Sage.Utility.extend(deep,src||(copy.length!=null?[]:{}),copy);}else{if(copy!==undefined){_1c0a[name]=copy;}}}}}return _1c0a;},getCurrentEntityId:function(){var _1c0d=Sage.Services.getService("ClientEntityContext");var _1c0e=_1c0d.getContext();return _1c0e.EntityId;},getClientContextByKey:function(key){var res="";if(Sage.Services){var _1c0f=Sage.Services.getService("ClientContextService");if((_1c0f)&&(_1c0f.containsKey(key))){res=_1c0f.getValue(key);}}return res;},getVirtualDirectoryName:function(){var reg=new RegExp(window.location.host+"/([A-Za-z0-9\\-_]+)/");var arr=reg.exec(window.location.href);if(arr){return arr[1];}return "";},getSDataService:function(_1c10,_1c11,_1c12,_1c13){return Sage.Data.SDataServiceRegistry.getSDataService(_1c10,_1c11,_1c12,_1c13);},appLoadHandler:function(_1c14,args){Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(Sage.Utility.pageLoaded);Sys.WebForms.PageRequestManager.getInstance().add_pageLoading(Sage.Utility.pageLoading);Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(Sage.Utility.showRequestIndicator);Sys.WebForms.PageRequestManager.getInstance().add_endRequest(Sage.Utility.hideRequestIndicator);Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(window.AutoLogout.resetTimer);},pageLoaded:function(_1c15,args){var _1c16=args.get_panelsUpdated();if(typeof (_1c16)==="undefined"){return;}for(var i=0;i<_1c16.length;i++){dojo.parser.parse(_1c16[i]);}},pageLoading:function(_1c17,args){var _1c18=args.get_panelsUpdating();if(typeof (_1c18)==="undefined"){return;}for(var i=0;i<_1c18.length;i++){var panel=_1c18[i],_1c19=dijit.findWidgets(panel);dojo.forEach(_1c19,function(_1c1a){_1c1a.destroyRecursive(true);});}},destroyWidget:function(_1c1b){var _1c1c=dojo.attr(_1c1b,"widgetId");if(dijit.byId(_1c1c)){dijit.byId(_1c1c).destroyRecursive();}},showRequestIndicator:function(){var elem=document.getElementById("asyncpostbackindicator");if(elem){elem.style.visibility="visible";}},hideRequestIndicator:function(_1c1d,args){var elem=dojo.byId("asyncpostbackindicator");if(elem){elem.style.visibility="hidden";}_1bf1.handleEndRequestError(args);},isAllowedNavigationKey:function(_1c1e){return (_1c1e==8||_1c1e==9||_1c1e==46||_1c1e==37||_1c1e==39);},restrictDecimalDigit:function(value,_1c1f,_1c20){var _1c21=value;if(typeof _1c1f==="undefined"){_1c1f=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalDigits;}if(_1c1f.length>1){var range=_1c1f.split(",");_1c1f=parseInt(range[1]);}if(typeof _1c20==="undefined"){_1c20=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator;}var _1c22=value.indexOf(_1c20)+1+_1c1f;if(_1c1f===0){_1c22=_1c22-1;}if(value.indexOf(")")>0){_1c22+=1;}if(value.lastIndexOf(_1c20)>-1){_1c21=value.substr(0,_1c22);}return _1c21;},maximizeDecimalDigit:function(value,_1c23,_1c24){var diff;var _1c25=value;if(typeof _1c23==="undefined"){_1c23=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalDigits;}if(typeof _1c24==="undefined"){_1c24=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator;}if(_1c23>0&&value.lastIndexOf(_1c24)==-1&&value.length>0){_1c25=[value,_1c24].join("");}var _1c26=_1c25.lastIndexOf(_1c24)+1+_1c23;if(_1c25.lastIndexOf(_1c24)>-1){diff=_1c26-_1c25.length;if(diff>0){for(var i=0;i<diff;i++){_1c25+=0;}}}return _1c25;},restrictToNumber:function(e,type){var _1c27=Sys.CultureInfo.CurrentCulture.numberFormat;var code=e.charCode||e.keyCode;var _1c28=e.keyChar;if(e.keyCode&&Sage.Utility.isAllowedNavigationKey(e.keyCode)){return true;}if((code>=48&&code<=57&&!e.shiftKey)||(code>=96&&code<=105&&!e.shiftKey)){return true;}if(_1c28===_1c27.NegativeSign||code==109||code==110){return true;}switch(type){case "currency":if(_1c28==_1c27.CurrencyGroupSeparator||_1c28==_1c27.CurrencyDecimalSeparator){return true;}break;case "percent":if(_1c28==_1c27.PercentGroupSeparator||_1c28==_1c27.PercentDecimalSeparator){return true;}break;default:if(_1c28==_1c27.NumberGroupSeparator||_1c28==_1c27.NumberDecimalSeparator){return true;}break;}return false;},restrictToNumberOnKeyPress:function(e,type){if(e.keyCode&&Sage.Utility.isAllowedNavigationKey(e.keyCode)){return true;}var _1c29=Sys.CultureInfo.CurrentCulture.numberFormat;var code=e.charCode||e.keyCode;var _1c2a=String.fromCharCode(code);var _1c2b="0123456789"+_1c29.NegativeSign;switch(type){case "currency":_1c2b+=_1c29.CurrencyGroupSeparator+_1c29.CurrencyDecimalSeparator;break;case "percent":_1c2b+=_1c29.PercentGroupSeparator+_1c29.PercentDecimalSeparator;break;default:_1c2b+=_1c29.NumberGroupSeparator+_1c29.NumberDecimalSeparator;break;}return (_1c2b.indexOf(_1c2a)>=0);},Convert:function(){var _1c2c=/^(true|T)$/i,_1c2d=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(Z|(-|\+)(\d{2}):(\d{2}))/,_1c2e=/^(\d{4})-(\d{2})-(\d{2})$/,_1c2f=/\/Date\((-?\d+)(?:(-|\+)(\d{2})(\d{2}))?\)\//,pad=function(n){return n<10?"0"+n:n;},unpad=function(str){return (str[0]==="0")?str.substring(1):str;};return {toBoolean:function(value){return _1c2c.test(value);},isDateString:function(value){if(typeof value!=="string"){return false;}return _1c2d.test(value)||_1c2e.test(value)||_1c2f.test(value);},dateToTimeless:function(d){var _1c30=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,5);return _1c30;},toIsoStringFromDate:function(value){if((value.getHours()===0)&&(value.getMinutes()===0)&&(value.getSeconds()===5)){return value.getFullYear()+"-"+pad(value.getMonth()+1)+"-"+pad(value.getDate())+"T00:00:05Z";}return value.getUTCFullYear()+"-"+pad(value.getUTCMonth()+1)+"-"+pad(value.getUTCDate())+"T"+pad(value.getUTCHours())+":"+pad(value.getUTCMinutes())+":"+pad(value.getUTCSeconds())+"Z";},toIsoStringFromDateNonUTC:function(value){return value.getFullYear()+"-"+pad(value.getMonth()+1)+"-"+pad(value.getDate())+"T"+pad(value.getHours())+":"+pad(value.getMinutes())+":"+pad(value.getSeconds())+"Z";},toJsonStringFromDate:function(value){return "/Date("+value.getTime()+")/";},toDateFromString:function(value,_1c31){if(typeof value!=="string"){return value;}var match,utc,h,m,_1c32;if((match=_1c2f.exec(value))){utc=new Date(parseInt(match[1]));if(_1c31===true){if(match[2]){h=parseInt(match[3]);m=parseInt(match[4]);_1c32=(h*60)+m;if(match[2]==="-"){_1c32=-1*_1c32;}utc.setMinutes(utc.getMinutes()+_1c32);}}value=utc;}else{if((match=_1c2d.exec(value))){utc=new Date(Date.UTC(parseInt(match[1]),parseInt(unpad(match[2]))-1,parseInt(unpad(match[3])),parseInt(unpad(match[4])),parseInt(unpad(match[5])),parseInt(unpad(match[6]))));if(match[8]!=="Z"){h=parseInt(match[10],10);m=parseInt(match[11],10);_1c32=(h*60)+m;if(match[9]==="-"){_1c32=-1*_1c32;}utc.setMinutes(utc.getMinutes()+_1c32);}value=utc;}else{if((match=_1c2e.exec(value))){value=new Date();value.setYear(parseInt(match[1]));value.setMonth(parseInt(match[2],10)-1);value.setDate(parseInt(match[3],10));value.setHours(0,0,0,0);}}}return value;},toArrayFromObject:function(_1c33){if(_1c33&&typeof _1c33.length=="undefined"){var array=[];array.push(_1c33);return array;}return _1c33;}};}(),getModeId:function(){var _1c34=Sage.Services.getService("ClientContextService");if((_1c34)&&(_1c34.containsKey("modeid"))){var mode=_1c34.getValue("modeid");return mode.toLowerCase();}var u=document.location.href;var idx=u.indexOf("?");if(idx>0){var qry=u.substring(idx+1);var parts=qry.split("&");for(var i=0;i<parts.length;i++){var pair=parts[i].split("=");if(pair.length>1){if(pair[0].toLowerCase()==="modeid"){return pair[1];}}}}return "None";},getPageName:function(){var url=document.location.href;var _1c35=url.substring(url.lastIndexOf("/")+1);return _1c35;},openHelp:function(topic,_1c36){var url=Sage.Link.getHelpUrl(topic,_1c36);var _1c37=Sage.Link.getHelpUrlTarget();window.open(url,_1c37);},fragger:function(frag,doc){if(typeof frag!=="string"){return;}doc=doc||dojo.doc;var outer=doc.createElement("div");var inner=dojo._toDom(frag,doc);outer.appendChild(inner);return outer;},fragToDijits:function(frag,ns){var _1c38=dojo.parser.parse(frag,{noStart:ns||true});return _1c38;},strToDijits:function(tpl,ns){if(typeof tpl!=="string"){return;}var frag=this.toMasterFrag(tpl);return this.fragToDijits(frag,ns);},fragWalker:function walk(node,fn){fn(node);node=node.firstChild;while(node){walk(node,fn);node=node.nextSibling;}},extract:function(obj,what){var count=(what===2),out=(count)?0:[],i;for(i in obj){if(count){out++;}else{if(window.has(obj,i)){out.push((what)?obj[i]:i);}}}return out;},keys:function(obj){return Sage.Utility.extract(obj);},size:function(obj){return Sage.Utility.extract(obj,2);},loadDetailsDialog:function(obj){Sage.ClientLinkHandler.request({request:"ShowDialog",type:obj.entityType,smartPart:obj.smartPart,entityId:obj.entityId,dialogTitle:obj.dialogTitle,isCentered:obj.isCentered,dialogTop:obj.dialogTop,dialogLeft:obj.dialogLeft,dialogHeight:obj.dialogHeight,dialogWidth:obj.dialogWidth});},values:function(obj){return Sage.Utility.extract(obj,1);},mixOwn:function(_1c39,_1c3a){for(var p in _1c3a){if(_1c3a.hasOwnProperty(p)){_1c39[p]=_1c3a[p];}}return _1c39;},getPrecision:function(str){var match=str.match(/\.(\d+)/),_1c3b;if(match){_1c3b=parseInt(match[1],10);}return _1c3b?_1c3b:0;},htmlEncode:function(str){if(typeof str!="string"){return str;}if(!str){return "";}return str.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");},htmlDecode:function(str){if(typeof str!="string"){return str;}return str.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,"\"").replace(/&#39;/g,"'");},getSelectionInfo:function(){var panel=dijit.byId("list");if(panel){return panel.getSelectionInfo();}return false;},Timezone_populatelist:function(_1c3c,_1c3d){var sel,_1c3e;if(_1c3c==="TimezoneList"){sel=dijit.byId(_1c3c);_1c3e=dojo.byId(_1c3c+"_Selected");}else{sel=$("#"+_1c3c+" #TimezoneList")[0];sel=dijit.getEnclosingWidget(sel);_1c3e=$("#"+_1c3c).find("input").filter("[@type=hidden]")[0];}if(sel&&typeof sel!=="undefined"&&sel.options.length==1){sel.options.length=0;var self=this;var _1c3f=function _1c3f(){var _1c40=[];var _1c41=null;dojo.forEach(self._timeZones,function(tz){var _1c42={label:tz.Displayname,value:tz.Keyname,selected:false};_1c40.push(_1c42);if(tz.Keyname==_1c3e.value){_1c41=tz.Keyname;_1c42.selected=true;}});sel.addOption(_1c40);if(_1c41!==null){sel.set("value",_1c41);}dojo.connect(sel,"onBlur",function(){_1c3e.value=sel.get("value");});dojo.connect(sel,"onChange",function(){if(_1c3d){_1c3e.value=sel.get("value");__doPostBack(sel.id,"");}});};if(this._timeZones!==null){_1c3f();}else{dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(list){self._timeZones=list;_1c3f();},error:function(error,_1c43){_1bf1.handleHttpError(error,_1c43);return error;}});}}return true;},getTimeZones:function(_1c44){var _1c45=JSON.parse(sessionStorage.getItem("_timeZones"));if(_1c45&&_1c45.length>0){_1c44(_1c45);}else{dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(list){sessionStorage.setItem("_timeZones",JSON.stringify(list));_1c44(list);},error:function(error,_1c46){_1bf1.handleHttpError(error,_1c46);_1c44(false);}});}},truncate:function(val,num){var i=0,len=val.length,res=[];if(typeof num==="string"){num=parseInt(num,10);}if(typeof val==="string"){return val.length>num?val.slice(0,num)+"...":val;}if(val.map&&typeof val.map==="function"){return val.map(function(v,i,c){return v.length>num?v.slice(0,num)+"...":v;});}else{for(i;i<len;i++){res.push(val[i].slice(0,num)+"...");}return res;}},Dashboard:{counter:1,generateString:function(str){return str+Sage.Utility.Dashboard.counter++;},getColors:function(num){if(!num){return;}var _1c47=["blue 6","green 3","pink 5","orange 2","blue 4","green 6","pink 2","orange 7","blue 3","green 8","pink 4","orange 3","blue 7","green 5","pink 8","orange 6","blue 2","green 7","pink 3","orange 8","blue 5","green 2","pink 6","orange 5","blue 8","green 4","pink 7","orange 4"],_1c48=["green 5","blue 3","green 7","blue 6","green 3","blue 7"],ret=[],i,j;if(num<=6){for(i=0;i<num;i++){ret[i]=Sage.Utility.Dashboard.colorPalette[_1c48[i]];}}else{for(j=0;j<num;j++){ret[j]=Sage.Utility.Dashboard.colorPalette[_1c47[j]];}}return ret;},getColor:function(idx){var _1c49=["blue 6","green 3","pink 5","orange 2","blue 4","green 6","pink 2","orange 7","blue 3","green 8","pink 4","orange 3","blue 7","green 5","pink 8","orange 6","blue 2","green 7","pink 3","orange 8","blue 5","green 2","pink 6","orange 5","blue 8","green 4","pink 7","orange 4"];return Sage.Utility.Dashboard.colorPalette[_1c49[idx]];},colorPalette:{"blue 0":"dfe8f6","blue 6":"00a1de","green 3":"c1d59f","pink 5":"a44e81","orange 2":"f8d6aa","blue 4":"55c0e9","green 6":"69923a","pink 2":"e2afcd","orange 7":"af6200","blue 3":"80d0ef","green 8":"35491d","pink 4":"c55e9b","orange 3":"f4c180","blue 7":"0079a7","green 5":"86a85c","pink 8":"421f34","orange 6":"e98300","blue 2":"aae0f4","green 7":"4f6e2c","pink 3":"d486b4","orange 8":"754200","blue 5":"2bb1e4","green 2":"d6e3bf","pink 6":"833f67","orange 5":"ed982b","blue 8":"00516f","green 4":"a4bf7d","pink 7":"632f4e","orange 4":"f0ac55"}},isBoolean:function(value){return typeof value==="boolean";},isDefined:function(value){return typeof value!=="undefined";},isEmptyString:function(value){return (dojo.isString(value)&&value==="");},isStringWithLength:function(value){return (dojo.isString(value)&&value!=="");},isTrue:function(value){return (this.isBoolean(value))?(value===true):false;},getUserName:function(_1c4a){if(!_1c4a){return "";}if(!this._userCache){this.buildUserCache();}var _1c4b=_1c4a.replace(/^\s+|\s+$/g,"");var u=this._userCache[_1c4b];return u?u.name:_1c4a;},buildUserCache:function(){var self=this;return xhr("GET",{url:"slxdata.ashx/slx/dynamic/-/users?select=Enabled&format=json",handleAs:"json",sync:true}).then(function(data){self._userCache={};for(var i=0;i<data.$resources.length;i++){var u=data.$resources[i];self._userCache[u.$key]={enabled:u.Enabled,name:u.$descriptor};}});},isItemInArray:function include(arr,_1c4c){for(var i=0;i<arr.length;i++){if(lang.trim(arr[i])==lang.trim(_1c4c)){return true;}}}});ready(function(){Sage.Utility.appLoadHandler();});return Sage.Utility;});},"Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin":function(){define("Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin",["dojo/_base/declare"],function(_1c4d){return _1c4d("Sage.UI.SLXPreviewGrid.Filter._previewGridFilterMixin",null,{getQuery:function(){var v=this.get("value");if(v){return "upper("+this.field+") like '%"+v.replace("'","''").toUpperCase()+"%'";}return "";},reset:function(){this.set("value","");},getState:function(){return {"value":this.get("value")};},applyState:function(state){if(state){this.set("value",state["value"]||"");}}});});},"Sage/MainView/ReportMgr/nls/ReportWizardController":function(){define("Sage/MainView/ReportMgr/nls/ReportWizardController",["Sage/LanguageList","dojo/_base/lang"],function(_1c4e,lang){var nls={root:{txtLoadingScheduleDetails:"Loading Schedule Details",txtError:"Error",txtCannotDetermineReportId:"Cannot determine report id.",txtCannotDetermineReportNameOrFamily:"Cannot determine report name or family.",txtLoading:"Loading ",txtLoadingReport:"Loading Report",txtSorryAnErrorOccuredLoadingReport:"Sorry, an error occurred loading report: ${0} ${1}."}};return lang.mixin(_1c4e,nls);});},"Sage/QuickForms/Design/CheckBoxControlDesigner":function(){define("Sage/QuickForms/Design/CheckBoxControlDesigner",["dojo/dom-class","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/CheckBoxBasicPropertyEditor","./Editors/CheckBoxAdvancedPropertyEditor","dojo/i18n!./nls/CheckBoxControlDesigner"],function(_1c4f,_1c50,array,lang,_1c51,_1c52,_1c53,_1c54,_1c55,_1c56,_1c57,_1c58){return _1c50("Sage.QuickForms.Design.CheckBoxControlDesigner",[_1c52,_1c53,_1c51,_1c54],{designSupport:{visible:true},editors:[_1c56,_1c57,_1c55],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"design-checkbox\" data-dojo-attach-point=\"containerNode\">","<span class=\"{%= $.fieldClass %}-icon\" data-dojo-attach-point=\"designCheckedNode\"></span>","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\" data-dojo-attach-point=\"designBindingNode\"></div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-checkbox",helpTopicName:"Checkbox_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFCheckBox, Sage.Platform.QuickForms.QFControls",displayNameText:"CheckBox",constructor:function(){lang.mixin(this,_1c58);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1c59){return (_1c59["ControlItemName"]=="Checked");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getCheckedAttr:function(){return lang.getObject("Checked",false,this.entry);},_setCheckedAttr:function(value){lang.setObject("Checked",value,this.entry);if(value){_1c4f.add(this.designCheckedNode,"design-checkbox-icon-checked");}else{_1c4f.remove(this.designCheckedNode,"design-checkbox-icon-checked");}},setupFor:function(_1c5a){this.inherited(arguments);this.set("checked",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Checked",DataItemName:_1c5a.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1c5a.propertyPath||"");},startup:function(){this.inherited(arguments);var _1c5b=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1c5b&&_1c5b["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Data/SDataServiceRegistry":function(){define("Sage/Data/SDataServiceRegistry",["Sage/Utility","dojo/json"],function(_1c5c,json){var _1c5d={},_1c5e=false;Sage.namespace("Data.SDataServiceRegistry");Sage.Data.SDataServiceRegistry={registerService:function(name,s,o){o=o||{};var _1c5f=s instanceof Sage.SData.Client.SDataService?s:new Sage.SData.Client.SDataService(s);_1c5d[name]=_1c5f;if(o.isDefault||!_1c5e){_1c5e=_1c5f;}return _1c5f;},hasService:function(name){return (typeof _1c5d[name]!=="undefined");},getService:function(name){if(typeof name==="string"&&_1c5d[name]){return _1c5d[name];}return _1c5e;},_createCacheKey:function(_1c60){var key=_1c60.build();key=key.replace(/[^a-zA-Z0-9_]/g,"");var ns=_1c60.getResourceKind().text;key=ns+"_"+key;return key;},_loadSDataRequest:function(_1c61,o){var key=this._createCacheKey(_1c61);var feed=this._getFromLocalStorage(key);if(feed){o.result=feed;}},_cacheSDataRequest:function(_1c62,o,feed){if(/get/i.test(o.method)&&typeof feed==="object"){var key=this._createCacheKey(_1c62);this._saveToLocalStorage(key,feed);}},_saveToLocalStorage:function(key,value){sessionStorage.setItem(key,json.stringify(value));},_getFromLocalStorage:function(key){return json.parse(sessionStorage.getItem(key));},_removeFromLocalStorage:function(_1c63){var _1c64=sessionStorage.length;var keys=[];for(var i=0;i<_1c64;i++){var key=sessionStorage.key(i);if(key.indexOf(_1c63)>-1){keys.push(key);}}for(var j=0;j<keys.length;j++){sessionStorage.removeItem(keys[j]);}},getSDataService:function(_1c65,_1c66,_1c67,_1c68){_1c66=_1c65==="proxy"?true:_1c66;_1c65=_1c65||"dynamic";var _1c69="SDataService_"+_1c65;_1c69=_1c68?[_1c69,"_cacheResult"].join(""):_1c69;if(this.hasService(_1c69)&&!_1c66){return this.getService(_1c69);}var bJson=true;if(typeof _1c67==="boolean"){bJson=_1c67;}var svc=new Sage.SData.Client.SDataService({serverName:window.location.hostname,virtualDirectory:Sage.Utility.getVirtualDirectoryName()+"/slxdata.ashx",applicationName:"slx",contractName:_1c65,port:window.location.port&&window.location.port!==80?window.location.port:false,protocol:/https/i.test(window.location.protocol)?"https":false,json:bJson});if(_1c68){svc.on("beforerequest",this._loadSDataRequest,this);svc.on("requestcomplete",this._cacheSDataRequest,this);}if(!_1c66){this.registerService(_1c69,svc);}return svc;}};return Sage.Data.SDataServiceRegistry;});},"url:Sage/MainView/ActivityMgr/templates/ActivityEditor.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"activityDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"regardingContainer\">',\r\n                '<select id=\"pk_Regarding\" label=\"{%= $.regardingText %}\" id=\"{%= $.id %}_pk_Regarding\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" ></select>',\r\n                '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n        //Dates section for add/edit mode..................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_AddEdit\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_startDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div dojoType=\"dojox.layout.TableContainer\" label=\"{%= $.alarmText %}\" cols=\"2\" showLabels=\"false\" class=\"removeExtraSpace\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" id=\"{%= $.id %}_cb_Alarm\" dojoAttachPoint=\"cb_Alarm\" ></div>',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" id=\"{%= $.id %}_sel_AlarmDur\" dojoAttachPoint=\"sel_AlarmDur\" valuesAreAfterStart=\"false\" ></div>',\r\n                '</div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_cb_AutoRollover\" dojoAttachPoint=\"cb_AutoRollover\"></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_AutoRollover\">{%= $.rolloverText %}</label>',\r\n                '</div>',\r\n            '</div>',\r\n        //Dates section for complete mode...................\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"dateSection_Complete\">',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_completedDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedText %}\"></div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtp_scheduledDate\" dojoAttachPoint=\"dtp_scheduledDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.scheduledText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_TimelessComplete\" dojoAttachPoint=\"cb_TimelessComplete\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"{%= $.id %}_cb_TimelessComplete\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DurationSelect\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_DurationComplete\" dojoAttachPoint=\"sel_DurationComplete\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n            '</div>',\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditActivity\"  dojoAttachPoint=\"tc_EditActivity\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"resultContainer\" class=\"bottom-border-section\">', \r\n                        '<select shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" label=\"{%= $.resultText %}\" id=\"{%= $.id %}_pl_Result\"  name=\"pl_Result\" dojoAttachPoint=\"pl_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" class=\"bottom-border-section\" >',\r\n                        '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"&nbsp;\" class=\"dijitTextBox\" style=\"border-width:0px\">&nbsp;</div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" class=\"valigntop\" dojoAttachPoint=\"notesContainer\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\"></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n/* Availability Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Availability\" title=\"{%= $.tabNameAvailabilityText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Availability\" dojoAttachEvent=\"onShow:_onShowAvailabilityTab\">',\r\n                    '<div dojoType=\"dijit.Toolbar\" region=\"top\" splitter=\"false\" class=\"right-tools\" >',  // list-panel-tbar                                  \r\n                        '<div dojoType=\"dijit.layout.ContentPane\" dojoAttachPoint=\"container_ResourcesLup\" class=\"remove-padding\"></div>',\r\n                    '</div>',\r\n/* Scheduler ........... */\r\n                    '<div id=\"scheduler_here\" class=\"dhx_cal_container\" style=\"width:100%;height:230px;\">',\r\n                        '<div class=\"dhx_cal_navline\">',\r\n                            '<div class=\"dhx_cal_prev_timeline_button\" style=\"right:50px;\">&nbsp;</div>',\r\n\t\t\t                '<div class=\"dhx_cal_next_timeline_button\" style=\"right:19px;\">&nbsp;</div>',\r\n//'<div class=\"dhx_cal_today_button\"></div>',\r\n\t\t\t                '<div class=\"dhx_cal_date\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"day_tab\" style=\"right:204px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"week_tab\" style=\"right:140px;\"></div>',\r\n                            '<div class=\"dhx_cal_tab\" name=\"timeline_tab\" style=\"right:280px;\"></div>',\r\n//'<div class=\"dhx_cal_tab\" name=\"month_tab\" style=\"right:76px;\"></div>',\r\n\t\t                '</div>',\r\n\t\t                '<div class=\"dhx_cal_header\"></div>',\r\n\t\t                '<div class=\"dhx_cal_data\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n/* Recurring Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Recurring\" title=\"{%= $.recurringText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Recurring\" dojoAttachEvent=\"onShow:_showRecurringTab\">',\r\n                    '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.MainView.ActivityMgr.RecurringEditor\" id=\"{%= $.id %}_recEd\" labelWidth=\"{%= $.labelWidth - 20 %}\" dojoAttachPoint=\"_recurringEditor\"></div>',\r\n                '</div>',\r\n/* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%\"></div>',\r\n                '</div>',\r\n            '</div>',  //tab container\r\n/* Buttons       */\r\n        // Add/edit activity buttons\r\n            '<table class=\"button-bar\" id=\"add_edit_buttons\" dojoAttachPoint=\"add_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                    '</td><td class=\"alignright\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Complete\" name=\"btn_Complete\" dojoAttachPoint=\"btn_Complete\" dojoAttachEvent=\"onClick:_completeClick\">{%= $.completeBtnText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Delete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n        //complete activity buttons\r\n            '<table class=\"button-bar display-none\" id=\"complete_buttons\" dojoAttachPoint=\"complete_buttons\">',\r\n                '<tr>',\r\n                    '<col width=\"50%\" /><col width=\"50%\" />',\r\n                    '<td class=\"alignleft\">',\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"sel_Followup\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"phone\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"meeting\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"todo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',\r\n                    '</td><td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_asScheduled\" name=\"btn_asScheduled\" dojoAttachPoint=\"btn_asScheduled\" dojoAttachEvent=\"onClick:_asScheduledClick\">{%= $.asScheduledText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Now\" name=\"btn_Now\" dojoAttachPoint=\"btn_Now\" dojoAttachEvent=\"onClick:_nowClick\">{%= $.nowText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_CancelComplete\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_CancelComplete\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr><tr>',\r\n                    '<td class=\"alignleft\" >',\r\n                        '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledByComp\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n\r\n\r\n\r\n        //Confirmations button bar...\r\n            '<table class=\"button-bar display-none\" id=\"confirmation_edit_buttons\" dojoAttachPoint=\"confirmation_edit_buttons\">',\r\n                '<tr>',\r\n                    '<td class=\"alignleft\" style=\"width:{%= $.labelWidth %}px;\">',\r\n                        '<label for=\"{%= $.id %}_ta_confirmationResponse\" id=\"responseLabel\" dojoAttachPoint=\"responseLabel\">{%= $.responseText %}</label>',\r\n                    '</td>',\r\n                    '<td class=\"alignleft\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_confirmationResponse\" dojoAttachPoint=\"ta_confirmationResponse\" class=\"notes-text dijitTextBox\" maxLength=\"128\" ></textarea>',\r\n                    '</td><td class=\"alignright valignbottom\">',\r\n                        '<span id=\"newConfButtons\" dojoAttachPoint=\"newConfButtons\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_accept\" name=\"btn_accept\" dojoAttachPoint=\"btn_accept\" dojoAttachEvent=\"onClick:_acceptConfClick\">{%= $.acceptText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_decline\" name=\"btn_decline\" dojoAttachPoint=\"btn_decline\" dojoAttachEvent=\"onClick:_declineClick\">{%= $.declineText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_cancelConf\" name=\"btn_cancelConf\" dojoAttachPoint=\"btn_cancelConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n                        '</span>',\r\n                        '<span id=\"otherConfButtons\" dojoAttachPoint=\"otherConfButtons\" class=\"display-none\">',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_deleteConf\" name=\"btn_deleteConf\" dojoAttachPoint=\"btn_deleteConf\" dojoAttachEvent=\"onClick:_deleteConfClick\">{%= $.deleteConfText %}</div>',\r\n                            '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_closeConf\" name=\"btn_closeConf\" dojoAttachPoint=\"btn_closeConf\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.closeText %}</div>',\r\n                        '</span>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n","Sage/QuickForms/Design/Editors/nls/UserAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/UserAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1c6a,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",lookupBindingModeText:"Lookup Binding Mode:",lookupBindingModeTooltipText:"Indicates whether you want to bind to an entity object or to a string value.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},bindingModeText:{Object:"Object",String:"String"}}};return lang.mixin(_1c6a,nls);});},"url:Sage/UI/Controls/templates/Name.html":"<div class=\"person\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" ><input id=\"{%= $.id %}-TextBox\" value=\"{%= $.nameDesc %}\"\r\n    data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" required=\"{%= $.required %}\" dojoAttachPoint=\"focusNode\"  data-dojo-attach-event=\"onChange:textBoxOnChange, onDblClick: showDialog\" data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\" />\r\n    {% if ($.buttonVisible) { %}\r\n    <img alt=\"{%= $.buttonToolTip %}\"  data-dojo-attach-event=\"ondijitclick: showDialog\"  tabindex=\"{%= $.tabIndex %}\"     \r\n    style=\"padding-left:0;cursor: pointer; vertical-align: left;\" \r\n    src=\"{%= $.buttonImageUrl %}\" title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}-Button\" />\r\n    {% } %}\r\n<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n</div>","Sage/MainView/ReportMgr/nls/ReportManagerUtility":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerUtility",{root:({})});},"Sage/UI/nls/SpeedSearch":function(){define("Sage/UI/nls/SpeedSearch",["Sage/LanguageList","dojo/_base/lang"],function(_1c6b,lang){var nls={root:{standardText:"standard",advancedText:"advanced",speedSearchText:"SpeedSearch"}};return lang.mixin(_1c6b,nls);});},"url:Sage/UI/Filters/templates/EditFilters.html":"<div>\r\n    <div class=\"filter-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n            \r\n        </div>\r\n        \r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>","Sage/Services/ActivityAction":function(){define("Sage/Services/ActivityAction",["dojo/i18n","Sage/UI/Dialogs","dijit/_Widget","dojo/_base/declare"],function(i18n,_1c6c,_1c6d,_1c6e){var _1c6f=_1c6e("Sage.Services.ActivityAction",[_1c6d],{_service:false,_contract:"activities",_resourceKind:"service",_operationName:false,_payLoad:false,_selectionContext:false,_publishMap:false,_publishMapWithId:false,_activityId:false,_configuration:false,_args:{},message:"Are you sure you want to continue?",description:"",constructor:function(){},execute:function(_1c70){var map=this._publishMap;var _1c71=this._publishMapWithId;var _1c72=this._activityId;var _1c73=String.format("slxdata.ashx/slx/crm/-/{0}/{1}/{2}",this._contract,this._resourceKind,this._operationName);$.ajax({type:"POST",url:_1c73,contentType:"application/json",data:dojo.toJson(this._args),processData:false,success:function(_1c74){if(map){dojo.publish(map,[_1c74,this]);}if(_1c71){if(_1c72){dojo.publish(_1c71,[_1c72,this]);}}if(_1c70){_1c70.success(_1c74,_1c70.scope);}},failure:function(_1c75){if(_1c70){_1c70.failure(_1c75,_1c70.scope);}}});},_setConfigurationAttr:function(_1c76){this._configuration=_1c76;},_getConfigurationAttr:function(){return this._configuration;},_setServiceAttr:function(_1c77){this._service=_1c77;},_getServiceAttr:function(){return this._service;},_setSelectionInfoAttr:function(_1c78){this._selectionInfo=_1c78;},_getSelectionInfoAttr:function(){return this._selectionInfo;},_setOperationNameAttr:function(_1c79){this._operationName=_1c79;},_getOperationNameAttr:function(){return this._operationName;},_setResourceKindAttr:function(_1c7a){this._resourceKind=_1c7a;},_getResourceKindAttr:function(){return this._resourceKind;},_setArgsAttr:function(args){this._args=args;},_getArgsAttr:function(){return this._args;},_setActionDescriptionAttr:function(_1c7b){this.description=_1c7b;},_getActionDescriptionAttr:function(){return this.description;},_setActionMessageAttr:function(_1c7c){this.message=_1c7c;},_getActionMessageAttr:function(){return this.message;},_setPublishMapAttr:function(_1c7d){this._publishMap=_1c7d;},_setPublishMapWithIdAttr:function(_1c7e){this._publishMapWithId=_1c7e;},_setActivityIdAttr:function(_1c7f){this._activityId=_1c7f;}});return _1c6f;});},"Sage/UI/GroupListConfigurationProvider":function(){define("Sage/UI/GroupListConfigurationProvider",["Sage/_ConfigurationProvider","Sage/Data/GroupLayoutSingleton","Sage/Services/_ServiceMixin","Sage/UI/Columns/SlxLink","Sage/UI/Columns/Boolean","Sage/UI/Columns/DateTime","Sage/UI/Columns/Numeric","Sage/UI/Columns/OwnerType","Sage/UI/Columns/Phone","Sage/UI/Columns/UserType","Sage/UI/Columns/Currency","Sage/Data/SDataStore","Sage/UI/SummaryFormatterScope","dijit/MenuSeparator","dijit/Menu","Sage/UI/MenuItem","dojo/_base/lang","dojo/_base/declare","dojo/i18n"],function(_1c80,_1c81,_1c82,_1c83,_1c84,_1c85,_1c86,_1c87,_1c88,_1c89,_1c8a,_1c8b,_1c8c,_1c8d,_1c8e,_1c8f,lang,_1c90,i18n){var _1c91=_1c90("Sage.UI.GroupListConfigurationProvider",[_1c80,_1c82],{serviceMap:{"groupContextService":"ClientGroupContext"},service:null,_hasAdHocList:false,ROWS_PER_PAGE:100,constructor:function(_1c92){this._adHocOnlyMenuItems=[];this._menuItems=[];this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},requestConfiguration:function(_1c93){var _1c94=new _1c81(),_1c95=lang.hitch(this,this._onRequestConfigurationSuccess,_1c93||{}),_1c96=lang.hitch(this,this._onRequestConfigurationFailure,_1c93||{}),group=this.getCurrentGroup();_1c94.getGroupLayout(this.formatPredicate(group),_1c95,_1c96,group.$key);},_onRequestConfigurationSuccess:function(_1c97,entry){if(_1c97.success){_1c97.success.call(_1c97.scope||this,this._createConfiguration(entry),_1c97,this);}},_onRequestConfigurationFailure:function(_1c98,_1c99){if(_1c98.failure){_1c98.failure.call(_1c98.scope||this,_1c99,_1c98,this);}},_createConfigurationForList:function(entry){var _1c9a=entry.layout,_1c9b=[],_1c9c=[],_1c9d=Sage.Services.getService("ClientGroupContext"),_1c9e,i;if(_1c9d){_1c9e=_1c9d.getContext();}if(entry["keyField"]){_1c9b.push(entry["keyField"]);}for(i=0;i<_1c9a.length;i++){var item=_1c9a[i];_1c9b.push(item["alias"]);if(item["visible"]){if(item["webLink"]){var _1c9f=item["dataPath"],_1ca0=_1c9f.lastIndexOf("!")>-1?_1c9f.substring(0,_1c9f.lastIndexOf("!")).substring(_1c9f.lastIndexOf(".")+1):_1c9f.substring(0,_1c9f.lastIndexOf(":")),_1ca1=_1ca0+"ID";if(item["alias"]==="ACCOUNT"||item["alias"].match(/A\d+_ACCOUNT/ig)){_1ca0="ACCOUNT";_1ca1="ACCOUNTID";}if((_1c9e)&&(_1ca0===_1c9e.CurrentTable)){_1ca0=_1c9e.CurrentEntity;_1ca1=_1c9e.CurrentTableKeyField;}_1c9b.push(_1ca1);_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c83,pageName:_1ca0,idField:_1ca1,width:item["width"]+"px"});}else{if(item["alias"].match(/^email$/i)){item["format"]="Email";}if(item["fieldType"]==="DateTime"){item["format"]="DateTime";}switch(item["format"]){case "Boolean":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c84,styles:"text-align: "+item["align"]+";",formatString:item["formatString"],width:item["width"]+"px"});break;case "DateTime":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c85,styles:"text-align: "+item["align"]+";",datePattern:item["formatString"],width:item["width"]+"px"});break;case "Email":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],styles:"text-align: "+item["align"]+";",formatter:function(val){if(!val){return "";}return dojo.string.substitute("<a href=mailto:${0}>${0}</a>",[Sage.Utility.htmlEncode(val)]);},width:item["width"]+"px"});break;case "Percent":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c86,styles:"text-align: "+item["align"]+";",constraints:{places:Sage.Utility.getPrecision(item["formatString"]),round:-1},fercent:true,formatType:"Percent",width:item["width"]+"px",isWholeNumberPercent:false});break;case "Fixed":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c86,styles:"text-align: "+item["align"]+";",constraints:{places:Sage.Utility.getPrecision(item["formatString"]),round:-1},fercent:true,formatType:item["formatString"][item["formatString"].length-1]==="%"?"Percent":"Number",width:item["width"]+"px",isWholeNumberPercent:item["format"]==="Percent"?false:true});break;case "Owner":var _1ca2=item["alias"]+"NAME";_1c9b.push(_1ca2);_1c9c.push({field:_1ca2,styles:"text-align: "+item["align"]+";",name:item["caption"],width:item["width"]+"px"});break;case "OwnerType":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c87,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case "Phone":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c88,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case "PickList Item":var _1ca3=item["alias"]+"TEXT";_1c9b.push(_1ca3);_1c9c.push({field:_1ca3,styles:"text-align: "+item["align"]+";",property:item["propertyPath"],name:item["caption"],width:item["width"]+"px"});break;case "User":var _1ca4=item["alias"]+"NAME";_1c9b.push(_1ca4);_1c9c.push({field:_1ca4,styles:"text-align: "+item["align"]+";",name:item["caption"],width:item["width"]+"px"});break;case "User Type":_1c9c.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c89,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case "Currency":_1c9c.push({field:item["alias"],property:item["caption"],name:item["caption"],type:_1c8a,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;default:_1c9c.push({field:item["alias"],property:item["caption"],name:item["caption"],styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;}}}}var store=new _1c8b({service:this.service,resourceKind:"groups",resourcePredicate:this.formatPredicate(entry),queryName:"execute",select:_1c9b,include:[],count:this.ROWS_PER_PAGE});var _1ca5={};for(i=0;i<entry["tableAliases"].length;i++){_1ca5[entry["tableAliases"][i]["tableName"].toUpperCase()]=entry["tableAliases"][i]["alias"];}return {structure:[{defaultCell:{defaultValue:""},cells:[_1c9c]}],store:store,rowsPerPage:this.ROWS_PER_PAGE,layout:entry["layout"],tableAliases:_1ca5,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext,onNavigateToDefaultItem:lang.hitch(entry,function(item){if(item){var _1ca6=this["keyField"],_1ca7=this["entityName"],id=item[_1ca6];if(id){Sage.Link.entityDetail(_1ca7,id);}}}),id:entry["$key"]};},_getCurrentGroupID:function(){var _1ca8=Sage.Services.getService("ClientGroupContext"),_1ca9,_1caa;if(_1ca8){_1ca9=_1ca8.getContext();_1caa=_1ca9.CurrentGroupID;}return _1caa;},_onListContext:function(e){var _1cab=Sage.Services.getService("ClientGroupContext");var _1cac=_1cab.getContext();for(var i=0;i<this._adHocOnlyMenuItems.length;i++){this._adHocOnlyMenuItems[i].set("disabled",!_1cac.isAdhoc);}this._ensureAdHocListMenu();},_getListContextMenuItems:function(){var _1cad,_1cae=this._getCurrentGroupID();if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus||!Sage.UI.DataStore.ContextMenus.listContextMenu){return [];}this._menuItems=[];this._adHocOnlyMenuItems=[];var _1caf=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_1caf.length;for(var i=0;i<len;i++){var mDef=_1caf[i];if(mDef.displayName===""){this._menuItems.push(new _1c8d());}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}if(href.indexOf("addSelectionsToGroup")>0){_1cad=this._createAddToAdHocMenuItem(mDef);if(_1cad.arrowWrapper){dojo.style(_1cad.arrowWrapper,"visibility","");}}else{_1cad=new _1c8f({id:_1cae+"_"+i,label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}this._menuItems.push(_1cad);if(href.indexOf("removeSelectionsFromGroup")>0){this._adHocOnlyMenuItems.push(_1cad);}}}return this._menuItems;},_createAddToAdHocMenuItem:function(_1cb0){this._adHocMenu=new _1c8e();this._adHocMenu.addChild(new _1c8f({label:"loading..."}));this._adHocMenuHref=_1cb0.href;var _1cb1=new _1c8f({label:_1cb0.text||"...",icon:_1cb0.img,title:_1cb0.tooltip||"",popup:this._adHocMenu});return _1cb1;},_ensureAdHocListMenu:function(){if(this._hasAdHocList){return;}this._hasAdHocList=true;var svc=Sage.Services.getService("ClientGroupContext");svc.getAdHocGroupList(function(list){this._adHocMenu.destroyDescendants();for(var i=0;i<list.length;i++){var grp=list[i];this._adHocMenu.addChild(new _1c8f({label:grp["$descriptor"]||grp["name"],icon:"",title:grp["$descriptor"]||grp["name"],ref:dojo.string.substitute(this._adHocMenuHref,{"groupId":grp["$key"]}),onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}}));}},this);},_createConfigurationForSummary:function(entry){if(!this.summaryOptions){return false;}var store=new _1c8b({service:this.service,resourceKind:"groups",resourcePredicate:this.formatPredicate(entry),queryName:"execute",select:[entry["keyField"]],include:[]}),_1cb2=[{field:entry["keyField"],formatter:"formatSummary",width:"100%",name:"Summary View",canResize:function(){return false;}}],_1cb3=["Sage"],_1cb4=this.summaryOptions["templateLocation"],_1cb5=_1cb4&&_1cb4.split("/"),i,path;for(i=0;i<_1cb5.length-1;i++){_1cb3.push(_1cb5[i]);}path="dojo/i18n!"+_1cb3.join("/")+"/nls/"+_1cb5[_1cb5.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));return {structure:_1cb2,layout:entry["layout"],store:store,rowHeight:200,rowsPerPage:50,formatterScope:new _1c8c({requestConfiguration:{mashupName:this.summaryOptions["mashupName"]||"SummaryViewQueries",queryName:this.summaryOptions["queryName"]||""},templateLocation:this.summaryOptions["templateLocation"]||""})};},_createConfigurationForDetail:function(entry){if(this.detailConfiguration){return {requestConfiguration:{mashupName:this.detailConfiguration["mashupName"]||"SummaryViewQueries",queryName:this.detailConfiguration["queryName"]||""},templateLocation:this.detailConfiguration["templateLocation"]};}return false;},_createConfiguration:function(entry){return {list:this._createConfigurationForList(entry),summary:this._createConfigurationForSummary(entry),detail:this._createConfigurationForDetail(entry)};},formatPredicate:function(group){if(group.$key==="LOOKUPRESULTS"){group.family=group.family&&group.family.toUpperCase();group.name="Lookup Results";return dojo.string.substitute("name eq '${name}' and upper(family) eq '${family}'",group);}return "'"+group.$key+"'";},getCurrentGroup:function(){var _1cb6=Sage.Services.getService("ClientGroupContext"),_1cb7=_1cb6&&_1cb6.getContext(),_1cb8={name:"My Accounts",family:"Account",$key:""};if(_1cb7){_1cb8={name:_1cb7.CurrentName,family:_1cb7.CurrentFamily,$key:_1cb7.CurrentGroupID};}return _1cb8;}});return _1c91;});},"Sage/UI/Controls/CheckBox":function(){define("Sage/UI/Controls/CheckBox",["dijit/form/CheckBox","dojo/_base/declare"],function(_1cb9,_1cba){var _1cbb=_1cba("Sage.UI.Controls.CheckBox",_1cb9,{hotKey:"",autoPostBack:false,labelText:"",labelPlacement:"",shouldPublishMarkDirty:true,constructor:function(){this.inherited(arguments);},postCreate:function(){if(this.hotKey!==""){this.focusNode.accessKey=this.hotKey;}this.connect(this,"onChange",this.onChanged);this._insertLabel();this.inherited(arguments);},_insertLabel:function(){var _1cbc="before",_1cbd=null;if(this.labelPlacement==="right"){_1cbc="after";}if(this.labelPlacement!=="none"){_1cbd=dojo.create("label",{"for":this.id,innerHTML:this.labelText},this.domNode,_1cbc);if(this.labelPlacement==="top"){dojo.create("br",null,_1cbd,"after");}}},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,"");}}}});return _1cbb;});},"Sage/UI/TimeZoneItem":function(){define("Sage/UI/TimeZoneItem",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/OrientableMenuBar","Sage/UI/MenuBarItem","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n","dojo/data/ItemFileReadStore","dojo/i18n!./nls/TimeZoneItem","dojo/_base/declare"],function(_1cbe,_1cbf,_1cc0,_1cc1,_1cc2,_1cc3,i18n,_1cc4,_1cc5,_1cc6){var _1cc7=_1cc6("Sage.UI.TimeZoneItem",_1cbe,{_TimeZoneDialog:new Simplate(["<div><div style=\"height:auto;\">","{%= $.setTimeZone %}<br />","<select id=\"timeZoneItemsList\" data-dojo-type=\"dijit.form.Select\" shouldPublishMarkDirty=\"false\" style=\"width:345px; margin-top:10px; margin-bottom:10px;\"></select></div>","<div class=\"button-bar alignright\"><button data-dojo-type=\"dijit.form.Button\""," type=\"button\" id=\"btnTimeZoneDialogOk\" title=\"{%= $.buttonOK %}\" align=\"right\">{%= $.buttonOK %}</button>","<button data-dojo-type=\"dijit.form.Button\""," type=\"button\" id=\"btnTimeZoneDialogCancel\" title=\"{%= $.buttonCancel %}\" align=\"right\">{%= $.buttonCancel %}</button>","</div></div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI","TimeZoneItem"));this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _1cc8;_1cc8=Sage.Utility.getClientContextByKey("userTimeZone");this.addChild(new _1cc2({label:_1cc8,title:this.timeZoneText,id:"btnTimeZoneMenu",onClick:function(){var _1cc9=Sage.Utility.getClientContextByKey("userTimeZoneKey");dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(data){var _1cca=dijit.byId("TimeZoneMenu"),_1ccb=dijit.byId("btnTimeZoneMenu");_1cca._initializeDialog();_1cca._initializeTimeZoneDataStore(data,_1cc9);},error:function(err){}});}}));},_initializeDialog:function(){var _1ccc=dijit.byId("TimeZoneMenu");var d=new dijit.Dialog({title:_1ccc.timeZoneSettingsText,style:"width:auto;"});dojo.mixin(d,new _1cc3());d.createHelpIconByTopic("Select_TimeZone");var mkup=this._TimeZoneDialog.apply({buttonOK:_1ccc.buttonOKText,buttonCancel:_1ccc.buttonCancelText,setTimeZone:_1ccc.setTimeZoneText,setAsDefault:_1ccc.setAsDefaultText});d.set("content",mkup);d.show();var _1ccd=function(){dojo.disconnect(_1cce);dojo.disconnect(_1ccf);dojo.disconnect(_1cd0);setTimeout((function(d){return function(){d.destroyDescendants();d.destroy(false);};})(d),1);};var _1cd1=function(){d.hide();};var _1cd2=function(){var _1cd3=dijit.byId("timeZoneItemsList"),_1ccc=dijit.byId("TimeZoneMenu"),_1cd4="";for(var i=0;i<_1cd3.options.length;i++){if(_1cd3.options[i].value===_1cd3.value){_1cd4=_1cd3.options[i];break;}}if(_1cd4){_1ccc._updateTimeZone(_1cd4,_1ccc.location?true:false);}d.hide();};var _1cce=dojo.connect(d,"hide",this,_1ccd);var _1ccf=dojo.connect(dijit.byId("btnTimeZoneDialogCancel"),"onClick",this,_1cd1);var _1cd0=dojo.connect(dijit.byId("btnTimeZoneDialogOk"),"onClick",this,_1cd2);},_initializeTimeZoneDataStore:function(data,_1cd5){var items=[];var _1cd6="";var _1cd7="";var i;for(i=0;i<data.length;i++){if(!data[i].Displayname||!data[i].Keyname){continue;}if(data[i].Keyname==_1cd5){_1cd6=data[i].OffsetHours;break;}}dojo.forEach(data,function(item){if(!item.Displayname||!item.Keyname){return;}if(item.OffsetHours==_1cd6){items.push({id:item.Keyname,text:item.Displayname+_1cd7,isDefault:item.IsDefault});}});var _1cd8={label:"text",value:"id",identifier:"id",items:items};var _1cd9=new _1cc4({data:_1cd8});var _1cda=dijit.byId("timeZoneItemsList");_1cda.setStore(_1cd9);_1cda.set("searchAttr","text");for(i=0;i<_1cda.options.length;i++){if(_1cda.options[i].value===_1cd5){_1cda.setValue(_1cda.options[i].value);break;}}},_updateTimeZone:function(_1cdb,_1cdc){var self=this;var _1cdd={"$name":"setusertimezone","request":{"UserId":Sage.Utility.getClientContextByKey("userID"),"userTimeZone":_1cdb.value,"isCustomerPortal":_1cdc?"t":""}};var _1cde=new Sage.SData.Client.SDataServiceOperationRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic")).setResourceKind("users").setOperationName("setusertimezone");_1cde.execute(_1cdd,{success:function(){var _1cdf=dijit.byId("btnTimeZoneMenu");_1cdf.setLabel(_1cdb.label);this._updateLocalClientContext(_1cdb.label,_1cdb.value);},failure:function(){},scope:this});},_updateLocalClientContext:function(_1ce0,_1ce1){Sage.Utility.setClientContextByKey("userTimeZone",_1ce0);Sage.Utility.setClientContextByKey("userTimeZoneKey",_1ce1);}});return _1cc7;});},"Sage/MainView/ActivityMgr/HistoryEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/HistoryEditor.html":"\r\n[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"historyDialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">',\r\n        '<div class=\"activity-dialog\">',  //body\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<select label=\"{%= $.regardingText %}\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_pk_Regarding\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Regarding\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                '<div dojoType=\"Sage.UI.Controls.TextBox\" shouldPublishMarkDirty=\"false\" label=\"{%= $.locationText %}\" id=\"{%= $.id %}_tb_Location\" dojoAttachPoint=\"tb_Location\" maxLength=\"255\" ></div>',\r\n            '</div>', //first tablecontainer 1 col\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\">',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_CompletetdDate\" dojoAttachPoint=\"dtp_completedDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.completedDateText %}\"></div>',\r\n                '<div dojoType=\"Sage.UI.Controls.DateTimePicker\" shouldPublishMarkDirty=\"false\" id=\"{%= $.id %}_dtp_StartDate\" dojoAttachPoint=\"dtp_startDate\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $.startTimeText %}\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    '<div dojoType=\"dijit.form.CheckBox\" label=\"{%= $.timeLessText %}\" id=\"{%= $.id %}_cb_Timeless\" dojoAttachPoint=\"cb_Timeless\" ></div>',\r\n                    '<label class=\"checkbox-label\" for=\"cb_Timeless\">{%= $.timeLessText %}</label>',\r\n                '</div>',\r\n                 '<div dojoType=\"Sage.UI.Controls.DurationSelect\" shouldPublishMarkDirty=\"false\" label=\"{%= $.durationText %}\" id=\"{%= $.id %}_sel_Duration\" dojoAttachPoint=\"sel_Duration\" includeDisablingCheckbox=\"false\" valuesAreAfterStart=\"true\"></div>',\r\n                '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                    \r\n                '</div>',\r\n            '</div>', //second tablecontainer 2 col\r\n\r\n            '<div dojoType=\"dijit.layout.TabContainer\" id=\"{%= $.id %}_tc_EditHistory\"  dojoAttachPoint=\"tc_EditHistory\" class=\"tab-container\">',\r\n/*  General Tab   */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_General\" title=\"{%= $.tabNameGeneralText %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"cp_General\">',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"result_Section\" class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.resultText %}\" id=\"{%= $.id %}_tb_Result\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Result\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"></select>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"4\" labelWidth=\"4\" baseClass=\"contact-lead-radios\" >',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.contactText %}\" value=\"contact\" id=\"{%= $.id %}_rdo_Contact\" dojoAttachPoint=\"rdo_Contact\" dojoAttachEvent=\"onChange:_setContactLeadVisibility\" checked=\"true\" />',\r\n                        '<input dojoType=\"dijit.form.RadioButton\" type=\"radio\" name=\"contactOrLead\" label=\"{%= $.leadText %}\" value=\"lead\" id=\"{%= $.id %}_rdo_Lead\" dojoAttachPoint=\"rdo_Lead\" />',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"contactContainer\" baseClass=\"bottom-border-section\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_ContactLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_OppLup\" class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_AccountLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.ticketText %}\" dojoAttachPoint=\"container_TicketLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"leadContainer\"  baseClass=\"bottom-border-section\" class=\"display-none\">',\r\n                        '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.nameText %}\" dojoAttachPoint=\"container_LeadLup\"  class=\"remove-padding lookup-container\"></div>',\r\n                        '<input dojoType=\"dijit.form.TextBox\" id=\"{%= $.id %}_tb_LeadCompanyName\" label=\"{%= $.companyText %}\" dojoAttachPoint=\"tb_LeadCompanyName\" readonly=\"true\" />',\r\n                    '</div>',                       \r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"{%= $.labelWidth %}\"  class=\"bottom-border-section\">',\r\n                        '<select label=\"{%= $.categoryText %}\" id=\"{%= $.id %}_pk_Category\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Category\" canEditText=\"true\" itemMustExist=\"false\" maxLength=\"64\"  style=\"width: {%= 472 - $.labelWidth %}px;\" ></select>', \r\n                         '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.leaderText %}\" dojoAttachPoint=\"container_LeaderLup\" class=\"remove-padding lookup-container\" style=\"width: {%= 472 - $.labelWidth %}px;\"></div>',\r\n                         '<select label=\"{%= $.priorityText %}\" id=\"{%= $.id %}_pk_Priority\" shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Priority\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"Priorities\" sort=\"false\" maxLength=\"64\" style=\"width: {%= 472 - $.labelWidth %}px;\"></select>',                          \r\n                    '</div>',\r\n                    '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\"  class=\"valigntop\">',\r\n                        '<textarea dojoType=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_ta_Notes\" label=\"{%= $.notesText %}\" dojoAttachPoint=\"ta_Notes\" class=\"notes-text\" ></textarea>',\r\n                    '</div>',\r\n                '</div>',  // end general tab\r\n\r\n              /* Attachments Tab  */\r\n                '<div dojoType=\"dijit.layout.ContentPane\" id=\"{%= $.id %}_cp_Attachments\" title=\"{%= $.tabNameAttachmentsText %}\" class=\"tabContent\" dojoAttachPoint=\"cp_Attachments\" dojoAttachEvent=\"onShow:_showAttachmentsTab\">',\r\n                    '<div id=\"{%= $.id %}_attachmentsGridPlaceholder\" dojoAttachPoint=\"_attachmentGridPlaceholder\" style=\"width:100%;height:100%;\" ></div>',\r\n                '</div>',  //end attachments tab\r\n            '</div>', //end tab container\r\n            '<table class=\"button-bar\">',\r\n                '<col width=\"50%\" /><col width=\"50%\" />',\r\n                 '<tr>',\r\n                    '<td class=\"alignleft\">',\r\n                        //followUp section\r\n                        '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"{%= $.labelWidth %}\" dojoAttachPoint=\"followUp_Section\" >',\r\n                            '<select label=\"{%= $.followupText %}\" id=\"{%= $.id %}_followUpSelect\" dojoType=\"dijit.form.ComboBox\" dojoAttachPoint=\"sel_Followup\">',\r\n                                '<option value=\"none\" selected=\"selected\">{%= $.noneText %}</option>',\r\n                                '<option value=\"atPhoneCall\">{%= Sage.Utility.Activity.getActivityTypeName(\"atPhoneCall\") %}</option>',\r\n                                '<option value=\"atAppointment\">{%= Sage.Utility.Activity.getActivityTypeName(\"atAppointment\") %}</option>',\r\n                                '<option value=\"atToDo\">{%= Sage.Utility.Activity.getActivityTypeName(\"atToDo\") %}</option>',\r\n                            '</select>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coAttachments\" dojoAttachPoint=\"ck_coAttachments\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coAttachments\">{%= $.carryOverAttachmentsText %}</label>',\r\n                            '</div>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"\" class=\"remove-padding\">',\r\n                                '<div dojoType=\"dijit.form.CheckBox\" label=\"\" id=\"{%= $.id %}_ck_coNotes\" dojoAttachPoint=\"ck_coNotes\" ></div>',\r\n                                '<label class=\"checkbox-label\" for=\"{%= $.id %}_ck_coNotes\">{%= $.carryOverNotesText %}</label>',\r\n                            '</div>',\r\n                        '</div>',//end followUp section                         \r\n                    '</td>',\r\n                    '<td class=\"alignright valignbottom\" rowspan=\"2\">',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnDelete\" name=\"btn_Delete\" dojoAttachPoint=\"btn_Delete\" dojoAttachEvent=\"onClick:_deleteClick\">{%= $.deleteText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. cancelText %}</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                   '<td class=\"alignleft\">',\r\n                      '<div class=\"scheduled-by-label\" dojoAttachPoint=\"lbl_ScheduledBy\"></div>',\r\n                   '</td>',                 \r\n                '</tr>',\r\n            '</table>',\r\n        '</div>', //body\r\n    '</div>',  //dialog\r\n'</div>' //root node\r\n]\r\n"}});define("Sage/MainView/ActivityMgr/HistoryEditor",["dijit/_Widget","Sage/_Templated","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/UI/AttachmentList","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/string","dojo/date/locale","Sage/Utility/Activity","Sage/Utility/File","dojo/_base/declare","dojo/i18n!./nls/HistoryEditor","dojo/text!./templates/HistoryEditor.html","dojo/dom-class","Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab","dijit/layout/ContentPane","dojo/on","dijit/Toolbar","dijit/layout/TabContainer","dijit/form/Textarea","dojox/layout/TableContainer","Sage/Services/UserOptions","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/Lookup","dijit/Dialog","Sage/UI/Controls/DurationSelect","Sage/Services/CalendarSecurityService"],function(_1ce2,_1ce3,_1ce4,_1ce5,_1ce6,_1ce7,_1ce8,_1ce9,_1cea,_1ceb,_1cec,_1ced,_1cee,_1cef,_1cf0,_1cf1,_1cf2,_1cf3,_1cf4,_1cf5,_1cf6,on){dojo.requireLocalization("Sage.MainView.ActivityMgr","HistoryEditor");var _1cf7=_1cf1("Sage.MainView.ActivityMgr.HistoryEditor",[_1ce2,_1ce3],{historyId:"",mode:"",id:"",activityType:"",_dialog:false,_currentUserId:null,_activityService:false,_historyData:false,_historyStore:false,_bindingMgr:false,lup_Account:false,lup_Contact:false,lup_Opportunity:false,lup_Ticket:false,lup_Lead:false,lup_Leader:false,accountLookupConfig:{},contactLookupConfig:{},opportunityLookupConfig:{},ticketLookupConfig:{},leadLookupConfig:{},_isBinding:false,_historySaved:false,notnullfields:["ContactId","AccountId","OpportunityId","TicketId","LeadId"],historyDefaultValues:{},_doingFollowup:false,_attachmentsSaved:false,_attachmentList:false,_tempIdForAttachments:false,_hasAccess:true,eventConnections:[],widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1cf3)),constructor:function(){dojo.mixin(this,_1cf2);this._historyService=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");this._setupStore();this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";dojo.subscribe("/entity/attachment/create",this,this._updateHistoryETag);dojo.subscribe("/entity/attachment/update",this,this._updateHistoryETag);dojo.subscribe("/entity/attachment/delete",this,this._updateHistoryETag);},destroy:function(){if(this._historyChangeConnection){dojo.disconnect(this._historyChangeConnection);this._historyChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}for(var i=0;i<this.eventConnections.length;i++){dojo.disconnect(this.eventConnections[i]);}this.lup_Account.destroy();this.lup_Contact.destroy();this.lup_Opportunity.destroy();this.lup_Ticket.destroy();this.lup_Lead.destroy();this.lup_Leader.destroy();this.eventConnections=[];this.inherited(arguments);},isFirstOpen:true,show:function(_1cf8){this._dialog.set("refocus",false);if(this.isFirstOpen){this.isFirstOpen=false;this.connect(this._dialog,"onHide",this._cleanOnClose);}if(!this.lup_Account){this.createAccountLookup();this.createContactLookup();this.createOpportunityLookup();this.createTicketLookup();this.createLeadLookup();this.createLeaderLookup();}this.historyDefaultValues={};if(this.mode==="New"){this.historyDefaultValues=_1cf8||{};this._loadData();}if(this.mode==="Complete"){}if(this.mode==="Complete"){_1cf4.add(this.btn_Delete.domNode,"display-none");}else{_1cf4.remove(this.btn_Delete.domNode,"display-none");}if((this.activityType==="atNote")&&(this.mode==="New")){dojo.addClass(this.result_Section.domNode,"display-none");}else{dojo.removeClass(this.result_Section.domNode,"display-none");}this._dialog.show();if(!this._dialog._standby){_1ce8.mixin(this._dialog,new _1ce9());if(!this._historyData){this._dialog.showLoading();}}if(!this._dialog.helpIcon){_1ce8.mixin(this._dialog,new _1ce7());this._dialog.createHelpIconByTopic("View_Edit_Details_of_a_History_Item");}if(this.activityType==="atNote"){this._dialog.set("helpTopic","addnote");}else{this._dialog.set("helpTopic","View_Edit_Details_of_a_History_Item");}this.tc_EditHistory.selectChild(this.cp_General);this._doingFollowup=false;},hide:function(e){this._dialog.hide(e);this.set("historyId","");},onHide:function(){},_onDlgHide:function(){this.onHide();},_cleanOnClose:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this.set("historyId","");this._hideLookupTooltip(this.lup_Account);this._hideLookupTooltip(this.lup_Contact);this._hideLookupTooltip(this.lup_Opportunity);this._hideLookupTooltip(this.lup_Ticket);this._hideLookupTooltip(this.lup_Lead);this._hideLookupTooltip(this.lup_Leader);},_hideLookupTooltip:function(_1cf9){if(_1cf9){_1cf9.hideTooltip();}},_showAttachmentsTab:function(){var self=this;window.setTimeout(function(){self._ensureAttachmentList();},100);},_ensureAttachmentList:function(){if(!this._attachmentList){this._attachmentList=new _1cea({workspace:"",tabId:"",placeHolder:this.id+"_attachmentsGridPlaceholder",parentRelationshipName:"historyId"});var self=this;this._attachmentList.startup(function(){if(self.cp_Attachments){self.cp_Attachments.resize();}});}else{this._attachmentList.resetEntityContext();}},_updateHistoryETag:function(_1cfa){if(this._dialog.open&&this.historyId){var req=new Sage.SData.Client.SDataSingleResourceRequest(_1ceb.getSDataService("dynamic"));req.setResourceKind("history");req.setResourceSelector("\""+this.historyId+"\"");req.setQueryArg("precedence","0");req.read({success:function(_1cfb){this._historyData["$etag"]=_1cfb["$etag"];},scope:this});}},_setModeAttr:function(mode){this.mode=mode;var idx=this.tc_EditHistory.getIndexOfChild(dijit.byId("histAttendeesTabPane"));if(mode.indexOf("New")===0){this._historyData=false;if(idx>0){this.tc_EditHistory.removeChild(dijit.byId("histAttendeesTabPane"));dijit.byId("histAttendeesTabPane").destroy();var self=this;window.setTimeout(function(){self._dialog.resize();},100);}}else{if(idx<0){this._addAttendeesTab();var self=this;window.setTimeout(function(){self._dialog.resize();},100);}}},_setActivityTypeAttr:function(type){switch(type){case "PhoneCall":case "atPhoneCall":this.activityType="atPhoneCall";break;case "Meeting":case "atAppointment":this.activityType="atAppointment";break;case "ToDo":case "atToDo":this.activityType="atToDo";break;case "PersonalActivity":case "atPersonal":case "Personal":this.activityType="atPersonal";break;case "atNote":case "Note":this.activityType="atNote";break;default:this.activityType="atNote";break;}},_setHistoryIdAttr:function(_1cfc){if(this.historyId!==_1cfc){this.historyId=_1cfc;this._historyData=false;if(_1cfc!==""){this._loadData();}}},_getHistoryIdAttr:function(){return this.historyId;},_setupStore:function(){if(!this._historyStore){this._historyStore=new _1ce4({include:[],resourceKind:"history",service:this._historyService});}},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}this._historyData=false;this._historySaved=false;if(this._historyStore){if(this.mode!=="New"){this._historyStore.fetch({predicate:"\""+this.historyId+"\"",onComplete:this._receivedHistory,onError:this._requestFailure,scope:this});}else{this._historyStore.newItem({onComplete:function(data){Sage.Utility.setValue(data,"Type",this.activityType);this._receivedHistory(dojo.mixin(data,this.historyDefaultValues));},scope:this});}}},_receivedHistory:function(data){this._historyData=data;this._tempIdForAttachments=false;var _1cfd=Sage.Services.getService("ClientEntityContext");var _1cfe={"EntityId":this._historyData.$key||"","EntityType":"Sage.Entity.Interfaces.IHistory","Description":this._historyData.$descriptor,"EntityTableName":"HISTORY"};_1cfd.setTemporaryContext(_1cfe);this._ensureIdsNotNull();if(this.mode!=="New"){this.activityType=data.Type;}else{this._applyUserOptionsForNewHistory();}this._setUIForActivityType(data.Type);this._bind();if(((this.activityType==="atNote")&&(this.mode==="New"))||(data["UserId"]!==this._currentUserId&&this._currentUserId.trim()!=="ADMIN")){dojo.addClass(this.btn_Delete.domNode,"display-none");}else{dojo.removeClass(this.btn_Delete.domNode,"display-none");}if(this._dialog._standby){this._dialog.hideLoading();}},_ensureIdsNotNull:function(){for(var i=0;i<this.notnullfields.length;i++){if(this._historyData[this.notnullfields[i]]===null){this._historyData[this.notnullfields[i]]="";}}},_applyUserOptionsForNewHistory:function(){var _1cff=new Date();_1cff.setSeconds(5);_1cff.setMinutes(0);_1cff.setHours(0);Sage.Utility.setValue(this._historyData,"Timeless",true);Sage.Utility.setValue(this._historyData,"StartDate",Sage.Utility.Convert.toIsoStringFromDate(_1cff));Sage.Utility.setValue(this._historyData,"Duration","60");},_requestFailure:function(msg,_1d00,opts){},_createBindings:function(){if(this._bindingMgr){this._bindingMgr.destroy();this._bindingMgr=false;}this._bindingMgr=new _1ce5({defaultBinding:{boundEntity:this._historyData},items:[{boundWidget:this.tb_Location,entityProperty:"Location"},{boundWidget:this.pk_Regarding,entityProperty:"Description",onChange:dojo.hitch(this,"_descriptionChanged")},{boundWidget:this.pk_Result,entityProperty:"Result"},{boundWidget:this.pk_Category,entityProperty:"Category"},{boundWidget:this.pk_Priority,entityProperty:"Priority"},{boundWidget:this.dtp_startDate,dataType:"date",entityProperty:"StartDate",onChange:dojo.hitch(this,"_startDateChanged")},{boundWidget:this.dtp_completedDate,dataType:"date",entityProperty:"CompletedDate"},{boundWidget:this.sel_Duration,entityProperty:"Duration"},{boundWidget:this.sel_Duration,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_Timeless,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")},{boundWidget:this.ta_Notes,entityProperty:"LongNotes"}]});},_bind:function(){if(this._historyData){if(!this._bindingMgr){this._createBindings();}else{if(!this._bindingMgr.boundEntity||(this._historyData.HistoryId!==this._bindingMgr.boundEntity.HistoryId)){this._bindingMgr.setBoundEntity(this._historyData);}else{this._bindingMgr.bind();}}this._manualBind();this._setUI();}},_manualBind:function(){if(this._historyData){this._isBinding=true;var his=this._historyData;var _1d01=(his.AccountId.trim()==="")?null:{"$key":his.AccountId,"$descriptor":his.AccountName};this.lup_Account.set("selectedObject",_1d01);var _1d02=(his.ContactId.trim()==="")?null:{"$key":his.ContactId,"$descriptor":his.ContactName};this.lup_Contact.set("selectedObject",_1d02);var _1d03=(his.OpportunityId.trim()==="")?null:{"$key":his.OpportutunityId,"$descriptor":his.OpportunityName};this.lup_Opportunity.set("selectedObject",_1d03);var _1d04=(his.TicketId.trim()==="")?null:{"$key":his.TicketId,"$descriptor":his.TicketNumber};this.lup_Ticket.set("selectedObject",_1d04);var _1d05=(his.LeadId.trim()==="")?null:{"$key":his.LeadId,"$descriptor":his.LeadName};var _1d06=(his.UserId.trim()==="")?null:{"$key":his.UserId,"$descriptor":his.UserName};this.lup_Leader.set("selectedObject",_1d06);this.lup_Lead.set("selectedObject",_1d05);this.tb_LeadCompanyName.set("value",(his.LeadId.trim()==="")?"":his.AccountName);this._updateLookupSeedValues(his.AccountId);this._isBinding=false;}},_accountChanged:function(_1d07){if(this._isBinding){return;}var newId=(_1d07)?_1d07["$key"]:"";var _1d08=(_1d07)?_1d07["$descriptor"]:"";var his=this._historyData;var _1d09=(his.ContactId==="");his.AccountId=newId;his.AccountName=_1d08;his.ContactId="";his.ContactName="";his.PhoneNumber="";his.OpportunityId="";his.OpportunityName="";his.TicketId="";his.TicketNumber="";his.LeadId="";his.LeadName="";this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._updateLookupSeedValues(newId);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");if(_1d09){this._setContactToCurrentAccountPrimary();}this._isBinding=false;},_contactChanged:function(_1d0a){if(this._isBinding){return;}var his=this._historyData;if(!_1d0a){his.ContactId="";his.ContactName="";his.PhoneNumber="";return;}his.ContactId=_1d0a["$key"];his.ContactName=_1d0a["$descriptor"];his.PhoneNumber=Sage.Utility.getValue(_1d0a,"WorkPhone");his.LeadId="";his.LeadName="";his.AccountId=_1d0a.Account["$key"];his.AccountName=_1d0a.Account.AccountName;this._updateLookupSeedValues(_1d0a.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1d0a.Account["$key"],"$descriptor":_1d0a.Account.AccountName});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;},_opportunityChanged:function(_1d0b){if(this._isBinding){return;}var his=this._historyData;if(!_1d0b){his.OpportunityId="";his.OpportunityName="";return;}his.OpportunityId=_1d0b["$key"];his.OpportunityName=_1d0b["$descriptor"];if(his.AccountId.trim()===""||his.AccountId!==_1d0b.Account["$key"]){his.AccountId=_1d0b.Account["$key"];his.AccountName=_1d0b.Account.AccountName;his.LeadId="";his.LeadName="";this._updateLookupSeedValues(_1d0b.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1d0b.Account["$key"],"$descriptor":_1d0b.Account.AccountName});this.lup_Contact.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;this._setContactBasedOnOpportunity();}},_ticketChanged:function(_1d0c){if(this._isBinding){return;}var his=this._historyData;if(!_1d0c){his.TicketId="";his.TicketNumber="";return;}his.TicketId=_1d0c["$key"];his.TicketNumber=_1d0c["$descriptor"];if(his.AccountId.trim()===""||his.AccountId!==_1d0c.Account["$key"]){his.AccountId=_1d0c.Account["$key"];his.AccountName=_1d0c.Account["AccountName"];his.LeadId="";his.LeadName="";this._updateLookupSeedValues();his.ContactId=Sage.Utility.getValue(_1d0c,"Contact.$key");his.ContactName=Sage.Utility.getValue(_1d0c,"Contact.NameLF");his.PhoneNumber=Sage.Utility.getValue(_1d0c,"Contact.WorkPhone");this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1d0c.Account["$key"],"$descriptor":_1d0c.Account["AccountName"]});this.lup_Contact.set("selectedObject",{"$key":_1d0c.Contact["$key"],"$descriptor":_1d0c.Contact["NameLF"]});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}},_leadChanged:function(_1d0d){if(this._isBinding){return;}var his=this._historyData;if(!_1d0d){his.LeadId="";his.LeadName="";his.PhoneNumber="";this.tb_LeadCompanyName.set("value","");return;}his.LeadId=_1d0d["$key"];his.LeadName=_1d0d["$descriptor"];his.AccountName=_1d0d["Company"];his.PhoneNumber=_1d0d["WorkPhone"];this.tb_LeadCompanyName.set("value",_1d0d["Company"]);his.ContactId="";his.ContactName="";his.AccountId="";his.AccountName="";his.TicketId="";his.TicketNumber="";his.OpportunityId="";his.OpportunityName="";this._updateLookupSeedValues();this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Account.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this._isBinding=false;},_leaderChanged:function(_1d0e){if(this._isBinding){return;}this._historyData.UserId=_1d0e["$key"].substr(0,12);this._historyData.UserName=_1d0e["$descriptor"];},_setContactBasedOnOpportunity:function(){var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("opportunities");var _1d0f=req.uri.pathSegments.length-1;var _1d10=req.uri.getPathSegment(_1d0f);_1d10["predicate"]="\""+this._historyData.OpportunityId+"\"";req.uri.setPathSegment(_1d0f+1,"Contacts");req.setQueryArg("select","IsPrimary,Contact/NameLF,Contact/IsPrimary,Contact/WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.read({success:function(data){var _1d11=data["$resources"];if(_1d11.length<1){this._setContactToCurrentAccountPrimary();return;}var _1d12=false,_1d13=false,_1d14=_1d11[0],_1d15;for(var i=0;i<_1d11.length;i++){if(_1d11[i].IsPrimary){if(!_1d12||_1d11[i].Contact.IsPrimary){_1d12=_1d11[i];}}if(!_1d13&&_1d11[i].Contact.IsPrimary){_1d13=_1d11[i];}}_1d15=_1d12||_1d13||_1d14;if(_1d15){this._historyData.ContactId=Sage.Utility.getValue(_1d15,"Contact.$key");this._historyData.ContactName=Sage.Utility.getValue(_1d15,"Contact.NameLF");this._historyData.PhoneNumber=Sage.Utility.getValue(_1d15,"Contact.WorkPhone");this._rebindToCurrentContact();}},failure:function(){this._rebindToCurrentContact();},scope:this});},_setContactToCurrentAccountPrimary:function(){var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("accounts");var _1d16=req.uri.pathSegments.length-1;var _1d17=req.uri.getPathSegment(_1d16);_1d17["predicate"]="\""+this._historyData.AccountId+"\"";req.uri.setPathSegment(_1d16+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _1d18=data["$resources"];if(_1d18.length<1){this._rebindToCurrentContact();return;}var _1d19=_1d18[0];this._historyData.ContactId=Sage.Utility.getValue(_1d19,"$key");this._historyData.ContactName=Sage.Utility.getValue(_1d19,"NameLF");this._historyData.PhoneNumber=Sage.Utility.getValue(_1d19,"WorkPhone");this._isBinding=true;this.lup_Contact.set("selectedObject",_1d19);this._isBinding=false;},failure:function(){this._rebindToCurrentContact();},scope:this});},_rebindToCurrentContact:function(){this._isBinding=true;this.lup_Contact.set("selectedObject",{"$key":this._historyData.ContactId,"$descriptor":this._historyData.ContactName});this._isBinding=false;},_updateLookupSeedValues:function(_1d1a){var accId=_1d1a||this._historyData.AccountId;this.contactLookupConfig.seedValue=accId;this.opportunityLookupConfig.seedValue=accId;this.ticketLookupConfig.seedValue=accId;},_setUI:function(){this._formatHeader();this._setDisabledByTimlessValue();if(this._historyData.LeadId.trim()===""){this.rdo_Contact.set("checked",true);}else{this.rdo_Lead.set("checked",true);}this._setContactLeadVisibility();this._setScheduledByLabel();this._applySecurity();},_applySecurity:function(){if(this.mode==="New"){this._setAccessToUI(true);}else{if(this.mode==="Complete"){this._setAccessToUI(true);}else{var svc=Sage.Services.getService("CalendarSecurityService");if(svc){var _1d1b=_1ce6.getClientContextByKey("userID").trim();var _1d1c=this._historyData.UserId||_1d1b;if(_1d1b!==_1d1c){svc.hasAccess(_1d1c,"allowEdit",function(_1d1d){this._setAccessToUI(_1d1d);},this);}else{this._setAccessToUI(true);}}}}},_setAccessToUI:function(_1d1e){this._hasAccess=_1d1e;if((this.mode==="New")||((this.mode==="Complete"))){this.rdo_Lead.set("disabled",!_1d1e);this.tb_Location.set("disabled",!_1d1e);this.pk_Regarding.set("disabled",!_1d1e);this.pk_Category.set("disabled",!_1d1e);this.pk_Priority.set("disabled",!_1d1e);this.dtp_startDate.set("disabled",!_1d1e);this.dtp_completedDate.set("disabled",!_1d1e);if(!_1d1e){this.sel_Duration.set("disabled",true);}this.cb_Timeless.set("disabled",!_1d1e);this.ta_Notes.set("disabled",!_1d1e);this.lup_Leader.set("disabled",!_1d1e);this.lup_Account.set("disabled",!_1d1e);this.lup_Contact.set("disabled",!_1d1e);this.lup_Lead.set("disabled",!_1d1e);this.lup_Ticket.set("disabled",!_1d1e);this.lup_Opportunity.set("disabled",!_1d1e);this.tb_LeadCompanyName.set("disabled",!_1d1e);this.btn_OK.set("disabled",!_1d1e);}else{this.rdo_Lead.set("disabled",true);this.tb_Location.set("disabled",!_1d1e);this.pk_Regarding.set("disabled",!_1d1e);this.pk_Category.set("disabled",!_1d1e);this.pk_Priority.set("disabled",true);this.dtp_startDate.set("disabled",true);this.dtp_completedDate.set("disabled",true);this.sel_Duration.set("disabled",true);this.cb_Timeless.set("disabled",true);this.ta_Notes.set("disabled",!_1d1e);this.lup_Leader.set("disabled",true);this.lup_Account.set("disabled",true);this.lup_Contact.set("disabled",true);this.lup_Lead.set("disabled",true);this.lup_Ticket.set("disabled",true);this.lup_Opportunity.set("disabled",true);this.tb_LeadCompanyName.set("disabled",true);this.btn_OK.set("disabled",!_1d1e);}},_setUIForActivityType:function(_1d1f){this.pk_Regarding.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Regarding",_1d1f));this.pk_Category.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Category",_1d1f));this.pk_Result.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Result",_1d1f));var svc=Sage.Services.getService("CalendarSecurityService");this.btn_OK.set("disabled",false);if(svc&&this.mode!=="New"){var _1d20=_1ce6.getClientContextByKey("userID").trim();var _1d21=this._historyData.UserId||_1d20;if(_1d20!==_1d21){svc.hasAccess(_1d21,"allowEdit",function(_1d22){this.btn_OK.set("disabled",!_1d22);},this);}}},_setDisabledByTimlessValue:function(){if(!this._historyData){return;}var tless=this._historyData["Timeless"];this.dtp_startDate.set("displayTime",!tless);this.sel_Duration.set("disabled",tless||!this._hasAccess);},_timelessChange:function(){this._setDisabledByTimlessValue();},_descriptionChanged:function(){this._formatHeader();},_startDateChanged:function(){var _1d23=this.dtp_startDate.get("value");this.sel_Duration.set("startTime",_1d23);},_setContactLeadVisibility:function(){var _1d24=this.rdo_Contact.get("checked");dojo.removeClass((_1d24)?this.contactContainer.domNode:this.leadContainer.domNode,"display-none");dojo.addClass((_1d24)?this.leadContainer.domNode:this.contactContainer.domNode,"display-none");},_formatHeader:function(){var _1d25;var _1d26;var _1d27;var _1d28;_1d26=Sage.Utility.Activity.getActivityImageClass(this._historyData["Type"]||"atAppointment","small");_1d25=Sage.Utility.Activity.getActivityTypeName(this._historyData["Type"]||"atAppointment");_1d27=(this.mode==="New")?this.insertText:"";_1d28=this._historyData["Description"]||"";if(_1d28!==""){_1d28=" - "+_1d28;}this._dialog.set("title",dojo.string.substitute("<div class=\"Global_Images icon16x16 ${0}\" > </div>&nbsp;<span class=\"activity-dialog-title\">${1} ${2} ${3}</span>",[_1d26,_1d27,_1d25,_1d28]));},_setScheduledByLabel:function(){var _1d29=Sage.Utility.Convert.toDateFromString(Sage.Utility.getValue(this._historyData,"CreateDate"));if(_1d29.getFullYear()<1000){_1d29=new Date();}var _1d2a=Sage.Utility.getValue(this._historyData,"CreateUser").trim();if(!_1d2a||_1ce6.getClientContextByKey("userID")===_1d2a){_1d2a=_1ce6.getClientContextByKey("userPrettyName");}else{if(_1d2a==="PROCESS"||_1d2a==="ADMIN"){_1d2a="Administrator";}else{this._getUserInfoFor(_1d2a,function(user){dojo.html.set(this.lbl_ScheduledBy,_1ced.substitute(this.scheduledByFormatText,{user:user["$descriptor"],date:_1cee.format(_1d29,{selector:"date",fullYear:true})}));});return;}}var lbl=_1ced.substitute(this.scheduledByFormatText,{user:_1d2a,date:_1cee.format(_1d29,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);},_getUserInfoFor:function(_1d2b,_1d2c){var _1d2d=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic",false,true,true));_1d2d.setResourceKind("userInfo");_1d2d.setResourceSelector("'"+_1d2b+"'");_1d2d.setQueryArg("precedence","0");_1d2d.read({success:_1d2c,scope:this,failure:function(){}});},_okClick:function(){delete this._historyData["Notes"];delete this._historyData["UserName"];if(this.rdo_Lead.checked){delete this._historyData["ContactId"];delete this._historyData["ContactName"];delete this._historyData["AccountId"];delete this._historyData["AccountName"];delete this._historyData["LeadName"];}else{delete this._historyData["LeadId"];}if(this.mode==="New"){this._currentUserActivitySaved=true;this._historyStore.saveNewEntity(this._historyData,this._successfulHistorySave,this._failedHistorySave,this);}else{this._historyStore.save({scope:this,success:this._successfulHistorySave,failure:this._failedAHistorySave});}},_successfulHistorySave:function(_1d2e){this._historyData=_1d2e;this.historyId=_1d2e["$key"];var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this._attachmentsSaved=true;if(this._attachmentList){var _1d2f=this._attachmentList.getNewAttachments();if(_1d2f.length>0&&this.mode==="New"){this._saveAttachments(_1d2f);this._attachmentsSaved=false;}}if(this.mode==="New"){this.attendeesTab._addHistoryAttendee(_1d2e);}dojo.publish("/entity/history/change",[_1d2e,this]);this._historySaved=true;this._hideIfComplete();},_failedHistorySave:function(_1d30){Sage.UI.Dialogs.showError(this.couldNotSaveErrorText);},_cancelClick:function(){if(this.mode==="Complete"){this._deleteClick();}else{this.hide();}},_hideIfComplete:function(){if(this._historySaved){if(this._mode!=="New"){this._doFollowup();}else{this.hide();}}},_deleteClick:function(){if(this._historyData&&this._historyStore){Sage.UI.Dialogs.raiseQueryDialogExt({title:this.deleteTitle,query:this.deleteMessage,callbackFn:function(_1d31){if(_1d31){this._historyStore.deleteEntity(this._historyData,this._successfulHistoryDelete,this._failedHistoryDelete,this);}},yesText:this.okText,noText:this.cancelText,icon:"questionIcon",scope:this});}},_successfulHistoryDelete:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();dojo.publish("/entity/history/delete",[this._historyData["$key"],this]);this.hide();},_failedHistoryDelete:function(_1d32){var msg=_1cef.findFailedRequestMessage(_1d32,this.couldNotDeleteErrorText);_1cec.showError(msg);},_saveAttachments:function(_1d33){this._attachmentRequests=_1d33.length;for(var i=0;i<_1d33.length;i++){var att=_1d33[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1ceb.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");att.historyId=this.historyId;for(var p in this._historyData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _1d34=p.substring(0,1).toLowerCase()+p.substring(1);att[_1d34]=this._historyData[p];}}req.update(att,{success:this._successfulAttachmentSave,failure:this._failedAttachmentSave,scope:this});}},_removeAttachments:function(){if(!this._attachmentList){return;}var _1d35=this._attachmentList.getNewAttachments();for(var i=0;i<_1d35.length;i++){var att=_1d35[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1ceb.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");req["delete"](att,{success:function(){},failure:function(){},scope:this});}},getRelationshipsForAttachments:function(){var obj={};for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _1d36=p.substring(0,1).toLowerCase()+p.substring(1);obj[_1d36]=this._activityData[p];}}if(this.mode==="New"&&!_1cf0.supportsHTML5File&&!Sage.gears){this._tempIdForAttachments=this._makeTempID();obj["historyId"]=this._tempIdForAttachments;}return obj;},_makeTempID:function(){if(!this._tempIdForAttachments){var uid=this._currentUserId;var dstr=_1ce6.Convert.toIsoStringFromDate(this.dtp_completedDate.get("value"));dstr=dstr.replace(/[T:-]/g,"").substr(6,6);this._tempIdForAttachments="NE"+uid.substr(uid.length-4,4)+dstr;}return this._tempIdForAttachments;},_attachmentRequests:0,_successfulAttachmentSave:function(_1d37){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;}},_failedAttachmentSave:function(){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;}},_doFollowup:function(){var _1d38=this.sel_Followup.get("value");switch(_1d38){case this.noneText:this.hide();return;case _1cef.getActivityTypeName("atPhoneCall"):_1d38="atPhoneCall";break;case _1cef.getActivityTypeName("atAppointment"):_1d38="atAppointment";break;case _1cef.getActivityTypeName("atToDo"):_1d38="atToDo";break;}var _1d39=this._getFollowUpActivityData();this._doingFollowup=true;this.hide("followup");window.setTimeout(function(){var svc=Sage.Services.getService("ActivityService");if(svc){svc.scheduleActivity({"type":_1d38,"preConfigured":_1d39});}},250);},_getFollowUpActivityData:function(){var his=this._historyData;var ret={AccountId:his.AccountId,AccountName:his.AccountName,ContactId:his.ContactId,ContactName:his.ContactName,Description:his.Description,LeadId:his.LeadId,LeadName:his.LeadName,OpportunityId:his.OpportunityId,OpportunityName:his.OpportunityName,TicketId:his.TicketId,TicketNumber:his.TicketNumber};if(this.ck_coNotes.get("checked")){ret["LongNotes"]=his.LongNotes;ret["Notes"]=his.Notes;}if(this.ck_coAttachments.get("checked")){}return ret;},createAccountLookup:function(){this.accountLookupConfig={id:"_historyAcc",structure:[{"cells":[{"name":this.accountText,"field":"AccountName"},{"name":this.cityText,"field":"Address.City"},{"name":this.stateText,"field":"Address.State"},{"name":this.mainPhoneText,"field":"MainPhone"},{"name":this.typeText,"field":"Type"},{"name":this.subTypeText,"field":"SubType"},{"name":this.statusText,"field":"Status"},{"name":this.acctMgrText,"field":"AccountManager.UserInfo.UserName"},{"name":this.ownerText,"field":"Owner.OwnerDescription"}],"defaultCell":{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""}}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"accounts",sort:[{attribute:"AccountName"}]},isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,initializeLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupActText,dialogButtonText:this.okText},this.lup_Account=new Sage.UI.Controls.Lookup({id:"history_lu_account",allowClearingResult:true,config:this.accountLookupConfig,readonly:true,});this.eventConnections.push(dojo.connect(this.lup_Account,"onChange",this,"_accountChanged"));dojo.place(this.lup_Account.domNode,this.container_AccountLup.domNode,"only");},createContactLookup:function(){this.contactLookupConfig={id:"_histoyContact",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"NameLF"},{name:this.accountText,field:"Account.AccountName"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.workphoneText,field:"WorkPhone"},{name:this.emailText,field:"Email"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",sort:[{attribute:"NameLF"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.okText};this.lup_Contact=new Sage.UI.Controls.Lookup({id:"history_lu_contact",allowClearingResult:true,readonly:true,config:this.contactLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Contact,"onChange",this,"_contactChanged"));dojo.place(this.lup_Contact.domNode,this.container_ContactLup.domNode,"only");},createOpportunityLookup:function(){this.opportunityLookupConfig={id:"_historyOpp",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.descriptionText,field:"Description"},{name:this.acctMgrText,field:"AccountManager.UserInfo.UserName"},{name:this.accountText,field:"Account.AccountName"},{name:this.stageText,field:"Stage"},{name:this.statusText,field:"Status"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"opportunities",sort:[{attribute:"Description"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOpportunityText,dialogButtonText:this.okText};this.lup_Opportunity=new Sage.UI.Controls.Lookup({id:"history_lu_opportunity",allowClearingResult:true,readonly:true,config:this.opportunityLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Opportunity,"onChange",this,"_opportunityChanged"));dojo.place(this.lup_Opportunity.domNode,this.container_OppLup.domNode,"only");},createTicketLookup:function(){this.ticketLookupConfig={id:"_historyTicket",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.ticketNumberText,field:"TicketNumber"},{name:this.accountText,field:"Account.AccountName"},{name:this.nameText,field:"Contact.NameLF"},{name:this.phoneText,field:"Contact.WorkPhone"},{name:this.statusText,field:"StatusCode",pickListName:"",propertyType:"SalesLogix.PickList"},{name:this.urgencyText,field:"Urgency.Description"},{name:this.areaText,field:"Area"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"tickets",sort:[{attribute:"TicketNumber"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupTicketText,dialogButtonText:this.okText};this.lup_Ticket=new Sage.UI.Controls.Lookup({id:"history_lu_ticket",allowClearingResult:true,readonly:true,config:this.ticketLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Ticket,"onChange",this,"_ticketChanged"));dojo.place(this.lup_Ticket.domNode,this.container_TicketLup.domNode,"only");},createLeadLookup:function(){this.leadLookupConfig={id:"_historyLead",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"LeadFullName"},{name:this.companyText,field:"Company"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.postalText,field:"Address.PostalCode"},{name:this.statusText,field:"Status"},{name:this.workphoneText,field:"WorkPhone"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"leads",sort:[{attribute:"LeadFullName"}]},isModal:true,initialLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeadText,dialogButtonText:this.okText};this.lup_Lead=new Sage.UI.Controls.Lookup({id:"history_lu_lead",allowClearingResult:true,readonly:true,config:this.leadLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Lead,"onChange",this,"_leadChanged"));dojo.place(this.lup_Lead.domNode,this.container_LeadLup.domNode,"only");},createLeaderLookup:function(){var _1d3a={id:"_historyLeader",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "AllowAdd AND (AccessId eq '"+_1ce6.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeaderText,dialogButtonText:this.okText};this.lup_Leader=new Sage.UI.Controls.Lookup({id:"history_lu_leader",readonly:true,config:_1d3a});this.eventConnections.push(dojo.connect(this.lup_Leader,"onChange",this,"_leaderChanged"));dojo.place(this.lup_Leader.domNode,this.container_LeaderLup.domNode,"only");},_updateLocation:function(_1d3b,isAdd){var _1d3c=this._historyData.Location;if(!_1d3c||_1d3c===""){if(isAdd){_1d3c=_1d3b;}}else{var parts=_1d3c.split("; ");var _1d3d=[];var _1d3e=false;for(var i=0;i<parts.length;i++){if(parts[i]===_1d3b){if(isAdd){_1d3e=true;}else{continue;}}_1d3d.push(parts[i]);}if(!_1d3e&&isAdd){_1d3d.push(_1d3b);}_1d3c=_1d3d.join("; ");}Sage.Utility.setValue(this._historyData,"Location",_1d3c);this.tb_Location.set("value",_1d3c);},_formatDateForQuery:function(d){return ["'",d.getUTCFullYear(),"-",d.getUTCMonth()+1,"-",d.getUTCDate(),"'"].join("");},postCreate:function(){this.inherited(arguments);this._addAttendeesTab();},_addAttendeesTab:function(){var _1d3f=this.attendeesTab=new _1cf5();var cp=new _1cf6({id:"histAttendeesTabPane",title:this.tabNameParticipants,"class":"tabContent remove-padding"},_1d3f.domNode);this.tc_EditHistory.addChild(cp);_1d3f.histEditor=this;_1d3f.startup();on(cp,"show",function(){_1d3f._tabShow();});},_successfulComplete:function(_1d40){var self=this;var _1d41=arguments;var _1d42=this.attendeesTab._historySaved(_1d40);_1d42.then(function(value){self.inherited(_1d41);});},});return _1cf7;});},"Sage/TaskPane/User/ContactUserAssociationEditor":function(){require({cache:{"url:Sage/TaskPane/User/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divContactLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"contactLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/TaskPane/User/ContactUserAssociationEditor",["dojo/_base/declare","dojo/i18n!./nls/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/string","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/ContactUserAssociationEditor.html","Sage/UI/Controls/SingleSelectPickList","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/Form"],function(_1d43,_1d44,_1d45,_1d46,_1d47,_1d48,_1d49,_1d4a,_1d4b,_1d4c,_1d4d,_1d4e,_1d4f,_1d50){var _1d51=_1d43("Sage.TaskPane.User.ContactUserAssociationEditor",[_1d4c,_1d4d],{id:"dlgContactUserAssociation",actionType:false,_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_User:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1d50)),constructor:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;dojo.mixin(this,_1d44);if(this.actionType=="disassociate"){}},associationExists:function(_1d52,_1d53,_1d54,scope){this._setupStore();var _1d55=_1d4a.substitute("UserId eq '${0}' ",[_1d54.UserId]);this._contactUserStore.fetch({query:_1d55,onComplete:function(_1d56){if(_1d56&&_1d56.length>0){_1d53.call(scope,_1d56,_1d54);}else{_1d52.call(scope,_1d54);}},onError:function(){_1d52.call(scope,_1d54);},scope:this});},loadContactData:function(_1d57,_1d58,scope){if(!_1d57){return;}this._setupStore();var _1d59=_1d4a.substitute("ContactId in ['${0}'] ",[this._selectionInfo.join("','")]);this._contactUserStore.fetch({query:_1d59,onComplete:function(_1d5a){_1d58.call(scope,_1d5a);},onError:function(){_1d58.call(scope,null);},scope:this});this._contactUserStore.fetch({predicate:"'"+_1d57+"'",onComplete:function(_1d5b){_1d58.call(scope,_1d5b);},onError:function(){_1d58.call(scope,null);},scope:this});},setSelectionInfo:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;},show:function(){this._dialog.show();if(!this.lup_User){this.createContactLookup();}},createContactLookup:function(){this.contactLookupConfig={id:"_contactLookup",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupFirstNameColText,"field":"FirstName","sortable":true},{"name":this.lookupLastNameColText,"field":"LastName","sortable":true},{"name":this.lookupTitleColText,"field":"Title","sortable":true},{"name":this.lookupAccountColText,"field":"AccountName","sortable":true},{"name":this.lookupWorkPhoneColText,"field":"WorkPhone","sortable":true},{"name":this.lookupEmailText,"field":"Email","sortable":true}]}],gridOptions:{contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",sort:[{attribute:"LastName"}]},isModal:true,initialLookup:true,returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.btnOK_Caption};this.lup_Contact=new _1d4f({id:"lu_Contact",config:this.contactLookupConfig,style:"width:100%"});dojo.place(this.lup_Contact.domNode,this.contactLookup_Container.domNode,"only");},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1d46({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},_okClick:function(){var _1d5c=this.lup_Contact.selectedObject.$key;if(this._selectionInfo&&_1d5c){this._setupStore();if(this.actionType==="associate"){var _1d5d={"UserId":this._selectionInfo[0],"ContactId":_1d5c};this.associationExists(this._insertAssociation,function(){Sage.UI.Dialogs.showError(this.associationExistsMessage);},_1d5d,this);}else{if(this.actionType==="disassociate"){for(var i=0;i<this._selectionInfo.count;i++){}}}}},_insertAssociation:function(_1d5e,self){this._contactUserStore.saveNewEntity(_1d5e,this._successfulContactUserSave,this._failedContactUserSave,this);},_successfulContactUserSave:function(data){this._dialog.hide();},_failedContactUserSave:function(er){this._dialog.hide();},_close:function(){this._dialog.hide();}});return _1d51;});},"Sage/Data/SDataStore":function(){define("Sage/Data/SDataStore",["dojo/_base/declare","dojo/_base/lang"],function(_1d5f,lang){var _1d60=_1d5f("Sage.Data.SDataStore",null,{executeReadWith:"read",sort:null,where:null,select:null,include:null,request:null,queryName:null,resourceKind:null,resourcePredicate:null,collection:"$resources",expandRecurrences:null,constructor:function(o){lang.mixin(this,o);this.features={"dojo.data.api.Read":true};},_expandExpression:function(_1d61){if(typeof _1d61==="function"){return _1d61.apply(this,Array.prototype.slice.call(arguments,1));}else{return _1d61;}},_createRequest:function(_1d62){var query="",sort=(_1d62.sort?this._expandExpression(_1d62.sort):this.sort),_1d63=this._expandExpression(_1d62.select||this.select),_1d64=this._expandExpression(_1d62.include||this.include),_1d65=this._expandExpression(_1d62.request||this.request);if(_1d62.query){if(this.where){query=this._expandExpression(this.where+" and ("+_1d62.query+" )");}else{query=this._expandExpression(_1d62.query);}}else{query=this._expandExpression(this.where);}if(_1d65){_1d65=_1d65.clone();}else{var _1d66=this._expandExpression(_1d62.queryName||this.queryName),_1d67=this._expandExpression(_1d62.resourceKind||this.resourceKind),_1d68=this._expandExpression(_1d62.resourcePredicate||this.resourcePredicate);_1d65=_1d66?new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(_1d66):new Sage.SData.Client.SDataResourceCollectionRequest(this.service);if(_1d67){_1d65.setResourceKind(_1d67);}if(_1d68){_1d65.getUri().setCollectionPredicate(_1d68);}}if(_1d63&&_1d63.length>0){_1d65.setQueryArg("select",_1d63.join(","));}if(_1d64&&_1d64.length>0){_1d65.setQueryArg("include",_1d64.join(","));}if(query){_1d65.setQueryArg("where",query);}if(sort&&sort.length>0){var order=[];dojo.forEach(sort,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_1d65.setQueryArg("orderby",order.join(","));}if(typeof _1d62.start!=="undefined"){_1d65.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,_1d62.start+1);}if(typeof _1d62.count!=="undefined"){_1d65.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Count,_1d62.count);}if(this.expandRecurrences!==null){_1d65.uri.queryArgs["_expandRecurrences"]=this.expandRecurrences;}return _1d65;},fetch:function(_1d69){var _1d6a=this._createRequest(_1d69),_1d6b=lang.mixin({},_1d69);var _1d6c=_1d6a[this.executeReadWith]({success:lang.hitch(this,this._onFetchSuccess,_1d69,_1d6b),failure:lang.hitch(this,this._onFetchFailure,_1d69,_1d6b),httpMethodOverride:_1d69.queryOptions&&_1d69.queryOptions["httpMethodOverride"]});_1d6b["abort"]=lang.hitch(this,this._abortRequest,_1d6c);return _1d6b;},_abortRequest:function(_1d6d){this.service.abortRequest(_1d6d);},_onFetchSuccess:function(_1d6e,_1d6f,_1d70){if(_1d70){if(_1d70["$resources"]){_1d6f["feed"]=_1d70["$resources"];}else{_1d6f["entry"]=_1d70;}var items=lang.getObject(this.collection,false,_1d70)||[_1d70],size=_1d70["$resources"]?_1d70["$totalResults"]||-1:1;if(_1d6e.onBegin){_1d6e.onBegin.call(_1d6e.scope||this,size,_1d6f);}if(_1d6e.onItem){for(var i=0;i<items.length;i++){_1d6e.onItem.call(_1d6e.scope||this,items[i],_1d6f);}}if(_1d6e.onComplete){_1d6e.onComplete.call(_1d6e.scope||this,_1d6e.onItem?null:items,_1d6f);}}else{if(_1d6e.onError){_1d6e.onError.call(_1d6e.scope||this,"invalid feed",_1d6e);}}},_onFetchFailure:function(_1d71,_1d72,_1d73,_1d74){if(_1d71.onError){_1d71.onError.call(_1d71.scope||this,_1d73.responseText,_1d71);}},getValue:function(item,_1d75,_1d76){var value=lang.getObject(_1d75,false,item);return typeof value==="undefined"?_1d76:value;},getFeatures:function(){return this.features;}});return _1d60;});},"Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager":function(){define("Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_1d77,_1d78,_1d79,lang){var _1d7a=_1d79("Sage.MainView.ReportMgr.SchedulesSDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_1d7b){lang.mixin(this,_1d7b);this.requestHash={};this.fetching=false;var _1d7c=Sage.Services.getService("JobService");this.service=_1d7c.getSchedulingSDataService();},add:function(_1d7d,_1d7e){var _1d7f=this.requestHash[_1d7d];if((_1d7f)&&(_1d7f.id!==_1d7e.id)){if(!_1d7f.duplicates){_1d7f.duplicates=[];}var found=false;for(var i=0;i<_1d7f.duplicates.length;i++){if(_1d7f.duplicates[i].context.id===_1d7e.id){found=true;}}if(!found){_1d7f.duplicates.push({id:_1d7e.id,context:_1d7e});}}else{this.requestHash[_1d7d]=_1d7e;}},send:function(_1d80,_1d81){this.fetching=true;var _1d82=this;var _1d83=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_1d83.setResourceKind(this.resourceKind);for(var id in this.requestHash){_1d83.setResourceSelector("'"+id+"'");}_1d83.setQueryArg("include",this.include.join(","));_1d83.read({success:lang.hitch(_1d81,_1d80,_1d82),failure:lang.hitch(this,this.requestFailed,_1d82)});},requestFailed:function(a,b,c){}});var _1d84=_1d79("Sage.MainView.ReportMgr.SchedulesSDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _1d7a();this.requestTimeout=false;},requestDataNoWait:function(_1d85,_1d86,_1d87){var _1d88=new _1d7a();if(_1d87.keyField){this.keyField=_1d87.keyField;}_1d88.select=_1d87.select;_1d88.resourceKind=_1d87.resourceKind;_1d88.serviceName=_1d87.serviceName;_1d88.include=_1d87.include;_1d88.useBatchRequest=_1d87.useBatchRequest;if(_1d87.expandRecurrences!==null){_1d88.expandRecurrences=_1d87.expandRecurrences;}_1d88.add(_1d85,_1d86);_1d88.send(this.receiveData,this);},receiveData:function(_1d89,data){var _1d8a=data;var id=_1d8a.id;if(!id){id=_1d8a[this.keyField];_1d8a.id=id;}var _1d8b=_1d89.requestHash[_1d8a.id];if(_1d8b){try{if(!_1d8b.applied){_1d8b.applied=true;_1d8b.set("entity",_1d8a);}}catch(err){console.error(err);}}}});return _1d84;});},"Sage/Data/main":function(){define("Sage/Data/main",["Sage/Data/BaseSDataStore","Sage/Data/GroupLayoutSingleton","Sage/Data/WritableStore","Sage/Data/ProxySDataStore","Sage/Data/QBTreeStoreModel","Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","Sage/Data/SingleEntryPropertySDataStore","Sage/Data/SingleEntrySDataStore","Sage/Data/SummaryViewDataManager","Sage/Data/WritableSDataStore"],function(){});},"Sage/QuickForms/Design/Editors/nls/CurrencyAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CurrencyAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1d8c,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayCurrencyCodeText:"Display Exchange Rate Code:",displayCurrencyCodeTooltipText:"Show the three character currency code when multi-currency is enabled.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",exchangeRateTypeText:"Exchange Rate Type:",exchangeRateTypeTooltipText:"Type of exchange rate to show in currency fields.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",displayTypeText:{AsHyperlink:"As Hyperlink",AsControl:"As Control",AsText:"As Text"},exchangeTypeText:{BaseRate:"Base Rate",OpportunityRate:"Opportunity Rate (Deprecated)",MyRate:"My Rate",SalesOrderRate:"Sales Order Rate (Deprecated)",EntityRate:"Entity Rate"},labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_1d8c,nls);});},"Sage/TaskPane/nls/ReportManagerTasksTasklet":function(){define("Sage/TaskPane/nls/ReportManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1d8d,lang){var nls={root:{taskRunReport_Caption:"Run Report",taskScheduleReport_Caption:"Schedule Report",taskDeleteReport_Caption:"Delete Report",taskDeleteSchedule_Caption:"Delete Schedule",taskEditSchedule_Caption:"Edit Schedule",taskDeleteHistory_Caption:"Delete History",txtRecordsSelected:"record(s) selected",txtClear:"Clear"}};return lang.mixin(_1d8d,nls);});},"Sage/UI/nls/SLXPreviewGrid":function(){define("Sage/UI/nls/SLXPreviewGrid",["Sage/LanguageList","dojo/_base/lang"],function(_1d8e,lang){var nls={root:{applyText:"Apply",resetText:"Reset",filterText:"Filter"}};return lang.mixin(_1d8e,nls);});},"Sage/TaskPane/ReportManagerTasksTasklet":function(){define("Sage/TaskPane/ReportManagerTasksTasklet",["dojo/_base/declare","dojo/i18n!./nls/ReportManagerTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneItem","dojo/_base/array","dojo/string","dijit/_Widget","Sage/_Templated"],function(_1d8f,_1d90,_1d91,_1d92,_1d93,_1d94,_1d95,_1d96){var _1d97=_1d8f("Sage.TaskPane.ReportManagerTasksTasklet",[_1d91,_1d95,_1d96],{nlsResources:_1d90,taskItems:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div dojoAttachPoint=\"taskletContainerNode\" class=\"task-pane-item-common-tasklist\">","<span id=\"selectionCount\" class=\"task-pane-item-common-selectionText\">0</span>&nbsp;<span id=\"selectionText\">"+_1d90.txtRecordsSelected+"</span><br>","<a id=\"clearSelection\" href=\"#\" class=\"task-pane-item-common-clearselection\" dojoAttachEvent=\"click:_clearSelection\">"+_1d90.txtClear+"</a><br>","<hr>","<div dojoAttachPoint=\"divTaskItems\">","{% for (var i = 0; i < $.taskItems.length; i++) { ","var task = $.taskItems[i]; %}","<div data-dojo-type=\"Sage.TaskPane.TaskPaneItem\" linkText=\"{%= task.displayName %}\" securedAction=\"{%= task.securedAction %}\" action=\"javascript: {%= task.clientAction %}\"></div>","<br />","{% } %}","</div>","</div>"]),constructor:function(){this.taskItems=this._getTaskItems();dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged);dojo.subscribe("/sage/ui/list/selectionChanged",function(_1d98){var _1d99=dojo.byId("selectionCount");if(_1d99){_1d99.innerHTML=_1d98.getTotalSelectionCount();}});},_getTaskItems:function(){var _1d9a=[];var _1d9b=this._getCurrentGroupId();switch(_1d9b){case "reports":_1d9a=this._getReportsTasks();break;case "schedules":_1d9a=this._getSchedulesTasks();break;case "history":_1d9a=this._getHistoryTasks();break;}return _1d9a;},_onGroupContextChanged:function(){var self=this;dojo.empty(self.divTaskItems);var _1d9c=this._getTaskItems();if(_1d9c){_1d93.forEach(_1d9c,function(_1d9d,i){dojo.place(_1d94.substitute("<div dojotype=\"Sage.TaskPane.TaskPaneItem\" class=\"task-pane-item-common-tasklist\" linkText=\"${0}\" securedAction=\"${1}\" action=\"javascript: ${2}\"></div><br />",[_1d9d.displayName,_1d9d.securedAction,_1d9d.clientAction]),self.divTaskItems);});}dojo.parser.parse(self.taskletContainerNode);},_clearSelection:function(){var _1d9e=dijit.byId("list");if(_1d9e){_1d9e._listGrid.selection.clear();}},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _1d9f=svc.getContext();return _1d9f.CurrentGroupID;},_getReportsTasks:function(){var _1da0=[{taskId:"taskRunReport",type:"Link",displayName:this.nlsResources.taskRunReport_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.runReport();",securedAction:"Entities/ReportManager/RunReport"},{taskId:"taskScheduleReport",type:"Link",displayName:this.nlsResources.taskScheduleReport_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.scheduleReport();",securedAction:"Entities/ReportManager/ScheduleReport"}];return _1da0;},_getSchedulesTasks:function(){var _1da1=[{taskId:"taskEditSchedule",type:"Link",displayName:this.nlsResources.taskEditSchedule_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.editSchedule();",securedAction:"Entities/ReportManager/EditSchedule"},{taskId:"taskDeleteSchedule",type:"Link",displayName:this.nlsResources.taskDeleteSchedule_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.deleteSchedule();",securedAction:"Entities/ReportManager/DeleteSchedule"}];return _1da1;},_getHistoryTasks:function(){var _1da2=[{taskId:"taskDeleteHistory",type:"Link",displayName:this.nlsResources.taskDeleteHistory_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.deleteHistory();",securedAction:"Entities/ReportManager/DeleteHistory"}];return _1da2;}});return _1d97;});},"Sage/Groups/GroupContextService":function(){define("Sage/Groups/GroupContextService",["Sage/Utility","dojo/string","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/_base/lang","dojo/_base/declare","dojo/_base/array"],function(_1da3,_1da4,_1da5,ready,lang,_1da6,array){var _1da7=_1da6("Sage.Groups.GroupContextService",null,{_adHocGroupList:null,_connects:null,_subscribes:null,_emptyContext:null,_currentRequestHandle:null,_isAdHocGroupListRetrieved:false,constructor:function(){this._connects=[];this._subscribes=[];this._adHocGroupList=[];this._emptyContext={DefaultGroupID:null,CurrentGroupID:null,CurrentTable:null,CurrentName:null,CurrentEntity:null,CurrentFamily:null};this._isAdHocGroupListRetrieved=false;this._subscribes.push(dojo.subscribe(_1da4.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));ready(lang.hitch(this,function(){if(!this.isContextRequired()){var _1da8=_1da3.getValue(window,"Sage.Groups._groupContext"),_1da9=_1da3.getValue(window,"Sage.UI.DataStore.Filters");if(_1da9){if(_1da8["AppliedFilterInfo"]){_1da9["default"]=this.createFilterExtendedSet(_1da8["AppliedFilterInfo"]);}}}if(this.isContextRequired()){this.requestContext();}}));},createFilterExtendedSet:function(_1daa){var _1dab=_1daa["definitionSet"]||[],_1dac=_1daa["applied"]||[],_1dad={},_1dae={},_1daf,_1db0,i,j,value;for(i=0;i<_1dab.length;i++){_1daf=_1dab[i];_1db0={"$key":_1daf["id"],"$partial":true,"filterName":_1daf["filterName"],"displayName":_1daf["displayName"],"propertyName":_1daf["propertyName"],"propertyDataTypeId":_1daf["propertyDataTypeId"],"details":{}};if(_1daf["filterType"]=="rangeFilter"){_1db0["details"]["rangeFilter"]={"characters":_1daf["characters"]};}if(_1daf["filterType"]=="lookupFilter"){_1db0["details"]["lookupFilter"]={};}else{_1db0["details"]["distinctFilter"]={};}_1dad[_1daf["id"]]=_1db0;}for(i=0;i<_1dac.length;i++){_1daf=_1dac[i];_1db0={};for(j=0;j<_1daf["rangeValues"].length;j++){value=_1daf["rangeValues"][j];_1db0[value["rangeName"]]=lang.mixin({},value);}for(j=0;j<_1daf["distinctValues"].length;j++){value=_1daf["distinctValues"][j];if(typeof value==="string"){_1db0[value]=value;}}for(j=0;j<_1daf["lookupValues"].length;j++){var _1db1=_1daf["lookupValues"][j];_1db0["value"]=_1db1;}_1dae[_1daf["id"]]=_1db0;}return {"definitionSet":_1dad,"applied":_1dae};},destroy:function(){array.forEach(this._connects,function(_1db2){dojo.disconnect(_1db2);});this.unsubscribeConnects();this.uninitialize();},unsubscribeConnects:function(){array.forEach(this._subscribes,function(_1db3){dojo.unsubscribe(_1db3);});},uninitialize:function(){},isContextRequired:function(){var _1db4=!(Sage&&Sage.Groups&&Sage.Groups._groupContext);return _1db4;},createCompatibleContext:function(_1db5){if(_1db5["currentGroupId"]=="LOOKUPRESULTS"){_1db5["currentName"]="Lookup Results";}var _1db6={"AppliedFilterInfo":_1db5["appliedFilterInfo"],"ContainsPositionState":_1db5["containsPositionState"],"CurrentDisplayName":_1db5["currentDisplayName"],"CurrentEntity":_1db5["currentEntity"],"CurrentEntityID":_1db5["currentEntityId"],"CurrentEntityPosition":_1db5["currentEntityPosition"],"CurrentFamily":_1db5["currentFamily"],"CurrentGroupCount":_1db5["currentGroupCount"],"CurrentGroupID":_1db5["currentGroupId"],"CurrentName":_1db5["currentName"],"CurrentTable":_1db5["currentTable"],"CurrentTableKeyField":_1db5["currentTableKeyField"],"DefaultGroupID":_1db5["defaultGroupId"],"FirstEntityID":_1db5["firstEntityId"],"LastEntityID":_1db5["lastEntityId"],"LookupLayoutGroupName":_1db5["lookupLayoutGroupName"],"NextEntityID":_1db5["nextEntityId"],"PreviousEntityID":_1db5["previousEntityId"],"RetrievedOn":_1db5["retrievedOn"],"isAdhoc":_1db5["isAdHoc"]};if(!_1db5["appliedFilterInfo"]){delete _1db6.AppliedFilterInfo;}return _1db6;},_onDefaultFilterRefresh:function(_1db7,_1db8,_1db9){var _1dba=this.getContext(),_1dbb=_1da5.getSDataService("system"),entry={"$name":"applyFilterToGroup","request":{"groupId":_1dba["CurrentGroupID"],"filter":dojo.toJson(_1db9.createValueSet())}};if((_1dba["CurrentGroupID"]===null)||(_1dba["CurrentGroupID"]==="")){return;}var _1dbc=new Sage.SData.Client.SDataServiceOperationRequest(_1dbb).setOperationName("applyFilterToGroup");_1dbc.execute(entry,{});},getContext:function(){var _1dbd=Sage&&Sage.Groups&&Sage.Groups._groupContext;if(_1dbd){return _1dbd;}if(this.isContextRequired()){this.requestContext();}return this._emptyContext;},requestContext:function(_1dbe){if(this._currentRequestHandle){return;}var _1dbf=_1da5.getSDataService("system"),_1dc0=new Sage.SData.Client.SDataServiceOperationRequest(_1dbf).setOperationName("getGroupContext");this._currentRequestHandle=_1dc0.execute({},{success:this._onRequestContextSuccess,failure:this._onRequestContextFailure,scope:this});},_onRequestContextSuccess:function(entry){var _1dc1=entry&&entry["response"];if(_1dc1){this.setContext(this.createCompatibleContext(_1dc1));}this._currentRequestHandle=null;},_onRequestContextFailure:function(_1dc2,o){this._currentRequestHandle=null;},setContext:function(_1dc3){var _1dc4=Sage&&Sage.Groups;if(_1dc4&&_1dc3){lang.mixin(_1dc4._groupContext,_1dc3);this.onContextSet(_1dc4._groupContext);}},setCurrentGroup:function(_1dc5,_1dc6){var _1dc7=this.getContext();if(_1dc7&&(_1dc7["CurrentGroupID"]===_1dc5)){if(_1dc5==="LOOKUPRESULTS"){_1dc7["currentName"]="Lookup Results";this.onCurrentGroupChanged({current:_1dc7});}return;}if(_1dc5.length===12||_1dc5==="LOOKUPRESULTS"){var _1dc8=_1da5.getSDataService("system"),_1dc9=new Sage.SData.Client.SDataServiceOperationRequest(_1dc8).setOperationName("setGroupContext"),entry={request:{"currentGroupId":_1dc5,"currentName":"","currentFamily":""}};_1dc9.execute(entry,{success:this._onSetContextRequestSuccess,failure:this._onSetContextRequestFailure,scope:this});}},_onSetContextRequestSuccess:function(entry){var _1dca=entry&&entry["response"],_1dcb=_1dca&&this.createCompatibleContext(_1dca);if(_1dcb){this.setContext(_1dcb);}this.onCurrentGroupChanged({current:_1dcb});},_onSetContextRequestFailure:function(_1dcc,o){},onSuccessfulGroupChanged:function(data){var _1dcd=this.getContext();this.setContext(data);this.onCurrentGroupChanged({current:data,previous:_1dcd});},onCurrentGroupChanged:function(_1dce){dojo.publish("/group/context/changed",[_1dce,this]);if(_1dce["current"]["AppliedFilterInfo"]){this.publishFiltersApplied(_1dce["current"]["AppliedFilterInfo"]);}},publishFiltersApplied:function(_1dcf){if(_1dcf){ready(lang.hitch(this,function(){var _1dd0=this.createFilterExtendedSet(_1dcf),_1dd1=_1da3.getValue(window,"Sage.UI.DataStore.Filters");_1dd1["default"]=_1dd0;dojo.publish("/ui/filters/default/apply",[_1dd0["applied"],_1dd0["definitionSet"],this]);}));}},onContextSet:function(_1dd2){if(_1dd2&&_1dd2["AppliedFilterInfo"]){this.publishFiltersApplied(_1dd2["AppliedFilterInfo"]);}},getAdHocGroupList:function(_1dd3,_1dd4){if(this._isAdHocGroupListRetrieved){_1dd3.call(_1dd4||this,this._adHocGroupList);return;}var store=new Sage.Data.BaseSDataStore({service:_1da5.getSDataService("system"),resourceKind:"groups",include:[],select:["name","family","isHidden","isAdHoc","mainTable","keyField","entityName"]});Sage.Groups._groupContext.CurrentFamily=Sage.Groups._groupContext.CurrentFamily.toUpperCase();store.fetch({query:dojo.string.substitute("upper(family) eq '${CurrentFamily}' and isAdHoc",Sage.Groups._groupContext),count:1000,sort:[{attribute:"name"}],start:0,onComplete:function(data){this._adHocGroupList=data;_1dd3.call(_1dd4||this,this._adHocGroupList);this._isAdHocGroupListRetrieved=true;},scope:this});}});Sage.Services.addService("ClientGroupContext",new _1da7());return _1da7;});},"Sage/UI/Alarms/nls/UnconfirmedPane":function(){define("Sage/UI/Alarms/nls/UnconfirmedPane",["Sage/LanguageList","dojo/_base/lang"],function(_1dd5,lang){var nls={root:{showConfirmationsText:"Show Confirmations",showCalendarText:"Show Calendar",acceptText:"Accept",declineText:"Decline"}};return lang.mixin(_1dd5,nls);});},"Sage/_ActionMixin":function(){define("Sage/_ActionMixin",["dojo/NodeList-traverse","dojo/_base/declare"],function(_1dd6,_1dd7){var _1dd8=_1dd7("Sage._ActionMixin",null,{actionsFrom:"click",postCreate:function(){dojo.forEach(this.actionsFrom.split(","),function(event){this.connect(this.domNode,event,this._initiateActionFromEvent);},this);},_isValidElementForAction:function(el){var _1dd9=this.domNode.contains?this.domNode!=el&&this.domNode.contains(el):!!(this.domNode.compareDocumentPosition(el)&&16);return (this.domNode===el)||_1dd9;},_initiateActionFromEvent:function(evt){var el=dojo.query(evt.target).closest("[data-action]")[0],_1dda=el&&dojo.attr(el,"data-action");if(_1dda&&this._isValidElementForAction(el)&&this._hasAction(_1dda,evt,el)){var _1ddb=this._getParametersForAction(_1dda,evt,el);this._invokeAction(_1dda,_1ddb,evt,el);dojo.stopEvent(evt);}},_getParametersForAction:function(name,evt,el){var _1ddc={$event:evt,$source:el};for(var i=0,_1ddd=el.attributes.length;i<_1ddd;i++){var _1dde=el.attributes[i].name;if(/^((?=data-action)|(?!data))/.test(_1dde)){continue;}var _1ddf=_1dde.substr("data-".length).replace(/-(\w)(\w+)/g,function($0,$1,$2){return $1.toUpperCase()+$2;});_1ddc[_1ddf]=dojo.attr(el,_1dde);}return _1ddc;},_hasAction:function(name,evt,el){return (typeof this[name]==="function");},_invokeAction:function(name,_1de0,evt,el){return this[name].apply(this,[_1de0,evt,el]);}});return _1dd8;});},"Sage/Services/ClientContextService":function(){define("Sage/Services/ClientContextService",["dojo/_base/declare"],function(_1de1){var _1de2=_1de1("Sage.Services.ClientContextService",null,{contextDataFieldId:false,_items:[],_watches:[],constructor:function(opts){dojo.mixin(this,opts);this.load();},_toItemLiteral:function(key,value){var _1de3={};_1de3.itemKey=key;_1de3.itemVal=value;return _1de3;},_indexOf:function(key){for(var i=0;i<this._items.length;i++){if(this._items[i].itemKey==key){return i;}}return -1;},_indexOfNoCase:function(key){for(var i=0;i<this._items.length;i++){if(this._items[i].itemKey.toUpperCase()==key.toUpperCase()){return i;}}return -1;},_throwKeyNotFound:function(key){throw "Entry Not Found: "+key;},_throwDuplicateKey:function(key){throw "Entry Already Exists: "+key;},add:function(key,value){if(this._indexOf(key)===-1){var lit=this._toItemLiteral(key,value);this._items.push(lit);this.save();}else{this._throwDuplicateKey(key);}},remove:function(key){var index=this._indexOf(key);if(index!==-1){this._items.splice(index,1);this.save();}},setValue:function(key,value){var index=this._indexOf(key);if(index!==-1){this._items[index].itemVal=value;this.save();}else{this._throwKeyNotFound(key);}},getValue:function(key){var index=this._indexOf(key);if(index!==-1){return decodeURIComponent(this._items[index].itemVal);}else{this._throwKeyNotFound(key);}},getValueEx:function(key,_1de4){var index;if(_1de4){index=this._indexOfNoCase(key);}else{index=this._indexOf(key);}if(index!==-1){return decodeURIComponent(this._items[index].itemVal);}else{this._throwKeyNotFound(key);}},clear:function(){this._items=[];this.save();},containsKey:function(key){return (this._indexOf(key)!==-1);},containsKeyEx:function(key,_1de5){if(_1de5){return (this._indexOfNoCase(key)!==-1);}else{return (this._indexOf(key)!==-1);}},getCount:function(){return this._items.length;},hasKeys:function(){return this._items.length===0;},getKeys:function(){var _1de6=[],i;for(i=0;i<this._items.length;i++){_1de6.push(this._items[i].itemKey);}return _1de6;},valueAt:function(index){if(this._items[index]){return decodeURIComponent(this._items[index].itemVal);}else{return null;}},keyAt:function(index){this.load();if(this._items[index]){return this._items[index].itemKey;}else{return null;}},getValues:function(){var _1de7=[],i;for(i=0;i<this._items.length;i++){_1de7.push(decodeURIComponent(this._items[i].itemVal));}return _1de7;},save:function(hours){var data=document.getElementById(this.contextDataFieldId);if(data){data.value=this.toString();}else{alert("can't find context data field");}},load:function(){var data=document.getElementById(this.contextDataFieldId);if(data){if(data.value){this.fromString(data.value);}}},toString:function(){var str="",i;for(i=0;i<this._items.length;i++){str+=this._items[i].itemKey+"="+encodeURIComponent(this._items[i].itemVal);if(i!==this._items.length-1){str+="&";}}return str;},fromString:function(_1de8){this._items=[];if(_1de8!==""){var items=_1de8.split("&"),i;for(i=0;i<items.length;i++){var pair=items[i].split("=");this._items.push(this._toItemLiteral(pair[0],decodeURIComponent(pair[1])));}}this.save();}});return _1de2;});},"Sage/QuickForms/Design/TextBoxControlDesigner":function(){define("Sage/QuickForms/Design/TextBoxControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/TextBoxControlDesigner"],function(_1de9,array,lang,_1dea,_1deb,_1dec,_1ded,_1dee,_1def,_1df0,_1df1){return _1de9("Sage.QuickForms.Design.TextBoxControlDesigner",[_1deb,_1dec,_1dea,_1ded],{designSupport:{visible:true},editors:[_1def,_1df0,_1dee],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-textbox",helpTopicName:"Textbox_control",quickFormControlType:"Sage.Platform.QuickForms.Controls.QFTextBox, Sage.Platform.QuickForms",displayNameText:"TextBox",constructor:function(){lang.mixin(this,_1df1);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1df2){return (_1df2["ControlItemName"]=="Text");});},_getLinesAttr:function(){return lang.getObject("Lines",false,this.entry);},_setLinesAttr:function(value){lang.setObject("Lines",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_1df3){this.inherited(arguments);this.set("lines",1);this.set("maxLength",parseInt(_1df3["data"].length,10)||-1);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_1df3.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1df3.propertyPath||"");},startup:function(){this.inherited(arguments);var _1df4=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1df4&&_1df4["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Utility/File/DragDropWatcher":function(){define("Sage/Utility/File/DragDropWatcher",["Sage/UI/Dialogs","Sage/Utility/File","dojo/string","dojo/i18n!./nls/DragDropWatcher","dojo/has","dojo/_base/sniff"],function(_1df5,_1df6,_1df7,_1df8,has,_1df9){Sage.namespace("Utility.File.DragDropWatcher");Sage.Utility.File.DragDropWatcher={gearsDesktop:false,allowdDetailDrop:false,allowdListDrop:false,init:function(_1dfa){Sage.Utility.File.DragDropWatcher.allowdDetailDrop=_1dfa.allowDetailDragDrop;Sage.Utility.File.DragDropWatcher.allowdListDrop=_1dfa.allowListDragDrop;if(Sage.gears){this.desktop=Sage.gears.factory.create("beta.desktop");if(has("ie")<11){dojo.connect(dojo.body(),"ondragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"ondragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"ondragleave",this.handleGearsDragLeave);if(has("ie")<9){dojo.connect(dojo.body(),"ondrop",this.handleGearsFileDrop);}else{dojo.body().attachEvent("ondrop",this.handleGearsFileDrop);}}else{dojo.connect(dojo.body(),"dragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"dragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"dragleave",this.handleGearsDragLeave);dojo.connect(dojo.body(),"drop",this.handleGearsFileDrop);}}else{if(_1df6.supportsHTML5File){dojo.connect(dojo.body(),"dragenter",this.handleDragEnter);dojo.connect(dojo.body(),"dragover",this.handleDragOver);dojo.connect(dojo.body(),"dragleave",this.handleDragLeave);dojo.connect(dojo.body(),"drop",this.handleFileDrop);}else{if(has("ie")<11){dojo.connect(dojo.body(),"ondragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"ondragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"ondragleave",this.handleGearsDragLeave);if(has("ie")<9){dojo.connect(dojo.body(),"ondrop",this.handleFileDropNotSupported);}else{dojo.body().attachEvent("ondrop",this.handleFileDropNotSupported);}}else{dojo.connect(dojo.body(),"dragenter",this.handleDragEnter);dojo.connect(dojo.body(),"dragover",this.handleDragOver);dojo.connect(dojo.body(),"dragleave",this.handleDragLeave);dojo.connect(dojo.body(),"drop",this.handleFileDropNotSupported);}}}},handleDragEnter:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleDragLeave:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleDragOver:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleFileDrop:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,true);var allow=Sage.Utility.File.DragDropWatcher._AllowDragDrop();if(!allow){return;}var files=e.dataTransfer.files;if(files&&files.length>0){if(_1df6.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,e.target);Sage.Utility.File.DragDropWatcher.finishDrag(e,false);}}else{if(Sage.gears){var _1dfb=Sage.gears.factory.create("beta.desktop");var data=_1dfb.getDragData(e,"application/x-gears-files");files=data&&data.files;if(files&&files.length>0){if(_1df6.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,e.target);Sage.Utility.File.DragDropWatcher.finishDrag(e,false);}}}}},finishDrag:function(e,_1dfc){var evt=e||window.event;if(!evt||typeof evt==="undefined"){return;}if(typeof (this.desktop)!=="undefined"){this.desktop.setDropEffect(evt,"copy");}if(dojo.isFF){if(_1dfc||_1df6.supportsHTML5File){evt.stopPropagation();evt.preventDefault();}}else{if(has("ie")||dojo.isSafari||dojo.isChrome){if(!_1dfc){if(typeof evt.stopPropagation==="function"){evt.stopPropagation();}if(typeof evt.preventDefault==="function"){evt.preventDefault();}else{evt.returnValue=false;}}}}},handleGearsDragEnter:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsDragLeave:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsDragOver:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsFileDrop:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,true);var allow=Sage.Utility.File.DragDropWatcher._AllowDragDrop();if(!allow){return;}var data=Sage.Utility.File.DragDropWatcher.desktop.getDragData(e,"application/x-gears-files");var _1dfd=e.target;if(!_1dfd){_1dfd=e.srcElement;}var files=data&&data.files;if(files&&files.length>0){if(Sage.Utility.File.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,_1dfd);}}},onFilesDropped:function(files,_1dfe){},_AllowDragDrop:function(){var _1dff=Sage.Utility.getPageName();var _1e00=Sage.Utility.getModeId();if(_1e00!=="detail"){var _1e01=Sage.Services.getService("ClientEntityContext");if(_1e01){var _1e02=_1e01.getContext();if(_1e02){if(_1e02.EntityType==="Sage.Entity.Interfaces.IActivity"){return true;}if(_1e02.EntityType==="Sage.Entity.Interfaces.IHistory"){return true;}}}_1dff=_1dff.substring(0,_1dff.indexOf("."));if(_1dff==="Library"){return true;}if(Sage.Utility.File.DragDropWatcher.allowdListDrop){return true;}return false;}else{if(Sage.Utility.File.DragDropWatcher.allowdDetailDrop){return true;}return false;}},handleFileDropNotSupported:function(e){var _1e03=_1df8.query0||"The feature you are requesting requires the Saleslogix Desktop <br> Integration Module.";var _1e04=_1df8.query1||"Find out more...";var _1e05=_1df8.query2||"Would you like to install this feature now?";var _1e06=_1df8.query3||"Note: This module can be installed at any time from the logon or options pages.";var url=Sage.Link.getHelpUrl("desktopintegration");var html=_1df7.substitute("<table><tr><td><span> ${0} <a href=\"${1}\">${2}</a><br><br>${3}<br><br><font style=\"font-style:italic\">${4}<font></span></td></tr></table>",[_1e03,url,_1e04,_1e05,_1e06]);var _1e07={title:"Saleslogix",query:html,callbackFn:function(_1e08){if(_1e08){Sage.installDesktopFeatures();}},yesText:null,noText:null,icon:"infoIcon",showNoButton:true};_1df5.raiseQueryDialogExt(_1e07);}};return Sage.Utility.File.DragDropWatcher;});},"url:Sage/UI/Controls/templates/PersonName.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table width=\"100%\">\r\n            <tr>\r\n                <td><label>{%= $.prefixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Prefix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\" \r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Prefix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NamePrefix %}\" \r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameFirstText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-First\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameFirst %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameMiddleText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Middle\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameMiddle %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameLastText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Last\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameLast %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.suffixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Suffix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Suffix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NameSuffix %}\"\r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>\r\n","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px;\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"height: 300px\">\r\n                \r\n                <div>\r\n                    <table cellspacing=\"5\">\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtShowRecordsThatMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionPresets\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionPresets_OnChange\" style=\"width:150px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>                   \r\n                        <tr dojoAttachPoint=\"trConnector\" class=\"display-none\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConnector\" style=\"width:150px\" >\r\n                                    <option value=\"Or\">{%= $._nlsResources.txtAny %}</option>\r\n                                    <option value=\"And\">{%= $._nlsResources.txtAll %}</option>\r\n                                </select>\r\n                                <label>&nbsp;{%= $._nlsResources.txtOfTheFollowingConditions %}</label>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div dojoType=\"dijit.Toolbar\" dojoAttachPoint=\"tbConditions\" region=\"top\" splitter=\"false\" class=\"right-tools\" >\r\n                    <span dojoType=\"Sage.UI.ImageButton\" icon=\"{%= $._btnPlusIconPath %}\" title=\"{%= $._nlsResources.btnAddCondition_Caption %}\" dojoAttachEvent=\"onClick:_btnAddCondition_Click\" dojoAttachPoint=\"btnAddCondition\"></span>\r\n                </div>                                  \r\n                \r\n                <div id=\"divGrdCrystalConditions\" style=\"width:100%; height:200px; overflow:auto\" >            \r\n                    <table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdCrystalConditions\" id=\"grdCrystalConditions\" formatterScope=\"Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter\">\r\n                        <thead>\r\n                            <th field=\"conditionType\" width=\"60px\" formatter=\"formatConditionType\" >{%= $._nlsResources.grdCrystalConditions_ConditionType_Caption %}</th>\r\n                            <th field=\"table\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_TableName_Caption %}</th>\r\n                            <th field=\"field\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_FieldName_Caption %}</th>\r\n                            <th field=\"operator\" formatter=\"formatOperator\" width=\"50px\">{%= $._nlsResources.grdCrystalConditions_Operator_Caption %}</th>\r\n                            <th field=\"_item\" formatter=\"formatConditionValue\" width=\"125px\">{%= $._nlsResources.grdCrystalConditions_Value_Caption %}</th>\r\n                            <th field=\"value\" formatter=\"formatEditCondition\" width=\"40px\">&nbsp;</th>\r\n                            <th field=\"_item\" formatter=\"formatDeleteCondition\" width=\"40px\">&nbsp;</th>\r\n                        </thead>\r\n                    </table>\r\n                </div>               \r\n\r\n            </div>\r\n\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" style=\"display:none\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog",["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/store/Memory","dojo/data/ObjectStore","dojo/data/ItemFileWriteStore","dojo/text!./templates/CrystalReportConditionsDialog.html","dojo/i18n!./nls/CrystalReportConditionsDialog","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter","dijit/Dialog","dijit/form/Form","Sage/Utility"],function(_1e09,_1e0a,topic,_1e0b,_1e0c,_1e0d,_1e0e,_1e0f,_1e10,_1e11,_1e12,_1e13,_1e14,_1e15,_1e16,Form,_1e17){var _1e18=_1e17.makeTemplateFromString(_1e0e);var _1e19=_1e09("Sage.MainView.ReportMgr.Crystal.CrystalReportConditionsDialog",[_1e14],{id:"dlgCrystalReportConditions",widgetTemplate:_1e18,_nlsResources:_1e0f,_helpIconTopic:"RptscheduleWiz",_subscriptions:null,_reportFilters:null,_conditionOptions:null,_conditionsCollection:null,_currentStep:_1e10.CrystalReportWizardStep.Conditions,constructor:function(_1e1a){this._subscriptions=[];this._conditionsCollection=[];this._initializeWizardOptions(_1e1a);this._conditionOptions=_1e1a.conditionOptions;if(!this._conditionOptions.conditionsConnector){this._conditionOptions.conditionsConnector=_1e10.ReportConditionConnector.And;}var self=this;if(this._conditionOptions.conditions){_1e0a.forEach(this._conditionOptions.conditions,function(_1e1b,i){self._addNewCondition(_1e1b);});}this._reportFilters=dojo.clone(this._reportMetadata.reportFilters);this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/createCondition",function(_1e1c){self._addNewCondition(_1e1c);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/updateCondition",function(_1e1d){self._updateCondition(_1e1d);}));},destroy:function(){this.grdCrystalConditions.destroy();_1e0a.forEach(this._subscriptions,function(_1e1e,i){_1e1e.remove();});this._dialog.destroyRecursive();this.inherited(arguments);},startup:function(){this.inherited(arguments);this._initializeConditionsGrid();this._initializeConditionPresets();if(this._conditionOptions.conditions.length>0){this.cmbConditionPresets.attr("value",_1e10.ConditionPreset.Custom);}if(this._conditionOptions.conditionsConnector){this.cmbConnector.attr("value",this._conditionOptions.conditionsConnector);}},_btnAddCondition_Click:function(){var _1e1f=new _1e13(null,this._reportMetadata);_1e1f.show();},_cmbConditionPresets_OnChange:function(value){var _1e20=this._getSelectedPreset();this._setConditionsVisibility(_1e20);this._showPreset(_1e20);},_addNewCondition:function(_1e21){_1e21._id=this._getConditionId();this._conditionsCollection.push(_1e21);this._refreshConditionsGrid();},_updateCondition:function(_1e22){var self=this;_1e0a.some(this._conditionsCollection,function(entry,i){if(entry._id===_1e22._id){self._conditionsCollection[i]=_1e22;return true;}});this._refreshConditionsGrid();},_initializeConditionPresets:function(){var items=[{value:_1e10.ConditionPreset.AllRecords,caption:_1e0f.txtAllRecords,tag:_1e10.ConditionPreset.AllRecords},{value:_1e10.ConditionPreset.Custom,caption:_1e0f.txtSpecificConditions,tag:_1e10.ConditionPreset.Custom}];var _1e23=null;var _1e24=_1e12.getCurrentUserCondition();if(_1e24&&this._reportMetadata.useUserFilter){_1e23={name:_1e0f.txtCurrentUser,id:_1e10.ConditionPreset.CurrentUser,filterConditions:[_1e24]};this._reportFilters.unshift(_1e23);}_1e24=_1e12.getCurrentEntityCondition();if(_1e24){var _1e25=_1e11.getCurrentEntityContext();_1e23={name:"["+_1e25.Description+"]",id:_1e10.ConditionPreset.CurrentEntity,filterConditions:[_1e24]};this._reportFilters.unshift(_1e23);}_1e0a.forEach(this._reportFilters,function(_1e26,i){items.push({value:_1e26.id,caption:_1e26.name,tag:_1e10.ConditionPreset.Preset});});var data={identifier:"value",label:"caption",items:items};var store=new _1e0d({data:data});this.cmbConditionPresets.setStore(store);this.cmbConditionPresets.startup();},_initializeConditionsGrid:function(){var data={identifier:"_id",items:this._conditionsCollection};var store=new _1e0c({objectStore:new _1e0b({data:data})});this.grdCrystalConditions.setStore(store);},_getDialogTitle:function(){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";},_getWizardStepResult:function(){this._conditionOptions.conditions=this._getConditions();this._conditionOptions.conditionsConnector=this.cmbConnector.value;return this._conditionOptions;},_setConditionsVisibility:function(_1e27){_1e11.setDomNodeVisible(this.trConnector,false);_1e11.setDomNodeVisible(this.tbConditions.domNode,false);_1e11.setDomNodeVisible(this.grdCrystalConditions.domNode,false);switch(_1e27.tag){case _1e10.ConditionPreset.Preset:case _1e10.ConditionPreset.Custom:_1e11.setDomNodeVisible(this.trConnector,true);_1e11.setDomNodeVisible(this.tbConditions.domNode,true);_1e11.setDomNodeVisible(this.grdCrystalConditions.domNode,true);this.grdCrystalConditions.resize();break;}},_getSelectedPreset:function(){var item=this.cmbConditionPresets.store._getItemByIdentity(this.cmbConditionPresets.value);var _1e28={value:item?this.cmbConditionPresets.store.getValue(item,"value"):null,tag:item?this.cmbConditionPresets.store.getValue(item,"tag"):null};return _1e28;},_showPreset:function(_1e29){switch(_1e29.tag){case _1e10.ConditionPreset.Preset:var self=this;_1e0a.some(this._reportFilters,function(_1e2a,i){if(_1e2a.id===_1e29.value){self._conditionsCollection=[];_1e0a.forEach(_1e2a.filterConditions,function(_1e2b,i){self._addNewCondition(_1e2b);});if(_1e2a.conditionsConnector){self._conditionOptions.conditionsConnector=_1e2a.conditionsConnector;self.cmbConnector.attr("value",self._conditionOptions.conditionsConnector);}return true;}});break;case _1e10.ConditionPreset.CurrentRecord:break;case _1e10.ConditionPreset.CurrentGroup:break;case _1e10.ConditionPreset.Custom:break;default:break;}},_getConditions:function(){var _1e2c=this._getSelectedPreset();var _1e2d=[];switch(_1e2c.tag){case _1e10.ConditionPreset.Custom:case _1e10.ConditionPreset.Preset:for(var i=0;i<this._conditionsCollection.length;i++){var _1e2e=dojo.clone(this._conditionsCollection[i]);delete _1e2e._id;_1e2d.push(_1e2e);}break;}return _1e2d;},_getConditionId:function(){var maxId=0;for(var i=0;i<this._conditionsCollection.length;i++){if(maxId<this._conditionsCollection[i]._id){maxId=this._conditionsCollection[i]._id;}}return maxId+1;},_refreshConditionsGrid:function(){if(this.grdCrystalConditions){this.grdCrystalConditions.store.close();this._initializeConditionsGrid();}},_editCondition:function(_1e2f){var _1e30=this.grdCrystalConditions.getItem(_1e2f);var _1e31=new _1e13(_1e30,this._reportMetadata);_1e31.show();},_deleteCondition:function(id){var index=-1;_1e0a.some(this._conditionsCollection,function(_1e32,i){if(_1e32._id===id){index=i;return true;}});if(index!==-1){this._conditionsCollection.splice(index,1);}this._refreshConditionsGrid();}});return _1e19;});},"Sage/UI/Columns/Currency":function(){define("Sage/UI/Columns/Currency",["dojo/_base/declare","dojo/json","Sage/Data/SDataServiceRegistry","Sage/Utility/_LocalStorageMixin","Sage/Utility","dojo/_base/lang","dojox/grid/cells/dijit"],function(_1e33,json,_1e34,_1e35,_1e36,lang){var _1e37=_1e33("Sage.UI.Columns.Currency",dojox.grid.cells._Widget,{widgetClass:Sage.UI.Controls.Currency,exchangeRateLoaded:false,constructor:function(o){if(this.multiCurrency&&!this.exchangeRateLoaded){var _1e38=Sage.Services.getService("SystemOptions");if(_1e38){_1e38.get("BaseCurrency",function(val){this.exchangeRateLoaded=true;this.currentCode=val;var _1e39=Sage.Services.getService("ExchangeRateLoader");if(_1e39){_1e39.requestExchangeRate(this.getExchangeRate,this);}},function(){if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.BaseCurrency.");}},this);}else{if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}}},getExchangeRate:function(data){this.exchangeRate=data.Rate;},getWidgetProps:function(_1e3a){var _1e3b=this.getControlId();return dojo.mixin({},this.widgetProps||{},{id:_1e3b,value:_1e3a,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field,constraints:this.constraints,name:this.name,sortable:this.sortable,editable:this.editable,required:this.required,displayMode:this.displayMode,displayCurrencyCode:this.displayCurrencyCode,multiCurrency:this.multiCurrency,currentCode:this.currentCode,exchangeRate:this.exchangeRate,currentUICulture:this.currentUICulture,textAlign:this.getAlignment()});},getAlignment:function(){var _1e3c="right";_1e3c=(this.cellClasses.indexOf("aligncenter")>-1)?"center":_1e3c;_1e3c=(this.cellClasses.indexOf("alignleft")>-1)?"left":_1e3c;return _1e3c;},formatNode:function(_1e3d,_1e3e,_1e3f){if(!this.widgetClass){return _1e3e;}if(this.multiCurrency){_1e3e=_1e3e*this.exchangeRate;}var _1e40=dijit.byId(this.getControlId());if(!_1e40){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_1e40;if(_1e40.value!==_1e3e||this.widget.focusNode.value!==_1e3e){this.widget.focusNode.attr("value",_1e3e);}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_1e3f);this.grid.scroller.rowHeightChanged(_1e3f,true);this.widget.focusNode.focus();return undefined;},formatter:function(_1e41,_1e42){var _1e43=this.grid.getItem(_1e42);var _1e44="";var i;this.decimalDigit=(this.constraints&&this.constraints.places)?this.constraints.places:Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalDigits;if(!this.multiCurrency){_1e44=dojo.currency.format(_1e41,{currency:[Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol],locale:Sys.CultureInfo.CurrentCulture.name,places:this.decimalDigit});_1e44=_1e44.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol,"");}else{if(this.exchangeRateType=="EntityRate"&&_1e36.getModeId()!=="insert"){var _1e45=this.exchangeRateField.split(".");var _1e46=_1e43;for(i=0;i<_1e45.length;i++){if(_1e46){_1e46=_1e46[_1e45[i]];}else{_1e46=_1e36.getClientContextByKey(this.exchangeRateType);}}var _1e47=this.exchangeRateCodeField.split(".");var _1e48=_1e43;for(i=0;i<_1e47.length;i++){if(_1e48){_1e48=_1e48[_1e47[i]];}else{_1e48=_1e36.getClientContextByKey([this.exchangeRateType,"Code"].join(""));}}this.exchangeRate=_1e46;this.currentCode=_1e48;}else{if(this.exchangeRateType==="MyRate"){this.exchangeRate=_1e36.getClientContextByKey(this.exchangeRateType);this.currentCode=_1e36.getClientContextByKey([this.exchangeRateType,"Code"].join(""));}}_1e41=_1e41*this.exchangeRate;_1e44=dojo.currency.format(_1e41,{currency:[],locale:Sys.CultureInfo.CurrentCulture.name,places:this.decimalDigit});_1e44=[_1e44,"   ",this.currentCode].join("");}if(this.abbreviationLength){var _1e49=Sage.Format.abbreviationFormatter(this.abbreviationLength);_1e44=_1e49(_1e44);}return _1e44;},styles:"text-align: right;",setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},getControlId:function(){this.setCurrentItems();return [this.item.$key,this.editInfo.cell.field,this.index].join("_");},getValue:function(index){var _1e4a=this.widget.focusNode.valueNode.value;if(this.multiCurrency){_1e4a=_1e4a/this.exchangeRate;}if(this.widget.focusNode.state==="Error"){var item=this.grid.getItem(index);_1e4a=this.grid.store.getValue(item,this.grid.edit.info.cell.field);this.widget.focusNode.focusNode.value=_1e4a;}else{if(this.widget.focusNode.state==="Incomplete"){_1e4a=_1e36.maximizeDecimalDigit(this.widget.focusNode.get("displayedValue"),this.constraints.places);this.widget.focusNode.focusNode.value=_1e4a;}}return _1e4a;}});var _1e4b=_1e33("Sage.UI.Columns.Currency.BaseExchangeRateLoader",_1e35,{_requests:[],_requestingData:false,_exchangeRate:false,_storageNamespace:"BaseCurrencyExchangeRate",constructor:function(){this._requests=[];this._requestingData=false;this._exchangeRate=false;},requestExchangeRate:function(_1e4c,scope){if(!this._exchangeRate){var data=sessionStorage.getItem(this._storageNamespace);if(data){this._exchangeRate=json.parse(data);}else{this._requests.push({fn:_1e4c,scope:scope||this});if(!this._requestingData){this._requestingData=true;var _1e4d=new Sage.SData.Client.SDataSingleResourceRequest(_1e34.getSDataService("dynamic",false,true,true));_1e4d.setResourceSelector(dojo.string.substitute("'${0}'",[scope.currentCode]));_1e4d.setResourceKind("exchangeRates");_1e4d.read({success:lang.hitch(this,this._receiveData),failure:function(_1e4e){},async:false});}return;}}_1e4c.call(scope||this,this._exchangeRate);},_receiveData:function(data){sessionStorage.setItem(this._storageNamespace,json.stringify(data));this._exchangeRate=data;var len=this._requests.length;for(var i=0;i<len;i++){var clbk=this._requests.pop();clbk.fn.call(clbk.scope,data);}}});Sage.Services.addService("ExchangeRateLoader",new _1e4b());return _1e37;});},"Sage/Groups/GroupManager":function(){define("Sage/Groups/GroupManager",["Sage/UI/Dialogs","Sage/Utility/Email","dojo/string","Sage/Groups/GroupContextService","dojox/storage/LocalStorageProvider","dojo/_base/array","dojo/_base/lang","dojo/i18n","dojo/i18n!./nls/GroupManager","Sage/Data/SDataServiceRegistry","dojo/_base/xhr","dojo/topic","dojo/aspect"],function(_1e4f,email,_1e50,_1e51,_1e52,array,lang,i18n,nls,_1e53,xhr,topic,_1e54){Sage.namespace("Sage.Groups.GroupManager");Sage.Groups.GroupManager={CurrentUserID:"",SortCol:-1,SortDir:"ASC",GMUrl:"SLXGroupBuilder.aspx?method=",GroupXML:"",resources:nls,LOCALSTORE_NAMESPACE:"SageGroups",QB_WIDTH:840,QB_HEIGHT:650,GetFromServer:function(url,_1e55,_1e56,_1e57,sync){var args={url:url,sync:sync||false,handleAs:_1e55||"text",headers:{"Content-Type":"application/xml"},preventCache:true,load:_1e56,error:_1e57};return dojo.xhrGet(args);},ClearLocalStorage:function(){var _1e58=new _1e52();_1e58.initialize();_1e58.clear(Sage.Groups.GroupManager.resources.LOCALSTORE_NAMESPACE);window.location.reload(true);},ClearLocalStorageForGroup:function(_1e59){var _1e5a=new _1e52();_1e5a.initialize();array.forEach(_1e5a.getNamespaces(),function(item){if(item.indexOf(_1e59)>-1){_1e5a.clear(item);}});sessionStorage.removeItem("GROUPLAYOUT_"+_1e59);sessionStorage.removeItem("hidden_filters_"+_1e59);sessionStorage.removeItem("METADATA_FILTERS_"+_1e59);window.location.reload(true);},PostToServer:function(url,data,_1e5b,_1e5c){var args={url:url,postData:data,handleAs:"text",headers:{"Content-Type":"application/xml"},load:function(data){if(typeof _1e5b==="function"){_1e5b(data);}},error:function(err){if(typeof _1e5c==="function"){_1e5c(err);}}};return dojo.xhrPost(args);},GetCurrentGroupInfo:function(){var _1e5d=Sage.Services.getService("ClientGroupContext");if(_1e5d){var _1e5e=_1e5d.getContext();return {"Name":_1e5e.CurrentName,"Family":_1e5e.CurrentFamily,"Id":_1e5e.CurrentGroupID,"isAdhoc":_1e5e.isAdhoc,"Entity":_1e5e.CurrentEntity};}return "";},CreateGroup:function(mode){if(typeof mode==="undefined"||mode===""){mode=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;}var vURL="QueryBuilderMain.aspx?mode="+mode,width=Sage.Groups.GroupManager.QB_WIDTH,_1e5f=Sage.Groups.GroupManager.QB_HEIGHT;window.open(vURL,"GroupViewer",_1e50.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_1e5f}));},DeleteGroup:function(_1e60,_1e61){if(typeof _1e60==="undefined"||_1e60===""){_1e60=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var msg=(_1e61)?_1e50.substitute(Sage.Groups.GroupManager.resources.ConfirmDeleteFmtMessage,[_1e61]):Sage.Groups.GroupManager.resources.ConfirmDeleteMessage;_1e4f.raiseQueryDialog("",msg,function(_1e62){if(_1e62===true){Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"DeleteGroup&gid="+_1e60,"text",function(){var url=document.location.href.replace("#","");if(url.indexOf("?")>-1){var _1e63=url.split("?");url=_1e63[0];}document.location=url;},function(req){});}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);},EditGroup:function(_1e64){var _1e65=Sage.Groups.GroupManager.GetCurrentGroupInfo();if(typeof _1e64==="undefined"||_1e64===""){_1e64=_1e65.Id;}var url=_1e50.substitute("QueryBuilderMain.aspx?gid=${groupid}&mode=${md}",{groupid:_1e64,md:_1e65.Family}),width=Sage.Groups.GroupManager.QB_WIDTH,_1e66=Sage.Groups.GroupManager.QB_HEIGHT;window.open(url,"EditGroup",_1e50.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_1e66}));},CopyGroup:function(_1e67){var _1e68=Sage.Groups.GroupManager.GetCurrentGroupInfo();if(typeof _1e67==="undefined"||_1e67===""){_1e67=_1e68.Id;}var vURL=["QueryBuilderMain.aspx?gid=",_1e67,"&action=copy","&mode=",_1e68.Family].join(""),width=Sage.Groups.GroupManager.QB_WIDTH,_1e69=Sage.Groups.GroupManager.QB_HEIGHT;window.open(vURL,"EditGroup",_1e50.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_1e69}));},ListGroupsAsSelect:function(_1e6a){var _1e6b=_1e6a;if(!dojo.isString(_1e6b)||_1e6b.length===0){_1e6b=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;if(!dojo.isString(_1e6b)||_1e6b.length===0){return "";}}var sUrl=Sage.Groups.GroupManager.GMUrl+"GetGroupList&entity="+_1e6b;var _1e6c="";Sage.Groups.GroupManager.GetFromServer(sUrl,"text",function(data){_1e6c=data;},function(err){if(typeof console!=="undefined"){console.error(err);}},true);var _1e6d=getXMLDoc(_1e6c);if(_1e6d){var _1e6e=_1e6d.getElementsByTagName("GroupInfo");if(!_1e6e){return "";}var _1e6f="";for(var i=0;i<_1e6e.length;i++){_1e6f+="<option value = '"+_1e6e[i].getElementsByTagName("GroupID")[0].firstChild.nodeValue+"'>"+_1e6e[i].getElementsByTagName("DisplayName")[0].firstChild.nodeValue+"</option>";}return _1e6f;}return "";},GetGroupId:function(name){var _1e70="";Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"GetGroupId&name="+encodeURIComponent(name),"text",function(data){_1e70=data;},function(err){console.error(err);},true);return _1e70;},HideGroup:function(_1e71,_1e72){if(typeof _1e71==="undefined"||_1e71===""){_1e71=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}Sage.Groups.GroupManager.PostToServer(Sage.Groups.GroupManager.GMUrl+"HideGroup&gid="+_1e71,"",lang.hitch(this,Sage.Groups.GroupManager._HideOrShowComplete,_1e72,_1e71));},_HideOrShowComplete:function(_1e73,_1e74){var _1e75,_1e76,_1e77,_1e78;if(_1e73){return;}_1e77=function(){if(_1e78&&_1e78.remove){_1e78.remove();}var _1e79=dijit.byId("titlePane");if(_1e79){_1e79.resetConfiguration();}};_1e75=Sage.Services.getService("ClientGroupContext");_1e76=_1e75&&_1e75.getContext();_1e78=_1e54.after(_1e75,"onCurrentGroupChanged",_1e77);if(!Sage.Groups.GroupManager._isDefaultGroup(_1e74)&&_1e76.CurrentGroupID===_1e74){_1e75.setCurrentGroup(_1e76.DefaultGroupID);}else{if(Sage.Groups.GroupManager._isDefaultGroup(_1e74)&&_1e76.CurrentGroupID===_1e74){_1e75.setCurrentGroup("LOOKUPRESULTS");}else{_1e77.call();}}},_isDefaultGroup:function(_1e7a){var _1e7b,_1e7c,_1e7d;_1e7d=false;_1e7b=Sage.Services.getService("ClientGroupContext");if(_1e7b){_1e7c=_1e7b.getContext();if(_1e7c){_1e7d=_1e7c.DefaultGroupID===_1e7a;}}return _1e7d;},UnHideGroup:function groupmanager_(_1e7e,_1e7f){if(typeof _1e7e==="undefined"||_1e7e===""){_1e7e=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"UnHideGroup&gid="+_1e7e,"",lang.hitch(this,Sage.Groups.GroupManager._HideOrShowComplete,_1e7f,_1e7e));},ShowGroups:function(_1e80){if(typeof _1e80==="undefined"||_1e80===""){_1e80=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;}var vURL="ShowGroups.aspx?tablename="+_1e80;window.open(vURL,"ShowGroups","resizable=yes,centerscreen=yes,width=800,height=646,status=no,toolbar=no,scrollbars=yes");},CreateAdHocGroup:function(_1e81,_1e82,_1e83,_1e84){var vURL=[Sage.Groups.GroupManager.GMUrl,"CreateAdHocGroup","&name=",encodeURIComponent(_1e82),"&family=",_1e83,"&layoutid=",encodeURIComponent(_1e84)].join();return Sage.Groups.GroupManager.PostToServer(vURL,_1e81);},EditAdHocGroupAddMember:function(_1e85,_1e86){if(typeof _1e85==="undefined"||_1e85===""){_1e85=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var x=Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"EditAdHocGroupAddMember&groupid="+_1e85+"&entityid="+_1e86);},EditAdHocGroupDeleteMember:function(_1e87,_1e88){if(typeof _1e87==="undefined"||_1e87===""){_1e87=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var x=Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"EditAdHocGroupDeleteMember&groupid="+_1e87+"&entityid="+_1e88);},SetDefault:function(_1e89,name,_1e8a){Sage.Groups.GroupManager._saveGroupUserOptions(name,_1e8a,"DEFAULTGROUP");},SetLookupLayout:function(_1e8b,name,_1e8c){Sage.Groups.GroupManager._saveGroupUserOptions(name,_1e8c,"LOOKUPLAYOUTGROUP");},_saveGroupUserOptions:function(name,_1e8d,_1e8e){var _1e8f=Sage.Groups.GroupManager.GetCurrentGroupInfo(),_1e90=_1e8f.Name,_1e91=_1e8f.Family,_1e92=name||_1e90,_1e93=_1e8d;var svc=Sage.Services.getService("UserOptions");if(svc){svc.set(_1e8d,_1e8e,_1e50.substitute("${0}:${1}",[_1e93,_1e92]));}},IsAdHoc:function(_1e94){alert("not implemented in this object yet...");},ExportGroup:function(_1e95,_1e96){_1e4f.showInfo(Sage.Groups.GroupManager.resources.exportToExcel);},ShareGroup:function(_1e97){if(typeof _1e97==="undefined"||_1e97===""){_1e97=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var vURL="ShareGroup.aspx?gid="+_1e97;window.open(vURL,"ShareGroup","resizable=yes,centerscreen=yes,width=500,height=450,status=no,toolbar=no,scrollbars=yes");},GetGroupSQL:function(_1e98,_1e99,parts,_1e9a){var _1e9b=_1e98;if(!dojo.isString(_1e9b)||_1e9b.length===0){_1e9b=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;if(!dojo.isString(_1e9b)||_1e9b.length===0){return "";}}var sUrl=Sage.Groups.GroupManager.GMUrl+"GetGroupSQL&gid="+_1e9b;if(typeof _1e99!=="undefined"){if(dojo.isString(_1e99)){if((_1e99==="true")||(_1e99==="false")){sUrl+="&UseAliases="+_1e99;}}else{if(typeof _1e99==="boolean"){sUrl+="&UseAliases="+_1e99.toString();}}}if(dojo.isString(parts)&&parts.length>0){sUrl+="&parts="+parts;}if(typeof _1e9a!=="undefined"){if(dojo.isString(_1e9a)){if((_1e9a==="true")||(_1e9a==="false")){sUrl+="&ApplyFilters="+_1e9a;}}else{if(typeof _1e9a==="boolean"){sUrl+="&ApplyFilters="+_1e9a.toString();}}}var _1e9c="";Sage.Groups.GroupManager.GetFromServer(sUrl,"text",function(data){_1e9c=data;},function(err){if(typeof console!=="undefined"){console.error(err);}},true);return _1e9c;},GetGroupSQLFromXML:function(_1e9d,_1e9e,_1e9f){Sage.Groups.GroupManager.PostToServer(Sage.Groups.GroupManager.GMUrl+"GetGroupSQL",_1e9d,_1e9e,_1e9f);},GetGroupSQLById:function(_1ea0,_1ea1,_1ea2){var url=Sage.Groups.GroupManager.GMUrl+"GetGroupSQL&gid="+_1ea0;Sage.Groups.GroupManager.GetFromServer(url,"json",_1ea1,_1ea2);},saveSelectionsAsNewGroup:function(){var _1ea3=Sage.Utility.getSelectionInfo();if(!_1ea3||_1ea3.selectionCount===0){if(_1ea3.recordCount<1){_1e4f.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _1ea4=_1e50.substitute(Sage.Groups.GroupManager.resources.noneSelectedPromptFmt,[_1ea3.recordCount]);_1e4f.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_1ea4,function(_1ea5){if(_1ea5===true){Sage.Groups.GroupManager.promptForName("");}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.promptForName("");}},promptForName:function(_1ea6,_1ea7){var _1ea8=Sage.Utility.getSelectionInfo();var _1ea9=(_1ea8.selectionCount===0)?_1ea8.recordCount:_1ea8.selectionCount;var _1eaa=_1e50.substitute(Sage.Groups.GroupManager.resources.newGroupNamePrompt,[_1ea9,_1ea6||""]);_1e4f.raiseInputDialogExt({title:Sage.Groups.GroupManager.resources.newGroupTitle,query:_1eaa,callbackFn:function(_1eab,name){if(_1eab===true){if(name===""){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.newGroupRePrompt,name);},100);}else{if(name.match(/[\/\\:\*\?"<\>|\.'\r\n]/)!==null){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.invalidCharMsg,name);},100);}else{Sage.Groups.GroupManager.saveNewGroupPost(name);}}}},yesText:Sage.Groups.GroupManager.resources.okCaption,noText:Sage.Groups.GroupManager.resources.cancelCaption,defaultValue:_1ea7||"",closable:true});},saveNewGroupPost:function(name,_1eac){var _1ead=Sage.Utility.getSelectionInfo(),_1eae=_1e53.getSDataService("system"),_1eaf=new Sage.SData.Client.SDataSingleResourceRequest(_1eae),_1eb0=Sage.Services.getService("ClientGroupContext").getContext(),_1eb1=_1eb0.CurrentFamily,_1eb2=_1eb0.CurrentGroupID,entry={},copy=false;_1eaf.setResourceKind("groups");if(_1ead.selectionCount===0){copy=true;}entry={family:_1eb1,name:name,adHocIds:_1ead.selectedIds};_1eaf.create(entry,{success:function(entry){if(copy){Sage.Groups.GroupManager.copyFromGroup(_1eb2,entry.$key);}else{Sage.Groups.GroupManager.newGroupCreated();}},failure:function(){},scope:this});},removeSelectionsFromGroup:function(){var _1eb3=Sage.Utility.getSelectionInfo();if(_1eb3.selectionCount===0){if(_1eb3.recordCount<1){_1e4f.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _1eb4=_1e50.substitute(Sage.Groups.GroupManager.resources.noneSelectedRemovePromptFmt,[_1eb3.recordCount]);_1e4f.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_1eb4,function(_1eb5){if(_1eb5===true){Sage.Groups.GroupManager.removeConfirmed();}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.removeConfirmed();}},removeConfirmed:function(){var _1eb6=Sage.Utility.getSelectionInfo(),_1eb7=Sage.Services.getService("ClientGroupContext").getContext(),_1eb8=_1eb7.CurrentFamily,name=_1eb7.CurrentName,_1eb9=_1eb7.CurrentGroupID;Sage.Groups.GroupManager.removeIds(_1eb9,name,_1eb8,_1eb6.selectedIds,function(){Sage.Groups.GroupManager.refreshListView();},function(err){console.error(err);},this);},removeIds:function(_1eba,_1ebb,_1ebc,ids,_1ebd,_1ebe,scope){var _1ebf=_1e53.getSDataService("system"),_1ec0=new Sage.SData.Client.SDataServiceOperationRequest(_1ebf),entry,_1ec1,_1ec2=[];_1ec0.setResourceKind("groups");if(ids&&ids.length>0){_1ec0.setOperationName("removeAdHocIds");_1ec2=ids;}else{_1ec0.setOperationName("removeAllAdHocIds");_1ec2.push(ids);}entry={"$name":"removeAdHocIds",request:{groupId:_1eba,groupName:_1ebb,family:_1ebc,adHocIds:ids}};_1ec1=lang.hitch(this,function(){topic.publish("/group/adhoc/removed",{"groupId":_1eba,"groupName":_1ebb,"family":_1ebc,"ids":_1ec2});if(_1ebd){_1ebd.call(arguments);}});_1ec0.execute(entry,{success:_1ec1,failure:_1ebe,scope:scope||this});},addSelectionsToGroup:function(_1ec3){var _1ec4=Sage.Utility.getCurrentEntityId();if(_1ec4!==""){Sage.Groups.GroupManager.postAddToGroup(_1ec3,{selectedIds:[_1ec4],selectionCount:1});}else{var _1ec5=Sage.Utility.getSelectionInfo();if(_1ec5.selectionCount===0){if(_1ec5.recordCount<1){_1e4f.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _1ec6=_1e50.substitute(Sage.Groups.GroupManager.resources.noneSelectedPromptFmt,[_1ec5.recordCount]);_1e4f.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_1ec6,function(_1ec7){if(_1ec7===true){Sage.Groups.GroupManager.addConfirmed(_1ec3);}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.addConfirmed(_1ec3);}}},copyFromGroup:function(_1ec8,_1ec9){var _1eca=Sage.Utility.getSelectionInfo(),_1ecb=_1e53.getSDataService("system"),_1ecc=new Sage.SData.Client.SDataServiceOperationRequest(_1ecb),_1ecd=Sage.Services.getService("ClientGroupContext").getContext(),_1ece=_1ecd.CurrentFamily,name=_1ecd.CurrentName,entry;_1ecc.setResourceKind("groups");_1ecc.setOperationName("addAdHocIdsFrom");entry={"$name":"addAdHocIdsFrom",request:{groupId:_1ec9,groupName:name,family:_1ece,fromGroupId:_1ec8}};_1ecc.execute(entry,{success:function(){var _1ecf=Sage.Services.getService("ClientGroupContext");if(_1ecf){var _1ed0=dijit.byId("titlePane");if(_1ed0){_1ed0.resetConfiguration();}_1ecf.setCurrentGroup(_1ec9);}},failure:function(){},scope:this});},addConfirmed:function(_1ed1){var _1ed2=Sage.Utility.getSelectionInfo();Sage.Groups.GroupManager.postAddToGroup(_1ed1,_1ed2);},postAddToGroup:function(_1ed3,_1ed4){var _1ed5=_1e53.getSDataService("system"),_1ed6=new Sage.SData.Client.SDataServiceOperationRequest(_1ed5),_1ed7=Sage.Services.getService("ClientGroupContext").getContext(),_1ed8=_1ed7.CurrentFamily,_1ed9=_1ed7.CurrentGroupID,entry,_1eda="addAdHocIds";if(_1ed4.selectionCount===0){Sage.Groups.GroupManager.copyFromGroup(_1ed9,_1ed3);return;}_1ed6.setResourceKind("groups");_1ed6.setOperationName(_1eda);entry={"$name":_1eda,request:{groupId:_1ed3,family:_1ed8,adHocIds:_1ed4.selectedIds}};_1ed6.execute(entry,{success:function(){},failure:function(){},scope:this});},saveLookupAsGroup:function(obj,e,msg){if(typeof (msg)==="undefined"){msg=Sage.Groups.GroupManager.resources.groupNameText;}_1e4f.raiseInputDialogExt({title:Sage.Groups.GroupManager.resources.saveLookupDlgTitle,query:msg,callbackFn:function(_1edb,name){if(_1edb===true){if(name===""){window.setTimeout(function(){Sage.Groups.GroupManager.saveLookupAsGroup(Sage.Groups.GroupManager.resources.newGroupRePrompt);},100);}else{if(name.match(/\'|\"|\/|\\|\*|\:|\?|<|\>/)!==null){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.invalidCharMsg);},100);}else{var _1edc="slxdata.ashx/slx/crm/-/groups/adhoc?action=SaveLookupAsGroup&name="+encodeURIComponent(name);xhr.post({url:_1edc,handleAs:"text",content:{},load:Sage.Groups.GroupManager.newGroupCreated,error:Sage.Groups.GroupManager.handleAjaxError});}}}},yesText:Sage.Groups.GroupManager.resources.okCaption,noText:Sage.Groups.GroupManager.resources.cancelCaption,defaultValue:"",closable:true});},handleAjaxError:function(_1edd){if(typeof _1edd!="undefined"){if(_1edd.responseXML){var nodes=_1edd.responseXML.getElementsByTagName("sdata:message");if(nodes.length>0){_1e4f.showError(nodes[0].text||nodes[0].textContent,"");}}else{_1e4f.alert("an unidentified exception has occured");}}},newGroupCreated:function(){Sage.Link.toListView();},refreshListView:function(){var _1ede=dijit.byId("list");if(_1ede){_1ede.refreshList();}},emailSelectionsFromGroup:function(){var _1edf,body,_1ee0,_1ee1;_1edf="";body="";_1ee0=0;_1ee1="Email";email.writeEmailToGroupSelection(_1edf,body,_1ee0,_1ee1);}};window.groupManager=Sage.Groups.GroupManager;return window.groupManager;});},"Sage/Utility/nls/Utility":function(){define("Sage/Utility/nls/Utility",["Sage/LanguageList","dojo/_base/lang"],function(_1ee2,lang){var nls={root:{dangerousValueWarn:"A potentially dangerous form value was detected.  Please avoid invalid character combinations."+"Example: \"&lt;script&gt;&lt;/script&gt;\" Also avoid invalid characters in filenames: \\ / : * ? \" &lt; &gt; | "}};return lang.mixin(_1ee2,nls);});},"Sage/Utility/File/AttachmentPropertiesEditForm":function(){define("Sage/Utility/File/AttachmentPropertiesEditForm",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility/File","Sage/Utility","Sage/UI/Dialogs","dojox/layout/TableContainer","Sage/UI/Controls/DateTimePicker","dijit/form/TextBox","dijit/form/Button","dojox/form/Uploader","dojo/i18n","dojo/i18n!./nls/AttachmentPropertiesEditForm","dojo/_base/declare"],function(_1ee3,_1ee4,_1ee5,_1ee6,_1ee7,_1ee8,_1ee9,_1eea,_1eeb,_1eec,_1eed,_1eee,_1eef,_1ef0,_1ef1,_1ef2,_1ef3,i18n,_1ef4,_1ef5){var _1ef6=_1ef5("Sage.Utility.File.AttachmentPropertiesEditForm",[_1ee3,_1ee4],{attachmentId:"",widgetsInTemplate:true,attachment:false,_bindingMgr:false,_store:false,_tempFile:false,_iframe:null,_showing:false,_iframeId:"attachmentRePostIFrame",_uploadUrlFmt:"slxdata.ashx/slx/system/-/attachments('${0}')/file",widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" title=\"{%= $.editText %}\" dojoAttachPoint=\"_dialog\">","<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>","<form method=\"post\" enctype=\"multipart/form-data\" action=\"{%= $._buildPostUrl() %}\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\", class=\"attachment-properties-form\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" dojoAttachPoint=\"_urlContainer\">","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.urlText %}\" id=\"{%= $.id %}_tb_Url\" dojoAttachPoint=\"tb_Url\" ></div>","</div>","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" dojoAttachPoint=\"_fileNameContainer\" >","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.fileText %}\" id=\"{%= $.id %}_tb_File\" dojoAttachPoint=\"tb_File\" ></div>","</div>","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" >","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.sizeText %}\" id=\"{%= $.id %}_tb_size\" dojoAttachPoint=\"tb_size\" disabled=\"true\" shouldPublishMarkDirty=\"false\"></div>","<div dojoType=\"Sage.UI.Controls.DateTimePicker\" label=\"{%= $.attachDateText %}\" id=\"{%= $.id %}_dtp_AttachDate\" dojoAttachPoint=\"dtp_attachDate\" displayDate=\"true\" displayTime=\"true\" disabled=\"true\" shouldPublishMarkDirty=\"false\"></div>","<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.attachedByText %}\" id=\"{%= $.id %}_tb_attachedBy\" dojoAttachPoint=\"tb_attachedBy\" disabled=\"true\" shouldPublishMarkDirty=\"false\"></div>","</div>","<div class=\"general-dialog-actions\">","<input dojoType=\"dojox.form.Uploader\" multiple=\"false\" label=\"{%= $.uploadFileText %}\" type=\"file\" name=\"file\" dojoAttachEvent=\"onChange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" ></input>","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnOK\" name=\"_btnOK\" dojoAttachPoint=\"_btnOK\" dojoAttachEvent=\"onClick:_okClick\" >{%= $.okText %}</div>","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnCancel\" name=\"_btnCancel\" dojoAttachPoint=\"_btnCancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>","</div>","<input type=\"hidden\" name=\"X-HTTP-Method-Override\" value=\"PUT\" />","</form>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","AttachmentPropertiesEditForm"));this.inherited(arguments);},show:function(){this._dialog.show();if(!this._dialog._standby){_1ee8.mixin(this._dialog,new _1ee7());}this._showing=true;if(!this.attachment){this._dialog.showLoading();}},hide:function(){this.attachmentId="";this.attachment=false;this._tempFile=false;if(this._dialog._standby){this._dialog.hideLoading();}this._dialog.hide();this._showing=false;},_buildPostUrl:function(){var _1ef7=[];_1ef7.push(/https/i.test(window.location.protocol)?"https":"http");_1ef7.push("://");_1ef7.push(window.location.hostname);if(window.location.port&&window.location.port!==80){_1ef7.push(":",window.location.port);}_1ef7.push("/");_1ef7.push(_1eed.getVirtualDirectoryName());_1ef7.push("/slxdata.ashx/slx/system/-/attachments");if(this.attachment){_1ef7.push("(\""+this.attachment.$key+"\")");}_1ef7.push("/file");var url=_1ef7.join("");return url;},_iframeLoad:function(e){if(this._iframe.contentDocument&&this._iframe.contentDocument.URL.indexOf("attachments")>0){dojo.publish("/entity/attachment/update","");this.hide();}},_setAttachmentIdAttr:function(_1ef8){this.attachmentId=_1ef8;if(this.attachmentId&&this.attachmentId!==""){this._loadData();}},_getAttachmentIdAttr:function(){return this.attachmentId;},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}if(!this._store){this._store=new _1ee9({include:["$descriptors"],resourceKind:"attachments",service:_1eea.getSDataService("system")});}if(this.attachmentId!==""){this._store.clearCache();this._store.fetch({predicate:"\""+this.attachmentId+"\"",onComplete:this._receiveAttachment,beforeRequest:function(_1ef9){_1ef9.setQueryArg("_includeFile","false");},onError:this._requestFail,scope:this});}else{_1eee.showError("No attachment to edit");}},_receiveAttachment:function(_1efa){if(this._dialog._standby){this._dialog.hideLoading();}this.attachment=_1efa;this._ensureBindings();this._bind();if(this.attachment.url){dojo.removeClass(this._urlContainer.domNode,"display-none");dojo.addClass(this.btn_FileSelect.domNode,"display-none");dojo.addClass(this._fileNameContainer.domNode,"display-none");}else{dojo.addClass(this._urlContainer.domNode,"display-none");dojo.removeClass(this.btn_FileSelect.domNode,"display-none");dojo.removeClass(this._fileNameContainer.domNode,"display-none");}},_ensureBindings:function(){if(!this._bindingMgr){this._bindingMgr=new _1eeb({defaultBinding:{boundEntity:this.attachment},items:[{boundWidget:this.tb_File,entityProperty:"fileName"},{boundWidget:this.tb_Description,entityProperty:"description"},{boundWidget:this.tb_size,entityProperty:"fileSize",_formatValueFromEntity:function(v){return Sage.Utility.File.formatFileSize(v);},twoWay:false},{boundWidget:this.dtp_attachDate,entityProperty:"attachDate",dataType:"date",twoWay:false},{boundWidget:this.tb_Url,entityProperty:"url"},{boundWidget:this.tb_attachedBy,entityProperty:"user.$descriptor",twoWay:false}]});}},_bind:function(){if(!this._bindingMgr.boundEntity||(this.attachment.$key!==this._bindingMgr.boundEntity.$key)){this._bindingMgr.setBoundEntity(this.attachment);}else{this._bindingMgr.bind();}},_onNewFile:function(){var files=this.btn_FileSelect._files;if(files&&files.length>0){this.tb_File.set("value",files[0].name);this._tempFile=files[0];}else{}this.tb_Description.focus();},_uploadNewFile:function(file){if(file){var url=_1ee5.substitute(this._uploadUrlFmt,[this.attachment.$key]);_1eec.uploadFileHTML5(file,url,false,this._newFileUploaded,this._requestFail,this,true);}},_newFileUploaded:function(){this._tempFile=false;dojo.publish("/entity/attachment/update",this.attachment);this.hide();},_okClick:function(){if(this._dialog._standby){this._dialog.showLoading();}this._saveAndHide();},_saveAndHide:function(){if(this._dialog._standby){this._dialog.showLoading();}var self=this;if((!_1eec.supportsHTML5File&&!Sage.gears)&&(this._tempFile)){this._store._okToCache=false;this._postForm.action=this._buildPostUrl();this._postForm.submit();window.setTimeout(function(){if(self._showing){dojo.publish("/entity/attachment/update","");self.hide();}},5000);return;}window.setTimeout(function(){self._saveAttachment();},10);},_saveAttachment:function(){this._store.save({scope:this,success:function(_1efb){if(!this._tempFile){dojo.publish("/entity/attachment/update",_1efb);this._dialog.hide();}},failure:this._requestFail});if(this._tempFile){this._uploadNewFile(this._tempFile);}},_cancelClick:function(){this.hide();},_requestFail:function(req){_1eee.showError(this.requestFailedMsg);this.hide();}});return _1ef6;});},"Sage/QuickForms/Design/nls/ControlDesigner":function(){define("Sage/QuickForms/Design/nls/ControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1efc,lang){var nls={root:{displayNameText:""}};return lang.mixin(_1efc,nls);});},"Sage/UI/Controls/nls/Address":function(){define("Sage/UI/Controls/nls/Address",["Sage/LanguageList","dojo/_base/lang"],function(_1efd,lang){var nls={root:{address1Text:"Address 1:",address2Text:"Address 2:",address3Text:"Address 3:",cancelText:"Cancel",cityText:"City:",countryText:"Country:",countyText:"County:",descriptionText:"Description:",dialogTitle:"Address",isMailingText:"Shipping:",isPrimaryText:"Primary:",okText:"OK",postalCodeText:"Postal Code:",salutationText:"Attention:",stateText:"State:",imageEditToolTip:"Edit",imageMapQuestToolTip:"MapQuest"}};return lang.mixin(_1efd,nls);});},"Sage/QuickForms/Design/Editors/FormUsagesPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormUsagesPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/string","dojox/grid/EnhancedGrid","./_PropertyEditor","Sage/Services/_ServiceMixin","dojo/i18n!./nls/FormUsagesPropertyEditor"],function(_1efe,lang,_1eff,_1f00,_1f01,_1f02,_1f03){return _1efe("Sage.QuickForms.Design.Editors.FormUsagesPropertyEditor",[_1f00,_1f01,_1f02],{serviceMap:{"dataService":{type:"sdata",name:"metadata"}},titleText:"Usage",portalText:"Portal",viewText:"View",modesText:"Modes",descriptionText:"Description",selectionMode:"none",canSort:function(){return false;},constructor:function(){lang.mixin(this,_1f03);},setup:function(){this.inherited(arguments);var name=this._designer.get("name")||"";var store=new Sage.Data.SDataStore({service:this.dataService,resourceKind:"formUsages",select:["showInMode","portalPage/portalAlias","portalPage/pagetitle","portalPage/description"],where:_1eff.substitute("smartPartId eq \"${0}\"",[name])});this.setStore(store);this.set("structure",[{field:"portalPage.portalAlias",name:this.portalText,width:"auto"},{field:"portalPage.pagetitle",name:this.viewText,width:"auto"},{field:"showInMode",name:this.modesText,formatter:this.formatModes,width:"auto"},{field:"portalPage.description",name:this.descriptionText,width:"auto"}]);},formatModes:function(modes){if(!modes){return "";}return (lang.isArray(modes))?modes.join(", "):modes;}});});},"Sage/QuickForms/Design/Editors/GenericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/GenericAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/GenericAdvancedPropertyEditor"],function(_1f04,lang,_1f05,_1f06,_1f07,_1f08,_1f09,_1f0a,_1f0b,_1f0c,_1f0d){return _1f04("Sage.QuickForms.Design.Editors.GenericAdvancedPropertyEditor",[_1f05,_1f0b,_1f0a],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",constructor:function(){lang.mixin(this,_1f0d);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._visible.set("value",this._designer.get("visible"));},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/MainView/JobMgr/nls/JobManagerGroupContextService":function(){define("Sage/MainView/JobMgr/nls/JobManagerGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_1f0e,lang){var nls={root:{executionsTabDisplayName:"Executions",jobDefinitionsTabDisplayName:"Definitions",schedulesTabDisplayName:"Schedules"}};return lang.mixin(_1f0e,nls);});},"Sage/UI/ActivityList":function(){define("Sage/UI/ActivityList",["dojo/_base/declare","dojo/_base/lang","dijit/_Widget","Sage/Utility","Sage/Utility/Activity","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/UI/SLXPreviewGrid","Sage/UI/SLXPreviewGrid/Grid","dijit/form/FilteringSelect","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange","Sage/UI/SLXPreviewGrid/Filter/Text","dojo/data/ItemFileReadStore","dojo/string","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","Sage/UI/SLXPreviewGrid/Filter/Lookup","Sage/Data/SDataServiceRegistry","dojo/i18n!./nls/ActivityList"],function(_1f0f,lang,_1f10,_1f11,_1f12,_1f13,_1f14,_1f15,_1f16,_1f17,_1f18,_1f19,_1f1a,_1f1b,_1f1c,_1f1d,_1f1e,_1f1f,_1f20){var _1f21=_1f0f("Sage.UI.ActivityTypeFilterWidget",[_1f10,_1f1d],{postCreate:function(){this.inherited(arguments);var div=document.createElement("div");this.domNode.appendChild(div);var _1f22=[];dojo.forEach(["atAppointment","atPhoneCall","atToDo","atPersonal"],function(item){_1f22.push({name:_1f12.getActivityTypeName(item),id:item});});var store=new _1f1b({data:{items:_1f22,label:"name",identifier:"id"}});this._select=new _1f17({store:store,required:false},div);},getQuery:function(){var v=this._select.get("value");if(v){return "Type eq '"+v+"'";}return "";},reset:function(){this._select.set("value",null);},getState:function(){return {"value":this._select.get("value")};},applyState:function(state){if(state){this._select.set("value",state["value"]||"");}}});var _1f23=_1f0f("Sage.UI.ActivityList",[_1f10],{placeHolder:"",conditionFmt:"",parentRelationshipName:"",workspace:"",tabId:"",connections:[],constructor:function(_1f24){this.connections=[];},startup:function(){var _1f25=[{id:"SchedulePhoneCall",imageClass:"icon_Schedule_Meeting_16x16",handler:function(){Sage.Link.scheduleMeeting();},alternateText:_1f20.addMeetingText},{id:"ScheduleMeeting",imageClass:"icon_Schedule_Call_16x16",handler:function(){Sage.Link.schedulePhoneCall();},alternateText:_1f20.addPhoneCallText},{id:"ScheduleToDo",imageClass:"icon_Schdedule_To_Do_16x16",handler:function(){Sage.Link.scheduleToDo();},alternateText:_1f20.addToDoText},{id:this.id+"_Help",imageClass:"icon_Help_16x16",handler:function(){_1f11.openHelp("activitiestab");},alternateText:_1f20.helpText}];var _1f26=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_1f27,cel){var _1f28=[cel.grid.id,"-row",_1f27].join("");var id=(Sage.Utility.getModeId()==="insert")?_1f28:value;var _1f29=["<div id=",id," >",id,"</ div>"].join("");return _1f29;}},{field:"$key",name:_1f20.completeText,sortable:false,width:"90px",type:_1f12.activityCompleteCell},{field:"Type",name:_1f20.typeText,type:_1f12.activityTypeCell,width:"90px",filterConfig:{widgetType:_1f21}},{field:"StartDate",name:_1f20.startDateText,type:_1f13,useFiveSecondRuleToDetermineTimeless:true,getTimeless:true,width:"100px",filterConfig:{widgetType:_1f18,label:_1f20.dateRangeText}},{field:"Duration",name:_1f20.durationText,type:_1f12.activityDurationCell,width:"40px"},{field:"Leader",name:_1f20.leaderText,type:_1f12.activityLeaderCell,width:"90px",filterConfig:{widgetType:_1f1e,lookupStructure:[{cells:[{name:_1f20.firstNameText||"First Name",field:"UserInfo.FirstName",sortable:true,width:"200px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""},{name:_1f20.lastNameText||"Last Name",field:"UserInfo.LastName",sortable:true,width:"200px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""},{name:_1f20.typeText||"Type",field:"Type",sortable:true,width:"100px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""}]}],lookupGridOptions:{contextualCondition:function(){var where="";where="((Type ne 'Template') and (Type ne 'Retired'))";return where;},contextualShow:"",selectionMode:"single"},lookupStoreOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.FirstName"}]},getQuery:function(){var obj=this._lup.get("selectedObject");if(obj&&obj["$key"]){return "Leader eq '"+obj["$key"].substr(0,12)+"'";}return "";}}}];this._addEntitySpecificColumns(_1f26);_1f26.push({field:"Description",name:_1f20.descriptionText,width:"200px",filterConfig:{widgetType:_1f1a}});_1f26.push({field:"Category",name:_1f20.categoryText,width:"75px"});var _1f2a=function(id,obj){var _1f2b=id;var _1f2c=false;if(obj&&obj["$descriptor"]=="Sage.SalesLogix.Activity.Entities.ActivityAttendee"&&obj["Activity"]){_1f2b=obj["Activity"]["$key"];_1f2c=obj["Activity"]["Recurring"];}else{if(obj){_1f2c=obj["Recurring"];}}Sage.Link.editActivity(_1f2b,_1f2c);};var _1f2d=this.parentRelationshipName;var _1f2e={tools:_1f25,columns:_1f26,previewField:"LongNotes",readOnly:true,rowsPerPage:20,storeOptions:{select:["ContactId","OpportunityId","AccountId","LeadId","Description","Duration","Recurring","Type","Category","Timeless"],include:["Leader","$descriptors"],resourceKind:"activities",sort:[{attribute:"StartDate"}],service:_1f1f.getSDataService("system")},slxContext:{workspace:this.workspace,tabId:this.tabId},contextualCondition:function(){var _1f2f=_1f2d;var fmt="(Type eq 'atAppointment' or Type eq 'atPhoneCall' or Type eq 'atToDo' or Type eq 'atPersonal') and ${0} eq '${1}'";if(_1f2d==="ContactId"||_1f2d==="LeadId"){_1f2f="ActivityAttendees.EntityId";}else{if(_1f2d==="AccountId"){_1f2f=_1f2d;}}return _1f1c.substitute(fmt,[_1f2f,_1f11.getCurrentEntityId(),_1f2d]);},dblClickAction:_1f2a};this.onBeforeCreateGrid(_1f2e);var grid=new _1f15.Grid(_1f2e,this.placeHolder);grid._grid.store.beforeRequest=function(req){req.setQueryArg("_expandRecurrences","false");};grid.startup();var _1f30=dijit.byId("tabContent");_1f30.resize();_1f30.resize();this.connections.push(dojo.subscribe("/entity/activity/create",this,this.onActivityChanges));this.connections.push(dojo.subscribe("/entity/activity/change",this,this.onActivityChanges));this.connections.push(dojo.subscribe("/entity/activity/delete",this,this.onActivityChanges));dojo.connect(grid,"destroy",this,this.destroy);this._grid=grid;},onActivityChanges:function(_1f31){this._grid.refresh();},destroy:function(){for(var i=0;i<this.connections.length;i++){dojo.unsubscribe(this.connections.pop());}this.inherited(arguments);},_addEntitySpecificColumns:function(_1f32){var _1f33=Sage.Services.getService("ClientEntityContext").getContext().EntityType;switch(_1f33){case "Sage.Entity.Interfaces.IAccount":case "Sage.Entity.Interfaces.IOpportunity":_1f32.push({field:"ContactName",name:_1f20.contactText,width:"100px",type:_1f14,idField:"ContactId",pageName:"Contact"});break;case "Sage.Entity.Interfaces.IContact":_1f32.push({field:"OpportunityName",name:_1f20.opportunityText,width:"100px",type:_1f14,idField:"OpportunityId",pageName:"Opportunity"});break;}},onBeforeCreateGrid:function(_1f34){}});return _1f23;});},"Sage/MainView/ActivityMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1f35,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_1f35,nls);});},"Sage/QuickForms/Design/nls/OwnerControlDesigner":function(){define("Sage/QuickForms/Design/nls/OwnerControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1f36,lang){var nls={root:{displayNameText:"Owner"}};return lang.mixin(_1f36,nls);});},"Sage/Utility/SDataLookup":function(){define("Sage/Utility/SDataLookup",[],function(){Sage.namespace("Utility.SDataLookup");dojo.mixin(Sage.Utility.SDataLookup,{setFormatType:function(opts){switch(opts.propertyFormat){case "Phone":return Sage.UI.Columns.Phone;default:return "";}},childObjectFormatter:function(opts){var _1f37=opts.grid.grid._by_idx[opts.rowIdx].item,res,i;if(!_1f37||!_1f37[opts.childentity]||_1f37[opts.childentity].$resources.length===0){return dojo.string.substitute("<div style=\"text-indent:16px\">${0}</div>",[opts.value||"&nbsp;"]);}opts.value=opts.value||"&nbsp;";res=[];if(opts.includeButton){res.push(dojo.string.substitute(["<input type=button id=\"SOPshow${1}\" style=\"height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:''});dojo.query('#SOPshow${1}').style({display:'none'});dojo.query('#SOPhide${1}').style({display:''})\" value=\"+\">","<input type=button id=\"SOPhide${1}\" style=\"display:none;height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:'none'});dojo.query('#SOPshow${1}').style({display:''});dojo.query('#SOPhide${1}').style({display:'none'})\" value=\"-\"> "].join(""),[opts.value,opts.rowIdx]));}res.push(dojo.string.substitute("${0}<div class=SOProw${1} style=\"display:none\">",[opts.value,opts.rowIdx]));for(i=0;i<_1f37[opts.childentity].$resources.length;i++){res.push(dojo.string.substitute("<div style=\"text-indent:2em\">${0}</div>",[_1f37[opts.childentity].$resources[i][opts.fieldName]||"&nbsp;"]));}res.push("</div>");return res.join("");}});});},"Sage/UI/Columns/Phone":function(){define("Sage/UI/Columns/Phone",["Sage/Format","Sage/UI/Controls/Phone","Sage/UI/Columns/Cell","dojo/_base/declare"],function(_1f38,Phone,Cell,_1f39){var _1f3a=_1f39("Sage.UI.Columns.Phone",Cell,{defaultValue:"",widgetClass:Phone,getWidgetProps:function(_1f3b){var _1f3c=this._getControlId();return dojo.mixin({},this.widgetProps||{},{id:_1f3c,value:_1f3b,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field});},formatter:_1f38.phone,styles:"text-align: left;",getValue:function(index){var _1f3d=this.widget.get("value");_1f3d=this.widget.unformatNumber(_1f3d);if((typeof _1f3d==="undefined")||(_1f3d==="")){_1f3d=this.defaultValue;}if(this.widget&&this.widget.focusNode.state==="Error"){return this.widget.focusNode._resetValue;}return _1f3d;}});return _1f3a;});},"Sage/TaskPane/nls/JobManagerTasksTasklet":function(){define("Sage/TaskPane/nls/JobManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1f3e,lang){var nls={root:{taskRunJob_Caption:"Create Schedule",taskEditTrigger_Caption:"Edit Schedule",taskCancelJob_Caption:"Cancel Executing Job",taskDeleteScheduledJob_Caption:"Delete Schedule"}};return lang.mixin(_1f3e,nls);});},"Sage/MailMerge/Helper":function(){define("Sage/MailMerge/Helper",["Sage/UI/Dialogs","dijit/_Widget","dojo/i18n","dojo/string","dojo/_base/lang","dojo/i18n!./nls/Helper"],function(_1f3f,_1f40,i18n,_1f41,dLang,nls){Sage.namespace("MailMerge.Helper");dojo.mixin(Sage.MailMerge.Helper,{desktopErrorsStore:null,infoStore:null,DesktopErrors:function(){if(this.desktopErrorsStore!=null){return this.desktopErrorsStore;}else{var sPath=Sage.MailMerge.Loader.prototype.GetClientPath();if(sPath!=null){var sUrl=_1f41.substitute("${0}/SLXMailMergeClient.ashx?method=GetDesktopErrors",[sPath]);var _1f42=this.GetMailMergeLoader().DecodeMailMergeJsonFromUrl(sUrl);if(_1f42!=null){this.desktopErrorsStore=_1f42;return this.desktopErrorsStore;}}}return null;},ExecuteWriteAction:function(_1f43,param){try{require(["Sage/MailMerge/Service"],function(){var _1f44=Sage.MailMerge.Helper.GetMailMergeService();if(_1f44){switch(_1f43){case WriteAction.waWriteAddressLabels:_1f44.WriteAddressLabels();break;case WriteAction.waWriteEmail:_1f44.WriteEmail();break;case WriteAction.waWriteEmailUsing:_1f44.WriteEmailUsing(param);break;case WriteAction.waWriteEmailUsingMore:_1f44.WriteEmailUsingMoreTemplates();break;case WriteAction.waWriteFaxUsing:_1f44.WriteFaxUsing(param);break;case WriteAction.waWriteFaxUsingMore:_1f44.WriteFaxUsingMoreTemplates();break;case WriteAction.waWriteLetterUsing:_1f44.WriteLetterUsing(param);break;case WriteAction.waWriteLetterUsingMore:_1f44.WriteLetterUsingMoreTemplates();break;case WriteAction.waWriteMailMerge:_1f44.WriteMailMerge();break;case WriteAction.waWriteTemplates:_1f44.WriteTemplates(true);break;}}});}catch(err){var _1f45="";if(this.IsSageGearsObjectError(err)){_1f45=this.DesktopErrors().SageGearsObjectError;}var _1f46=(dojo.isFunction(err.toMessage))?err.toMessage(_1f45,this.MailMergeInfoStore().ShowJavaScriptStack):err.message;_1f3f.showError(_1f41.substitute(this.DesktopErrors().WriteActionError,[_1f46]));}},GetDesktopService:function(_1f47){return this.GetMailMergeService(_1f47);},GetMailMergeLoader:function(){if(Sage.Services.hasService("MailMergeServiceLoader")){return Sage.Services.getService("MailMergeServiceLoader");}return null;},GetMailMergeService:function(_1f48){var _1f49=true;if(typeof _1f48==="boolean"){_1f49=_1f48;}if(Sage&&Sage.Services&&Sage.gears&&Sage.gears.factory&&Sage.Services.hasService("MailMergeService")){return Sage.Services.getService("MailMergeService");}else{if(_1f49){_1f3f.showError(_1f41.substitute("${0} ${1}",[this.DesktopErrors().MailMergeServiceLoad,this.DesktopErrors().SageGearsObjectError]));}}return null;},IsSageGearsObjectError:function(err){if(err){var _1f4a="The specified class name cannot be mapped to a COM object";var _1f4b=this.DesktopErrors().SageGearsClassError;if((dojo.isIE&&(err.number==-2146827287))||(err.message.indexOf(_1f4a)!=-1)||(err.message.indexOf(_1f4b)!=-1)){return true;}}return false;},MailMergeInfoStore:function(){if(this.infoStore!=null){return this.infoStore;}else{var sPath=Sage.MailMerge.Loader.prototype.GetClientPath();if(sPath!=null){var sUrl=_1f41.substitute("${0}/SLXMailMergeClient.ashx?method=GetInfoStore",[sPath]);var _1f4c=this.GetMailMergeLoader().DecodeMailMergeJsonFromUrl(sUrl);if(_1f4c!=null){this.infoStore=_1f4c;return this.infoStore;}}}return null;}});dLang.mixin(Sage.MailMerge.Helper,nls);window.WriteAction={waWriteAddressLabels:0,waWriteEmail:1,waWriteEmailUsing:2,waWriteEmailUsingMore:3,waWriteFaxUsing:4,waWriteFaxUsingMore:5,waWriteLetterUsing:6,waWriteLetterUsingMore:7,waWriteMailMerge:8,waWriteTemplates:9};return Sage.MailMerge.Helper;});},"Sage/TaskPane/UserTasklet":function(){define("Sage/TaskPane/UserTasklet",["dojo/i18n!./nls/UserTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Utility","dojo/_base/declare","Sage/TaskPane/User/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/UI/Dialogs"],function(_1f4d,_1f4e,_1f4f,_1f50,_1f51,_1f52,_1f53,_1f54){var _1f55=_1f51("Sage.TaskPane.UserTasklet",[_1f4e,_1f4f],{addToRoleTitle:"Add to Role",resetUsersTitle:"Reset Users",taskItems:[],constructor:function(){dojo.mixin(this,_1f4d);this.taskItems=[{taskId:"AddToRole",type:"Link",displayName:this.addToRoleTitle,clientAction:"userTaskletActions.addUsersToRole();",securedAction:"Entities/User/Add"},{taskId:"ResetUsers",type:"Link",displayName:this.resetUsersTitle,clientAction:"userTaskletActions.resetUsers();",securedAction:"Entities/User/Add"},{taskId:"Associate Contact",type:"Link",displayName:this.associateContactTitle,clientAction:"userTaskletActions.associateContact();",securedAction:"Entities/User/AssociateUser"},{taskId:"Disassociate Contact",type:"Link",displayName:this.disAssociateContactTitle,clientAction:"userTaskletActions.disAssociateContact();",securedAction:"Entities/User/DisAssociateUser"}];},resetUsers:function(){if(_1f50.getModeId()==="detail"){this.onResetUsersClick();}else{this.prepareSelectedRecords(this.resetUsersAction(this));}},addUsersToRole:function(){if(_1f50.getModeId()==="detail"){this.onAddUserClick();}else{this.prepareSelectedRecords(this.actionItem(this));}},actionItem:function(self){return function(){self.onAddUserClick();};},resetUsersAction:function(self){return function(){self.onResetUsersClick();};},onAddUserClick:function(){var _1f56=dojo.byId([this.clientId,"_tskAddUserToRole"].join(""));if(_1f56){_1f56.click();}},onResetUsersClick:function(){var _1f57=dojo.byId([this.clientId,"_tskResetUsers"].join(""));if(_1f57){_1f57.click();}},associateContact:function(_1f58){var self=this;this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.singleSelectionErrorMessage);}else{if(this._selectionInfo.selectionCount>1){Sage.UI.Dialogs.showError(this.multipleSelectionErrorMessage);}else{var _1f59={"selectionInfo":this._selectionInfo,"action":_1f58};this._setupStore();this._contactUserStore.fetch({predicate:"UserId eq '"+this._selectionInfo.selectedIds[0]+"'",onComplete:function(_1f5a){Sage.UI.Dialogs.showError(self.associationExistsMessage);},onError:function(){self.prepareSelectedRecords(this.associateContactActionItem(_1f59));},scope:this});}}},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1f53({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},associateContactActionItem:function(_1f5b,_1f5c){return function(){var _1f5d=dijit.byId("dlgContactUserAssociation");if(!_1f5d){_1f5d=new _1f52(_1f5b,_1f5c);}else{_1f5d.setSelectionInfo(_1f5b,_1f5c);}_1f5d.show();};},disAssociateContact:function(){this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.noSelectionErrorMessage);}else{this.prepareSelectedRecords(this.confirmDisassociate(this));}},confirmDisassociate:function(self){return function(){var _1f5e=self.confirmDisAssociate;if(self._selectionInfo.selectionCount>1){_1f5e=self.confirmDisAssociateMultiple;}_1f54.raiseQueryDialog(self.disAssociateDialogTitle,dojo.string.substitute(_1f5e,[self._selectionInfo.selectionCount]),function(_1f5f){self.disAssociateActionItem(_1f5f,self);},self.okButtonText,self.cancelButtonText);};},disAssociateActionItem:function(_1f60,self){if(_1f60){self.getSelectionInfo();var _1f61=this.selectionInfo.selectedIds.join();this._removeContactUsers(_1f61,self._successfulContactUserDelete,self);}},_removeContactUsers:function(_1f62,_1f63,scope){var _1f64=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _1f65=new Sage.SData.Client.SDataServiceOperationRequest(_1f64).setResourceKind("ContactUsers").setOperationName("RemoveContactUserAssociations");var entry={"$name":"RemoveContactUserAssociations","request":{"ContactUserId":null,"contactIds":null,"userIds":_1f62}};_1f65.execute(entry,{success:function(){},failure:function(){},scope:scope||this});}});return _1f55;});},"url:Sage/UI/Controls/templates/MultiSelectPickList.html":"<div>\r\n    <input id=\"${id}-TextBox\" data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"textNode\" data-dojo-attach-event=\"onBlur: _onTextBlur\" />\r\n    <div id=\"${id}-Button\" data-dojo-type=\"dijit.form.DropDownButton\" data-dojo-attach-point=\"dropDownButtonNode\">\r\n        <span></span>\r\n        <div class=\"multiSelectPickListDialog\" id=\"${id}-ToolTipDialog\" data-dojo-type=\"dijit.TooltipDialog\" data-dojo-attach-point=\"tooltipDialogNode\" data-dojo-attach-event=\"onClose: _onTooltipClose, onShow: _onTooltipShow\">\r\n            <div data-dojo-attach-point=\"tooltipContainer\" style=\"height:200px; overflow-y:auto;\">\r\n            \r\n            </div>\r\n            \r\n            <div style=\"width: 100%; text-align:right\">\r\n                <p>\r\n                    <button id=\"${id}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\">${okText}</button>\r\n                <p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","Sage/QuickForms/Design/UrlControlDesigner":function(){define("Sage/QuickForms/Design/UrlControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/UrlControlDesigner"],function(_1f66,array,lang,_1f67,_1f68,_1f69,_1f6a,_1f6b){return _1f66("Sage.QuickForms.Design.UrlControlDesigner",[_1f67],{designSupport:{visible:true},editors:[_1f69,_1f6a,_1f68],widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %} design-url\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"design-url-icon\"></div>","</div>","</div>"]),helpTopicName:"URL_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXUrl, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Url",constructor:function(){lang.mixin(this,_1f6b);}});});},"url:Sage/MainView/ReportMgr/Crystal/templates/DateParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divDate\" style=\"padding-top: 5px;\">\r\n            <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDate\" displayDate=\"true\" displayTime=\"false\" label=\"From:\" required=\"true\" style=\"width:250px\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>","Sage/UI/MenuBar":function(){define("Sage/UI/MenuBar",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/PopupMenuItem","dijit/Menu","Sage/UI/MenuBarItem","dijit/MenuSeparator","dojo/_base/declare"],function(_1f6c,_1f6d,_1f6e,_1f6f,_1f70,_1f71,_1f72,_1f73){var _1f74=_1f73("Sage.UI.MenuBar",[_1f6c],{postMixInProperties:function(){this.store=Sage.UI.DataStore.MenuBar||{};this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var len=this.store.items?this.store.items.length:0;for(var i=0;i<len;i++){var _1f75=this.store.items[i];var mid=(_1f75.id!=="")?_1f75.id:this.id+"_"+i;var _1f76={label:_1f75.text||"...",icon:_1f75.img||this._blankGif,id:mid,title:_1f75.tooltip||_1f75.text||"",ref:_1f75.href||_1f75.navurl||"",imageClass:_1f75.imageClass||""};if(_1f75.items&&_1f75.items.length>0){var menu=new _1f70({});this._addItemsToMenu(_1f75.items,menu,mid);_1f76["popup"]=menu;this.addChild(new _1f6e(_1f76));}else{_1f76["onClick"]=dojo.hitch(_1f76,function(){if(this.ref!==""){window.location.href=this.ref;}});this.addChild(new _1f71(_1f76));}}},_addItemsToMenu:function(items,menu,_1f77){_1f77=_1f77||"";var len=items.length;for(var i=0;i<len;i++){var item=items[i];if(item.isspacer||item.text==="-"){menu.addChild(new _1f72({}));}else{var _1f78={label:item.text||"...",icon:item.img||this._blankGif,title:item.tooltip||item.text||"",ref:item.href||"",imageClass:item.imageClass||""};if(item.id!==""){_1f78["id"]=_1f77+"_"+item.id;}if(item.href!==""){_1f78["onClick"]=function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}};}if(item.submenu.length>0){var popup=new _1f70({});this._addItemsToMenu(item.submenu,popup,item.id||"");_1f78["popup"]=popup;menu.addChild(new _1f6f(_1f78));}else{menu.addChild(new _1f6d(_1f78));}}}}});return _1f74;});},"Sage/MainView/main":function(){define("Sage/MainView/main",["Sage/MainView/ActivityManager","Sage/MainView/SecurityManager","Sage/MainView/ActivityMgr/ActivityCalendar","Sage/MainView/BindingsManager","Sage/MainView/Contact/ContactSearchForDuplicates","Sage/MainView/Contact/ContactUserAssociationEditor","Sage/MainView/IntegrationContract/MatchingOptionsConfig","Sage/MainView/IntegrationContract/AdvancedSearchOptions","Sage/MainView/IntegrationContract/InvoiceRTDV","Sage/MainView/IntegrationContract/SalesOrderRTDV","Sage/MainView/IntegrationContract/SalesQuoteRTDV","Sage/MainView/IntegrationContract/CustomerPaymentsRTDV","Sage/MainView/JobManager","Sage/MainView/ReportManager"],function(){});},"Sage/UI/Controls/Select":function(){define("Sage/UI/Controls/Select",["dijit/form/Select","dojo/_base/declare","dojo/has","dojo/_base/sniff","dojo/_base/connect","dojo/dom-style","dojo/query"],function(_1f79,_1f7a,has,_1f7b,_1f7c,_1f7d,query){var _1f7e=_1f7a("Sage.UI.Controls.Select",[_1f79],{_hClickBody:false,shouldPublishMarkDirty:true,autoPostBack:false,maxHeight:has("ie")?146:155,postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},destroy:function(){this.inherited(arguments);},onClickBody:function(e){if(has("ie")>=9&&this._opened){this.closeDropDown();}},_setDisplay:function(_1f7f){this.inherited(arguments);this.trimDisplayValue();},onChanged:function(_1f80){if(this.shouldPublishMarkDirty){_1f7c.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},trimDisplayValue:function(){var nodes,i,len,node,_1f81;_1f81=this.focusNode.style.width;if(!_1f81){return;}nodes=query("span",this.containerNode);len=nodes&&nodes.length;for(i=0;i<len;i++){node=nodes[i];_1f7d.set(node,{"width":_1f81,"text-overflow":"ellipsis","overflow":"hidden"});}},closeDropDown:function(focus){if(has("ie")>=9&&this._hClickBody){_1f7c.disconnect(this._hClickBody);}this.inherited(arguments);},openDropDown:function(){if(has("ie")>=9){this._hClickBody=_1f7c.connect(document.body,"onclick",this,this.onClickBody);}this.inherited(arguments);}});return _1f7e;});},"Sage/QuickForms/Design/Editors/ComboBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ComboBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ComboBoxBasicPropertyEditor"],function(_1f82,lang,_1f83,_1f84,_1f85,_1f86,_1f87,_1f88,_1f89,_1f8a,_1f8b,_1f8c){return _1f82("Sage.QuickForms.Design.Editors.ComboBoxBasicPropertyEditor",[_1f83,_1f8a,_1f89],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_1f8c);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/MainView/ReportMgr/Common/_WizardDialogBase":function(){define("Sage/MainView/ReportMgr/Common/_WizardDialogBase",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dijit/_Widget","Sage/_Templated","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/Reporting/Enumerations","dojo/i18n!./nls/_WizardDialogBase","Sage/UI/Controls/_DialogHelpIconMixin",],function(_1f8d,topic,_1f8e,_1f8f,_1f90,_1f91,_1f92,_1f93,_1f94){var _1f95=_1f8d("Sage.MainView.ReportMgr.Common._WizardDialogBase",[_1f8f,_1f90],{_dialog:null,_currentStep:null,_isFirstStep:false,_isLastStep:false,_reportMetadata:null,_btnPlusIconPath:"images/icons/plus_16x16.gif",widgetsInTemplate:true,show:function(){this._dialog.show();if(this._helpIconTopic){if(!this._dialog.helpIcon){_1f8e.mixin(this._dialog,new _1f94());this._dialog.createHelpIconByTopic(this._helpIconTopic);}}},startup:function(){this.inherited(arguments);this._initializeWizardButtons();},isValid:function(){return true;},_dialog_OnCancel:function(){this._checkCurrentStep();this._dialog.hide();topic.publish("/reportManager/reportWizard/cancel",null);},_cmdBack_OnClick:function(){this._checkCurrentStep();var _1f96=this._getWizardStepResult();this._dialog.hide();topic.publish("/reportManager/reportWizard/previousStep",this._currentStep,_1f96);},_cmdNext_OnClick:function(){if(this.isValid()){this._checkCurrentStep();var _1f97=this._getWizardStepResult();this._dialog.hide();topic.publish("/reportManager/reportWizard/nextStep",this._currentStep,_1f97);}},_cmdCancel_OnClick:function(){this._checkCurrentStep();this._dialog.hide();topic.publish("/reportManager/reportWizard/cancel",null);},_initializeWizardOptions:function(_1f98){if(_1f98){this._isFirstStep=_1f98.isFirstStep;this._isLastStep=_1f98.isLastStep;this._reportMetadata=_1f98.reportMetadata;}},_initializeWizardButtons:function(){if(this._isFirstStep){_1f91.setDomNodeVisible(this.cmdBack.domNode,false);}if(this._isLastStep){this.cmdNext.setLabel(_1f93.txtFinish);}},_getWizardStepResult:function(){console.error("_getWizardStepResult must be implemented.");return null;},_checkCurrentStep:function(){if(this._currentStep===null){console.error("_currentStep has not been defined");}}});return _1f95;});},"Sage/UI/Controls/PickList":function(){define("Sage/UI/Controls/PickList",["dojo/topic","dojo/_base/declare","dijit/_Widget","dijit/Tooltip","Sage/Data/BaseSDataStore","Sage/Utility","dijit/Tooltip","dojo/i18n!./nls/PickList","dojo/_base/lang","Sage/Utility/_LocalStorageMixin","Sage/Data/SDataServiceRegistry"],function(topic,_1f99,_1f9a,_1f9b,_1f9c,util,_1f9d,nls,lang,_1f9e,_1f9f){var _1fa0=_1f99("Sage.UI.Controls.PickList",[_1f9a,_1f9e],{dataStore:null,storeOptions:null,pickListName:"",canEditText:false,itemMustExist:true,maxLength:-1,storeMode:"text",sort:true,displayMode:"AsControl",clientId:"",required:false,placeInNodeId:"",autoPostBack:false,controlTooltip:"",buttonTooltip:"",shouldPublishMarkDirty:true,renderAsHyperlink:false,_textId:"",_codeId:"",_picklistId:"",_defaultValueId:"",_defaultCodeId:"",_defaultPicklistId:"",_storageNameSpace:"PickListData",okText:"",missingPickListText:"",constructor:function(_1fa1){this.storeOptions=_1fa1.storeOptions;this.dataStore=_1fa1.dataStore;this.clientId=_1fa1.clientId||"";var cid=this.clientId;this._textId=cid+"_Text";this._codeId=cid+"_Code";this._picklistId=cid+"_PicklistId";this._defaultValueId=cid+"_DefaultValue";this._defaultCodeId=cid+"_DefaultCode";this._defaultPicklistId=cid+"_DefaultPicklistId";if(nls){this.okText=nls.okText;this.missingPickListText=nls.missingPickListText;}},postCreate:function(){var node=dojo.byId(this.placeInNodeId);if(node){this._setDefaultFields();dojo.place(this.domNode,node,"first");}this.inherited(arguments);},uninitialize:function(){this.inherited(arguments);},_setStore:function(_1fa2){this.storeOptions={include:["items"],select:["Id","name","allowMultiples","valueMustExist","required","alphaSorted","noneEditable","modifyDate","items/text","items/code","items/number"],resourceKind:"picklists",service:_1f9f.getSDataService("system",false,true,false),directQuery:{name:_1fa2}};this.dataStore=new _1f9c(this.storeOptions);},_setDefaultFields:function(){if(this.required){var text=dojo.byId(this._textId);if(text&&text.value===""){var code=dojo.byId(this._codeId),_1fa3=dojo.byId(this._picklistId);var _1fa4=dojo.byId(this._defaultValueId);var _1fa5=dojo.byId(this._defaultCodeId);var _1fa6=dojo.byId(this._defaultPicklistId);text.value=_1fa4.value;code.value=_1fa5.value;_1fa3.value=_1fa6.value;}}},_setupTooltips:function(_1fa7,_1fa8){if(this.controlTooltip&&this.controlTooltip!==""&&_1fa8){var t=new _1f9d({connectId:[_1fa8],label:this.controlTooltip,position:["below"]});}if(this.buttonTooltip&&this.buttonTooltip!==""&&_1fa7){var t2=new _1f9d({connectId:[_1fa7],label:this.buttonTooltip,position:["below"]});}},getPickListData:function(_1fa9){var list=this.getFromLocalStorage(this.pickListName,this._storageNameSpace);if(list){this.setPicklistAttributes(list);_1fa9.callback(list);return;}this.dataStore.fetch({onComplete:lang.hitch(this,function(data){var _1faa;if(data&&data.length>0){_1faa=data[0];var temp=_1faa.items.$resources;if(this.sort&&_1faa.alphaSorted){_1faa.items.$resources=temp.sort(function(a,b){if(a.text<b.text){return -1;}if(a.text>b.text){return 1;}return 0;});}}else{_1faa="";}this.saveToLocalStorage(this.pickListName,_1faa,this._storageNameSpace);this.setPicklistAttributes(_1faa);_1fa9.callback(_1faa);}),onError:function(e){_1fa9.errback(e);},scope:this});},setPicklistAttributes:function(_1fab){if(_1fab.valueMustExist){this._setItemMustExistAttr(_1fab.valueMustExist);}},setASPNETInputs:function(_1fac,_1fad,_1fae){if(this._textId&&this._codeId&&this._picklistId){var text=dojo.byId(this._textId);var code=dojo.byId(this._codeId);var id=dojo.byId(this._picklistId);if(text&&code&&id){text.value=_1fac;id.value=_1fae;code.value=_1fad;this.invokeChangeEvent();}}},invokeChangeEvent:function(){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.clientId,"");}},_getCanEditTextAttr:function(){return this.canEditText;},_setCanEditTextAttr:function(value){this.canEditText=value;},_getItemMustExistAttr:function(){return this.itemMustExist;},_setItemMustExistAttr:function(value){this.itemMustExist=value;},_getMaxLengthAttr:function(){return this.maxLength;},_setMaxLengthAttr:function(value){this.maxLength=value;},_getStoreModeAttr:function(){return this.storeMode;},_setStoreModeAttr:function(value){this.storeMode=value;},_getPickListNameAttr:function(){return this.pickListName;},_setPickListNameAttr:function(value){this.pickListName=value;this._setStore(value);},statics:{}});return _1fa0;});},"Sage/MainView/ActivityMgr/nls/ActivityEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/nls/ActivityEditorAttendeesTab",["Sage/LanguageList","dojo/_base/lang"],function(_1faf,lang){var nls={root:{header_Name:"Name",header_AccountName:"Account/Company",header_Type:"Type",header_Primary:"Primary",header_RoleName:"Role",header_Phone:"Phone",header_Email:"Email",header_TimeZone:"Time Zone",header_Notes:"Notes",tooltip_speedSearch:"Add Participant",tooltip_AddContact:"Add Contact",tooltip_AddLead:"Add Lead",tooltip_Delete:"Delete"}};return lang.mixin(_1faf,nls);});},"Sage/UI/nls/UserType":function(){define("Sage/UI/nls/UserType",["Sage/LanguageList","dojo/_base/lang"],function(_1fb0,lang){var nls={root:{administratorText:"Administrator",templateText:"Template",remoteText:"Remote",webOnlyText:"Web Only",retiredText:"Retired",concurrentText:"Concurrent",webViewerText:"Web Viewer",networkText:"Network",addOnUserText:"Add-on User"}};return lang.mixin(_1fb0,nls);});},"Sage/UI/Controls/CopyToClipboard":function(){require({cache:{"url:Sage/UI/Controls/templates/CopyToClipboard.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" dojoAttachPoint=\"dialogNode\">\r\n        \r\n        <span>${helpText}</span>\r\n        <div style=\"width: 550px; height: 400px;\">\r\n            <div data-dojo-type=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabNode\" style=\"width: 100%; height: 100%;\">\r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${textTab}\">\r\n                    <div dojoAttachPoint=\"contentNode\"></div>\r\n                </div>\r\n            \r\n                <div data-dojo-type=\"dijit.layout.ContentPane\" title=\"${sourceTab}\">\r\n                    <textarea dojoAttachPoint=\"textNode\" data-dojo-type=\"dijit.form.SimpleTextarea\" style=\"width: 100%; height: 95%;\"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n        <div style=\"float:right;padding-bottom:8px;\">\r\n            <button data-dojo-type=\"dijit.form.Button\" type=\"submit\" dojoAttachEvent=\"onClick:_closeClicked\">\r\n                ${closeText}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});define("Sage/UI/Controls/CopyToClipboard",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/Dialog","dijit/layout/TabContainer","dijit/layout/ContentPane","dijit/form/SimpleTextarea","dijit/form/Button","dojo/_base/lang","Sage/Format","Sage/Utility","Sage/Utility/Email","Sage/Data/SDataServiceRegistry","dojo/_base/sniff","dojo/text!./templates/CopyToClipboard.html","dojo/i18n!./nls/CopyToClipboard","dojo/_base/declare"],function(_1fb1,_1fb2,_1fb3,_1fb4,_1fb5,_1fb6,_1fb7,_1fb8,lang,_1fb9,util,email,_1fba,has,_1fbb,_1fbc,_1fbd){var _1fbe=_1fbd("Sage.UI.Controls.CopyToClipboard",[_1fb3,_1fb1,_1fb2],{templateString:_1fbb,widgetsInTemplate:true,textAlign:"left",calendarName:"calendar1",timeTextBoxName:"timeTextBox1",textNode:null,contentNode:null,closeText:"",dialogTitle:"",helpText:"",mashupName:"",queryName:"",service:null,template:"",entity:null,widgetTemplate:null,id:"copyToClipboard",constructor:function(_1fbf){this.service=_1fba.getSDataService("mashups");this.inherited(arguments);},postMixInProperties:function(){lang.mixin(this,_1fbc);this.inherited(arguments);},show:function(){if(!window.clipboardData){this.dialogNode.set("title",this.dialogTitle);this.dialogNode.show();}this._readMashupFeed();},_readMashupFeed:function(_1fc0){var _1fc1=new Sage.SData.Client.SDataNamedQueryRequest(this.service),_1fc2=this.mashupName||"SummaryViewQueries",_1fc3=Sage.Services.getService("ClientEntityContext"),_1fc4=_1fc3.getContext(),_1fc5=_1fc4.EntityId,self=this;_1fc1.setApplicationName("$app");_1fc1.setResourceKind("mashups");_1fc1.uri.setCollectionPredicate("'"+this.mashupName+"'");_1fc1.setQueryName("execute");_1fc1.setQueryArg("_resultName",this.queryName);_1fc1.setQueryArg("_ids","'"+_1fc5+"'");_1fc1.read({success:dojo.hitch(self,function(data){this._mixinTemplateLocale();this.entity=data.$resources[0];this._buildTemplateWidget();this._setContentToCopy();if(_1fc0&&(typeof _1fc0==="function")){_1fc0.call(this,data);}}),failure:dojo.hitch(self,function(data){this.dialogNode.hide();})});},_mixinTemplateLocale:function(){var _1fc6=["Sage"],_1fc7=this.template.split("/"),i;for(i=0;i<_1fc7.length-1;i++){_1fc6.push(_1fc7[i]);}var path="dojo/i18n!"+_1fc6.join("/")+"/nls/"+_1fc7[_1fc7.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));},_buildTemplateWidget:function(){var _1fc8=dojo["cache"]("Sage",this.template),temp=eval(_1fc8);this.widgetTemplate=new Simplate(temp);},_setContentToCopy:function(){var val=this.widgetTemplate.apply(this),_1fc9;this.contentNode.innerHTML=val;this.textNode.set("value",val);if(window.clipboardData){try{_1fc9=util.getPlainText(this.contentNode);window.clipboardData.setData("text",_1fc9);this.dialogNode.hide();}catch(e){}}},_closeClicked:function(_1fca){this.onCloseClicked();},onCloseClicked:function(){},destroy:function(){var _1fcb=dijit.byId(this.dialogNode.id);if(_1fcb){setTimeout(function(){_1fcb.destroyRecursive(false);},1);this.inherited(arguments);}},OnEmailContentReady:function(_1fcc){this._readMashupFeed(function(){var _1fcd=dojo.byId(_1fcc+"_to"),_1fce=(_1fcd)?_1fcd.value:"",_1fcf=dojo.byId(_1fcc+"_cc"),_1fd0=(_1fcf)?_1fcf.value:"",_1fd1=dojo.byId(_1fcc+"_bcc"),_1fd2=(_1fd1)?_1fd1.value:"",_1fd3=dojo.byId(_1fcc+"_subject"),_1fd4=(_1fd3)?_1fd3.value:"",_1fd5=util.getPlainText(this.contentNode),recip={};if(_1fce!==""){recip.to=_1fce;}if(_1fd0!==""){recip.cc=_1fd0;}if(_1fd2!==""){recip.bcc=_1fd2;}email.writeEmail(recip,_1fd4,_1fd5,false);});}});return _1fbe;});},"Sage/QuickForms/Design/nls/FormDesigner":function(){define("Sage/QuickForms/Design/nls/FormDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1fd6,lang){var nls={root:{displayNameText:"Form"}};return lang.mixin(_1fd6,nls);});},"Sage/UI/UniqueToListValidationTextBox":function(){define("Sage/UI/UniqueToListValidationTextBox",["dijit/form/ValidationTextBox","dojo/_base/declare"],function(_1fd7,_1fd8){var _1fd9=_1fd8("Sage.UI.UniqueToListValidationTextBox",_1fd7,{notUniqueText:"This value already exists",uniqueList:"",_uniqueHash:{},isValid:function(_1fda){var _1fdb=this.inherited(arguments);var value=this.get("value");return (!(value in this._uniqueHash)&&_1fdb);},_setUniqueListAttr:function(value){this.uniqueList=dojo.isString(value)?value.split(","):(dojo.isArray(value)?value:[value]);this._uniqueHash={};for(var i=0;i<this.uniqueList.length;i++){this._uniqueHash[this.uniqueList[i]]=1;}}});return _1fd9;});},"Sage/MainView/ActivityMgr/nls/ActivityCalendar":function(){define("Sage/MainView/ActivityMgr/nls/ActivityCalendar",["Sage/LanguageList","dojo/_base/lang"],function(_1fdc,lang){var nls={root:{completedText:"(Completed)"}};return lang.mixin(_1fdc,nls);});},"Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope":function(){define("Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_1fdd,i18n,_1fde,_1fdf,_1fe0,_1fe1){var _1fe2=_1fe1("Sage.MainView.ReportMgr.ReportsSDataSummaryFormatterScope",[_1fde],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1fdf(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _1fe2;});},"Sage/Utility/nls/Jobs":function(){define("Sage/Utility/nls/Jobs",["Sage/LanguageList","dojo/_base/lang"],function(_1fe3,lang){var nls={root:{errorMessage:"Sorry, an error occurred during the execution of job '${0}': ${1} ${2}.",jobCompletedSuccessfully:"The job has completed successfully.",unexpectedErrorMessage:"Sorry, an unexpected error occurred during the execution of job '${0}'.",repeatIndefinitely:"Repeat indefinitely",cancelButtonCaption:"Cancel",defaultProgressDialogTitle:"Running Job",closeButtonCaption:"Close",filtersAppliedError:"This job cannot run when filters are applied. Please clear all filters and try again."}};return lang.mixin(_1fe3,nls);});},"Sage/UI/Controls/nls/_DialogHelpIconMixin":function(){define("Sage/UI/Controls/nls/_DialogHelpIconMixin",["Sage/LanguageList","dojo/_base/lang"],function(_1fe4,lang){var nls={root:{helpTooltip:"Help"}};return lang.mixin(_1fe4,nls);});},"Sage/QuickForms/Design/ControlDesignerRegistry":function(){define("Sage/QuickForms/Design/ControlDesignerRegistry",["dojo/_base/lang","./GenericControlDesigner","./HiddenControlDesigner","./TextBoxControlDesigner","./UrlControlDesigner","./PhoneControlDesigner","./EmailControlDesigner","./CheckBoxControlDesigner","./PickListControlDesigner","./ComboBoxControlDesigner","./UserControlDesigner","./OwnerControlDesigner","./DateTimePickerControlDesigner","./DataGridControlDesigner","./NumericControlDesigner","./DataSourceDesigner","./CurrencyControlDesigner","./EditableGridControlDesigner"],function(lang,_1fe5,_1fe6,_1fe7,_1fe8,_1fe9,_1fea,_1feb,_1fec,_1fed,_1fee,_1fef,_1ff0,_1ff1,_1ff2,_1ff3,_1ff4,_1ff5){var _1ff6={"Sage.Platform.QuickForms.Controls.QFTextBox, Sage.Platform.QuickForms":_1fe7,"Sage.Platform.QuickForms.QFControls.QFHidden, Sage.Platform.QuickForms.QFControls":_1fe6,"Sage.SalesLogix.QuickForms.QFControls.QFSLXUrl, Sage.SalesLogix.QuickForms.QFControls":_1fe8,"Sage.SalesLogix.QuickForms.QFControls.QFSLXPhone, Sage.SalesLogix.QuickForms.QFControls":_1fe9,"Sage.SalesLogix.QuickForms.QFControls.QFSLXEmail, Sage.SalesLogix.QuickForms.QFControls":_1fea,"Sage.Platform.QuickForms.QFControls.QFCheckBox, Sage.Platform.QuickForms.QFControls":_1feb,"Sage.SalesLogix.QuickForms.QFControls.QFSLXPickList, Sage.SalesLogix.QuickForms.QFControls":_1fec,"Sage.Platform.QuickForms.QFControls.QFListBox, Sage.Platform.QuickForms.QFControls":_1fed,"Sage.SalesLogix.QuickForms.QFControls.QFSLXUser, Sage.SalesLogix.QuickForms.QFControls":_1fee,"Sage.SalesLogix.QuickForms.QFControls.QFSLXOwner, Sage.SalesLogix.QuickForms.QFControls":_1fef,"Sage.SalesLogix.QuickForms.QFControls.QFDateTimePicker, Sage.SalesLogix.QuickForms.QFControls":_1ff0,"Sage.SalesLogix.QuickForms.QFControls.QFDataGrid, Sage.SalesLogix.QuickForms.QFControls":_1ff1,"Sage.SalesLogix.QuickForms.QFControls.QFSLXNumeric, Sage.SalesLogix.QuickForms.QFControls":_1ff2,"Sage.Platform.QuickForms.QFControls.QFDataSource, Sage.Platform.QuickForms.QFControls":_1ff3,"Sage.Platform.QuickForms.QFControls.QFHqlDataSource, Sage.Platform.QuickForms.QFControls":_1ff3,"Sage.Platform.QuickForms.QFControls.QFMashupDataSource, Sage.Platform.QuickForms.QFControls":_1ff3,"Sage.Platform.QuickForms.QFControls.QFSDataDataSource, Sage.Platform.QuickForms.QFControls":_1ff3,"Sage.SalesLogix.QuickForms.QFControls.QFSLXCurrency, Sage.SalesLogix.QuickForms.QFControls":_1ff4,"Sage.SalesLogix.QuickForms.QFControls.SDataGrid.QFSDataGrid, Sage.SalesLogix.QuickForms.QFControls":_1ff5};var _1ff7={"ccc0f01d-7ba5-408e-8526-a3f942354b3a":_1fe7,"f4ca6023-9f5f-4e41-8571-50ba94e8f233":_1fe7,"76c537a8-8b08-4b35-84cf-fa95c6c133b0":_1fe7,"b2ed309e-ea89-4eef-8051-6244987953a4":_1fe7,"47f90249-e4c8-4564-9ae6-e1fa9904f8b8":_1ff2,"f37c635c-9fbf-40d8-98d5-750a54a3cca1":_1ff2,"a6bf2690-3477-4a18-9849-56abf8693934":_1ff2,"2596d57d-89d6-4b72-9036-b18c64c5324c":_1ff2,"6b0b3d51-0728-4b67-9473-52836a81da53":_1ff2,"30053f5a-8d40-4db1-b185-1e4128eb26cc":_1fe7,"92432b4d-8206-4a96-ba7b-e4cbd374f148":_1feb,"95ca9d52-6f0b-4a96-bd40-43583f41faf8":_1feb,"3edc7c52-e711-431d-b150-969d88ebabf4":_1feb,"1f08f2eb-87c8-443b-a7c2-a51f590923f5":_1ff0,"31e8638d-4232-4c61-8827-d94132a33887":_1fea,"85f2bba5-1fb7-4ecf-941a-d98d4739c305":_1fe9,"b71918bf-fac1-4b62-9ed5-0b0294bc9900":_1fec,"17541523-fc31-4269-ac97-df63290d0e31":_1fef,"a3b52518-801b-44be-96bf-fdca3de84f7f":null,"517d5e69-9efa-4d0a-8e7a-1c7691f921ba":null,"189a1a4e-396c-4146-95c0-93b5d9e7d160":null,"8edd8fce-2be5-4d3d-bedd-ea667e78a8af":null,"3ca925e1-4b76-4621-a39c-a0d4cb7327d5":null,"68e04249-f7e2-4b63-90be-55fbb1f4aa77":null,"07370ef3-ad24-409f-86a8-ff2db5ee6d69":null,"5685161e-5f0a-4a36-83fe-89e8e462e9e7":_1fe8};return lang.setObject("Sage.QuickForms.Design.ControlDesignerRegistry",{fromType:_1ff6,fromDataType:_1ff7,getDesignerFor:function(entry,_1ff8){var name=entry&&entry["$type"];return this.fromType[name]||((_1ff8!==false)&&_1fe5);},getDesignerForDataType:function(_1ff9,_1ffa){return this.fromDataType[_1ff9]||((_1ffa!==false)&&_1fe7);}});});},"Sage/QuickForms/Design/Editors/nls/PickListAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/PickListAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1ffb,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",allowMultiplesText:"Allow Multiple Selections:",allowMultiplesTooltipText:"Allows user to select more than one item.",canEditTextText:"Can Edit Text:",canEditTextTooltipText:"Allows user to type value.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",mustExistInListText:"Item Must Exist:",mustExistInListTooltipText:"Requires typed value to be on list.",pickListNameText:"Pick List Name:",pickListNameTooltipText:"Name of the list of values the user can select from when entering data.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",storageModeText:"Storage Mode:",storageModeTooltipText:"How the value is stored: Text, Id, or Code.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},displayModeTypeText:{AsControl:"As Control",AsText:"As Text",AsHyperlink:"As Hyperlink"},storageModeTypeText:{Text:"Text",Id:"ID",Code:"Code"},pickListRequestErrorText:"Unable to retrieve picklists from server."}};return lang.mixin(_1ffb,nls);});},"Sage/UI/nls/ActivityList":function(){define("Sage/UI/nls/ActivityList",["Sage/LanguageList","dojo/_base/lang"],function(_1ffc,lang){var nls={root:{addMeetingText:"Schedule Meeting",addPhoneCallText:"Schedule Phone Call",addToDoText:"Schedule To-Do",helpText:"Help",completeText:"Complete",typeText:"Type",startDateText:"Date/Time",dateRangeText:"Date Range",durationText:"Duration",leaderText:"Leader",contactText:"Contact",opportunityText:"Opportunity",descriptionText:"Regarding",categoryText:"Category",firstNameText:"First Name",lastNameText:"Last Name"}};return lang.mixin(_1ffc,nls);});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportParametersDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"paramsContainerDiv\" id=\"paramsContainerDiv\" style=\"height:350px; overflow:auto\">\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","Sage/UI/Alarms/nls/JobNotificationPopup":function(){define("Sage/UI/Alarms/nls/JobNotificationPopup",["Sage/LanguageList","dojo/_base/lang"],function(_1ffd,lang){var nls={root:{title:"Job Notifications",helpText:"Help",colNameJobName:"Type",colNameProgress:"Progress",colNameStatus:"Status",colExecutionResult:"Result"}};return lang.mixin(_1ffd,nls);});},"Sage/UI/Dashboard/main":function(){define("Sage/UI/Dashboard/main",["Sage/UI/Dashboard/BaseWidget","Sage/UI/Dashboard/ChartingWidget","Sage/UI/Dashboard/Dashboard","Sage/UI/Dashboard/DashboardPage","Sage/UI/Dashboard/DashboardTabController","Sage/UI/Dashboard/DashboardWidget","Sage/UI/Dashboard/DashboardWidgetCell","Sage/UI/Dashboard/WidgetDefinition"],function(){});},"Sage/UI/Filters/EditFilterItems":function(){require({cache:{"url:Sage/UI/Filters/templates/EditFilterItems.html":"<div>\r\n    <div class=\"filter-items-dialog\" data-dojo-type=\"dijit.Dialog\" data-dojo-props=\"title:'${dialogTitle}'\" data-dojo-attach-point=\"dialogNode\">\r\n        <div class=\"filter-items-search\">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point=\"textFind\" data-dojo-type=\"dijit.form.TextBox\" />\r\n            <span data-dojo-attach-point=\"buttonFind\" title=\"${findText}\" data-dojo-type=\"Sage.UI.ImageButton\" data-dojo-props=\"imageClass: 'icon_Find_16x16'\" data-dojo-attach-event=\"onClick:_onFindClick\"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point=\"buttonClear\" title=\"${clearText}\" data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_onClearClick\">${clearText}</span>\r\n        </div>\r\n        <div class=\"filter-clear-all\">\r\n            <input data-dojo-attach-point=\"checkAll\" data-dojo-type=\"dijit.form.CheckBox\" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class=\"filter-items-dialog-content\" data-dojo-attach-point=\"contentNode\">\r\n        </div>\r\n        <div class=\"button-bar alignright\">\r\n            <button data-dojo-attach-point=\"buttonOK\" data-dojo-attach-event=\"onClick:_onOKClick\" data-dojo-type=\"dijit.form.Button\">${okText}</button>\r\n            <button data-dojo-attach-point=\"buttonCancel\" data-dojo-attach-event=\"onClick:_onCancelClick\" data-dojo-type=\"dijit.form.Button\">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/UI/Filters/EditFilterItems",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/form/Button","Sage/UI/ImageButton","dijit/form/CheckBox","dijit/form/TextBox","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","Sage/Utility/Filters","dojo/json","dojo/parser","dojo/text!./templates/EditFilterItems.html","dojo/i18n!./nls/EditFilterItems"],function(_1ffe,_1fff,_2000,_2001,_2002,_2003,_2004,_2005,_2006,array,lang,_2007,_2008,_2009,_200a,json,_200b,_200c,_200d){return _2006("Sage.UI.Filters.EditFilterItems",[_1ffe,_1fff,_2000],{templateString:_200c,widgetsInTemplate:true,id:"editFilterItems",store:null,activeFilters:"",filter:null,checkBoxes:null,allItems:null,filterPanel:null,parent:null,formatter:null,baseFilter:"",selectAllText:"Select All",findItemText:"Find Item:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Filter Items",okText:"OK",cancelText:"Cancel",count:1000,loading:false,handles:null,mainHandles:null,safeCheck:true,checkBoxTemplate:new Simplate(["<input id=\"{%: $.id %}\" ","name=\"{%: $.name %}\" ","data-dojo-type=\"dijit.form.CheckBox\" ","data-dojo-props=\"label: '{%: $.name %}'\" ","class=\"editFilterCheckBox\" />","<label for=\"{%: $.id %}\">{%: $.itemName %}</label><br />"]),constructor:function(_200e){this.inherited(arguments);this.checkBoxes=[];this.allItems=[];this.handles=[];this.mainHandles=[];if(_200d){this.selectAllText=_200d.selectAllText;this.clearText=_200d.clearText;this.findItemText=_200d.findItemText;this.findText=_200d.findText;this.dialogTitle=_200d.dialogTitle;this.okText=_200d.okText;this.cancelText=_200d.cancelText;}},postCreate:function(){this.inherited(arguments);this.mainHandles.push(this.textFind.on("keyDown",lang.hitch(this,this._onFindMouseDown)));this.mainHandles.push(this.checkAll.on("click",lang.hitch(this,this._onCheckAllClick)));},_onCheckAllClick:function(){if(this.safeCheck){if(this.checkAll.checked){this._onSelectAllClick();}else{this._onClearAllClick();}}},showDialog:function(){this.requestData();lang.mixin(this.dialogNode,new _2009());this.dialogNode.createHelpIconByTopic("editFilterItems");this.dialogNode.show();},hideDialog:function(){this.dialogNode.hide();},_onClearAllClick:function(){array.forEach(this.checkBoxes,function(_200f){var label=_200f.get("label"),index=array.indexOf(this.allItems,_200f.get("label"));if(index===-1){this.allItems.push(label);}_200f.set("checked",false);},this);},_onSelectAllClick:function(){array.forEach(this.checkBoxes,function(_2010){var label=_2010.get("label"),index=array.indexOf(this.allItems,_2010.get("label"));if(index>-1){this.allItems.splice(index,1);}_2010.set("checked",true);},this);},_onClearClick:function(){this.textFind.set("value","");this._onFindClick();},_onCancelClick:function(){this.textFind.set("value","");this._onFindClick();this.dialogNode.hide();this.allItems=[];},_onOKClick:function(){this.textFind.set("value","");this._onFindClick();var data=this.filterPanel._configuration._hiddenFilters||{},key=this.filterPanel._configuration._hiddenFiltersKey,_2011=Sage.Services.getService("ClientGroupContext"),_2012=_2011&&_2011.getContext(),prop=_2012.CurrentEntity+"_"+this.filter.filterName,items=[];if(!data[prop]){data[prop]={expanded:false,hidden:false};}data[prop].items=this.allItems;_200a.setHiddenFilters(key,json.stringify(data));if(this.parent){this.parent.refresh();}this.dialogNode.hide();this.allItems=[];},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_2013){_2013.remove();});this._destroyContent();this.checkBoxes=null;this.allItems=null;this.checkAll.destroy(false);this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.buttonFind.destroy(false);this.textFind.destroy(false);this.dialogNode.destroy(false);this.inherited(arguments);},requestData:function(){if(!this.loading){this._destroyContent();this.checkBoxes=[];this.activeFilters=this.store.request.getQueryArg("_activeFilter");this.store.request.setQueryArg("_activeFilter",this.baseFilter);}this.loading=true;this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),count:this.count});},_onFindMouseDown:function(event){if(event.keyCode===13){this._onFindClick();}},_onFindClick:function(){if(!this.loading){var _2014=this.textFind.get("value");if(_2014){this.store.where="displayName like \"%"+this.textFind.get("value")+"%\"";}else{this.store.where="";}this.requestData();}},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_2008.findWidgets(this.contentNode),function(_2015){_2015.destroy(false);});array.forEach(this.handles,function(_2016){_2016.remove();});this.handles=[];this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onCheckClick:function(e){var self=this.self,_2017=this.checkBox,name=_2017&&_2017.get("label"),index;if(_2017.checked){index=array.indexOf(self.allItems,name);if(index>-1){self.allItems.splice(index,1);}}else{self._safeCheckAll(false);self.allItems.push(name);}},_safeCheckAll:function(_2018){this.safeCheck=false;this.checkAll.set("checked",_2018);this.safeCheck=true;},_onFetchComplete:function(items){var entry,_2019,id,_201a,_201b=[],i,len=items.length,name,_201c;for(i=0;i<len;i++){entry=items[i];_201c=entry.$descriptor;if(this.formatter){_201c=this.formatter(entry.$descriptor);}_2019=_201c+" ("+entry.value+")";id=[this.filter.filterName,i].join("_");name=entry.name&&entry.name.trim();if(name){name=name.replace("'","\\'");_201b.push(this.checkBoxTemplate.apply({id:id,name:name,itemName:_2019}));}}_201a=_2007.toDom(_201b.join(""));_2007.place(_201a,this.contentNode,"last");this._finishedLoading();},_finishedLoading:function(){if(this.activeFilters){this.store.request.setQueryArg("_activeFilter",this.activeFilters);}this._parseCheckBoxes();this.setupCheckState();this.loading=false;},_parseCheckBoxes:function(){if(!this.contentNode){return;}var _201d;_200b.parse(this.contentNode);_201d=_2008.findWidgets(this.contentNode);array.forEach(_201d,function(_201e){_201e.on("click",lang.hitch({checkBox:_201e,self:this},this._onCheckClick));this.checkBoxes.push(_201e);},this);},setupCheckState:function(){var data=this.filterPanel._configuration._hiddenFilters||{},_201f=Sage.Services.getService("ClientGroupContext"),_2020=_201f&&_201f.getContext(),prop=_2020.CurrentEntity+"_"+this.filter.filterName,_2021=this.allItems.length===0;if(data[prop]){array.forEach(this.checkBoxes,function(_2022){var _2023,_2024,label=_2022.get("label");_2023=array.indexOf(data[prop].items,label);_2024=array.indexOf(this.allItems,label);if(_2023>-1){_2022.set("checked",false);if(_2024===-1&&_2021){this.allItems.push(label);}}else{_2022.set("checked",true);}_2024=array.indexOf(this.allItems,label);if(_2024>-1){_2022.set("checked",false);}else{_2022.set("checked",true);}},this);this._safeCheckAll(this.allItems.length===0);}}});});},"Sage/MainView/ActivityMgr/AllOpenListPanelConfig":function(){define("Sage/MainView/ActivityMgr/AllOpenListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SDataSummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(_2025,_2026,_2027,_2028,_2029,_202a,_202b,_202c,_202d){var _202e=_202c("Sage.MainView.ActivityMgr.AllOpenListPanelConfig",[_2025],{constructor:function(){this._nlsResources=_202d;this._listId="allOpen";this._resourceKind="activities";this.entityName="Activity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_202b.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.list.selectionMode="single";this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);},_onListRefresh:function(event){var _202f=Sage.Services.getService("ActivityService");_202f.refreshList("allopen");},_getSelect:function(){var _2030=["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader","RecurrenceState","Details/AttendeeCount"];return _2030;},_getInclude:function(){var _2031=["$descriptors"];return _2031;},_getSort:function(){var sort=[{attribute:"StartDate",descending:true}];return sort;},_getWhere:function(){var where="";where="(Type ne \"atLiterature\" )";return where;},_getStructure:function(){var _2032="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _2033="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _2034="<img style='width: 16px; height: 16px' src='images/icons/Alarm_16x16.gif' title='"+this._nlsResources.colNameAlarm+"' alt='"+this._nlsResources.colNameAlarm+"' />";var _2035=this._nlsResources.colNameType||"Type";var _2036=this._nlsResources.colNameStartDate||"Start Date";var _2037=this._nlsResources.colNameDuration||"Duration";var _2038=this._nlsResources.colNameAccount||"Account";var _2039=this._nlsResources.colNameRegarding||"Regarding";var _203a=this._nlsResources.colNamePriority||"Priority";var _203b=this._nlsResources.colNameUserId||"Leader";var _203c=this._nlsResources.colNameTypeName||"Type";var _203d=this._nlsResources.colNameContactName||"Name";var _203e=this._nlsResources.colNameAssociationCount||"Participant Count";var _203f=[{field:"Alarm",name:_2034,type:_2027.activityAlarmCell,width:"20px"},{field:"Attachment",name:_2032,type:_2027.activityAttachCell,width:"20px"},{field:"Recurring",name:_2033,type:_2027.activityRecurringCell,width:"20px"},{field:"Type",name:_2035,type:_2027.activityTypeCell,width:"90px"},{field:"StartDate",name:_2036,type:_202a,timelessField:"Timeless",width:"100px"},{field:"Duration",name:_2037,type:_2027.activityDurationCell,width:"40px"},{field:"ContactId",name:_203c,type:_2027.activityNameTypeCell,width:"40px"},{field:"ContactName",name:_203d,type:_2027.activityNameCell,width:"200px"},{field:"AccountName",name:_2038,type:_2027.activityAccountCell,width:"200px"},{field:"Description",name:_2039,width:"100px"},{field:"Priority",name:_203a,width:"40px"},{field:"Leader",name:_203b,type:_2027.activityLeaderCell,width:"200px"},{field:"Details.AttendeeCount",name:_203e,width:"90px"}];return _203f;},_getDetailConfig:function(){var _2040=this._getSummaryDetailRequestConfig();var _2041={resourceKind:this._resourceKind,requestConfiguration:_2040,templateLocation:"MainView/ActivityMgr/Templates/AllOpenDetailSummary.html"};return _2041;},_getSummaryListRequestConfig:function(){var _2042={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader/$descriptor","Location","TicketId","TicketNumber","OpportunityId","OpportunityName","Notes","RecurrenceState","PhoneNumber","Details/AttendeeCount"],include:["$descriptors"],useBatchRequest:true};return _2042;},_getSummaryDetailRequestConfig:function(){var _2043={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader/$descriptor","Location","TicketId","TicketNumber","OpportunityId","OpportunityName","LongNotes","RecurrenceState","PhoneNumber","Details/AttendeeCount"],include:["$descriptors"],useBatchRequest:true};return _2043;},_getFormatterScope:function(){var _2044=this._getSummaryListRequestConfig();var _2045=new _2028({templateLocation:"MainView/ActivityMgr/templates/AllOpenListSummary.html",resetDataManager:true,requestConfiguration:_2044});return _2045;},_getToolBars:function(){var _2046={items:[]};return _2046;},getTimelessProperty:function(_2047){return "Timeless";}});return _202e;});},"Sage/TaskPane/main":function(){define("Sage/TaskPane/main",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/UserTasklet","Sage/TaskPane/AccountingTasksTasklet","Sage/TaskPane/ActivityManagerTasklet","Sage/TaskPane/ActivityTaskConfigurationProvider","Sage/TaskPane/ActivityTaskContents","Sage/TaskPane/ActivityTaskPaneActions","Sage/TaskPane/ActivityTaskPaneItem","Sage/TaskPane/CommonTasksTasklet","Sage/TaskPane/ContactTasksTasklet","Sage/TaskPane/GroupListTasklet","Sage/TaskPane/LeadTasksTasklet","Sage/TaskPane/LiteratureManagementTasks","Sage/TaskPane/OpportunityTasksTasklet","Sage/TaskPane/SecuredActionTasklet","Sage/TaskPane/TaskPaneContent","Sage/TaskPane/TaskPaneItem","Sage/TaskPane/SecurityManagerTasksTasklet","Sage/TaskPane/JobManagerTasksTasklet","Sage/TaskPane/ReportManagerTasksTasklet"],function(){});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/LeadLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/LeadLookupConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2048,lang){var nls={root:{contactText:"Contact",accountText:"Account",lookupContactText:"Lookup Contact",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",dialogButtonText:"Add Selected",cancelText:"Close",colFirstName:"First Name",colLastName:"Last Name",colTitle:"Title",colCompany:"Company",colWorkPhone:"Work Phone",colEmail:"Email",dialogTitleText:"Lookup Leads"}};return lang.mixin(_2048,nls);});},"Sage/QuickForms/Design/ControlDesigner":function(){define("Sage/QuickForms/Design/ControlDesigner",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","require","dojo/string","dojo/topic","dojo/dom-class","dojo/query","dijit/_Contained","./PropertyValueError","dojo/NodeList-traverse","dojo/i18n!./nls/ControlDesigner"],function(_2049,lang,array,_204a,_204b,topic,_204c,query,_204d,_204e,_204f,_2050){return _2049("Sage.QuickForms.Design.ControlDesigner",[_204d],{designSupport:{visible:true},_checked:true,entry:null,editors:null,form:null,helpTopicName:"",column:0,row:0,displayNameText:null,constructor:function(){lang.mixin(this,_2050);},set:function(name,value){var _2051=this.inherited(arguments);var names=this._getAttrNames(name),_2052=this[names.s];if(lang.isFunction(_2052)){topic.publish("/quickforms/design/designerModified",this,name,value,_2051,this);}return _2051;},_isOnDesignSurface:function(){var _2053=this._surfaceType||(this._surfaceType=_204a("./DesignSurface"));var _2054=this.getParent();return (_2054&&_2054.isInstanceOf(_2053));},_getControlIdAttr:function(){return lang.getObject("ControlId",false,this.entry);},_setControlIdAttr:function(value){lang.setObject("ControlId",value,this.entry);},_getCaptionAttr:function(){return lang.getObject("Caption",false,this.entry);},_setCaptionAttr:function(value){lang.setObject("Caption",value,this.entry);},_getCaptionAlignmentAttr:function(){return lang.getObject("CaptionAlignment",false,this.entry);},_setCaptionAlignmentAttr:function(value){lang.setObject("CaptionAlignment",value,this.entry);this.applyCaptionAlignment(value);},_getControlNameAttr:function(){return this.displayNameText;},_getEnabledAttr:function(){return lang.getObject("Enabled",false,this.entry);},_setEnabledAttr:function(value){lang.setObject("Enabled",value,this.entry);},_getFormAttr:function(){return this.form;},_getIsReadOnlyAttr:function(){return lang.getObject("IsReadOnly",false,this.entry);},_setIsReadOnlyAttr:function(value){lang.setObject("IsReadOnly",value,this.entry);},_getToolTipAttr:function(){return lang.getObject("ToolTip",false,this.entry);},_setToolTipAttr:function(value){lang.setObject("ToolTip",value,this.entry);},_getVisibleAttr:function(){return lang.getObject("Visible",false,this.entry);},_setVisibleAttr:function(value){lang.setObject("Visible",value,this.entry);this.applyVisibility(value);},_getRowAttr:function(){return lang.getObject("Row",false,this.entry);},_setRowAttr:function(value){if(value===this.get("row")){return;}if(this._checked&&this._isOnDesignSurface()){var _2055=this.getParent().validateMove(this,value,this.get("column"));if(_2055){throw new _204e(_2055,this.get("row"));}}if(this._checked&&this._isOnDesignSurface()){this.getParent().moveWidget(this,value,this.get("column"));}else{lang.setObject("Row",value,this.entry);}},_getRowSpanAttr:function(){return lang.getObject("RowSpan",false,this.entry);},_setRowSpanAttr:function(value){if(value===this.get("rowSpan")){return;}if(this._checked&&this._isOnDesignSurface()){var _2056=this.getParent().validateSize(this,value,this.get("columnSpan"));if(_2056){throw new _204e(_2056,this.get("rowSpan"));}}lang.setObject("RowSpan",value,this.entry);if(this._checked&&this._isOnDesignSurface()){this.getParent().layout(true);}},_getColumnAttr:function(){return lang.getObject("Column",false,this.entry);},_setColumnAttr:function(value){if(value===this.get("column")){return;}if(this._checked&&this._isOnDesignSurface()){var _2057=this.getParent().validateMove(this,this.get("row"),value);if(_2057){throw new _204e(_2057,this.get("column"));}}if(this._checked&&this._isOnDesignSurface()){this.getParent().moveWidget(this,this.get("row"),value);}else{lang.setObject("Column",value,this.entry);}},_getColumnSpanAttr:function(){return lang.getObject("ColumnSpan",false,this.entry);},_setColumnSpanAttr:function(value){if(value===this.get("columnSpan")){return;}if(this._checked&&this._isOnDesignSurface()){var _2058=this.getParent().validateSize(this,this.get("rowSpan"),value);if(_2058){throw new _204e(_2058,this.get("columnSpan"));}}lang.setObject("ColumnSpan",value,this.entry);if(this._checked&&this._isOnDesignSurface()){this.getParent().layout(true);}},_getDataBindingsAttr:function(){return lang.getObject("DataBindings",false,this.entry);},_setDataBindingsAttr:function(value){lang.setObject("DataBindings",value,this.entry);},findDataBinding:function(_2059){var _205a=this.get("dataBindings");if(_205a){for(var i=0;i<_205a.length;i++){if(_2059&&_2059(_205a[i])){return _205a[i];}}}return null;},unchecked:function(fn){this._checked=false;try{fn.call(this,this);}finally{this._checked=true;}},applyCaptionAlignment:function(_205b){if(!this.designCaptionNode||!this.fieldClass){return;}_205b=_205b||this.get("captionAlignment");_204c.remove(this.designCaptionNode,_204b.substitute("${0}-left ${0}-center ${0}-right",[this.fieldClass+"-caption"]));_204c.add(this.designCaptionNode,_204b.substitute("${0}-caption-${1}",[this.fieldClass,_205b]));},applyVisibility:function(_205c){if(!(this.containerNode)){return;}if(typeof _205c==="undefined"){_205c=this.get("visible");}_204c.toggle(this.containerNode,"design-visible-false",!_205c);},setupFor:function(_205d){this.entry={"$type":this.quickFormControlType,"Row":0,"RowSpan":1,"Column":0,"ColumnSpan":1};this.set("caption",_205d["displayName"]);this.set("captionAlignment","left");this.set("controlId",this.form.createUniqueId(_205d["propertyName"]));this.set("controlLabelPlacement","left");this.set("enabled",true);this.set("isReadOnly",false);this.set("toolTip","");this.set("visible",true);}});});},"Sage/UI/Alarms/AlarmPopup":function(){define("Sage/UI/Alarms/AlarmPopup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/ContentPane","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/string","Sage/UI/Alarms/AlarmPane","Sage/UI/Alarms/UnconfirmedPane","Sage/UI/ImageButton","dojo/i18n","dojo/i18n!./nls/AlarmPopup","dojo/_base/declare"],function(_205e,_205f,_2060,_2061,_2062,_2063,_2064,_2065,_2066,_2067,_2068,i18n,_2069,_206a){var _206b=_206a("Sage.UI.Alarms.AlarmPopup",[_2060,_205e,_205f],{options:{displayPastDueInToolbar:true,displayAlertsInToolbar:true,promptAlerts:true,includeAlarms:true,includeConfirmations:true,pollInterval:1,defaultSnooze:"5"},_confirmCount:-1,_alarmCount:-1,_dataRequested:false,widgetsInTemplate:true,isOpen:false,templateString:["<div class=\"alarm-popup\">","<div class=\"alarm-title\"><span class=\"alarm-main-title\">&nbsp;${title}</span></div>","<div class=\"alarm-title\">","<span class=\"alarm-tab-head\">&nbsp;</span>","<span dojoAttachEvent=\"onclick:_showAlarmPane\" dojoAttachPoint=\"_alarmBtn\" class=\"alarm-tab alarm-tab-selected\">${alarmsText}</span>","<span dojoAttachEvent=\"click:_showUnconfirmedPane\" dojoAttachPoint=\"_confBtn\" class=\"alarm-tab\">${unconfirmedText}</span>","<span class=\"alarm-tab-tail\">&nbsp;</span>","<span class=\"alarm-title-tools\">","<span dojoType=\"Sage.UI.ImageButton\" id=\"compButton\" imageClass=\"icon_complete_activity_16x16\" title=\"${completeText}\" dojoAttachEvent=\"onClick:_completeClick\" dojoAttachPoint=\"compButton\"></span>","<span dojoType=\"Sage.UI.ImageButton\" id=\"delButton\" imageClass=\"icon_Delete_16x16\" title=\"${deleteText}\" dojoAttachEvent=\"onClick:_deleteClick\" dojoAttachPoint=\"delButton\"></span>","<span dojoType=\"Sage.UI.ImageButton\" imageClass=\"icon_Help_16x16\" title=\"${helpText}\" dojoAttachEvent=\"onClick:_showHelp\" ></span>","</span>","</div>","<div data-dojo-type=\"dijit.layout.StackContainer\" dojoAttachPoint=\"_panelContainer\" class=\"alarm-body\" >","<div data-dojo-type=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_alarmPane\" class=\"alarm-pane\" title=\"alarms\" >","<div data-dojo-type=\"Sage.UI.Alarms.AlarmPane\" dojoAttachPoint=\"_alarms\" dojoAttachEvent=\"onAlertChanged:_alarmchange\"></div>","</div>","<div data-dojo-type=\"dijit.layout.ContentPane\" dojoAttachPoint=\"_confPane\" class=\"alarm-pane\" title=\"Unconfirmed\">","<div data-dojo-type=\"Sage.UI.Alarms.UnconfirmedPane\" dojoAttachPoint=\"_confirms\" dojoAttachEvent=\"onAlertChanged:_confchange\"></div>","</div>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_2069);},_setOptionsAttr:function(_206c){this.options=dojo.mixin(this.options,_206c);this._alarms.setDefaultSnooze(this.options.defaultSnooze||"5");},_getOptionsAttr:function(){return this.options;},drawAlerts:function(){this._dataRequested=true;if(this.options.includeAlarms){if(!this.alarmStore){this.alarmStore=new _2062({service:_2063.getSDataService("system"),resourceKind:"useractivities",include:["Activity","User","$descriptors"],sort:[{attribute:"Activity.StartDate",descending:true}]});this._alarms.store=this.alarmStore;}this._fetchAlarms();}else{dojo.addClass(this._alarmBtn,"display-none");this._showUnconfirmedPane();}if(this.options.includeConfirmations){if(!this.confirmStore){this.confirmStore=new _2062({service:_2063.getSDataService("dynamic"),resourceKind:"usernotifications",include:["Activity","$descriptors"],select:["Type","Notes","FromUserId","ToUserId","SendDate","Activity/AccountName","Activity/AccountId","Activity/ActivityId","Activity/ContactName","Activity/ContactId","Activity/Description","Activity/Duration","Activity/LeadId","Activity/LeadName","Activity/OpportunityName","Activity/OpportunityId","Activity/Recurring","Activity/StartDate","Activity/Timeless","Activity/Type","Activity/Location","Activity/Leader","Activity/TicketId","Activity/TicketNumber"],sort:[{attribute:"Activity.StartDate",descending:true}]});this._confirms.store=this.confirmStore;}this._fetchConfirms();}else{dojo.addClass(this._confBtn,"display-none");this._showAlarmPane();}},_fetchAlarms:function(){if(this.options.includeAlarms&&this.alarmStore){var where=_2065.substitute("(User.Id eq '${0}' and Status ne 'asDeclned') and ((Alarm eq true and AlarmTime ne null and AlarmTime lt '${1}') or (Alarm eq null and AlarmTime eq null and Activity.Alarm eq true and Activity.AlarmTime lt '${1}'))",[_2064.getClientContextByKey("userID"),_2064.Convert.toIsoStringFromDate(new Date())]);this.alarmStore.fetch({query:where,count:80,start:0,onComplete:this._onAlarmRequestComplete,scope:this});}},_fetchConfirms:function(){if(this.options.includeConfirmations&&this.confirmStore){this.confirmStore.fetch({query:_2065.substitute("ToUserId eq '${0}' and Type eq 'New'",[_2064.getClientContextByKey("userID")]),count:40,start:0,onComplete:this._onConfirmRequestComplete,scope:this});}},_onAlarmRequestComplete:function(data){this._alarms._setAlertItemsAttr(data,this.isOpen);this._alarmCount=data.length;this._checkWhichVisible();},_onConfirmRequestComplete:function(data){this._confirms._setAlertItemsAttr(data,this.isOpen);this._confirmCount=data.length;this._checkWhichVisible();},_checkWhichVisible:function(){if(this._alarmCount>0&&this.options.includeAlarms){this._showAlarmPane();}else{if(this._alarmCount===0&&this._confirmCount>0&&this.options.includeConfirmations){this._showUnconfirmedPane();}}},_alarmchange:function(count){dojo.html.set(this._alarmBtn,this.alarmsText+" ("+count+") ");this._alarmCount=count;if(count<1){this._checkWhichVisible();}this.onAlertChanged();},_confchange:function(count){dojo.html.set(this._confBtn,this.unconfirmedText+" ("+count+") ");this._confirmCount=count;if(count<1){this._checkWhichVisible();}this.onAlertChanged();},onOpen:function(){this.isOpen=true;this._panelContainer.resize();if(!this._dataRequested){this.drawAlerts();}else{this._checkWhichVisible();}},onClose:function(){this.isOpen=false;this._alarms.closeTooltips();this._confirms.closeTooltips();},startup:function(){this.inherited(arguments);dojo.subscribe("/entity/activity/delete",this,this.reloadData);},reloadData:function(){this._fetchAlarms();this._fetchConfirms();},reloadAlarms:function(){this._fetchAlarms();},reloadConfirms:function(){this._fetchConfirms();},_showAlarmPane:function(){this._panelContainer.selectChild(this._alarmPane);dojo.addClass(this._alarmBtn,"alarm-tab-selected");dojo.removeClass(this._confBtn,"alarm-tab-selected");dojo.removeClass(this.compButton.domNode,"display-none");dojo.removeClass(this.delButton.domNode,"display-none");this._alarms.onShow();},_showUnconfirmedPane:function(){this._panelContainer.selectChild(this._confPane);dojo.removeClass(this._alarmBtn,"alarm-tab-selected");dojo.addClass(this._confBtn,"alarm-tab-selected");dojo.addClass(this.compButton.domNode,"display-none");dojo.addClass(this.delButton.domNode,"display-none");this._confirms.onShow();},_completeClick:function(){this._alarms.completeSelected();},_deleteClick:function(){this._alarms.deleteSelected();},_showHelp:function(){_2064.openHelp("alerts");},getAlertCount:function(){return this._alarms.getUnhandledAlertCount()+this._confirms.getUnhandledAlertCount();},onAlertChanged:function(){}});return _206b;});},"Sage/MainView/JobMgr/JobManagerActions":function(){define("Sage/MainView/JobMgr/JobManagerActions",["dojo/_base/declare","Sage/MainView/JobMgr/RunJobDialog","Sage/UI/Dialogs","dojo/i18n!./nls/JobManagerActions","dojo/string","Sage/Utility","Sage/Utility/Jobs"],function(_206d,_206e,_206f,_2070,_2071,_2072,_2073){Sage.namespace("Sage.MainView.JobMgr.JobManagerActions");dojo.mixin(Sage.MainView.JobMgr.JobManagerActions,{_getSelectedId:function(){var _2074=_2072.getSelectionInfo();if(_2074){if(_2074.selectedIds.length===1){return _2074.selectedIds[0];}}return null;},showRunJobDialog:function(isNew){var key=this._getSelectedId();if(!key){_206f.showInfo(_2070.error_NoRecordSelected);}else{var _2075=_2073.getCurrentGroupId();var _2076=dijit.byId("dlgRunJob");if(!_2076){_2076=new _206e();}var _2077=_2075==="schedules"?key:null;var _2078={key:key,currentGroupId:_2075,isNew:isNew,triggerId:_2077};_2076.show(_2078);}},deleteScheduledJob:function(){var key=this._getSelectedId();if(!key){_206f.showInfo(_2070.error_NoRecordSelected);}else{_206f.raiseQueryDialog("Saleslogix",_2070.confirm_ScheduleDeletion,function(_2079){if(_2079){var _207a=_2073.getCurrentGroupId();var _207b=Sage.Services.getService("JobService");if(_207b.deleteScheduledJob(key)){_2073.refreshList(_207a);}}},_2070.txtYes,_2070.txtNo);}},showCancelExecutionDialog:function(){var key=this._getSelectedId();if(!key){_206f.showInfo(_2070.error_NoRecordSelected);}else{var _207c={key:key,executionId:key,success:function(data){if(data&&data.status===_2070.jobStatusComplete){_206f.showInfo(_2070.completedJobMessage);}else{var _207d={title:_2070.txtInterruptExecutionTitle,query:_2071.substitute(_2070.txtInterruptExecutionConfirmationMessage,[""]),callbackFn:function(_207e){if(_207e===true){var _207f={key:key,success:function(_2080){_206f.showInfo(_2070.txtInterruptExecutionMessage,_2070.txtInterruptExecutionTitle);},failure:function(xhr){}};_2081.interruptExecution(_207f);}},yesText:_2070.txtYes,noText:_2070.txtNo,icon:"warningIcon"};_206f.raiseQueryDialogExt(_207d);}},failure:function(xhr){return true;}};var _2081=Sage.Services.getService("JobService");_2081.getExecution(_207c);}}});return Sage.MainView.JobMgr.JobManagerActions;});},"Sage/QuickForms/Design/Editors/CheckBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CheckBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CheckBoxBasicPropertyEditor"],function(_2082,lang,_2083,_2084,_2085,_2086,_2087,_2088,_2089,_208a,_208b){return _2082("Sage.QuickForms.Design.Editors.CheckBoxBasicPropertyEditor",[_2083,_2089,_2088],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_208b);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/MainView/JobMgr/JobManagerGroupContextService":function(){define("Sage/MainView/JobMgr/JobManagerGroupContextService",["Sage/Groups/BaseGroupContextService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/JobMgr/ExecutionsListPanelConfig","Sage/MainView/JobMgr/JobDefinitionsListPanelConfig","Sage/MainView/JobMgr/SchedulesListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/JobManagerGroupContextService"],function(_208c,_208d,_208e,lang,_208f,_2090,_2091,_2092,_2093,_2094){var _2095=_2093("Sage.MainView.JobMgr.JobManagerGroupContextService",_208c,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_currentListConfiguration:false,groupConfigTypes:[{key:"executions",descriptor:_2094.executionsTabDisplayName,keyField:"$key",configProviderType:_208f},{key:"jobDefinitions",descriptor:_2094.jobDefinitionsTabDisplayName,keyField:"$key",configProviderType:_2090},{key:"schedules",descriptor:_2094.schedulesTabDisplayName,keyField:"$key",configProviderType:_2091}],_configsHash:false,_LOCALSTORE_NAMESPACE:"JobManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _2096=this._getDefaultTabId();this.setContext(_2096,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_208d.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},buildCurrentEntityContext:function(){var _2097=this._currentContext.CurrentGroupID;if(!_2097){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_2097);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_2097);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var tabId=this._currentContext.CurrentGroupID;var _2098=(this.configsHash.hasOwnProperty(tabId))?this.configsHash[tabId]:this.configsHash["groups"];if(!_2098.instance){_2098.instance=new _2098.configProviderType();this.onTabConfigCreated(_2098.instance);}else{_2098.instance.rebuild();}this._currentListConfiguration=_2098.instance;var _2099=Sage.Services.getService("JobService");var _209a=_2099.getSchedulingSDataService();this._currentListConfiguration.list.service=_209a;return;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(tabid){this._ensureConfigsHash();var _209b="$key";if(this.configsHash[tabid]){_209b=this.configsHash[tabid]["keyField"]||"$key";}return _209b;},getGroupName:function(tabid){this._ensureConfigsHash();var name="default";if(this.configsHash[tabid]){name=this.configsHash[tabid]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_209c){var self=this;dojo.publish("/group/context/changed",[_209c,this]);this._clearFilterManager();this._onDefaultFilterLoad(function(){var _209d=self.getContext();self._saveToLocalStorage(self._STORE_KEY_LASTAB,_209d.CurrentGroupID);});},_clearFilterManager:function(){var _209e={};var _209f={};dojo.publish("/ui/filters/default/apply",[_209e,_209f,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_20a0){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_20a0){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_20a0;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_20a1){},_onDefaultFilterRefresh:function(_20a2,_20a3,_20a4){var _20a5=this.getContext(),_20a6=_208e.getSDataService("system"),entry={"$name":"applyFilterToEntity","request":{"entityName":_20a5.CurrentEntity,"filter":dojo.toJson(_20a4.createValueSet()),"key":_20a5.CurrentGroupID}},_20a7=new Sage.SData.Client.SDataServiceOperationRequest(_20a6).setOperationName("applyFilterToEntity");_20a7.execute(entry,{});},getStaticTabs:function(){return this.groupConfigTypes;},_saveToLocalStorage:function(key,value,_20a8){this._saveToSessionStorage(key,value,_20a8);return;},_getFromLocalStorage:function(key,_20a9){return this._getFromSessionStorage(key,_20a9);},_getFromSessionStorage:function(key,_20aa){if(!_20aa){_20aa=this._LOCALSTORE_NAMESPACE;}var _20ab=_20aa+"_"+key;return sessionStorage.getItem(_20ab);},_saveToSessionStorage:function(key,value,_20ac){if(!_20ac){_20ac=this._LOCALSTORE_NAMESPACE;}var _20ad=_20ac+"_"+key;sessionStorage.setItem(_20ad,value);},_getDefaultTabId:function(){var _20ae="executions";var _20af=this._getUrlTabId();if(_20af){_20af=this._validateTabId(_20af);if(_20af){return _20af;}}var _20b0=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_20b0){_20ae=_20b0;}if(!this._configsHash){for(var i=0;i<this.groupConfigTypes;i++){if(_20ae===this.groupConfigTypes[i]["key"]){return _20ae;}}}return _20ae;},_getUrlTabId:function(){var tabId=false,_20b1="[\\?&]tabId=([^%#]*)",regex=new RegExp(_20b1),_20b2=regex.exec(window.location.href);if(_20b2!==null){tabId=_20b2[1];}return tabId;},_validateTabId:function(tabId){if(tabId){for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];if(cfg.key.toUpperCase()===tabId.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_20b3){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _2095());}else{var _20b4=Sage.Services.getService("ClientGroupContext");if(_20b4.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){_20b4.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _2095());}}return _2095;});},"Sage/QuickForms/Design/Editors/RowBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/RowBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojox/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/RowBasicPropertyEditor"],function(_20b5,lang,_20b6,_20b7,_20b8,_20b9,_20ba,_20bb,_20bc,_20bd,_20be){return _20b5("Sage.QuickForms.Design.Editors.RowBasicPropertyEditor",[_20b6,_20bc,_20bb],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.indexTooltipText %}\">","<label>{%= $.indexText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_index\" data-dojo-attach-event=\"onChange:_onIndexChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_index:null,titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",constructor:function(){lang.mixin(this,_20be);},setup:function(){this.inherited(arguments);this._index.set("value",this._designer.get("index"));},_onIndexChange:function(value){}});});},"Sage/UI/ListPanel":function(){define("Sage/UI/ListPanel",["dojo/i18n","dijit/layout/BorderContainer","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/Toolbar","dijit/ToolbarSeparator","dojox/grid/EnhancedGrid","Sage/_Templated","Sage/UI/Filters/FilterManager","Sage/UI/ToolBarLabel","dijit/Menu","dojox/grid/enhanced/plugins/Menu","Sage/Utility","dojox/storage/LocalStorageProvider","Sage/UI/_DetailPane","dijit/_Widget","dojox/grid/enhanced/plugins/IndirectSelection","Sage/UI/Grid/Plugins/ShowHideColumns","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/ListPanel","dojo/_base/sniff","dojo/dom-geometry","dijit/registry","dojo/_base/connect","dojo/ready"],function(i18n,_20bf,_20c0,_20c1,_20c2,_20c3,_20c4,_20c5,_20c6,_20c7,_20c8,_20c9,util,_20ca,_20cb,_20cc,_20cd,_20ce,array,lang,_20cf,_20d0,has,_20d1,_20d2,_20d3,ready){var _20d4=_20cf("Sage.UI.ListPanel",[_20bf,_20cc,_20c5],{widgetsInTemplate:true,contentTemplate:new Simplate(["{%! $.menuTemplate %}","{%! $.listTemplate %}","{%! $.detailTemplate %}"]),listTemplate:new Simplate(["<div data-dojo-type=\"dijit.layout.StackContainer\" region=\"center\" splitter=\"true\" data-dojo-attach-point=\"_gridContainer\">","<div data-dojo-type=\"dijit.layout.ContentPane\" data-dojo-attach-point=\"_noConfigurationPane\"></div>","<div id=\"{%= $.id %}_listGrid\" columnReordering=\"true\" class=\"listGrid\" data-dojo-type=\"{%= $.gridType %}\" data-dojo-attach-point=\"_listGrid\" plugins=\"{menus:{selectedRegionMenu:'_listContextmenu', rowMenu:'_listContextmenu'}, indirectSelection: {%: $._indirectSelection%}, showHideColumns: true}\" dojoAttachEvent=\"onRowClick:_onRowClick,onRowContextMenu:_onRowContextMenu,onSelected:_onSelectedInList,onSelectionChanged:_onSelectionChanged,onResizeColumn:_onResizeColumn,onHeaderCellClick:_onHeaderCellClick,onCellClick:_onCellClick,onRowDblClick:_onRowDblClick\">","<div data-dojo-type=\"dijit.Menu\" id=\"_listContextmenu\" dojotAttachPoint=\"_listContextmenu\" style=\"display:none\" ></div>","</div>","<div id=\"{%= $.id %}_summaryGrid\" class=\"summaryGrid\" data-dojo-type=\"{%= $.gridType %}\" selectionMode=\"none\" data-dojo-attach-point=\"_summaryGrid\" dojoAttachEvent=\"onRowClick:_onRowClick,onRowContextMenu:_onRowContextMenu,onSelected:_onSelectedInSummary,onSelectionChanged:_onSelectionChanged\"></div>","</div>"]),menuTemplate:new Simplate(["<div data-dojo-type=\"dijit.Toolbar\" region=\"top\" splitter=\"false\" id=\"{%= $.id %}_toolbar\" style=\"{%= $.toolbarStyle %}\" data-dojo-attach-point=\"_tbar\" class=\"list-panel-tbar right-tools\">","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" data-dojo-attach-point=\"_tbarLabel\" class=\"list-panel-left-tools\"></div>","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" data-dojo-attach-point=\"_tbarOverflowLabel\" class=\"list-panel-left-tools\" style=\"display:none;\"></div>","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"{%= $.unsavedDataText %}\" data-dojo-attach-point=\"_unsavedDataLabel\" class=\"display-none\"></div>","<div data-dojo-type=\"Sage.UI.ToolBarLabel\" label=\"\" data-dojo-attach-point=\"_filterSummary\" class=\"filter-summary-view\"></div>","<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\" id=\"{%= $.id %}_detailBtn\" data-dojo-attach-point=\"_detailButton\" dojoAttachEvent=\"onClick:toggleDetail\" class=\"list-panel-tool-detail\">{%= $.detailText %}</div>","<span data-dojo-type=\"dijit.ToolbarSeparator\" data-dojo-attach-point=\"_buttonSection\" class=\"list-panel-tool-section\"></span>","<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\" id=\"{%= $.id %}_listBtn\" data-dojo-attach-point=\"_listButton\" dojoAttachEvent=\"onClick:showList\" class=\"list-panel-tool-list\">{%= $.listText %}</div>","<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\" id=\"{%= $.id %}_summaryBtn\" data-dojo-attach-point=\"_summaryButton\" dojoAttachEvent=\"onClick:showSummary\" class=\"list-panel-tool-summary\">{%= $.summaryText %}</div>","<div data-dojo-type=\"Sage.UI.ImageButton\" iconClass=\"Global_Images icon16x16 icon_refresh\"  tooltip=\"{%: $.refreshText %}\" id=\"refreshBtn\" data-dojo-attach-point=\"_refreshButton\" dojoAttachEvent=\"onClick:refreshView\" class=\"list-panel-tool-help\"></div>","<div data-dojo-type=\"Sage.UI.ImageButton\" iconClass=\"Global_Images icon16x16 icon_Help_16x16\" tooltip=\"{%: $.helpText %}\" id=\"helpBtn\" data-dojo-attach-point=\"_helpButton\" dojoAttachEvent=\"onClick:showHelp\" class=\"list-panel-tool-help\"></div>","</div>"]),detailTemplate:new Simplate(["<div data-dojo-type=\"{%= $.detailType %}\" region=\"{%= $.detailRegion %}\" splitter=\"true\" style=\"{%= $.detailStyle %}\" data-dojo-attach-point=\"_detailPane\">","</div>"]),_filterGroup:null,_filterSubscriptions:null,_filterManager:null,_toolbarApplied:false,_configurationProvider:null,_configurationConnects:null,_contextConnects:null,_dataChangeWatchers:[],_gridContainer:null,_noConfigurationPane:null,_listGrid:null,_indirectSelection:"",_summaryGrid:null,_detailPane:null,_tbar:null,_tbarCustom:false,_tbarLabel:null,_buttonSection:null,_detailButton:null,_listButton:null,_summaryButton:null,_helpButton:null,_filterSummary:null,_unsavedDataLabel:null,_forcedFilterPublish:false,_listMode:"list",helpTopicName:"listview",gutters:false,toolbarStyle:"",gridType:"dojox.grid.EnhancedGrid",initialGrid:"list",filterGroup:"default",detailVisible:false,detailOnSummary:false,detailRegion:"bottom",detailStyle:"height: 256px;",detailType:"dijit.layout.ContentPane",autoConfigure:true,hasCheckBox:false,autoFitColumns:true,listText:"List",summaryText:"Summary",detailText:"Detail",hideDetailText:"Hide Detail",unsavedDataText:"*unsaved data",helpText:"Help",refreshText:"Refresh",ofText:"of",FILTER_UPDATE_DELAY:1000,STORE_KEY_COLUMN_SIZE:"_COLUMN_UNIT_WIDTH_",STORE_KEY_SORT_INFO:"_GRID_SORT_PROPS_",STORE_KEY_LAYOUT_INFO:"_GRID_LAYOUT_PROPS_",STORE_KEY_TOGGLE_INFO:"_GRID_TOTTLE_PROPS_",STORE_KEY_STORE_QUERY:"_STORE_QUERY_",STORE_KEY_VIEWSTATE:"LISTPANEL_VIEWSTATE",RECORD_WARNING_SIZE:30000,constructor:function(){this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);lang.mixin(this,_20d0);this._setupCheckBox();this._setupAutoFit();},postCreate:function(){this.inherited(arguments);if(this._listGrid){this.connect(this._listGrid.scroller,"scroll",this._onListScroll);this.connect(this._summaryGrid.scroller,"scroll",this._onSummaryScroll);this._listGrid.canSort=function(col){var cells=this.layout.cells;var cell=cells[Math.abs(col)-1];if(cell.nosort){return false;}return true;};this._listGrid.columnReordering=true;this._listGrid.selectionMode="extended";dojo.connect(this._listGrid,"onMoveColumn",this,function(type,_20d5,cols){var cells=this._listGrid.layout.cells,_20d6=[],i=0,key="";for(i=0;i<cells.length;i++){if(cells[i].field){_20d6.push(cells[i].field);}}key=this._getGridLayoutKey();this._saveToLocalStorage(key,_20d6);});dojo.subscribe("/sage/ui/grid/columnToggle/"+this._listGrid.id,dojo.hitch(this,function(cell){var cells=this._listGrid.layout.cells,_20d7=[],i=0,key="";for(i=0;i<cells.length;i++){_20d7.push({field:cells[i].field,hidden:cells[i].hidden});}key=this._getGridColumnToggleKey();this._saveToLocalStorage(key,_20d7);}));}this._gridContainer.selectChild(this._noConfigurationPane);if(this._detailPane.isInstanceOf(_20cb)){this._detailPane.set("owner",this);}this._setDetailPaneVisibility(false);if(this._tbarOverflowLabel){this._tbarOverflowLabel.set("label",_20d0.overflowText);}this._updateToolbarItemVisibility();},startup:function(){this.inherited(arguments);if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._filterManager){this._filterManager.destroy();}if(this._configurationProvider){this._configurationProvider.destroy();}},getAppliedFilterCount:function(){return this._filterManager&&this._filterManager.getAppliedFilterCount();},_setupCheckBox:function(){var _20d8=Sage.Services.getService("UserOptions");this._indirectSelection="false";if(_20d8&&_20d8.get){_20d8.get("GroupCheckboxEnabled","GroupGridView",lang.hitch(this,function(data){var _20d9=data&&data.value;if(_20d9==="True"||_20d9==="T"){this._indirectSelection="{ draggable: false}";this.hasCheckBox=true;}else{this.hasCheckBox=false;}}),null,this,false);}},_setupAutoFit:function(){var _20da=Sage.Services.getService("UserOptions");if(_20da&&_20da.get){_20da.get("autoFitColumns","GroupGridView",lang.hitch(this,function(data){var val=data&&data.value;if(val==="True"||val==="T"){this.autoFitColumns=true;}else{this.autoFitColumns=false;}}),null,this,false);}},_setSortInfo:function(store){var key=this._getGridSortKey(),_20db=this._getFromLocalStorage(key);if(_20db){if(_20db.descending){this._listGrid.sortInfo=(_20db.cellIndex+1)*-1;}else{this._listGrid.sortInfo=_20db.cellIndex+1;}store.sort=[_20db];}else{this._listGrid.sortInfo=0;}},_setSummarySortInfo:function(store){var key=this._getGridSortKey(),_20dc=this._getFromLocalStorage(key);if(_20dc){store.sort=[_20dc];}},_setColumnSizes:function(_20dd){var cells=_20dd;if(_20dd[0].cells){cells=_20dd[0].cells[0];}array.forEach(cells,function(item){if(item&&item.field){var key=this._getColumnSizeKey(item.field),value=this._getFromLocalStorage(key);if(value){item.width=value;}}},this);},_doAutoFitColumns:function(){if(!this.autoFitColumns){return;}var _20de=this._listGrid.get("structure"),cells=_20de,_20df=0,_20e0,_20e1,_20e2=0;if(_20de&&_20de[0].cells){cells=_20de[0].cells[0];}array.forEach(cells,function(item){if(item&&item.field){var key=this._getColumnSizeKey(item.field),value=this._getFromLocalStorage(key);if(value){item.width=value;}if(!this._isFieldHidden(item.field)){_20df+=parseInt(item.width,10);}}},this);_20e0=_20d1.getContentBox("list");_20e1=_20e0.w;if(this.hasCheckBox){_20e2=200;}else{_20e2=155;}_20e1=_20e1-_20e2;array.forEach(cells,function(item){var width,pct,_20e3;if(item&&item.field&&!this._isFieldHidden(item.field)){width=parseInt(item.width,10);pct=width/_20df;_20e3=Math.round(_20e1*pct);item.width=_20e3+"px";}},this);this._listGrid.set("structure",_20de);this._updateColumnVisibility();},_updateStructureFromLocalStore:function(){var key=this._getGridLayoutKey(),_20e4=this._listGrid.structure,_20e5=this._getFromLocalStorage(key),cells;if(_20e5){cells=_20e4[0].cells[0];if(cells){cells.sort(function(a,b){var _20e6=array.indexOf(_20e5,a.field),_20e7=array.indexOf(_20e5,b.field);if(_20e6>_20e7){return 1;}if(_20e6<_20e7){return -1;}return 0;});}this._listGrid.set("structure",_20e4);}this._updateColumnVisibility();},_isFieldHidden:function(field){var _20e8,_20e9,_20ea;_20e8=this._getGridColumnToggleKey();_20e9=this._getFromLocalStorage(_20e8);_20ea=false;if(_20e9){array.forEach(_20e9,lang.hitch(this,function(item){if(item.field===field){_20ea=item.hidden;}}));}return _20ea;},_updateColumnVisibility:function(){var _20eb,_20ec;_20eb=this._getGridColumnToggleKey();_20ec=this._getFromLocalStorage(_20eb);if(_20ec){array.forEach(this._listGrid.layout.cells,lang.hitch(this,function(cell){array.forEach(_20ec,lang.hitch(this,function(item){if(item.field===cell.field){this._listGrid.layout.setColumnVisibility(cell.index,!item.hidden);}}));}));}},_handleConfigurationChange:function(){this._listGrid.selection.clear();if(this._detailPane){this._detailPane.clear();}this.requestConfiguration();},_setConfigurationProviderAttr:function(value){if(this._configurationConnects){array.forEach(this._configurationConnects,function(_20ed){this.disconnect(_20ed);},this);}if(this._configurationProvider&&this._configurationProvider!==value){this._configurationProvider.destroy();}this._configurationProvider=value;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setFilterGroupAttr:function(value){if(this._filterSubscriptions){array.forEach(this._filterSubscriptions,function(_20ee){this.unsubscribe(_20ee);},this);}this._filterGroup=value;this.set("filterManager",new _20c6({filterGroup:this._filterGroup}));this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(dojo.string.substitute("/ui/filters/${0}/change",[this._filterGroup]),this._onFilterChange));var _20ef=util.debounce(lang.hitch(this,this._onFilterRefresh),this.FILTER_UPDATE_DELAY);this._filterSubscriptions.push(this.subscribe(dojo.string.substitute("/ui/filters/${0}/refresh",[this._filterGroup]),_20ef));this._ensureApplyFilterWasPublished();},_ensureApplyFilterWasPublished:function(_20f0){if(this._forcedFilterPublish){return;}var _20f1,_20f2;_20f1=Sage.Services.getService("ClientGroupContext");_20f2=_20f1&&_20f1.getContext();if(_20f2&&_20f2.AppliedFilterInfo){_20f1.publishFiltersApplied(_20f2.AppliedFilterInfo);}if(this._filterManager&&_20f0&&_20f1.applyFilters){_20f1.applyFilters(this._filterManager);}this._forcedFilterPublish=true;},_getFilterGroupAttr:function(){return this._filterGroup;},_setFilterManagerAttr:function(value){if(this._filterManager&&this._filterManager!==value){this._filterManager.destroy();}this._filterManager=value;if(this._filterManager){this._filterManager.set("owner",this);}},_getFilterManagerAttr:function(){return this._filterManager;},_onFilterChange:function(){},_onFilterRefresh:function(_20f3,_20f4,_20f5){this._listGrid.selection.clear();if(this._detailPane){this._detailPane.clear();}var query=_20f5.createQuery(),key=this._getStoreQueryKey();if(this._listMode==="summary"&&this._hasConfigurationForSummary()){this._summaryGrid.queryOptions=this._summaryGrid.queryOptions||{};this._summaryGrid.filter(query);}else{this._listGrid.queryOptions=this._listGrid.queryOptions||{};this._listGrid.queryOptions.httpMethodOverride=!!query;this._listGrid.filter(query,true);}this._saveToLocalStorage(key,{store:this._listGrid.store,query:query});},_setConfigurationAttr:function(_20f6){this._applyConfiguration(_20f6);},_getListAttr:function(){return this._listGrid;},_getSummaryAttr:function(){return this._summaryGrid;},_getDetailAttr:function(){return this._detailPane;},_applyConfigurationFailed:function(_20f7){dojo.publish("/listView/applyConfiguration",this);},_applyConfiguration:function(_20f8){this._forcedFilterPublish=false;dojo.publish("/listView/applyConfiguration",this);var key=this._getViewStateKey(),state=this._getFromLocalStorage(key,this._getViewNS());if(state){this.initialGrid=state;}this._configuration=_20f8;this._gridContainer.selectChild(this._noConfigurationPane);if(this.initialGrid==="list"&&this._hasConfigurationForList()){this.showList();}if(this._hasConfigurationForSummary()){this._configuration.summary.active=false;}if(this.initialGrid==="summary"&&this._hasConfigurationForSummary()){if(this._gridContainer.selectedChildWidget===this._noConfigurationPane){this.showSummary();}}this._applyToolBar();if(this._configuration&&this._configuration.list&&this._configuration.list.selectionMode&&this._configuration.list.selectionMode==="single"){this._listGrid.selection.setMode("single");}else{if(this._configuration&&this._configuration.list&&this._configuration.list.selectionMode&&this._configuration.list.selectionMode==="none"){this._listGrid.selection.setMode("none");}else{this._listGrid.selection.setMode("extended");}}},_applyToolBar:function(){var _20f9,i,items;if(this._tbarCustom){_20f9=this._tbar.getChildren();for(i=0;i<_20f9.length;i++){if(_20f9[i].custom){this._tbar.removeChild(_20f9[i]);}}this._tbarCustom=false;}if(this._toolbarApplied&&!this._configuration.updateToolBar){return;}if(this._configuration&&this._configuration.toolBar){items=this._configuration.toolBar.items||[];if(items.length>0){this._tbarCustom=true;}for(i=0;i<items.length;i++){if(items[i].icon||items[i].imageClass){this._tbar.addChild(new Sage.UI.ImageButton(items[i]),i);}else{this._tbar.addChild(new dijit.form.Button(items[i]),i);}}}this._toolbarApplied=true;},_setDetailPaneVisibility:function(value){if(value){if(this._hasConfigurationForDetail()&&!this._isConfigurationActiveForDetail()){if(this._detailPane.isInstanceOf(_20cb)){this._detailPane.set("configuration",this._configuration.detail);}this._configuration.detail.active=true;}this._detailButton.set("label",this.hideDetailText);this.addChild(this._detailPane);var _20fa=this._getSelection(0);if(_20fa){this._detailPane._onSelected(_20fa.rowIndex,_20fa,this._listGrid);}else{this._detailPane.clear();}}else{this._detailButton.set("label",this.detailText);this.removeChild(this._detailPane);}},_getSelection:function(index){var sels=this._listGrid.selection.getSelected();var _20fb=null;for(var i=0;i<sels.length;i++){if(index==i){_20fb=sels[i];return _20fb;}}return _20fb;},_updateToolbarItemVisibility:function(){dojo.toggleClass(this.domNode,"list-panel-has-summary",this._hasConfigurationForSummary());dojo.toggleClass(this.domNode,"list-panel-has-detail",this._canShowDetailPane());},_canShowDetailPane:function(){return (this._hasConfigurationForDetail()&&((this._gridContainer.selectedChildWidget!==this._summaryGrid)||this.detailOnSummary));},_shouldShowDetailPane:function(){return (this._canShowDetailPane()&&this.detailVisible);},_hasConfigurationForList:function(){return (this._configuration&&this._configuration.list);},_hasConfigurationForSummary:function(){return (this._configuration&&this._configuration.summary);},_hasConfigurationForDetail:function(){return (this._configuration&&this._configuration.detail);},_isConfigurationActiveForList:function(){return (this._hasConfigurationForList()&&this._configuration.list.active);},_isConfigurationActiveForSummary:function(){return (this._hasConfigurationForSummary()&&this._configuration.summary.active);},_isConfigurationActiveForDetail:function(){return (this._hasConfigurationForDetail()&&this._configuration.detail.active);},_onRowClick:function(e){this.onRowClick(e.rowIndex,e.grid.getItem(e.rowIndex),e.grid);},_onRowContextMenu:function(e){var _20fc=e.grid.selection,_20fd=_20fc.getSelected();if(_20fd.length===0){_20fc.select(e.rowIndex);}this.onRowContextMenu(e.rowIndex,e.grid.getItem(e.rowIndex),e.grid);},_onSelectedInList:function(index){this.onSelected(index,this._listGrid.getItem(index),this._listGrid);},_onSelectedInSummary:function(index){this.onSelected(index,this._summaryGrid.getItem(index),this._summaryGrid);},_onSelectionChanged:function(){dojo.publish("/sage/ui/list/selectionChanged",this);this.onSelectionChanged();},_onResizeColumn:function(_20fe){var grid=this._listGrid,cell=grid.getCell(_20fe),value=cell.unitWidth,key=this._getColumnSizeKey(cell.field);this._saveToLocalStorage(key,value);this._doAutoFitColumns();},_onHeaderCellClick:function(e){var grid=this._listGrid,key=this._getGridSortKey(),value,_20ff=grid.getSortProps();grid.selection.clear();if(_20ff&&_20ff.length>0){value=_20ff[0];value.cellIndex=e.cell.index;if(e.cell.nosort){return;}grid.setSortIndex(value.cellIndex,!value.descending);this._saveToLocalStorage(key,value);}},_onRowDblClick:function(e){if(this._configuration.list.onNavigateToDefaultItem){if(e.rowIndex>-1){var item=e.grid._by_idx[e.rowIndex].item;this._configuration.list.onNavigateToDefaultItem(item);}}},_onCellClick:function(e){var i,inc=1,_2100=e.grid.selection.isSelected(e.rowIndex),_2101;if(has("ie")>8){try{var _2102=document.getSelection();if(_2102&&_2102.removeAllRanges){_2102.removeAllRanges();}}catch(err){}}if(e.grid.rowSelectCell){if(e.grid.rowSelectCell.index!==e.cell.index){if(e.shiftKey===true&&e.grid.rowSelectCell.lastClickRowIdx!==e.rowIndex){if(e.grid.rowSelectCell.lastClickRowIdx>e.rowIndex){inc=-1;}for(i=e.grid.rowSelectCell.lastClickRowIdx;i!==e.rowIndex;i+=inc){e.grid.rowSelectCell.toggleRow(i,true);}e.grid.rowSelectCell.toggleRow(e.rowIndex,true);}else{e.grid.rowSelectCell.toggleRow(e.rowIndex,!_2100);if(this._shouldShowDetailPane()&&_2100){_2101=this._getSelection(0);if(_2101){this._detailPane._onSelected(_2101.rowIndex,_2101,e.grid);}else{this._detailPane.clear();}}}e.grid.rowSelectCell.lastClickRowIdx=e.rowIndex;}else{if(this._shouldShowDetailPane()&&_2100){e.grid.rowSelectCell.toggleRow(e.rowIndex,!_2100);_2101=this._getSelection(0);e.grid.rowSelectCell.toggleRow(e.rowIndex,_2100);if(_2101){this._detailPane._onSelected(_2101.rowIndex,_2101,e.grid);}else{this._detailPane.clear();}}}}},_saveToLocalStorage:function(key,value,_2103){var _2104;key=this._alterKeyForLookupResults(key);try{_2104=new _20ca();_2104.initialize();if(!_2103){_2103=this._getGroupNS();}_2103=this._makeValidNamespace(_2103);_2104.put(key,value,function(_2105,key,_2106){if(_2105===_2104.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_2106);}},_2103);}catch(err){console.error(err);}},_getFromLocalStorage:function(key,_2107){var _2108,_2109;key=this._alterKeyForLookupResults(key);try{_2108=new _20ca();_2108.initialize();if(!_2107){_2107=this._getGroupNS();}_2107=this._makeValidNamespace(_2107);_2109=_2108.get(key,_2107);}catch(err){console.error(err);}return _2109;},_alterKeyForLookupResults:function(key){if((/LOOKUPRESULTS/).test(key)){var _210a=this._getMainViewName();key=key.replace("LOOKUPRESULTS","LOOKUPRESULTS"+(_210a!=-1?_210a:""));}return key;},_makeValidNamespace:function(ns){return ns.replace(/[^0-9^A-Z^a-z^\-]/g,"-");},_getGroupNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getGroupID();return ns;},_getViewNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getMainViewName();return ns;},_getGroupID:function(){var _210b=Sage.Services.getService("ClientGroupContext"),_210c=-1,_210d=null;if(_210b){_210d=_210b.getContext();if(_210d){_210c=_210d.CurrentGroupID;}}return _210c;},_getMainViewName:function(){if(this._configurationProvider._mainViewName){return this._configurationProvider._mainViewName;}var _210e=Sage.Services.getService("ClientGroupContext"),_210f=-1,_2110=null;if(_210e){_2110=_210e.getContext();if(_2110){_210f=_2110.CurrentEntity;}}return _210f;},_getColumnSizeKey:function(_2111){var _2112=_2111.replace(/[\.\$]/g,"_"),id=this._listGrid.id+"_"+this._configuration.list.id+"_"+this.STORE_KEY_COLUMN_SIZE+_2112;return id;},_getGridSortKey:function(){return this._keyGen(this.STORE_KEY_SORT_INFO);},_getGridLayoutKey:function(){return this._keyGen(this.STORE_KEY_LAYOUT_INFO);},_getGridColumnToggleKey:function(){return this._keyGen(this.STORE_KEY_TOGGLE_INFO);},_getViewStateKey:function(){return this.STORE_KEY_VIEWSTATE;},_getStoreQueryKey:function(){var id=this.STORE_KEY_STORE_QUERY+this._getGroupID();return id;},_keyGen:function(_2113){var id=this._listGrid.id+_2113+this._configuration.list.id;return id;},_onListScroll:function(){this._onScroll(this._listGrid.scroller);},_onSummaryScroll:function(){this._onScroll(this._summaryGrid.scroller);},_onScroll:function(_2114){var _2115,_2116,count,lbl;if(_2114.rowCount>=this.RECORD_WARNING_SIZE){this._tbarOverflowLabel.domNode.style.display="block";}else{this._tbarOverflowLabel.domNode.style.display="none";}if(this._tbarLabel){count=_2114.rowCount;if(count<=0){_2115=0;_2116=0;count=0;}else{_2115=(_2114.firstVisibleRow===0)?1:_2114.firstVisibleRow+1;_2116=(_2114.lastVisibleRow>=_2114.rowCount)?_2114.rowCount:_2114.lastVisibleRow+1;}lbl=dojo.string.substitute("${0} ${1} - ${2} ${3} ${4}",[this.displayingText,_2115,_2116,this.ofText,count]);this._tbarLabel.set("label",lbl);}},_markDirty:function(_2117){this._unsavedDataLabel.set("style","display:inline");},_markClean:function(){this._unsavedDataLabel.set("style","display:none");},getTotalSelectionCount:function(){var _2118=0,sel;if(this._listMode==="list"){this._configuration.list.active=true;}if(!this._isConfigurationActiveForList()||!this._listGrid){return [];}sel=this._listGrid.selection;if(sel){_2118=sel.getSelectedCount();}return _2118;},getSelectionInfo:function(_2119){var _211a,_211b,_211c,mode,_211d,_211e,_211f,_2120,sels,_2121=[],i,_2122;if(this._listMode==="list"){this._configuration.list.active=true;}if(!this._isConfigurationActiveForList()||!this._listGrid){return [];}_211a=this._listGrid.rowCount||0;_211b=this.getTotalSelectionCount();_211c=this.id;mode="selection";_211d=[];_211e=Sage.Services.getService("ClientGroupContext");_211f=(_211e)?_211e.getContext().CurrentTableKeyField||"":"";if(this._configuration.hasCompositeKey){_2120=this._configuration.hasCompositeKey;}else{_2120=false;}sels=this._listGrid.selection.getSelected();_2121=[];for(i=0;i<sels.length;i++){if(sels[i]){var _2123={rn:0,id:sels[i][_211f]};if(_2119){_2123["entity"]=sels[i];}_211d.push(_2123);_2121.push(sels[i][_211f]);}}_2122={key:_211c,mode:mode,selectionCount:_211b,recordCount:_211a,sortDirection:"",sortField:"",keyField:_211f,hasCompositeKey:_2120,ranges:[],selections:_211d,selectedIds:_2121};return _2122;},requestConfiguration:function(){ready(lang.hitch(this,function(){if(this._configurationProvider){this._configurationProvider.requestConfiguration({success:lang.hitch(this,this._applyConfiguration),failure:lang.hitch(this,this._applyConfigurationFailed)});}}));},refreshView:function(){if(this._configuration.rebuildOnRefresh){this.requestConfiguration();}this.refreshList();dojo.publish("/listView/refresh",this);},refreshList:function(_2124){if(this._listMode!=="list"){this.refreshSummary();return;}if(!_2124){this._listGrid._refresh();}else{if(this._configuration._listId===_2124){this._listGrid._refresh();}}if(this._listGrid&&this._listGrid.selection){this._listGrid.selection.clear();}if(this._detailPane){this._detailPane.clear();}},refreshSummary:function(){if(this._hasConfigurationForSummary()&&(this._listMode!=="list")){this._summaryGrid._refresh();}},showHelp:function(){util.openHelp(this.helpTopicName);},refreshGrid:function(){this._listGrid.selection.clear();this.refreshList();this.refreshSummary();},showList:function(){var query,_2125,_2126,_2127,i,cMenu,_2128,_2129,store,key,_212a,_212b;this._listMode="list";if(!this._hasConfigurationForList()){return;}_212a=this._getViewStateKey();this._saveToLocalStorage(_212a,"list",this._getViewNS());this._ensureApplyFilterWasPublished(true);query=this._filterManager.createQuery();key=this._getStoreQueryKey();_2125=this._listGrid.queryOptions||{};_2125.httpMethodOverride=!!query;this._setSortInfo(this._configuration.list.store);if(this._configuration.list.rowsPerPage>0){this._listGrid.set("rowsPerPage",this._configuration.list.rowsPerPage);}this._listGrid._setStore(this._configuration.list.store);this._listGrid._setQuery(query,_2125);this._saveToLocalStorage(key,{store:this._configuration.list.store,query:query});if(this._listGrid.structure!==this._configuration.list.structure){this._setColumnSizes(this._configuration.list.structure);this._listGrid.set("structure",this._configuration.list.structure);this._doAutoFitColumns();this._updateStructureFromLocalStore();}this._listGrid._refresh(true);if(!this._isConfigurationActiveForList()){if(this._dataChangeWatchers.length>0){array.forEach(this._dataChangeWatchers,dojo.disconnect);this._dataChangeWatchers=[];}if(this._configuration.list.formatterScope&&(this._listGrid.formatterScope!==this._configuration.list.formatterScope)){this._listGrid.set("formatterScope",this._configuration.list.formatterScope);}if(this._configuration.rebuildMenus){_2126=this._listGrid.selectedRegionMenu.getChildren();for(i=0;i<_2126.length;i++){_2127=_2126[i];this._listGrid.selectedRegionMenu.removeChild(_2127);}}_2128=this._configuration.list.selectedRegionContextMenuItems||[];if(_2128.length>0){_2129=this._listGrid.selectedRegionMenu.getChildren();if(_2129.length!==_2128.length){cMenu=this._listGrid.selectedRegionMenu;for(i=0;i<_2128.length;i++){cMenu.addChild(_2128[i]);}if(this._configuration.list.onSelectedRegionContextMenu){if(this._contextConnects){array.forEach(this._contextConnects,dojo.disconnect);}this._contextConnects=[];this._contextConnects.push(dojo.connect(this._listGrid,"onRowContextMenu",this._configurationProvider,this._configuration.list.onSelectedRegionContextMenu));}}}store=this._listGrid.store;if(store&&store!==null){if(store.features.hasOwnProperty("dojo.data.api.Write")){this._dataChangeWatchers.push(dojo.connect(store,"onSet",this,function(_212c,_212d,_212e,_212f){if(_212e!==_212f){this._markDirty(_212c);}}));if(store.onDataReset){this._dataChangeWatchers.push(dojo.connect(store,"onDataReset",this,"_markClean"));}}}}this._configuration.list.active=true;this._gridContainer.selectChild(this._listGrid);this._setDetailPaneVisibility(this._shouldShowDetailPane());this._updateToolbarItemVisibility();_212b=_20d2.byId("centerContent");},showSummary:function(){var _2130,query;this._listMode="summary";if(!this._hasConfigurationForSummary()){return;}query=this._filterManager.createQuery();this._setSummarySortInfo(this._configuration.summary.store);this._summaryGrid.setStore(this._configuration.summary.store,query);this._summaryGrid.setStructure(this._configuration.summary.structure);dojo.connect(this._summaryGrid,"_onFetchComplete",this,lang.hitch(this,function(){this._summaryGrid.resize();}));if(this._listGrid.selection){this._listGrid.selection.clear();}if(!this._isConfigurationActiveForSummary()){_2130=this._getViewStateKey();this._saveToLocalStorage(_2130,"summary",this._getViewNS());if(this._configuration.summary.hasOwnProperty("rowHeight")){this._summaryGrid.set("rowHeight",this._configuration.summary.rowHeight);}if(this._configuration.summary.hasOwnProperty("rowsPerPage")){this._summaryGrid.set("rowsPerPage",this._configuration.summary.rowsPerPage);}if(this._configuration.summary.hasOwnProperty("formatterScope")){this._summaryGrid.set("formatterScope",this._configuration.summary.formatterScope);}this._summaryGrid.canSort=function(col){return false;};this._configuration.summary.active=true;}this._gridContainer.selectChild(this._summaryGrid);this._setDetailPaneVisibility(this._shouldShowDetailPane());this._updateToolbarItemVisibility();},toggleDetail:function(){if(!this._hasConfigurationForDetail()){return;}this.detailVisible=!this.detailVisible;this._setDetailPaneVisibility(this._shouldShowDetailPane());},onRowClick:function(index,row,grid){},onRowContextMenu:function(index,row,grid){},onSelected:function(index,row,grid){},onSelectionChanged:function(){},resolveProperty:function(_2131,_2132){var list=this._configuration&&this._configuration.list,_2133=list&&list.layout,_2134=(list&&list.tableAliases)||{},i,item,table,_2135,_2136,_2137,_2138=["<",">"];if(_2133){for(i=0;i<_2133.length;i++){item=_2133[i];_2136=item.propertyPath&&item.propertyPath.split(".");if(_2136&&_2136.length===2){_2136=_2136[1];}else{if(_2136&&_2136.length===1){_2136=_2136[0];}}_2137=_2131&&_2131.split(".");if(_2137&&_2137.length===2){_2137=_2137[1];}else{if(_2137&&_2137.length===1){_2137=_2137[0];}}if(item.dataPath){array.forEach(_2138,function(c){item.dataPath=item.dataPath.replace(c,"=");});}if(item.propertyPath===_2131||(_2132&&item.dataPath===_2132)||_2136===_2137){if(/^[a-z]\d+_/i.test(item.alias)){return item.alias;}table=item.dataPath&&item.dataPath.split(":")[0];_2135=table&&_2134[table.toUpperCase()];if(_2135){return _2135+"."+item.alias;}return item.alias;}}}return _2131;}});return _20d4;});},"Sage/MainView/ReportMgr/nls/SchedulesListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/SchedulesListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2139,lang){var nls={root:{colJobName:"Job Name",colNameDescription:"Description",colNameRunAsUser:"Scheduled By",colNameLastExecutionDate:"Last Run",colNameExecutionCount:"Execution Count",colNameStartTimeUtc:"Start Time",colNameEndTimeUtc:"End Time",colNamePriority:"Priority",colNameStatus:"Status",colNameTemplate:"Template"}};return lang.mixin(_2139,nls);});},"Sage/Data/GroupLayoutSingleton":function(){define("Sage/Data/GroupLayoutSingleton",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/json"],function(_213a,array,lang,_213b,ready,json){var m=_213a("Sage.Data.GroupLayoutSingleton",null,{data:{},_fetchCache:{},_registeredOnSuccess:{},_registeredOnFailure:{},_baseCacheKey:"GROUPLAYOUT_",constructor:function(){},getGroupLayout:function(_213c,_213d,_213e,_213f){var _2140=_213b.getSDataService("system"),_2141=new Sage.SData.Client.SDataSingleResourceRequest(_2140),_2142=this._registeredOnSuccess[_213f],_2143=this._registeredOnFailure[_213f],_2144=this._baseCacheKey+_213f,_2145=null;if(_213f!=="LOOKUPRESULTS"){_2145=sessionStorage.getItem(_2144);}if(_2145){this.data[_213f]=json.parse(_2145);}if(this.data[_213f]){if(typeof _213d==="function"){_213d(this.data[_213f]);}return;}if(!_2142){this._registeredOnSuccess[_213f]=[];_2142=this._registeredOnSuccess[_213f];}if(!_2143){this._registeredOnFailure[_213f]=[];_2143=this._registeredOnFailure[_213f];}_2142.push(_213d);_2143.push(_213e);if(this._fetchCache[_213f]){return;}else{this._fetchCache[_213f]=true;}_2141.setResourceKind("groups");_2141.setResourceSelector(_213c);_2141.setQueryArg("include","layout,tableAliases");_2141.read({success:lang.hitch(this,this._onSuccess,_213f),failure:lang.hitch(this,this._onFailure,_213f)});},_onSuccess:function(_2146,data){var _2147=this._registeredOnSuccess[_2146];if(_2147){array.forEach(_2147,function(cb){if(typeof cb==="function"){cb(data);}});}if(_2146!=="LOOKUPRESULTS"){this.data[_2146]=data;}sessionStorage.setItem(this._baseCacheKey+_2146,json.stringify(data));this._doneFetching(_2146);},_onFailure:function(_2148,err){var _2149=this._registeredOnFailure[_2148];if(_2149){array.forEach(_2149,function(cb){if(typeof cb==="function"){cb(err);}});}this._doneFetching(_2148);},_doneFetching:function(_214a){this._registeredOnSuccess[_214a]=[];this._registeredOnFailure[_214a]=[];this._fetchCache[_214a]=false;}});return m;});},"Sage/QuickForms/Design/Editors/nls/GenericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/GenericAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_214b,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form."}};return lang.mixin(_214b,nls);});},"Sage/QuickForms/Design/Editors/DataGridBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DataGridBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DataGridBasicPropertyEditor"],function(_214c,lang,_214d,_214e,_214f,_2150,_2151,_2152,_2153,_2154,_2155,_2156){return _214c("Sage.QuickForms.Design.Editors.DataGridBasicPropertyEditor",[_214d,_2154,_2153],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset style=\"display:none;\"><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.pageSizeTooltipText %}\">","<label>{%= $.pageSizeText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_pageSize\" data-dojo-attach-event=\"onChange:_onPageSizeChange\" data-dojo-props=\"constraints:{min:0,max:1000,places:0}\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.resizableColumnsTooltipText %}\">","<label>{%= $.resizableColumnsText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_resizableColumns\" data-dojo-attach-event=\"onChange:_onResizableColumnsChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_pageSize:null,_resizableColumns:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",dataText:"Data",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",pageSizeText:"Page Size:",pageSizeTooltipText:"The number of grid records to display on a single page.",resizableColumnsText:"Resizable Columns:",resizableColumnsTooltipText:"Allows user to resize columns.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_2156);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._pageSize.set("value",this._designer.get("pageSize"));this._resizableColumns.set("value",this._designer.get("resizableColumns"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onPageSizeChange:function(value){if(this.isSuspended()||!this._pageSize.isValid()){return;}this._designer.set("pageSize",value);},_onResizableColumnsChange:function(value){if(this.isSuspended()){return;}this._designer.set("resizableColumns",value);}});});},"Sage/MainView/ActivityMgr/QuickCompleteEditor":function(){define("Sage/MainView/ActivityMgr/QuickCompleteEditor",["dijit/_Widget","Sage/_Templated","dijit/layout/ContentPane","dijit/form/Textarea","Sage/UI/TextBox","Sage/UI/Controls/DateTimePicker","dijit/form/FilteringSelect","Sage/UI/SDataLookup","dojox/layout/TableContainer","Sage/UI/Controls/SingleSelectPickList","dijit/Dialog","dojo/_base/declare","dojo/i18n!./nls/QuickCompleteEditor"],function(_2157,_2158,_2159,_215a,_215b,_215c,_215d,_215e,_215f,_2160,_2161,_2162,_2163){var _2164=_2162("Sage.MainView.ActivityMgr.QuickCompleteEditor",[_2157,_2158],{_currentUserId:null,_individuallyHandler:false,_nowHandler:false,_asScheduledHandler:false,_selectionContext:false,lblcmdMessageText:"",lblInfoMessageText:"",lblResultText:"Result:",lblNoteText:"Note (append to all items):",btnCompleteIndividuallyText:"Individually",btnAsScheduledText:"As Scheduled",btnCompleteNowText:"Now",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",resultCompletedText:"Complete",titleText:"Quick Complete",widgetsInTemplate:true,selectionContext:null,widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_qucikCompleteDialog\" title=\"Quick Complete\" dojoAttachPoint=\"_dialog\" >","<div class=\"quickComplete-dialog\">","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_General\" title=\"\" dojoAttachPoint=\"cp_General\">","<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" class=\"controlPropForm\" labelWidth=\"140\">","<div id=\"{%= $.id%}_div_actionMessage\"  name=\"div_actionMessage\" dojoAttachPoint=\"div_actionMessage\"></div>","<br>","<select label=\"{%= $. lblResultText %}\" id=\"{%= $.id%}_pk_Result\" data-dojo-type=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pk_Result\" canEditText=\"true\" itemMustExist=\"false\" pickListName=\"To Do Result Codes\" ></select>","<div data-dojo-type=\"dijit.form.SimpleTextarea\"\" label=\"{%= $.lblNoteText %}\" id=\"{%= $.id%}_ta_Note\" name=\"tb_Note\" dojoAttachPoint=\"ta_Note\"></div>","</div>","<br>","<div id=\"{%= $.id%}_div_cmdMessage\"  name=\"div_cmdMessage\" dojoAttachPoint=\"div_cmdMessage\" style=\"font-weight:bold\"></div>","<br>","<div class=\"button-bar alignright\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_CompleteIndividually\" name=\"btn_CompleteIndividually\" dojoAttachPoint=\"btn_CompleteIndividually\" dojoAttachEvent=\"onClick:_onCompleteIndividually\" style=\"align:left\" >{%= $.btnCompleteIndividuallyText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_btnAsScheduled\" name=\"btn_AsScheduled\" dojoAttachPoint=\"btn_AsScheduled\" dojoAttachEvent=\"onClick:_onAsScheduled\">{%= $.btnAsScheduledText %}</div>","<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_CompleteNow\" name=\"btn_CompleteNow\" dojoAttachPoint=\"btn_CompleteNow\" dojoAttachEvent=\"onClick:_onCompleteNow\">{%= $.btnCompleteNowText %}</div>","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCancelText %}</div>","</div>","</div>","<div data-dojo-type=\"dijit.layout.ContentPane\" id=\"{%= $.id%}_cp_processing\" title=\"\" dojoAttachPoint=\"cp_processing\">","<div id=\"{%= $.id%}_div_processingMessage\"  name=\"div_processingMessage\" dojoAttachPoint=\"div_processingMessage\"></div>","<div class=\"button-bar alignright\">","<div data-dojo-type=\"dijit.form.Button\"  id=\"{%= $.id%}_btn_Close\" name=\"btn_Close\" dojoAttachPoint=\"btn_Close\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $. btnCloseText %}</div>","</div>","</div>","</div>","</div>","</div>"]),constructor:function(_2165){dojo.mixin(this,_2163);this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";},destroy:function(){this._dialog.destroyRecursive();this.destroyRecursive();},show:function(){if(this.selectionContext){this.div_actionMessage.innerHTML=this.actionMessage;this.div_cmdMessage.innerHTML=String.format(this.completeMessage,this.selectionContext.count);this._dialog.set("title",this.titleText);}dojo.style(this.cp_processing.domNode,"display","none");this._dialog.show();},hide:function(){this.destroy();},resize:function(){},_showProcessing:function(){dojo.style(this.cp_General.domNode,"display","none");dojo.style(this.cp_processing.domNode,"display","block");this.div_processingMessage.innerHTML=String.format(this.processingMessage,this._selectionContext.count);},_onCompleteIndividually:function(){this.onCompleteIndividually();this._dialog.hide();},_onCompleteNow:function(){this._showProcessing();var _2166={selectionContext:this.selectionContext,note:this.ta_Note.value,result:this.pk_Result.get("value"),resultCode:""};this.onCompleteNow(_2166);this._dialog.hide();},_onAsScheduled:function(){this._showProcessing();var _2167={selectionContext:this.selectionContext,note:this.ta_Note.value,result:this.pk_Result.get("value"),resultCode:""};this.onCompleteAsScheduled(_2167);this._dialog.hide();},_cancelClick:function(){this.onCancel();this._dialog.hide();},onCompleteIndividually:function(){},onCompleteNow:function(args){},onCompleteAsScheduled:function(args){},onCancel:function(){}});return _2164;});},"Sage/QuickForms/Design/Editors/CurrencyBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CurrencyBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CurrencyBasicPropertyEditor"],function(_2168,lang,_2169,_216a,_216b,_216c,_216d,_216e,_216f,_2170,_2171,_2172){return _2168("Sage.QuickForms.Design.Editors.CurrencyBasicPropertyEditor",[_2169,_2170,_216f],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_2172);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/UI/Controls/MultiSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/MultiSelectPickList.html":"<div>\r\n    <input id=\"${id}-TextBox\" data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"textNode\" data-dojo-attach-event=\"onBlur: _onTextBlur\" />\r\n    <div id=\"${id}-Button\" data-dojo-type=\"dijit.form.DropDownButton\" data-dojo-attach-point=\"dropDownButtonNode\">\r\n        <span></span>\r\n        <div class=\"multiSelectPickListDialog\" id=\"${id}-ToolTipDialog\" data-dojo-type=\"dijit.TooltipDialog\" data-dojo-attach-point=\"tooltipDialogNode\" data-dojo-attach-event=\"onClose: _onTooltipClose, onShow: _onTooltipShow\">\r\n            <div data-dojo-attach-point=\"tooltipContainer\" style=\"height:200px; overflow-y:auto;\">\r\n            \r\n            </div>\r\n            \r\n            <div style=\"width: 100%; text-align:right\">\r\n                <p>\r\n                    <button id=\"${id}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\">${okText}</button>\r\n                <p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});define("Sage/UI/Controls/MultiSelectPickList",["dojo/_base/array","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/TextBox","dijit/form/DropDownButton","dijit/form/CheckBox","dijit/TooltipDialog","dijit/form/Button","Sage/UI/Controls/PickList","dojo/text!./templates/MultiSelectPickList.html","dojo/_base/declare","dojo/_base/lang"],function(array,_2173,_2174,_2175,_2176,_2177,_2178,_2179,_217a,_217b,_217c,_217d,lang){var _217e=_217d("Sage.UI.Controls.MultiSelectPickList",[_217b,_2175,_2173,_2174],{constructor:function(_217f){if(_217f.clientId){this.id=_217f.clientId+"-MultipleSelectPickList";}this.inherited(arguments);},postCreate:function(){this._setupTooltips(this.dropDownButtonNode.domNode,this.textNode.domNode);var def=new dojo.Deferred(),len;this.getPickListData(def);def.then(lang.hitch(this,function(data){if(typeof data==="string"){this.textNode.set("value",data);this.dropDownButtonNode.disabled=true;}var items=[],len=data&&data.items&&data.items.$resources&&data.items.$resources.length,i,item,_2180;for(i=0;i<len;i++){item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};_2180=dojo.byId(this._textId);if(_2180){this.lastValidValue=_2180.value;this.initialValue=this.lastValidValue;}else{if(items.length>0){this.lastValidValue=items[0].text;}}this.textNode.set("value",this.lastValidValue);this.initialValues=this.lastValidValue.split(",");this.lastValidValues=this.lastValidValue.split(",");this._renderFormElements(items);}),function(e){console.error(e);});if(this.get("canEditText")===false){this.textNode.disabled=true;}len=this.get("maxLength");if(len>0){this.textNode.set("maxLength",len);}if(this.get("itemMustExist")){this.textNode.isValid=lang.hitch(this,function(_2181){var _2182=this.textNode.get("value"),split=_2182.split(","),valid=false;if(split.length===1&&split[0]===""&&!this.required){valid=true;}else{valid=array.every(split,function(_2183){return array.some(this.storeData.items,function(item){return item.text.trim()===_2183.trim();},this);},this);}if(valid){this.lastValidValue=_2182;}if(_2181){valid=true;}if(!valid){if(this.lastValidValue){this.textNode.set("value",this.lastValidValue);valid=true;}}return valid;});}else{this.textNode.isValid=function(_2184){return true;};}this.inherited(arguments);},uninitialize:function(){this.inherited(arguments);},_isItemSelected:function(_2185){var _2186=this.textNode.get("value"),_2187=false,split=[];if(_2186){split=_2186.split(",");array.forEach(split,function(item,index,array){if(_2185.text.trim()===item.trim()){_2187=true;}},this);}return _2187;},_storeHasItem:function(_2188){var _2189=false;_2189=array.some(this.storeData.items,function(item){if(item.text.trim()===_2188.trim()){return true;}return false;},this);return _2189;},_renderFormElements:function(items){var node=this.tooltipContainer;array.forEach(items,function(item,index,array){var _218a=new _2178({id:this.id+"_checkBox"+index,name:"checkBox_"+item.text,value:item.text,checked:this._isItemSelected(item)}),label;_218a.startup();dojo.place(_218a.domNode,node,"last");label=dojo.create("label",{"for":_218a.id},_218a.domNode,"after");label.innerHTML=item.text;dojo.create("br",{},label,"after");},this);},_onTextBlur:function(){this._updateASPNETFields();},_updateASPNETFields:function(){if(this.textNode.isValid()){var val=this.textNode.get("value");if(val.trim()!==this.initialValue.trim()){this.setASPNETInputs(val,"","");}}},_onTooltipClose:function(){var items=[];dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id),val,_218b;if(wid){val=wid.get("value");_218b=wid.get("checked");if(_218b){items.push(val);}}});array.forEach(this.itemsNotInStore,function(_218c){items.push(_218c.trim());},this);this.textNode.set("value",items.join(", "));this._updateASPNETFields();},_onTooltipShow:function(){this._refreshCheckedItems();this._refreshItemsNotInStore();},_refreshItemsNotInStore:function(){var _218d=this.textNode.get("value"),_218e=_218d.split(",");this.itemsNotInStore=[];array.forEach(_218e,function(item,index,array){if(!this._storeHasItem(item.trim())){if(item.trim()!==""){this.itemsNotInStore.push(item.trim());}}},this);},_refreshCheckedItems:function(){dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id);if(wid){wid.set("checked",false);}});array.forEach(this.storeData.items,function(item,index,array){if(this._isItemSelected(item)){dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id);if(wid){if(node.value.trim()===item.text.trim()){wid.set("checked",true);}}});}},this);},templateString:_217c,widgetsInTemplate:true,storeData:null,lastValidValue:"",lastValidValues:null,initialValue:"",initialvalues:null,itemsNotInStore:null});return _217e;});},"Sage/UI/nls/CalendarUsersListPane":function(){define("Sage/UI/nls/CalendarUsersListPane",["Sage/LanguageList","dojo/_base/lang"],function(_218f,lang){var nls={root:{header_color:"Color",header_user:"User",maxUsersErrorMessage:"Sorry, you cannot view more than ${0} calendars (including your own) at one time.  Clear one of the currently-selected calendars and try again.",editUsersLinkText:"Edit Calendar Users",noUsersMessage:"No users added, add users by clicking 'Edit Calendar Users' link above"}};return lang.mixin(_218f,nls);});},"Sage/QuickForms/Design/Editors/UserAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/UserAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/UserAdvancedPropertyEditor"],function(_2190,lang,_2191,_2192,_2193,_2194,_2195,_2196,_2197,_2198,_2199){return _2190("Sage.QuickForms.Design.Editors.UserAdvancedPropertyEditor",[_2191,_2197,_2196],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.lookupBindingModeTooltipText %}\">","<label>{%= $.lookupBindingModeText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_lookupBindingMode\" data-dojo-attach-event=\"onChange:_onLookupBindingModeChange\">","{% for (var mode in $.bindingModeText) { %}","<span value=\"{%= mode %}\">{%= $.bindingModeText[mode] %}</span>","{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_lookupBindingMode:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",lookupBindingModeText:"Lookup Binding Mode:",lookupBindingModeTooltipText:"Indicates whether you want to bind to an entity object or to a string value.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},bindingModeText:{"Object":"Object","String":"String"},constructor:function(){lang.mixin(this,_2199);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._lookupBindingMode.set("value",this._designer.get("lookupBindingMode"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _219a=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_219a&&_219a["DataItemName"])||"");},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onLookupBindingModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("lookupBindingMode",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/QuickForms/Design/Editors/nls/PickListBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/PickListBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_219b,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_219b,nls);});},"Sage/QuickForms/Design/Editors/nls/ColumnBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ColumnBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_219c,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",widthText:"Width:",widthTooltipText:"Width of this column of controls.",sizeTypeText:"Size Type:",sizeTypeTooltipText:"Method of sizing: Absolute, AutoSize, or Percent.",rowSizeTypeText:{Absolute:"Absolute",Percent:"Percent",AutoSize:"AutoSize"}}};return lang.mixin(_219c,nls);});},"Sage/UI/Columns/ActivityAlarm":function(){define("Sage/UI/Columns/ActivityAlarm",["dojox/grid/cells/_base","Sage/Utility","dojo/_base/declare"],function(_219d,util,_219e){var _219f=_219e("Sage.UI.Columns.ActivityAlarm",_219d,{format:function(_21a0,_21a1){var alarm=util.getValue(_21a1,"Alarm");var html="<div><div>";if(alarm){html="<img src='images/icons/Alarm_16x16.gif'/>";}return html;}});return _219f;});},"Sage/UI/Columns/DateTime":function(){define("Sage/UI/Columns/DateTime",["dojox/grid/cells/dijit","dojo/date/locale","Sage/Utility","Sage/Utility/Activity","dojo/_base/declare"],function(_21a2,_21a3,_21a4,_21a5,_21a6){var _21a7=_21a6("Sage.UI.Columns.DateTime",dojox.grid.cells.Cell,{timelessField:"",timelessText:"",dateOnly:false,utc:true,useFiveSecondRuleToDetermineTimeless:false,format:function(_21a8,_21a9){var _21aa=this.formattedDate(_21a8,_21a9);if(this.abbreviationLength){var _21ab=Sage.Format.abbreviationFormatter(this.abbreviationLength);_21aa=_21ab(_21aa);}return _21aa;},formattedDate:function(_21ac,_21ad){if(!_21ad){return "";}var d=this.get?this.get(_21ac,_21ad):(this.value||this.defaultValue);if(!d){return "";}d=_21ae.toDateFromString(d,true);if(!d||d.constructor!==Date){return "";}var tless=false;if(this.timelessField&&this.timelessField!==""){tless=_21ae.toBoolean(_21a4.getValue(_21ad,this.timelessField,"F"));}if(this.useFiveSecondRuleToDetermineTimeless){tless=_21a5.isDateFiveSecondRuleTimeless(d);}if(!this.dateOnly&&!this.datePattern){if(!tless){return dojo.date.locale.format(d,{selector:this.formatType||"date/time",fullYear:true});}else{var _21af=d;if(this.utc){_21af=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,5);}return dojo.date.locale.format(_21af,{selector:"date",fullYear:true})+this.timelessText;}}else{if(this.datePattern){if(this.datePattern.indexOf("h")===-1){d=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());}return d.format(this.datePattern);}else{if(this.utc){var _21b0=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());return dojo.date.locale.format(_21b0,{selector:"date",fullYear:true});}else{return dojo.date.locale.format(d,{selector:"date",fullYear:true});}}}}});var _21ae=_21a4.Convert;return _21a7;});},"Sage/MainView/IntegrationContract/SalesOrderRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/SalesOrderRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesOrderDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesOrderDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesOrder_reference\">{%= $.lblSalesOrderCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesOrder_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesOrderContainer\" dojoAttachPoint=\"salesOrderContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesOrderContent\" dojoAttachPoint=\"salesOrderContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_OrderDate\">{%= $.lblOrderDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_OrderDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesOrder_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesOrder_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesOrder_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderAddresses\" dojoAttachPoint=\"sdgrdSalesOrderAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesOrderAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesOrderLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesOrderLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesOrderLines_Grid\" dojoAttachPoint=\"sdgrdSalesOrderLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/SalesOrderRTDV",["dojo/_base/declare","dojo/i18n!./nls/SalesOrderRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/SalesOrderRTDV.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/DateTextBox","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_21b1,_21b2,_21b3,_21b4,_21b5,_21b6,_21b7,_21b8,_21b9,_21ba,lang){var _21bb=_21b1("Sage.MainView.IntegrationContract.SalesOrderRTDV",[_21b3,_21b4],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,salesPersonsDataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_21b9)),constructor:function(){dojo.mixin(this,_21b2);},loadSalesOrders:function(){var self=this;var _21bc={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"$key",name:" ",sortable:false,formatter:this.salesOrdersX3DetailsViewRenderer,style:"text-align:left;",editable:false,hidden:function(){return !accountingSystemHandlesSO();}()},{width:10,field:"reference",name:this.grdSalesOrder_OrderNumber,sortable:true,formatter:this.salesOrdersDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_21b8,formatType:"date",dateOnly:true,utc:false,name:this.grdSalesOrder_OrderDate,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"status",name:this.grdSalesOrder_Status,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"statusFlagText",name:this.grdSalesOrder_HoldStatus,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"type",name:this.grdSalesOrder_Type,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdSalesOrder_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdSalesOrder_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"discountTotal",name:this.grdSalesOrder_DiscountTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"chargesTotal",name:this.grdSalesOrder_ChargesTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdSalesOrder_TaxTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdSalesOrder_GrossTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"currency",name:this.grdSalesOrder_Currency,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _21b6({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrders"}]}),tools:[]};var _21bd=new _21b5.Grid(_21bc,this.placeHolder);_21bd.startup();var _21be=dijit.byId("tabContent");_21be.resize();_21be.resize();this.grid=_21bd;},salesOrdersDetailsViewRenderer:function(value){return dojo.string.substitute("<a href=\"javascript:salesOrderRTDV.loadDetailsView();\">${0}</a>",[value]);},salesOrdersX3DetailsViewRenderer:function(){return dojo.string.substitute("<a href=\"javascript:salesOrderRTDV.callX3DetailsView();\">${0}</a>",[_21b2.grdSalesOrder_Edit]);},destroyFirst:function(id){var _21bf=dijit.byId(id);if(_21bf){_21bf.destroyRecursive();}},initSalesPersons:function(){if(this.salesPersonsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.salesPersonsDataStore=new _21b6({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _21c0=row["$key"];return dojo.string.substitute("'${0}'",[_21c0||""]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesPersons"}],includeContent:true});dojo.connect(this.salesPersonsDataStore,"onGetSingleResource",this,"loadSalesPersons");this.salesPersonsDataStore.getSingleResource();}},loadSalesPersons:function(data){this.destroyFirst("sdgrdSalesPersons");if(data&&typeof data.salesPersons==="undefined"){data.salesPersons={};data.salesPersons.$resources=new Array();}var _21c1=new dojox.grid.DataGrid({id:"sdgrdSalesPersons",store:this.salesPersonsDataStore,structure:[{width:10,field:"name",name:this.grdSalesPersons_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdSalesPersons_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"extension",name:this.grdSalesPersons_Extension,defaultValue:"",sortable:true,editable:false},{width:10,field:"relationship",name:this.grdSalesPersons_Relationship,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_21c1.domNode,this.sdgrdSalesPersons_Grid,"single");_21c1.startup();},loadAddresses:function(data){this.destroyFirst("sdgrdSalesOrderAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _21c2=new dojox.grid.DataGrid({id:"sdgrdSalesOrderAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_Address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_Address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_21c2.domNode,this.sdgrdSalesOrderAddresses_Grid,"single");_21c2.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdSalesOrderLines");if(data&&typeof data.salesOrderLines==="undefined"){data.salesOrderLines={};data.salesOrderLines.$resources=new Array();}var _21c3=new dojox.grid.DataGrid({id:"sdgrdSalesOrderLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"fulfillmentLocation.name",name:this.grdItems_Location,defaultValue:"",sortable:true,editable:false},{width:10,field:"pricelist.name",name:this.grdItems_PriceList,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesOrderLines"}});dojo.place(_21c3.domNode,this.sdgrdSalesOrderLines_Grid,"single");_21c3.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _21b6({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _21c4=row["$key"];return dojo.string.substitute("'${0}'",[_21c4||""]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdSOPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _21c5=new dojox.grid.DataGrid({id:"sdgrdSOPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_21b8,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_21b8,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_21c5.domNode,this.sdgrdSOPayments_Grid,"single");_21c5.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _21b6({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _21c6=row["$key"];return dojo.string.substitute("'${0}'",[_21c6]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrderDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdSODeliveries");if(data&&typeof data.salesOrderDeliveries==="undefined"){data.salesOrderDeliveries={};data.salesOrderDeliveries.$resources=new Array();}var _21c7=new dojox.grid.DataGrid({id:"sdgrdSODeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_21b8,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_21b8,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_21b8,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",type:_21b8,formatType:"date",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_21c7.domNode,this.sdgrdSODeliveries_Grid,"single");_21c7.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.salesOrderDetails,"display-none");dojo.addClass(this.tabContentDetails,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _21c8=row["$key"];this.dataStore=new _21b6({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesOrders",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_21c8]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesOrderLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,quotation/reference,salesOrderLines/commodity/name,salesOrderLines/unitOfMeasure/name,salesOrderLines/fulfillmentLocation/name,salesOrderLines/pricelist/name,salesOrderLines/commodityVariant/reference,salesOrderLines/commodityDimension/reference,salesOrderDeliveries/carrierTradingAccount/name"]});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},callX3DetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){var _21c9=row["$key"];dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesOrder/getediterpsalesorderurl?salesOrderKey=${0}&operatingCompany=${1}&_dc=${2}",[_21c9,this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_21ca,_21cb,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_21b2.Error_InvalidEndpoint;}});}},loadSalesOrderDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadSalesOrderDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.salesOrderContainer!=null){this.salesOrderContainer.selectChild(this.salesOrderContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.salesOrderDetails,"display-none");dojo.removeClass(this.tabContentDetails,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdSalesPersons");this.salesPersonsDataStore=null;this.destroyFirst("sdgrdSODeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdSOPayments");this.paymentsDataStore=null;this._dialog.hide();},destroy:function(_21cc,args){},launchAccountingSystemView:function(data){if(data.error!=null){_21b7.showError(data.error);}else{try{window.open(data.url);}catch(err){_21b7.showError(this.errorERPRequest);console.error(dojo.string.substitute(this.errorERPRequestDetails,[this.errorERPRequest,err,url]));}}},executeErpInsertView:function(){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesOrder/getinserterpsalesorderurl?accountId=${0}&operatingCompany=${1}&_dc=${2}",[Sage.Utility.getCurrentEntityId(),this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_21cd,_21ce,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_21b2.errorERPRequest;}});}});return _21bb;});},"Sage/MailMerge/main":function(){define("Sage/MailMerge/main",["Sage/MailMerge/Loader","Sage/MailMerge/Helper","Sage/MailMerge/MenuHelper"],function(){});},"Sage/MainView/IntegrationContract/MatchingOptionsConfig":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/MatchingOptionsConfig.html":"[\r\n'<div>',\r\n    '<div id=\"{%= $.id %}-Context-container\">',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.matchingHeader %}',\r\n            '<span class=\"boldtext\">{%= $.resourceDisplayName %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.matchingDescription %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:240px\">{%= $.operatorText %}</label>',\r\n    '</div>',\r\n    '<div id=\"{%= $.id %}-Loading-container\">',\r\n        '<br />',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n    '</div>',\r\n//conditions\r\n    '<div style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n//buttons\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').matchingObject.updateMatchProperties();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').destroy();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/MatchingOptionsConfig",["dojo/_base/declare","dojo/i18n!./nls/MatchingOptionsConfig","dojo/_base/array","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","dojo/text!./templates/MatchingOptionsConfig.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_21cf,_21d0,array,_21d1,_21d2,_21d3,_21d4){var _21d5=_21cf("Sage.MainView.IntegrationContract.MatchingOptionsConfig",[_21d1,_21d2],{resourceKind:"",resourceDisplayName:"",id:"",index:0,selectedFieldIndex:0,matchingId:"",fields:[{FieldName:"",DisplayName:""}],operators:[],selectedFilters:[],hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_21d4)),constructor:function(){dojo.mixin(this,_21d0);},init:function(_21d6){this.id=_21d6.Id;},conditionTemplate:new Simplate(["<div>","<div id=\"filterCondition_{%= $.index %}\" class=\"lookup-condition-row\" style=\"padding-left:12px\">","<select dojoType=\"dijit.form.select\" id=\"fieldnames_{%= $.index %}\" class=\"lookup-fieldnames-list\" style=\"width:160px\" >","{% for (var i=0; i < $.fields.length; i++) { %}","<option value=\"{%= $.fields[i].FieldName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.fields[i].DisplayName %}</option>","{% } %}","</select>","<select dojoType=\"dijit.form.select\" id=\"operators_{%= $.index %}\" class=\"lookup-operators-list\" style=\"width:160px; margin-left:130px\">","{% for (var i=0;i<$.operators.length;i++) { %}","<option value=\"{%= $.operators[i].symbol %}\"  {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.operators[i].display %}</option>","{% } %}","</select>","{% if ($.index == 1 ) { %}","<img id=\"addCondition_{%= $.index %}\" src=\"{%= $.addimgurl %}\" alt=\"{%= $.filter_AddCondition %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.matchingId %}').matchingObject.addLookupCondition();\" />","{% } %}","{% if ($.index > 1 ) { %}","<img src=\"{%= $.hideimgurl %}\" alt=\"{%= $.filter_RemoveCondition %}\" style=\"cursor:pointer;padding:0px 5px;\" onclick=\"dijit.byId('{%= $.matchingId %}').matchingObject.removeLookupCondition({%= $.index %});\" />","{% } %}","</div>","</div>"]),onEditMatchConfig:function(_21d7,_21d8){this.resourceDisplayName=_21d8;this.resourceKind=_21d7;this.showDialog();},showDialog:function(){this.index=0;var _21d9=new dijit.Dialog({title:this.matchingCaption,id:[this.id,"-Dialog"].join(""),style:["height:",300,"px;width:",600,"px;"].join(""),matchingObject:this});_21d9.attr("content",this.widgetTemplate.apply(this));this.connect(_21d9,"onCancel",this.destroyDialog);this.matchingId=_21d9.id;_21d9.show();this.getMatchProperties();},getMatchProperties:function(){var self=this;dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/resources/getmatchproperties?resourceKind=${0}",[self.resourceKind]),cache:false,preventCache:true,handleAs:"json",load:function(data){self.fields=data.fields;self.operators=data.operators;self.selectedFilters=data.filters;dojo.query(dojo.byId([self.id,"-Loading-container"].join(""))).orphan();self.loadMatchingFilters();},error:function(_21da,_21db,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=self.error_InvalidEndpoint;}});},loadMatchingFilters:function(){for(var i=0;i<this.selectedFilters.length;i++){this.addLookupCondition();var field=dojo.byId(["fieldnames_",this.index].join(""));if(field!=null){field.value=this.selectedFilters[i].Property;}operator=dojo.byId(["operators_",this.index].join(""));if(operator!=null){operator.value=this.selectedFilters[i].Operator;operator.symbol=this.selectedFilters[i].Operator;}}},dialogResize:function(){dojo.style([this.id,"-Dialog"].join(""),"height","auto");},addLookupCondition:function(){this.index++;var _21dc=dojo.byId([this.id,"-Condition-container"].join(""));var _21dd=this.conditionTemplate.apply(this);dojo.place(_21dd,_21dc);this.dialogResize();},removeLookupCondition:function(idx){dojo.query(dojo.byId(["filterCondition_",idx].join(""))).orphan();},updateMatchProperties:function(){var self=this;dojo.xhrPost({url:"slxdata.ashx/slx/crm/-/resources/updateconfiguration",sync:true,postData:self.getSelections(),load:function(){self.destroyDialog();},error:function(_21de,_21df,error){_21d3.showError(error);}});},getSelections:function(){var _21e0=[];var _21e1=dojo.query(".lookup-condition-row");for(var i=0;i<_21e1.length;i++){var _21e2=dojo.query(".lookup-fieldnames-list",_21e1[i]);var _21e3=dojo.query(".lookup-operators-list",_21e1[i]);var _21e4={fieldName:_21e2[0].value,operator:_21e3[0].value};_21e0.push(_21e4);}return Sys.Serialization.JavaScriptSerializer.serialize(_21e0);},reloadOperators:function(_21e5,_21e6){this.selectedFieldIndex=_21e5;this.index=_21e6;var _21e7=this.conditionTemplate.apply(this);dojo.place(_21e7,["filterCondition_",_21e6].join(""),"replace");},destroyDialog:function(){var rows=dojo.query(".lookup-condition-row");if(rows!=null){array.forEach(rows,"dojo.query(item).orphan();");}var _21e8=dijit.byId([this.id,"-Dialog"].join(""));if(_21e8){_21e8.destroy();}}});return _21d5;});},"Sage/Utility/UserOptions":function(){define("Sage/Utility/UserOptions",["Sage/Utility"],function(_21e9){Sage.namespace("Utility.UserOptions");Sage.Utility.UserOptions={getConvertedOptionValue:function(_21ea,value){value=value.toLowerCase();var _21eb=value;switch(_21ea.toUpperCase()){case "DEFAULTCALENDARVIEW":var _21ec=/^(month|2)$/i;var _21ed=/^(week|1)$/i;var _21ee=/^(workweek|3)$/i;var dayRE=/^(day|0)$/i;if(_21ec.test(value)){_21eb="month";}else{if(_21ed.test(value)){_21eb="week";}else{if(_21ee.test(value)){_21eb="workweek";}else{if(dayRE.test(value)){_21eb="day";}else{_21eb="day";}}}}break;case "WORKWEEKSUN":case "WORKWEEKMON":case "WORKWEEKTUE":case "WORKWEEKWED":case "WORKWEEKTHU":case "WORKWEEKFRI":case "WORKWEEKSAT":case "REMEMBERUSERS":case "SHOWONOPPORTUNITIES":case "SHOWONREGARDING":case "SHOWONPHONENUMBER":case "SHOWONTIME":var _21ef=/^(true|yes|T|1)$/i;_21eb=_21ef.test(value);break;case "LOADHISTORYONSTART":var _21f0=/^(true|yes|T|Y|0)$/i;_21eb=_21f0.test(value);break;case "DAYSTARTTIME":_21eb=this.getHourPart(value);if(_21eb>24){_21eb=9;}break;case "DAYENDTIME":_21eb=this.getHourPart(value);if(_21eb>24){_21eb=17;}break;case "NUMEVENTS":case "DEFAULTINTERVAL":_21eb=parseInt(value);break;default:_21eb=value;}return _21eb;},getHourPart:function(value){var dt=value.split(" ");var t,h;if(dt.length>1&&value.indexOf("-")>0){t=dt[1];if(t){h=t.split(":")[0];}}else{h=value.split(":")[0];}if(value.indexOf("pm")>0||value.indexOf("PM")>0){h=parseInt(h)+12;}return parseInt(h,10);},getDay:function(value){var _21f1=value;if(value.length>1){var _21f2=[];_21f2["SUNDAY"]=0;_21f2["MONDAY"]=1;_21f2["TUESDAY"]=2;_21f2["WEDNESDAY"]=3;_21f2["THURSDAY"]=4;_21f2["FRIDAY"]=5;_21f2["SATURDAY"]=6;_21f1=_21f2[value.toUpperCase()];}if(!_21f1){_21f1=1;}return _21f1;},arraySort:function(a,b){return a-b;}};return Sage.Utility.UserOptions;});},"Sage/MailMerge/Loader":function(){define("Sage/MailMerge/Loader",["Sage/Utility/ErrorHandler","Sage/MailMerge/Helper","Sage/MailMerge/MenuHelper","Sage/UI/Dialogs","dijit/_Widget","dojo/i18n","dojo/string","dojox/json/ref","dojo/_base/lang","dojo/i18n!./nls/Loader","dojo/_base/declare"],function(_21f3,_21f4,_21f5,_21f6,_21f7,i18n,_21f8,ref,dLang,nls,_21f9){var _21fa=_21f9("Sage.MailMerge.Loader",[_21f7],{constructor:function(){this.inherited(arguments);},postMixInProperties:function(){dLang.mixin(this,nls);this.inherited(arguments);},DecodeMailMergeJsonFromUrl:function(url){var _21fb=null;dojo.xhrGet({url:url,preventCache:true,handleAs:"text",sync:true,load:function(data){if(data&&dojo.isString(data)&&data!==""){var _21fc=data.replace(/":null/gi,"\":\"\"");_21fb=ref.fromJson(_21fc);}},error:function(error,_21fd){_21f3.handleHttpError(error,_21fd);}});return _21fb;},GetClientPath:function(){var _21fe=String(window.location);var _21ff=_21fe.lastIndexOf("/");if(_21ff!=-1){return _21fe.substring(0,_21ff);}return null;}});window.ExecuteWriteAction=function(_2200,param){_21f4.ExecuteWriteAction(_2200,param);};window.GetMailMergeService=function(_2201){if(typeof console!=="undefined"){}return _21f4.GetMailMergeService(_2201);};window.GetDesktopService=function(_2202){return _21f4.GetMailMergeService(_2202);};if(!Sage.Services.hasService("MailMergeServiceLoader")){Sage.Services.addService("MailMergeServiceLoader",new Sage.MailMerge.Loader());}var _2203=true;var _2204=new _21f5();var _2205=(navigator.userAgent.indexOf("Win")!=-1);if(_2205&&Sage&&Sage.Services){if(!Sage.gears){if(typeof initGears==="function"){initGears();}}if(Sage.gears&&Sage.gears.factory){dojo.addOnLoad(function(){_2204.attachWriteMenuPopulator();});_2203=false;}}if(_2203){try{if(!Sage.gears){if(window.console){}}if(Sage.gears&&!Sage.gears.factory){if(window.console){}}}catch(e){}dojo.addOnLoad(function(){_2204.removeWriteMenu();});}return _21fa;});},"Sage/MainView/ReportMgr/ReportManagerActions":function(){define("Sage/MainView/ReportMgr/ReportManagerActions",["dojo/_base/declare","Sage/UI/Dialogs","dojo/i18n!./nls/ReportManagerActions","dojo/string","Sage/MainView/ReportMgr/ReportWizardController","Sage/Reporting/Enumerations","Sage/Utility/Jobs","Sage/Data/SDataServiceRegistry"],function(_2206,_2207,_2208,_2209,_220a,_220b,_220c,_220d){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerActions");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerActions,{_getSelectedId:function(){var _220e=Sage.Utility.getSelectionInfo();if(_220e){if(_220e.selectedIds.length===1){return _220e.selectedIds[0];}}return null;},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _220f=svc.getContext();return _220f.CurrentGroupID;},deleteReport:function(){var key=this._getSelectedId();if(!key){_2207.showInfo(_2208.txtSelectRecord);}else{var self=this;_2207.raiseQueryDialog("Saleslogix",_2209.substitute(_2208.confirm_Deletion,[_2208.confirm_Report]),function(_2210){if(_2210){var _2211=_220c.getCurrentGroupId();if(self._deleteReport(key)){_220c.refreshList(_2211);}}},_2208.txtYes,_2208.txtNo);}},_deleteReport:function(key){var _2212=_220d.getSDataService("system",false,true,false);var _2213=new Sage.SData.Client.SDataApplicationRequest(_2212);_2213.setResourceKind(_2209.substitute("reports('${0}')",[key]));var sUrl=_2213.uri;dojo.xhrDelete({handleAs:"json",url:sUrl,error:function(xhr){_2207.showError(_2209.substitute(_2208.txtErrorDeleteReport,[xhr.status]));return false;}});return true;},runReport:function(){var key=this._getSelectedId();if(!key){_2207.showInfo(_2208.txtSelectRecord);}else{var _2214=dijit.byId("list");var _2215=_2214.get("list").selection.getFirstSelected().displayName;var _2216={reportId:key,reportDisplayName:_2215,reportOptions:{wizardOptions:{},scheduleOptions:{executionType:_220b.ExecutionType.OnDemand},exportOptions:{},conditions:[],parameterValues:[]}};_220a.startWizard(_2216);}},scheduleReport:function(){var key=this._getSelectedId();if(!key){_2207.showInfo(_2208.txtSelectRecord);}else{var _2217=dijit.byId("list");var _2218=_2217.get("list").selection.getFirstSelected().displayName;var _2219={reportId:key,reportDisplayName:_2218,reportOptions:{wizardOptions:{},scheduleOptions:{executionType:_220b.ExecutionType.Scheduled},exportOptions:{},conditions:[],parameterValues:[]}};_220a.startWizard(_2219);}},deleteSchedule:function(){var key=this._getSelectedId();if(!key){_2207.showInfo(_2208.txtSelectRecord);}else{_2207.raiseQueryDialog("Saleslogix",_2209.substitute(_2208.confirm_Deletion,[_2208.confirm_Schedule]),function(_221a){if(_221a){var _221b=_220c.getCurrentGroupId();var _221c=Sage.Services.getService("JobService");if(_221c.deleteScheduledJob(key)){_220c.refreshList(_221b);}}},_2208.txtYes,_2208.txtNo);}},editSchedule:function(){var key=this._getSelectedId();if(!key){_2207.showInfo(_2208.txtSelectRecord);}else{var _221d={triggerId:key};_220a.startWizard(_221d);}},deleteHistory:function(){var _221e=Sage.Utility.getSelectionInfo();if(_221e.selectedIds.length<=0){_2207.showInfo(_2208.txtInvalidSelectionCount);}else{var self=this;_2207.raiseQueryDialog("Saleslogix",_2209.substitute(_2208.confirm_Deletion,[_2208.confirm_ReportHistory]),function(_221f){if(_221f){self._deleteHistory();}},_2208.txtYes,_2208.txtNo);}},_getCurrentUserId:function(){var _2220=null;var _2221=Sage.Services.getService("ClientContextService");if(_2221){if(_2221.containsKey("userID")){_2220=_2221.getValue("userID");}}return _2220;},_deleteHistory:function(){var _2222=Sage.Utility.getSelectionInfo();var _2223=[{"name":"EntityName","value":"ReportHistory"},{"name":"SelectedIds","value":(_2222.selectionCount>0)?_2222.selectedIds.join(",")||"":""}];var _2224=_220c.getCurrentGroupId();var _2225={closable:true,key:"Sage.SalesLogix.BusinessRules.Jobs.DeleteEntityJob",descriptor:_2208.txtDeleteHistory,user:{$key:this._getCurrentUserId()},parameters:_2223,infoMessage:_2208.txtDeleteHistory,title:_2208.txtDeleteTitle,complete:function(_2226){_220c.refreshList(_2224);},failure:function(_2227){_2207.showError(dojo.string.substitute(_2208.deleteJobError,[_2227.statusText]));}};_220c.triggerJobAndDisplayProgressDialog(_2225);}});return Sage.MainView.ReportMgr.ReportManagerActions;});},"url:Sage/UI/Controls/templates/PickListAsText.html":"<div>\r\n    <span id=\"${id}-Span\" data-dojo-attach-point=\"textSpan\"></span>\r\n</div>\r\n","Sage/UI/Columns/main":function(){define("Sage/UI/Columns/main",["Sage/UI/Columns/ActivityAlarm","Sage/UI/Columns/UserType","Sage/UI/Columns/ActivityType","Sage/UI/Columns/Boolean","Sage/UI/Columns/Cell","Sage/UI/Columns/CheckBox","Sage/UI/Columns/Currency","Sage/UI/Columns/DataType","Sage/UI/Columns/DateTime","Sage/UI/Columns/Dnd","Sage/UI/Columns/DndCell","Sage/UI/Columns/Email","Sage/UI/Columns/Lookup","Sage/UI/Columns/Numeric","Sage/UI/Columns/OwnerType","Sage/UI/Columns/Phone","Sage/UI/Columns/PickList","Sage/UI/Columns/RadioGroup","Sage/UI/Columns/SlxEdit","Sage/UI/Columns/SlxLink","Sage/UI/Columns/TextBox"],function(){});},"Sage/MainView/ReportMgr/nls/ReportManagerGroupContextService":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_2228,lang){var nls={root:{reportsTabDisplayName:"Reports",schedulesTabDisplayName:"Schedules",historyTabDisplayName:"History"}};return lang.mixin(_2228,nls);});},"Sage/UI/Controls/Name":function(){require({cache:{"url:Sage/UI/Controls/templates/Name.html":"<div class=\"person\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" ><input id=\"{%= $.id %}-TextBox\" value=\"{%= $.nameDesc %}\"\r\n    data-dojo-type=\"Sage.UI.Controls.TextBox\" name=\"{%= $.name %}\" required=\"{%= $.required %}\" dojoAttachPoint=\"focusNode\"  data-dojo-attach-event=\"onChange:textBoxOnChange, onDblClick: showDialog\" data-dojo-props=\"textWithIcons: {%= $.buttonVisible %}\" />\r\n    {% if ($.buttonVisible) { %}\r\n    <img alt=\"{%= $.buttonToolTip %}\"  data-dojo-attach-event=\"ondijitclick: showDialog\"  tabindex=\"{%= $.tabIndex %}\"     \r\n    style=\"padding-left:0;cursor: pointer; vertical-align: left;\" \r\n    src=\"{%= $.buttonImageUrl %}\" title=\"{%= $.buttonToolTip %}\" id=\"{%= $.id %}-Button\" />\r\n    {% } %}\r\n<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n</div>","url:Sage/UI/Controls/templates/PersonName.html":"<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table width=\"100%\">\r\n            <tr>\r\n                <td><label>{%= $.prefixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Prefix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\" \r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Prefix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NamePrefix %}\" \r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameFirstText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-First\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameFirst %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameMiddleText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Middle\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameMiddle %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameLastText %}</label></td>\r\n                <td>\r\n                    <input id=\"{%= $.id %}-Last\" data-dojo-type=\"Sage.UI.Controls.TextBox\"\r\n                    style=\"width:inherit;\"\r\n                    textAlign=\"{%= $.textAlign %}\"\r\n                    name=\"{%= $.NameLast %}\" type=\"text\" data-dojo-attach-point=\"focusNode\"\r\n                    shouldPublishMarkDirty=\"false\">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.suffixText %}</label></td>\r\n                <td>\r\n                    <select id=\"{%= $.id %}-Suffix\" data-dojo-type=\"Sage.UI.Controls.DropDownSelectPickList\"\r\n                    dojoAttachPoint=\"_valueBox\"\r\n                    pickListName=\"Name Suffix\"\r\n                    storeMode=\"text\"\r\n                    name=\"{%= $.NameSuffix %}\"\r\n                    style=\"width: 150px;display: inline-block\"\r\n                    shouldPublishMarkDirty=\"false\" />\r\n                </td>\r\n            </tr>\r\n        </table>                    \r\n        <div class=\"button-bar alignright\" style=\"clear: both\">\r\n            <button id=\"{%= $.id %}-OKButton\" data-dojo-type=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId('{%= $.id %}')._okClicked();\">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id=\"{%= $.id %}-CancelButton\" data-dojo-type=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId('{%= $.id %}')._cancelClicked();\">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>\r\n"}});define("Sage/UI/Controls/Name",["dojo/_base/lang","dojo/_base/declare","dojo/i18n","dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","dijit/Dialog","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Name","dojo/text!./templates/Name.html","dojo/text!./templates/PersonName.html"],function(lang,_2229,i18n,_222a,_222b,_222c,_222d,_222e,_222f,_2230,_2231,_2232,_2233){var _2234=_2229("Sage.UI.Controls.Name",[_222a,_222b],{widgetTemplate:new Simplate(_2232.split("\r")),dialogContent:new Simplate(_2233.split("\r")),templateOverridePath:"templates/PersonName-Override.html",widgetsInTemplate:true,clientId:"",nameDesc:"",buttonImageUrl:"",buttonToolTip:"",buttonVisible:true,tabIndex:0,prefix:"",first:"",middle:"",last:"",suffix:"","Name Prefix":{},"Name Suffix":{},"LastName Prefix":{},name:"",prefixClientId:"",nameFirstClientId:"",nameMiddleClientId:"",nameLastClientid:"",suffixClientId:"",required:false,autoPostBack:false,constructor:function(_2235){_2235.id=_2235.clientId;this.resources=i18n.getLocalization("Sage.UI.Controls","Name");if(_2235.templateOverridePath&&_2235.templateOverridePath.length>0){try{this.dialogContent=new Simplate(dojo["cache"]("Sage.UI.Controls",_2235.templateOverridePath).split("\r"));}catch(e){}}},postCreate:function(){this.getDotNetData();if(!this["Name Prefix"].data||!this["Name Suffix"].data||!this["LastName Prefix"].data){this.loadPickLists();}this.inherited(arguments);},loadPickLists:function(){var _2236=new dojo.Deferred();var _2237=new dojo.Deferred();var _2238=new dojo.Deferred();var _2239={pickListName:"Name Prefix",canEditText:false,itemMustExist:true,maxLength:-1,storeMode:"text",sort:true,displayMode:"AsControl",required:false,autoPostBack:false};var _223a=new _222d(_2239);_223a.getPickListData(_2236);_2236.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});_2239.pickListName="Name Suffix";var _223b=new _222d(_2239);_223b.getPickListData(_2237);_2237.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});_2239.pickListName="LastName Prefix";var _223c=new _222d(_2239);_223c.getPickListData(_2238);_2238.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});},storePickListData:function(data){this[data.name].data=data;},showDialog:function(){this.editDialog=dijit.byId([this.id,"-Dialog"].join(""));if(!this.editDialog){this.editDialog=new _222f({title:this.resources.dialogTitle,id:[this.id,"-Dialog"].join("")});this.editDialog.set("content",this.dialogContent.apply({id:this.id,prefixText:this.resources.prefixText,nameFirstText:this.resources.nameFirstText,nameMiddleText:this.resources.nameMiddleText,nameLastText:this.resources.nameLastText,suffixText:this.resources.suffixText,cancelText:this.resources.cancelText,okText:this.resources.okText}));}this.setEditFields();lang.mixin(this.editDialog,new _2230());this.editDialog.createHelpIconByTopic("editname");this.editDialog.show();if(this.modality==="modeless"){dojo.destroy([this.id,"-Dialog_underlay"].join(""));}},textBoxOnChange:function(value){if(value!==this.formatName()){this.parseName(value);this.setDotNetData();dojo.publish("Sage/events/markDirty");}},parseName:function(value){var _223d=value.split(" ");var i,item;for(i=0;i<this["Name Prefix"].data.items.$resources.length;i++){item=this["Name Prefix"].data.items.$resources[i];if(item.text.toUpperCase()===_223d[0].toUpperCase()){this.prefix=_223d[0];_223d.shift();break;}}for(i=0;i<this["Name Suffix"].data.items.$resources.length;i++){item=this["Name Suffix"].data.items.$resources[i];if(item.text.toUpperCase()===_223d[_223d.length-1].toUpperCase()){this.suffix=_223d[_223d.length-1];_223d.pop();break;}}if(_223d.length>0){this.last=_223d[_223d.length-1];_223d.pop();}if(_223d.length>0){for(i=0;i<this["LastName Prefix"].data.items.$resources.length;i++){item=this["LastName Prefix"].data.items.$resources[i];if(item.text.toUpperCase()===_223d[_223d.length-1].toUpperCase()){this.last=[_223d[_223d.length-1],this.last].join(" ");_223d.pop();break;}}}if(_223d.length===2){this.first=_223d[0];this.middle=_223d[1];}if(_223d.length===1){this.first=_223d[0];}},getEditFields:function(){this.updateNameObj();this.setDotNetData();dojo.publish("Sage/events/markDirty");},updateNameObj:function(){if(dijit.byId([this.id,"-Prefix"].join(""))){this.prefix=dijit.byId([this.id,"-Prefix"].join("")).comboBox.get("value");}if(dijit.byId([this.id,"-First"].join(""))){this.first=dijit.byId([this.id,"-First"].join("")).get("value");}if(dijit.byId([this.id,"-Middle"].join(""))){this.middle=dijit.byId([this.id,"-Middle"].join("")).get("value");}if(dijit.byId([this.id,"-Last"].join(""))){this.last=dijit.byId([this.id,"-Last"].join("")).get("value");}if(dijit.byId([this.id,"-Suffix"].join(""))){this.suffix=dijit.byId([this.id,"-Suffix"].join("")).comboBox.get("value");}},getDotNetData:function(){if(this.prefixClientId!==""){this.prefix=dojo.byId(this.prefixClientId).value;}if(this.nameFirstClientId!==""){this.first=dojo.byId(this.nameFirstClientId).value;}if(this.nameMiddleClientId!==""){this.middle=dojo.byId(this.nameMiddleClientId).value;}if(this.nameLastClientid!==""){this.last=dojo.byId(this.nameLastClientid).value;}if(this.suffixClientId!==""){this.suffix=dojo.byId(this.suffixClientId).value;}},setDotNetData:function(){dojo.byId(this.prefixClientId).value=this.prefix;dojo.byId(this.nameFirstClientId).value=this.first;dojo.byId(this.nameMiddleClientId).value=this.middle;dojo.byId(this.nameLastClientid).value=this.last;dojo.byId(this.suffixClientId).value=this.suffix;},setEditFields:function(){if(dijit.byId([this.id,"-Prefix"].join(""))){dijit.byId([this.id,"-Prefix"].join("")).comboBox.set("value",this.prefix);}if(dijit.byId([this.id,"-First"].join(""))){dijit.byId([this.id,"-First"].join("")).set("value",this.first);dijit.byId([this.id,"-First"].join("")).set("style","width:100%");}if(dijit.byId([this.id,"-Middle"].join(""))){dijit.byId([this.id,"-Middle"].join("")).set("value",this.middle);dijit.byId([this.id,"-Middle"].join("")).set("style","width:100%");}if(dijit.byId([this.id,"-Last"].join(""))){dijit.byId([this.id,"-Last"].join("")).set("value",this.last);dijit.byId([this.id,"-Last"].join("")).set("style","width:100%");}if(dijit.byId([this.id,"-Suffix"].join(""))){dijit.byId([this.id,"-Suffix"].join("")).comboBox.set("value",this.suffix);}},_okClicked:function(){this.getEditFields();if(this.focusNode.value!==this.formatName()){this.focusNode.set("value",this.formatName());dojo.publish("Sage/events/markDirty");}},_cancelClicked:function(){this.editDialog.hide();},formatName:function(){var name=((this.prefix==="")?"":this.prefix+" ");name+=((this.first==="")?"":this.first+" ");name+=((this.middle==="")?"":this.middle+" ");name+=((this.last==="")?"":this.last+" ");name+=((this.suffix==="")?"":this.suffix);name=name.trim();return name;}});return _2234;});},"url:Sage/MainView/IntegrationContract/templates/MatchingOptionsConfig.html":"[\r\n'<div>',\r\n    '<div id=\"{%= $.id %}-Context-container\">',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.matchingHeader %}',\r\n            '<span class=\"boldtext\">{%= $.resourceDisplayName %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.matchingDescription %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:240px\">{%= $.operatorText %}</label>',\r\n    '</div>',\r\n    '<div id=\"{%= $.id %}-Loading-container\">',\r\n        '<br />',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n    '</div>',\r\n//conditions\r\n    '<div style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n//buttons\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').matchingObject.updateMatchProperties();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').destroy();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/MainView/IntegrationContract/nls/MatchingOptionsConfig":function(){define("Sage/MainView/IntegrationContract/nls/MatchingOptionsConfig",["Sage/LanguageList","dojo/_base/lang"],function(_223e,lang){var nls={root:{matchingCaption:"Edit Match Criteria",matchingHeader:"Match Criteria for ",matchingDescription:"Add or remove operators to define the match criteria for all users who link Saleslogix records with an accounting system. This criteria determines the results returned when searching for matching records between accounting systems.",propertyText:"Property",operatorText:"Operator",loadingText:"Loading...",filter_AddCondition:"Add Condition",filter_RemoveCondition:"Remove Condition",error_InvalidEndpoint:"Please specify a valid endpoint before continuing.",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_223e,nls);});},"Sage/QuickForms/Design/Editors/nls/FormBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_223f,lang){var nls={root:{titleText:"Basic",generalText:"General",activeControlText:"Active Control:",activeControlTooltipText:"The control the user\\'s cursor starts on.",descriptionText:"Description:",descriptionTooltipText:"Optional description of the purpose of the form.",nameText:"Name:",nameTooltipText:"Form identifier used by the system."}};return lang.mixin(_223f,nls);});},"Sage/TaskPane/GroupListTasklet":function(){define("Sage/TaskPane/GroupListTasklet",["dojox/grid/DataGrid","Sage/Data/SDataStore","Sage/Data/SDataServiceRegistry","dojo/string","Sage/Groups/GroupContextService","dojo/_base/declare","dijit/_Widget","dojo/_base/lang","Sage/UI/Filters/FilterManager","dojo/_base/array","Sage/Utility/_LocalStorageMixin","dojo/topic"],function(_2240,_2241,_2242,_2243,_2244,_2245,_2246,lang,_2247,array,_2248,topic){var _2249=_2245("Sage.Groups.GroupListTasklet",[_2246,_2248],{_contextSetHandle:null,_groupChangedHandle:null,gridLoadedHandler:null,gridOnSelectedHandle:null,groupContextService:null,context:null,grid:null,store:null,query:"",service:null,id:"GroupListTasklet",keyAlias:"",columnDisplayName:"",allowOnSelectToFire:true,STORE_KEY_STORE_QUERY:"_STORE_QUERY_",subscribesTo:{groupLookupSuccess:"/group/lookup/success",adhocGroupRemoved:"/group/adhoc/removed",groupNavFirst:"/group/nav/first",groupNavPrevious:"/group/nav/previous",groupNavNext:"/group/nav/next",groupNavLast:"/group/nav/last"},constructor:function(_224a){this.inherited(arguments);lang.mixin(this,_224a);this.groupContextService=Sage.Services.getService("ClientGroupContext");this.context=this.groupContextService.getContext();if(this.context.CurrentFamily===null){this._contextSetHandle=dojo.connect(this.groupContextService,"onContextSet",this,"_createList");}else{this._createList();}this._groupChangedHandle=dojo.connect(this.groupContextService,"onCurrentGroupChanged",this,"_groupChanged");topic.subscribe(this.subscribesTo.groupLookupSuccess,lang.hitch(this,this._onLookupSuccess));topic.subscribe(this.subscribesTo.groupNavFirst,lang.hitch(this,this._onGroupNavFirst));topic.subscribe(this.subscribesTo.groupNavPrevious,lang.hitch(this,this._onGroupNavPrevious));topic.subscribe(this.subscribesTo.groupNavNext,lang.hitch(this,this._onGroupNavNext));topic.subscribe(this.subscribesTo.groupNavLast,lang.hitch(this,this._onGroupNavLast));topic.subscribe(this.subscribesTo.adhocGroupRemoved,lang.hitch(this,this._onRecordRemoved));},_onLookupSuccess:function(args){Sage.Link.toListView();},_onGroupNavFirst:function(args){this.selectGridRow(0);},_onGroupNavLast:function(args){this.selectGridRow(args.count-1);},_onGroupNavPrevious:function(args){var _224b=args.position-1;this.selectGridRow(_224b-1);},_onGroupNavNext:function(args){var _224c=args.position-1;this.selectGridRow(_224c+1);},_onRecordRemoved:function(args){var index,_224d;index=this.grid.selection.selectedIndex;if(index===0){_224d=index+1;}else{_224d=index-1;}this.selectGridRow(_224d);this._onSelected(_224d);this._onRecordRemovedRefresh(index===0?index:_224d);},_onRecordRemovedRefresh:function(index){if(this.grid){this.gridRefreshedHandler=dojo.connect(this.grid,"_onFetchComplete",this,function(){this.selectGridRow(index);});try{this.grid.setStore(this.get("store"));}catch(err){}}},_groupChanged:function(){if(this.grid&&!this.shouldNotUpdate){this.gridLoadedHandler=dojo.connect(this.grid,"_onFetchComplete",this,"_groupChangedAndLoaded");try{this.grid.setStore(this.get("store"));}catch(err){}}},_groupChangedAndLoaded:function(){this.selectGridRow(0);this._onSelected(0);if(this.gridLoadedHandler){dojo.disconnect(this.gridLoadedHandler);}},_getStoreQueryKey:function(){var id=this.STORE_KEY_STORE_QUERY+this._getGroupID();return id;},_getGroupNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getGroupID();return ns;},_getGroupID:function(){this.context=this.groupContextService.getContext();var _224e=-1;if(this.context){_224e=this.context.CurrentGroupID;}return _224e;},_getStoreAttr:function(){this.context=this.groupContextService.getContext();this.context.CurrentFamily=this.context.CurrentFamily.toUpperCase();var _224f="'"+this.context.CurrentGroupID+"'";if(this.context["CurrentGroupID"]==="LOOKUPRESULTS"){this.context["CurrentName"]="Lookup Results";}var temp=this.getFromLocalStorage(this._getStoreQueryKey(),this._getGroupNS()),_2250={resourceKind:"groups",service:this.service,queryName:"execute",resourcePredicate:_224f,select:[this.keyAlias,this.columnDisplayName]};if(temp&&temp.store&&temp.query){_2250.select=temp.store.select;_2250.resourcePredicate=temp.store.resourcePredicate;this.query=temp.query;if(this.query){_2250.where=this.query;}}this.store=new _2241(_2250);return this.store;},refreshGrid:function(){this.context=this.groupContextService.getContext();var _2251=this.context.CurrentEntityPosition-1;this.selectGridRow(_2251);if(this.gridRefreshedHandler){dojo.disconnect(this.gridRefreshedHandler);}},selectGridRow:function(_2252){this.allowOnSelectToFire=false;if(this.grid.rowCount>0){this.grid.scrollToRow(_2252);this.grid.selection.clear();this.grid.selection.select(_2252);this.grid.onSelected(_2252);}else{Sage.Link.toListView();}this.allowOnSelectToFire=true;},uninitialize:function(){try{if(this.grid&&this.grid.destroy){this.grid.destroy();}if(this.gridOnSelectedHandle){this.gridOnSelectedHandle.remove();}}catch(err){}this.inherited(arguments);},_createList:function(){var self=this,_2253=this.id+"_grid",grid;this.service=_2242.getSDataService("system");if(this.grid){this.grid.setStore(this.get("store"));grid=this.grid;}else{grid=new _2240({store:this.get("store"),id:_2253,structure:[{field:"_item",headerClasses:"displaynone",width:"100%",formatter:function(item){return (item&&item.hasOwnProperty(self.columnDisplayName)?item[self.columnDisplayName]:dojo.string.substitute("(${0})",[item[self.keyAlias]]));}},{field:this.keyAlias,hidden:true,headerClasses:"displaynone",width:"0px"}],showTitle:false,autoWidth:false,rowSelector:false,selectionMode:"single",width:"100%",height:"230px"});dojo.byId(this.id+"_node").appendChild(grid.domNode);this.gridRefreshedHandler=dojo.connect(grid,"_onFetchComplete",this,"refreshGrid");grid.startup();this.grid=grid;}this.gridOnSelectedHandle=this.grid.on("selected",lang.hitch(this,this._onSelected));},_onSelected:function(index){if(!this.allowOnSelectToFire){return;}var cec,_2254,_2255,nav;if(Sage.Services.hasService("ClientEntityContext")){cec=Sage.Services.getService("ClientEntityContext");_2254=cec.getContext().EntityId;_2255=this.grid.selection.getFirstSelected();if(_2255){cec.navigateSLXGroupEntity(_2255[this.keyAlias],_2254,index+1);}}}});return _2249;});},"Sage/TaskPane/JobManagerTasksTasklet":function(){define("Sage/TaskPane/JobManagerTasksTasklet",["dojo/i18n!./nls/JobManagerTasksTasklet","dojo/_base/declare","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/TaskPane/TaskPaneItem","dojo/_base/array","dojo/string"],function(_2256,_2257,_2258,_2259,_225a,_225b,_225c){var _225d=_2257("Sage.TaskPane.JobManagerTasksTasklet",[_2258,_2259],{taskItems:[],constructor:function(){dojo.mixin(this,_2256);this.taskItems=this._getTaskletItems();dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged);},_getTaskletItems:function(){var _225e=this._getCurrentGroupId();switch(_225e){case "jobDefinitions":return this._getDefinationsTasks();case "schedules":return this._getSchedulesTasks();default:return this._getExecutionsTasks();}},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _225f=svc.getContext();return _225f.CurrentGroupID;},_getExecutionsTasks:function(){var _2260=[{taskId:"taskCancelExecution",type:"Link",displayName:this.taskCancelJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showCancelExecutionDialog();",securedAction:"Entities/JobManager/CancelJob"}];return _2260;},_getDefinationsTasks:function(){var _2261=[{taskId:"taskRunJob",type:"Link",displayName:this.taskRunJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showRunJobDialog(true);",securedAction:"Entities/JobManager/RunJob"}];return _2261;},_getSchedulesTasks:function(){var _2262=[{taskId:"taskRunJob",type:"Link",displayName:this.taskEditTrigger_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showRunJobDialog(false);",securedAction:"Entities/JobManager/RunJob"},{taskId:"taskDeleteScheduledJob",type:"Link",displayName:this.taskDeleteScheduledJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.deleteScheduledJob();",securedAction:"Entities/JobManager/DeleteScheduledJob"}];return _2262;},_onGroupContextChanged:function(){var self=this;dojo.empty("JobManagerTasks");var _2263=this._getTaskletItems();if(_2263){_225b.forEach(_2263,function(_2264,i){dojo.place(_225c.substitute("<div dojotype=\"Sage.TaskPane.TaskPaneItem\" class=\"task-pane-item-common-tasklist\" linkText=\"${0}\" securedAction=\"${1}\" action=\"javascript: ${2}\"></div><br />",[_2264.displayName,_2264.securedAction,_2264.clientAction]),self.taskletContainerNode);});}dojo.parser.parse(self.taskletContainerNode);},});return _225d;});},"Sage/Layout/MainContentDetailsPane":function(){define("Sage/Layout/MainContentDetailsPane",["dojo/_base/declare","dojo/dom-style","Sage/Layout/ContentPane"],function(_2265,_2266,_2267){var _2268=_2265("Sage.Layout.MainContentDetailsPane",[_2267],{postCreate:function(){this.inherited(arguments);var _2269=Sage.Services.getService("ClientEntityContext");if(_2269){var _226a=_2269.getContext();this.storageId=[_226a.EntityType.replace(/\./g,"_"),"_",this.id].join("");}this.connect(this,"startup",this.noContentResize);},mainPaneChildrenExist:true,tabPaneChildrenExist:true,noContentResize:function(){var dim={h:this.domNode.scrollHeight,w:this.domNode.scrollWidth},self=this;var _226b=function(){self.resize(dim);_2266.set(self._splitterWidget.domNode,"display","none");};if(!this.tabPaneChildrenExist){var _226c=dijit.byId("centerContent");dim={h:_226c.domNode.scrollHeight,w:this.domNode.scrollWidth};_226b();}if(!this.mainPaneChildrenExist){dim={h:1,w:this.domNode.scrollWidth};_226b();}},startup:function(){var _226d=dijit.byId("Viewport");var _226e=dojo.query("[id$=_inner]",dojo.query(".mainContentContent")[0])[0];if(_226e){this.mainPaneChildrenExist=(_226e.children.length>1||dojo.query("#MainContent .formtable").length>0||_226e.id==="GeneralExceptioncontents_inner");}else{this.mainPaneChildrenExist=false;}this.tabPaneChildrenExist=(dijit.byId("tabContent").domNode.children.length>0);if(!this.tabPaneChildrenExist||!this.mainPaneChildrenExist){this.set("splitter",false);}if(this.splitter){var _226f=dojo.query("[class$=SecondaryToggle]");if(_226f){for(var i=0;i<_226f.length;i++){dojo.style(_226f[i],"display","none");}}}if(_226d){_226d.resize();}this.inherited(arguments);}});return _2268;});},"Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup":function(){require({cache:{"url:Sage/MainView/ActivityMgr/AttendeeLookup/templates/SpeedSearchLookup.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id %}-Dialog\" title=\"\" dojoAttachPoint=\"_dialog\" >', //dialog\r\n         '<div class=\"event-dialog\">',\r\n        '<div style=\"padding:5px;\" id=\"{%= $.id %}-Condition-container\">',\r\n            '<input id=\"Text1\" type=\"text\" style=\"width:85%;\"  data-dojo-attach-point=\"_valueBox\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"/>',     \r\n            '<button id=\"{%= $.id %}-Search\" data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachPoint=\"searchButton\" dojoAttachEvent=\"onClick:_doSearch\">{%= $.srchBtnCaption %}</button>',\r\n          \r\n        '</div>',    \r\n        '<div data-dojo-attach-point=\"contentNode\">',  \r\n        '<div id=\"{%= $.id %}-Grid-container\" dojoAttachPoint=\"_speedSearchGrid\"  style=\"width:auto;height:400px;\"></div>',\r\n        '</div>',\r\n            '<div class=\"lookupButtonWrapper\">',           \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-GridSelectButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}\\').getGridSelections(); \">{%= $.okText %}',\r\n                   '</button>',            \r\n                '<button data-dojo-type=\"dijit.form.Button\" type=\"button\" id=\"{%= $.id %}-CloseButton\" ',\r\n                    'onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">{%= $.cancelText %}</button>',\r\n            '</div>',\r\n             '</div>',\r\n     '</div> ', //dialog   \r\n'</div>'\r\n]"}});define("Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup",["dojo/_base/html","dojox/grid/DataGrid","Sage/Data/SDataServiceRegistry","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","dijit/Dialog","dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/string","dojo/_base/array","dijit/registry","dojo/text!./templates/SpeedSearchLookup.html","dojo/_base/declare","Sage/Data/ServiceOperationSDataStore","dojo/i18n!./nls/SpeedSearchLookup"],function(html,_2270,_2271,_2272,_2273,_2274,_2275,_2276,_2277,_2278,array,_2279,_227a,_227b,_227c,_227d){var _227e=_227b("Sage.MainView.ActivityMgr.AttendeeLookup.SpeedSearchLookup",[_2275,_2276],{id:"speedSearchLookup",btnIcon:"images/icons/plus_16x16.gif",btnToolTip:"Lookup",dialogTitle:"Contact/Lead Look up",closeText:"Close",loadingText:"Loading...",_initialized:false,_started:false,dialogButtonText:"Search",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_227a)),srchBtnCaption:"Search",_store:null,_grid:null,currentPage:0,pageSize:100,indexes:[{indexName:"Contact",indexType:1,isSecure:true},{indexName:"Lead",indexType:1,isSecure:true}],types:["Contact","Lead"],iconPathsByType:{"Account":"content/images/icons/Company_24.png","Activity":"content/images/icons/To_Do_24x24.png","Contact":"content/images/icons/Contacts_24x24.png","History":"content/images/icons/journal_24.png","Lead":"content/images/icons/Leads_24x24.png","Opportunity":"content/images/icons/opportunity_24.png","Ticket":"content/images/icons/Ticket_24x24.png"},constructor:function(){_2277.mixin(this,_227d);},postMixInProperties:function(){},startup:function(){this._buildGrid();var self=this;},extractTypeFromItem:function(item){for(var i=0;i<this.types.length;i++){if(item.source.indexOf(this.types[i])!==-1){return this.types[i];}}return null;},extractDescriptorFromItem:function(item,type){var _227f="";switch(type){case "Contact":_227f=_2278.substitute("${lastname}, ${firstname}",this.getFieldValues(item.fields,["firstname","lastname"]));break;case "Lead":_227f=_2278.substitute("${lastname}, ${firstname}",this.getFieldValues(item.fields,["firstname","lastname"]));break;}return _227f;},extractKeyFromItem:function(item){var _2280,len;_2280=item.displayName;if(!_2280){return "";}len=_2280.length;return _2280.substring(len-12);},getFieldValue:function(_2281,name){for(var i=0;i<_2281.length;i++){var field=_2281[i];if(field.fieldName==name){return field.fieldValue;}}return "";},getFieldValues:function(_2282,names){var _2283={};array.forEach(names,function(name){_2283[name]="";});array.forEach(_2282,function(field){array.forEach(names,function(name,i){if(field.fieldName===name){_2283[name]=field.fieldValue;}});});return _2283;},showLookup:function(_2284){this._dialog.set("title",this.dialogTitle);this.eventDefaultValues=_2284||{};this._dialog.show();if(!this._initialized){this._initializeList();}this._dialog.set("refocus",false);},processFeed:function(feed){if(!this.feed){this.set("listContent","");}this.feed=feed=feed.response;if(feed.totalCount===0){this.set("listContent",this.noDataTemplate.apply(this));}else{if(feed.items){var o=[];for(var i=0;i<feed.items.length;i++){var entry=feed.items[i];entry.type=this.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||this.extractDescriptorFromItem(entry,entry.type);entry.$key=this.extractKeyFromItem(entry);this.entries[entry.$key]=entry;o.push(this.rowTemplate.apply(entry,this));}if(o.length>0){domConstruct.place(o.join(""),this.contentNode,"last");}}}if(typeof feed.totalCount!=="undefined"){var _2285=this.feed.totalCount-((this.currentPage+1)*this.pageSize);this.set("remainingContent",_2278.substitute(this.remainingText,[_2285]));}domClass.toggle(this.domNode,"list-has-more",this.hasMoreData());},_onComplete:function(feed,_2286){array.forEach(feed,function(entry,i){entry.type=self.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||self.extractDescriptorFromItem(entry,entry.type);entry.$key=self.extractKeyFromIt;entry.account=self.extractKeyFromIt;self._storeItems.push(entry);});},_initializeList:function(){var _2287=[{field:"$descriptor",name:this.colName,width:"20%"},{field:"type",name:this.colType,width:"10%"},{field:"accountName",name:this.colAccount,width:"30%"},{field:"title",name:this.colTitle,width:"10%"},{field:"email",name:this.colEmail,width:"30%"},{field:"phone",name:this.colWorkPhone,width:"30%"}];var self=this;var entry={request:{docTextItem:-1,searchText:"",searchType:1,noiseFile:"PMINoise.dat",includeStemming:false,includeThesaurus:false,includePhonic:false,useFrequentFilter:false,indexes:this.indexes,whichPage:this.currentPage,itemsPerPage:this.pageSize,filters:null},response:null};var _2288=function(feed,_2289){this._initialized=true;array.forEach(feed,function(entry,i){entry.type=self.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||self.extractDescriptorFromItem(entry,entry.type);entry.$key=self.extractKeyFromItem(entry);entry.accountName=self.getFieldValue(entry.fields,"account");entry.title=self.getFieldValue(entry.fields,"title");entry.email=self.getFieldValue(entry.fields,"email");entry.phone=self.getFieldValue(entry.fields,"phone");});};var _228a=this._store=new _227c({service:_2271.getSDataService("system"),contractName:"system",operationName:"executeSearch",entry:entry,onProcess:_2288});var grid=this._grid=new dojox.grid.EnhancedGrid({id:"speedSearchGrid",store:_228a,structure:_2287,layout:"layout",noDataMessage:"<span class='dojoxGridNoData'>"+this.noDataText+"</span>",rowsPerPage:100},dojo.byId(this._speedSearchGrid));this._grid.canSort=function(col){return false;};dojo.connect(this._grid,"onDblClick",this,this.onDoubleClick);this._in=true;},onDoubleClick:function(event){this.getGridSelections();},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_228b){_228b.remove();});this._destroyContent();this.inherited(arguments);},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_2279.findWidgets(this.contentNode),function(_228c){_228c.destroy(false);});array.forEach(this.handles,function(_228d){_228d.remove();});this.handles=[];this.contentNode.innerHTML="";},initDialog:function(){},_onKey:function(evt){var self=this,args=arguments;dojo.query("*",this.domNode).forEach(function(node,index,arr){if(node===evt.target){self.inherited(args);}});},getGridSelections:function(){var items=this._grid.selection.getSelected();this.doSelected(items);this._grid.selection.deselectAll();},doSelected:function(items){},_cancelClick:function(){this.hide();},hide:function(){this._dialog.hide();},_doSearch:function(){if(this._valueBox.value){this._store.entry.request.searchText=this._valueBox.value;if(!this._started){this._started=true;this._grid.startup();}else{dijit.byId("speedSearchGrid").setQuery();this._grid.store=this._store;this._grid.update();}}},_onKeyPress:function(evt){if(evt.keyCode==13||evt.keyCode==10){this._valueBox.blur();this._doSearch();}},destroy:function(){var _228e=dijit.byId([this.id,"-Dialog"].join(""));if(this.btnIcon){dojo.destroy(this.btnIcon);}dojo.disconnect(this._doSearchConnection);dojo.unsubscribe(this._addCondHandle);dojo.unsubscribe(this._removeCondHandle);if(this.conditionMgr){this.conditionMgr.destroy(false);}if(_228e){_228e.uninitialize();}this.inherited(arguments);}});return _227e;});},"Sage/Utility/ErrorHandler":function(){define("Sage/Utility/ErrorHandler",["Sage/Utility","Sage/UI/Dialogs","dojo/io-query","dojo/string","dojo/_base/array"],function(_228f,_2290,_2291,_2292,array){Sage.namespace("Utility.ErrorHandler");dojo.mixin(Sage.Utility.ErrorHandler,{_debugEndRequest:false,_configuration:{isDebug:false,preemption:{enabled:true,allowAuthRedirect:true,handledStatusCodes:"577,578,579,580,581,582",showPreemptedErrorMsg:false,showInternalServerErrorMsg:false,showUnhandledMessagingServiceExceptionMsg:true},authenticationRedirectUrl:null,showExtendedValidationException:false,showExtendedRoleAccessDeniedException:false},_fmtSlxErrorId:function(_2293){if(Sage.Utility.isStringWithLength(_2293)){if(this._configuration.isDebug){return _2292.substitute("\r\n\r\nSaleslogix Error Id: <a href=\"SLXErrorLookupService.asmx/GetEventLogError?slxErrorId=${0}\" target=\"_blank\">${0}</a>",[_2293]);}else{return _2292.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_2293]);}}return "";},_fmtStackTrace:function(_2294){if(this._configuration.isDebug&&Sage.Utility.isStringWithLength(_2294)){var stack=Sage.Utility.htmlEncode(_2294).replace(/(\r\n)/g,"&#13;&#10;").trim();return _2292.substitute("\r\n\r\nStack trace:\r\n<textarea id=\"StackTrace\" cols=\"20\" name=\"StackTrace\" readonly=\"readonly\" rows=\"1\" style=\"width: 100%; height: 200px; font-family: 'Courier New', Courier, monospace; font-size: small; background-color: #F2F2F2; color: #444444; 1px: ; opacity: 0.8; -moz-box-sizing: border-box; box-sizing: border-box;\" unselectable=\"off\" wrap=\"off\">${0}</textarea>",[stack]);}return "";},_mixinConfig:function(){if(window.errorHandlerConfig&&typeof window.errorHandlerConfig==="object"){dojo.mixin(this._configuration,window.errorHandlerConfig);}},_preemptError:function(xhr,o){try{var _2295=this.getHttpStatusInfo(xhr,o);if(this._configuration.isDebug&&typeof console!=="undefined"){}if(!(_2295&&typeof _2295==="object"&&_2295.hasOwnProperty("sdataError"))){return false;}var _2296=function(_2297,_2298){if(_2297&&typeof _2297==="object"&&typeof xhr.getResponseHeader!=="undefined"&&_2298&&dojo.isString(_2298)){var sUrl=_2297.getResponseHeader(_2298);if(sUrl&&Sage.Utility.isStringWithLength(sUrl)){return sUrl;}}return null;};var _2299=function(_229a){return _2296(_229a,"Sage-SalesLogix-Exception-Redirect");};var _229b=function(_229c){return _2296(_229c,"Sage-SalesLogix-Error-Id");};var _229d=function(url){if(typeof console!=="undefined"){}window.location=url;};var _229e;if((this.isSDataExceptionDiagnoses(_2295.sdataError.applicationCode)&&(_2295.status==500)&&this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg)){this.showStatusInfoError(_2295);return true;}switch(_2295.status){case 401:if(typeof console!=="undefined"){console.error("Unauthorized (401): %o",_2295.url);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 403:if(typeof console!=="undefined"){console.error("Forbidden (403): %o",_2295.url);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 404:if(typeof console!=="undefined"){console.error("Not Found (404): %o",_2295.url);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 408:if(typeof console!=="undefined"){console.error("Request Timeout: %o",_2295.url);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 500:if(typeof console!=="undefined"){console.error("Internal Server Error (500) - HTTP Info: %o",_2295);}if((this.isSDataExceptionDiagnoses(_2295.sdataError.applicationCode)&&this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg)||this._configuration.preemption.showInternalServerErrorMsg){this.showStatusInfoError(_2295);return true;}return false;case 575:if(typeof console!=="undefined"){console.error("AuthTokenNullException (575) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this._configuration.preemption.allowAuthRedirect){_229e=_2299(xhr);if(_229e!==null){_229d(_229e);return true;}}return false;case 576:if(typeof console!=="undefined"){console.error("BaseException (576) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this._configuration.preemption.showPreemptedErrorMsg){this.showStatusInfoError(_2295);return true;}return false;case 577:if(typeof console!=="undefined"){console.error("RoleAccessDeniedException (577) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 578:if(typeof console!=="undefined"){console.error("ValidationException (578) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 579:if(typeof console!=="undefined"){console.error("UserObservableException (579) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 580:if(typeof console!=="undefined"){console.error("HttpRequestValidationException (580) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 581:if(typeof console!=="undefined"){console.error("StringOrBinaryDataWouldBeTruncatedException (581) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;case 582:if(typeof console!=="undefined"){console.error("AccessException (582) - Saleslogix Error Id: %o; HTTP Info: %o",_229b(xhr),_2295);}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;default:if(typeof console!=="undefined"){}if(this.isConfiguredToHandle(_2295.status)){this.showStatusInfoError(_2295);return true;}return false;}}catch(e){if(typeof console!=="undefined"){}return false;}},init:function(){this._mixinConfig();if(this._configuration.preemption.enabled){if(typeof console!=="undefined"){}if(window.dojoConfig&&window.dojoConfig.ioPublish&&typeof window.dojoConfig.ioPublish==="boolean"&&window.dojoConfig.ioPublish===true){dojo.subscribe("/dojo/io/error",function(dfd,_229f){if(dfd&&typeof dfd==="object"&&typeof dfd.ioArgs==="object"){if((Sage.Utility.ErrorHandler._hasErrorHandler(dfd.ioArgs.url)===false)||(dfd.ioArgs.xhr.status===575)){Sage.Utility.ErrorHandler._preemptError(dfd.ioArgs.xhr,{url:dfd.ioArgs.url});}}return _229f;});}else{(function(){var _22a0=dojo.xhr;dojo.xhr=function(_22a1,args,_22a2){return _22a0.apply(dojo,arguments).addErrback(function(err){if(err&&typeof err==="object"&&(err instanceof Error)&&typeof err.xhr==="object"){var sUrl=(args&&args.url)?args.url||"":"";if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(err.xhr.status===575)){Sage.Utility.ErrorHandler._preemptError(err.xhr,{url:sUrl});}}return err;});};})();}(function(){var _22a3=Sage.SData.Client.Ajax.request;Sage.SData.Client.Ajax.request=function(o){dojo.mixin(o,{__failure:null,__failureHandler:function(_22a4,opt){if(opt.__failure&&typeof opt.__failure==="function"){try{opt.__failure.call(opt.scope||this,_22a4,opt);}catch(e){if(typeof console!=="undefined"){console.error("There was an error calling the original failure() handler: %o",e);}}}var sUrl=opt.url;if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(_22a4.status===575)){Sage.Utility.ErrorHandler._preemptError(_22a4,opt);}return _22a4;}});if(typeof o.failure==="function"){o.__failure=o.failure;}o.failure=o.__failureHandler;return _22a3.apply(this,arguments);};})();if(typeof $==="function"){$(function(){jQuery(this).ajaxError(function(event,jqXhr,_22a5,_22a6){var sUrl=(typeof _22a5==="object")?(_22a5.url||""):"";var _22a7={url:sUrl};if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(jqXhr.status===575)){Sage.Utility.ErrorHandler._preemptError(jqXhr,_22a7);}});});}}},_getInternalHttpStatus:function(_22a8){if(_22a8&&typeof _22a8==="object"&&_22a8.hasOwnProperty("status")&&(isNaN(_22a8.status)===false)){if(typeof _22a8.sdataError==="object"&&this.isSDataExceptionDiagnoses(_22a8.sdataError.applicationCode)&&typeof _22a8.sdataError.appInfo==="object"&&typeof _22a8.sdataError.appInfo.exceptionKind==="string"){switch(_22a8.sdataError.appInfo.exceptionKind){case "AuthTokenNullException":return 575;case "BaseException":if(Number(_22a8.status)==500){return 576;}else{return Number(_22a8.status);}break;case "RoleAccessDeniedException":return 577;case "ValidationException":return 578;case "UserObservableException":return 579;case "HttpRequestValidationException":return 580;case "StringOrBinaryDataWouldBeTruncatedException":return 581;case "AccessException":return 582;default:return Number(_22a8.status);}}else{return Number(_22a8.status);}}return -1;},_getStatusInfoOptions:function(opt){var _22a9={"message":"","url":""};if(opt&&dojo.isObject(opt)){dojo.mixin(_22a9,opt);}return _22a9;},_handleAsDojoXhrHttpError:function(error,_22aa,opt){var _22ab=this._getStatusInfoOptions(opt);var _22ac="";if(error&&dojo.isObject(error)){_22ac=error.message||"";}if(_22ac!==""&&_22ab.message!==""){_22ab.message=_22ab.message+" "+_22ac;}else{_22ab.message=_22ac;}var xhr=(_22aa&&dojo.isObject(_22aa)&&_22aa.xhr&&dojo.isObject(_22aa.xhr))?_22aa.xhr:null;if(_22ab.url===""&&xhr!==null&&dojo.isString(_22aa.url)){_22ab.url=_22aa.url;}this._handleAsHttpError(xhr,null,_22ab);},_handleAsHttpError:function(xhr,sdata,_22ad){var _22ae=this.getHttpStatusInfo(xhr,sdata);if(_22ae!==null){this.showStatusInfoError(_22ae,_22ad);}else{var _22af=(_22ad&&dojo.isObject(_22ad)&&Sage.Utility.isStringWithLength(_22ad.message))?_22ad.message:"There was an unknown error in response to an HTTP request.";_2290.showError(_22af);}},_hasErrorHandler:function(url){var _22b0="HASERRORHANDLER";if(url&&dojo.isString(url)&&url.toUpperCase().indexOf(_22b0)!=-1){var query=url.substring(url.indexOf("?")+1,url.length);if(query!==""){var _22b1=_2291.queryToObject(query.toUpperCase());if(_22b1&&dojo.isObject(_22b1)){return _22b1[_22b0]==="TRUE";}}}return false;},handleEndRequestError:function(args){if(this._debugEndRequest&&typeof console!=="undefined"){}if(args&&typeof args==="object"&&typeof args.get_error==="function"&&args.get_error()!==null){try{function _22b2(msg){if(msg&&dojo.isString(msg)){return msg.replace("Sys.WebForms.PageRequestManagerServerErrorException: ","").replace("Sys.WebForms.PageRequestManagerParserErrorException: ","").replace("Sys.WebForms.PageRequestManagerTimeoutException: ","");}return msg;};switch(args.get_error().name){case "Sys.WebForms.PageRequestManagerTimeoutException":case "Sys.WebForms.PageRequestManagerParserErrorException":_2290.showError(_22b2(args.get_error().message));args.set_errorHandled(true);return;}var _22b3=_22b2(args.get_error().message);var _22b4=args.get_error().httpStatusCode;if(_22b3==="${AjaxLoginRedirect}"||_22b3==="${LoginRedirect}"||_22b4==401||_22b4==575){if(this._configuration.preemption.allowAuthRedirect){var _22b5=this._configuration.authenticationRedirectUrl||"Login.aspx";if(typeof console!=="undefined"){}args.set_errorHandled(true);window.location=_22b5;return;}}var _22b6=args.get_response()!==null;var _22b7=_22b6?args.get_response().get_timedOut():false;var _22b8=_22b6?args.get_response().get_aborted():false;var _22b9=_22b6?args.get_response().get_statusCode():-1;var _22ba=_22b6?args.get_response().get_responseAvailable():false;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22b9===0||_22b8){args.set_errorHandled(true);return;}var _22bb=_22ba?(args.get_response().hasOwnProperty("_xmlHttpRequest")&&args.get_response()._xmlHttpRequest!==null):false;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22bb||_22b7){var xhr=args.get_response()._xmlHttpRequest;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22b9==200||_22b7){if(this._debugEndRequest&&typeof console!=="undefined"){}_2290.showError(_22b2(args.get_error().message));args.set_errorHandled(true);return;}var _22bc=this.isConfiguredToHandle(_22b9,xhr);if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22bc){if(this._debugEndRequest&&typeof console!=="undefined"){}this._preemptError(xhr);}else{if(this._debugEndRequest&&typeof console!=="undefined"){}this.handleHttpError(xhr);}args.set_errorHandled(true);return;}if(this._debugEndRequest&&typeof console!=="undefined"){}_2290.showError(_22b2(args.get_error().message));args.set_errorHandled(true);}catch(e){if(typeof console!=="undefined"){console.error("There was an error in handleEndRequestError(): %o",e);}}}else{if(this._debugEndRequest&&typeof console!=="undefined"){}}},handleHttpError:function(arg1,arg2,_22bd){var _22be=(arg1&&dojo.isObject(arg1)&&typeof arg1.getResponseHeader!=="undefined");if(_22be){this._handleAsHttpError(arg1,arg2,_22bd);}else{this._handleAsDojoXhrHttpError(arg1,arg2,_22bd);}},getInterceptedError:function(_22bf,_22c0){if(!Sage.Utility.isStringWithLength(_22bf)){return null;}if(Sage.Utility.isTrue(_22c0)){var obj=dojo.fromJson(_22bf);if(obj&&typeof obj==="object"){return obj;}}else{return {"text":_22bf};}return null;},getSDataDiagnosis:function(_22c1,isXml){if(!Sage.Utility.isStringWithLength(_22c1)){return null;}var obj;if(Sage.Utility.isTrue(isXml)){var xml=new XML.ObjTree();obj=xml.parseXML(_22c1);if(obj&&typeof obj==="object"&&obj.hasOwnProperty("sdata:diagnoses")){obj=obj["sdata:diagnoses"]["sdata:diagnosis"];if(!obj||typeof obj!=="object"){return null;}var _22c2=function(prop){var value=obj.hasOwnProperty(prop)?obj[prop]:"";if(value&&dojo.isString(value)){if(prop==="stackTrace"){if(!this._configuration.isDebug){return "";}}return value;}return "";};return {"severity":_22c2("sdata:severity"),"sdataCode":_22c2("sdata:sdataCode"),"applicationCode":_22c2("sdata:applicationCode"),"message":_22c2("sdata:message"),"stackTrace":_22c2("sdata:stackTrace"),"payloadPath":_22c2("sdata:payloadPath")};}}else{obj=dojo.fromJson(_22c1);if(obj&&dojo.isArray(obj)&&obj.length>0&&typeof obj[0]==="object"&&obj[0].hasOwnProperty("sdataCode")){return obj[0];}}return null;},getHttpStatusInfo:function(xhr,sdata){var _22c3=(xhr&&dojo.isObject(xhr)&&typeof xhr.getResponseHeader!=="undefined");if(!_22c3){return null;}var _22c4=this.safeGetPropValue(xhr,"status",-1);var _22c5=this.safeGetPropValue(xhr,"statusText","Unknown HTTP status. Possible timeout.");var _22c6={"message":_2292.substitute("HTTP status: ${0} (${1}).",[_22c5,_22c4]),"status":_22c4,"statusText":_22c5,"url":(sdata&&dojo.isObject(sdata)&&dojo.isString(sdata.url))?sdata.url:"","sdataError":{}};if(xhr.readyState!==4){return _22c6;}var _22c7=xhr.getResponseHeader("Content-Type");if(dojo.isString(_22c7)){var self=this;switch(_22c4){case 576:case 577:case 578:case 579:case 580:case 581:case 582:var _22c8;var _22c9=function(_22ca){var _22cb=self.safeGetPropValue(xhr,"responseText","");return self.getInterceptedError(_22cb,_22ca);};if(_22c7.indexOf("application/json")!==-1){_22c8=_22c9(true);}else{if(_22c7.indexOf("text/plain")!==-1){_22c8=_22c9(false);if(_22c8&&typeof _22c8==="object"&&_22c8.hasOwnProperty("text")){if(_22c4===576){_22c6.message+="\r\n\r\n"+_22c8.text;}else{_22c6.message=_22c8.text;}return _22c6;}}else{return _22c6;}}if(_22c8&&typeof _22c8==="object"&&_22c8.hasOwnProperty("slxErrorId")){_22c6.errorInfo=_22c8;}break;default:var _22cc;var _22cd=function(isXml){var _22ce=self.safeGetPropValue(xhr,"responseText","");return self.getSDataDiagnosis(_22ce,isXml);};if(_22c7.indexOf("application/json")!==-1){_22cc=_22cd(false);}else{if(_22c7.indexOf("application/xml")!==-1){_22cc=_22cd(true);}else{return _22c6;}}if(_22cc&&typeof _22cc==="object"&&_22cc.hasOwnProperty("sdataCode")){var _22cf={"severity":"","sdataCode":"","applicationCode":"","message":"","stackTrace":"","payloadPath":"",fmtError:function(){var _22d0=[];for(var prop in this){if(prop=="message"||prop=="stackTrace"||prop=="fmtError"){continue;}var value=this[prop];if(dojo.isString(value)&&value!==""){_22d0.push(_2292.substitute("${0}=${1}",[prop.toString(),value]));}}return (_22d0.length>0)?_22d0.join("; "):"";}};_22c6.sdataError=_22cf;dojo.mixin(_22c6.sdataError,_22cc);if(_22c6.sdataError.applicationCode&&this.isSDataExceptionDiagnoses(_22c6.sdataError.applicationCode)){var _22d1=function(){var obj={};var _22d2=_22c6.sdataError.applicationCode.split("; ");array.forEach(_22d2,function(item){if(item&&dojo.isString(item)&&item.indexOf("=")!==-1){var _22d3=item.split("=");var name=_22d3[0].trim();var value=_22d3[1].trim();obj[name]=value;}});return obj;};_22c6.sdataError.appInfo=_22d1();if(_22c6.sdataError.appInfo.hasOwnProperty("code")&&_22c6.sdataError.appInfo.source){_22c6.sdataError.applicationCode=_22c6.sdataError.appInfo.code+"|"+_22c6.sdataError.appInfo.source;}else{_22c6.sdataError.applicationCode=_22c6.sdataError.appInfo.source;}if(_22c6.sdataError.appInfo.source){delete _22c6.sdataError.appInfo.source;}}var _22d4="UNKNOWN";if(Sage.Utility.isStringWithLength(_22c6.sdataError.severity)){_22d4=_22c6.sdataError.severity.toUpperCase();}var _22d5={"INFO":"Informational message","WARNING":"Warning message","TRANSIENT":"Transient error","ERROR":"Operation failed","FATAL":"Severe error","UNKNOWN":"Unknown"};var _22d6=_22d5[_22d4]||_22d5["UNKNOWN"];var _22d7=_22c6.sdataError.message;if(dojo.isString(_22d7)){if(_22d7.trim().match("."+"$")!="."){_22d7+=".";}}if(this._configuration.isDebug){_22c6.message=_2292.substitute("The following SData diagnosis occurred: Description=${0}. Message=${1} HTTP status: ${2} (${3}).",[_22d6,_22d7,_22c6.statusText,_22c6.status]);}else{var _22d8=this._getInternalHttpStatus(_22c6);var _22d9=true;switch(_22d8){case 577:if(!this._configuration.showExtendedRoleAccessDeniedException){_22d9=false;}break;case 578:if(!this._configuration.showExtendedValidationException){_22d9=false;}break;case 582:_22d9=false;break;}if(_22d9){_22c6.message=_2292.substitute("${0} HTTP status: ${1} (${2}).",[_22d7,_22c6.statusText,_22c6.status]);}else{_22c6.message=_22d7;}}}break;}}return _22c6;},isConfiguredToHandle:function(_22da,xhr){var _22db=false;if(this._configuration.preemption.enabled===false){return false;}if(_22da&&isNaN(_22da)===false){switch(Number(_22da)){case 500:if(this._configuration.preemption.showInternalServerErrorMsg){return true;}if(this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg){var _22dc=this.getHttpStatusInfo(xhr);if(!(_22dc&&typeof _22dc==="object"&&_22dc.hasOwnProperty("sdataError"))){return false;}return this.isSDataExceptionDiagnoses(_22dc.sdataError.applicationCode);}break;case 575:return this._configuration.preemption.allowAuthRedirect;case 576:return this._configuration.preemption.showPreemptedErrorMsg;default:if(this._configuration.preemption.handledStatusCodes!==""){var _22dd=this._configuration.preemption.handledStatusCodes.split(",");array.some(_22dd,function(sc){if(sc==_22da){_22db=true;return true;}else{return false;}});}break;}}return _22db;},isSDataExceptionDiagnoses:function(_22de){if(_22de&&typeof _22de==="string"&&_22de.indexOf("SDataExceptionDiagnoses")!=-1){return true;}return false;},preemptError:function(xhr,o){this._preemptError(xhr,o);},safeGetPropValue:function(obj,prop,_22df){try{return obj[prop];}catch(e){return _22df;}},showStatusInfoError:function(_22e0,opt){var _22e1=this._getStatusInfoOptions(opt);var _22e2=_22e1.message;var _22e3="";var _22e4="";var _22e5="";var _22e6="";var _22e7=this._getInternalHttpStatus(_22e0);if((_22e7==575)&&this._configuration.preemption.allowAuthRedirect){window.location=this._configuration.authenticationRedirectUrl||"Login.aspx";return;}if(_22e0&&dojo.isObject(_22e0)&&dojo.isString(_22e0.message)){_22e2+=(_22e2==="")?_22e0.message:" "+_22e0.message;switch(_22e7){case 575:case 576:case 577:case 578:case 579:case 580:case 581:case 582:_22e2=Sage.Utility.htmlEncode(_22e0.message);if(typeof _22e0.errorInfo==="object"){_22e2=Sage.Utility.htmlEncode(_22e0.errorInfo.message);}switch(_22e7){case 577:if(!this._configuration.showExtendedRoleAccessDeniedException){_2290.showError(_22e2);return;}break;case 578:if(!this._configuration.showExtendedValidationException){_2290.showError(_22e2);return;}break;case 579:break;case 576:case 580:case 581:if(_22e0.status!=500){_22e2+=_2292.substitute(" HTTP status: ${info.statusText} (${info.status}).",{info:_22e0});}break;case 582:_2290.showError(_22e2);return;}break;}if(typeof _22e0.sdataError==="object"&&typeof _22e0.sdataError.appInfo==="object"){_22e5=_2292.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_22e0.sdataError.appInfo.slxErrorId]);_22e6=this._fmtSlxErrorId(_22e0.sdataError.appInfo.slxErrorId);_22e2+=_22e6;}if(typeof _22e0.errorInfo==="undefined"){var sUrl=null;if(Sage.Utility.isStringWithLength(_22e0.url)){if(_22e2.indexOf(decodeURIComponent(_22e0.url))==-1){sUrl=decodeURIComponent(_22e0.url);}}else{if(Sage.Utility.isStringWithLength(_22e1.url)){if(_22e2.indexOf(decodeURIComponent(_22e1.url))==-1){sUrl=decodeURIComponent(_22e1.url);}}}if(sUrl!==null){_22e2+=_2292.substitute("\r\n\r\nURL: ${0}",[sUrl]);}}if(this._configuration.isDebug){if(typeof _22e0.sdataError==="object"){if(dojo.isFunction(_22e0.sdataError.fmtError)){_22e2+=_2292.substitute("\r\n\r\nExtended SData diagnosis information: ${0}.",[_22e0.sdataError.fmtError()]);}if(typeof _22e0.sdataError.appInfo==="object"){_22e2+=_2292.substitute("\r\n\r\nException type: ${info.exceptionType}\r\n\r\nSource: ${info.exceptionSource}",{info:_22e0.sdataError.appInfo});}if(_22e0.sdataError.stackTrace){_22e3=_22e0.sdataError.stackTrace;_22e4=this._fmtStackTrace(_22e0.sdataError.stackTrace);_22e2+=_22e4;}}}var mail={subject:"Saleslogix Exception Details"};if(typeof _22e0.errorInfo==="object"){_22e5=_2292.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_22e0.errorInfo.slxErrorId]);_22e6=this._fmtSlxErrorId(_22e0.errorInfo.slxErrorId);_22e2+=_22e6;_22e2+=_2292.substitute("\r\n\r\nURL: ${info.request.url}",{info:_22e0.errorInfo});if(this._configuration.isDebug){if(_22e0.errorInfo.stackTrace){_22e3=_22e0.errorInfo.stackTrace;_22e4=this._fmtStackTrace(_22e0.errorInfo.stackTrace);_22e0.errorInfo.__stackTrace=_22e4;_22e2+=_2292.substitute("\r\n\r\nException type: ${info.type}\r\n\r\nSource: ${info.source}${info.__stackTrace}\r\n\r\nTarget site: ${info.targetSite}",{info:_22e0.errorInfo});}}mail.subject=_2292.substitute("Saleslogix Exception Details (Saleslogix Error Id: ${0})",[_22e0.errorInfo.slxErrorId]);}mail.subject=encodeURIComponent(mail.subject);if(_22e3!==""){_22e3=_2292.substitute("\r\n\r\nStack trace:\r\n${0}",[_22e3]);}mail.message=encodeURIComponent(Sage.Utility.htmlDecode(_22e2.replace(_22e4,_22e3).replace(_22e6,_22e5)));mail.linkCaption="Mail details of this exception to your administrator";_22e2+=_2292.substitute("\r\n\r\n<a href=\"mailto:?subject=${info.subject}&amp;body=${info.message}\">${info.linkCaption}</a>",{info:mail});}if(_22e2===""){_22e2="There was an unknown error.";}_22e2=_22e2.replace(/(\r\n)/g,"<br />");_2290.showError(_22e2);}});Sage.Utility.ErrorHandler.init();return Sage.Utility.ErrorHandler;});},"Sage/UI/GroupsTitlePaneConfigProvider":function(){define("Sage/UI/GroupsTitlePaneConfigProvider",["Sage/UI/_TitlePaneConfigProvider","Sage/Data/BaseSDataStore","Sage/UI/GroupMenuFmtScope","Sage/UI/GridMenuItem","Sage/Groups/GroupManager","Sage/Utility","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/string","Sage/Groups/GroupLookup","Sage/UI/SearchMenuItem","Sage/UI/ImageButton","dojo/i18n!./nls/GroupsTitlePaneConfigProvider","dijit/popup"],function(_22e8,_22e9,_22ea,_22eb,_22ec,_22ed,array,_22ee,lang,_22ef,_22f0,_22f1,_22f2,_22f3,pm){var _22f4=_22ee("Sage.UI.GroupsTitlePaneConfigProvider",_22e8,{searchText:"Lookup",lookupResultsText:_22f3.lookupResultsText,store:false,_requestOptions:false,_grpContextHandle:false,config:false,requestTitlePaneConfiguration:function(_22f5){var _22f6,gSvc,_22f7,_22f8,_22f9,_22fa;if(this._isInsertMode()){if(_22f5.success){this.config={menu:false,tabs:false};_22f5.success.call(_22f5.scope||this,this.config,this);}return;}_22f6=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new _22e9({service:_22f6,resourceKind:"groups",include:[],sort:[{attribute:"displayName",descending:false}]});gSvc=Sage.Services.getService("ClientGroupContext");_22f7=gSvc.getContext();if(_22f7.notGroupBased){return;}if(!_22f7.CurrentFamily){this._requestOptions=_22f5;this._grpContextHandle=dojo.connect(gSvc,"onContextSet",this,"_groupContextSetCallback");return;}_22f8=this._getMenuConfig();_22f9=dijit.byId("GroupLookupButton");if(_22f9){_22f9.destroy(true);}_22fa=this._getTabConfig();this.config={menu:_22f8,tabs:_22fa};if(_22f5.success){_22f5.success.call(_22f5.scope||this,this.config,this);}},_isInsertMode:function(){var mode=Sage.Utility.getModeId();return (mode&&(mode.toLowerCase()==="insert"));},_groupContextSetCallback:function(_22fb){if(this._grpContextHandle){dojo.disconnect(this._grpContextHandle);this._grpContextHandle=false;}else{return;}this.config={menu:this._getMenuConfig(),tabs:this._getTabConfig()};if(this._requestOptions.success){this._requestOptions.success.call(this._requestOptions.scope||this,this.config,this);}},_getTabConfig:function(){var gSvc=Sage.Services.getService("ClientGroupContext"),_22fc=gSvc&&gSvc.getContext();return {store:this.store,selectedTabId:_22fc.CurrentGroupID,tabKeyProperty:"$key",tabNameProperty:"$descriptor",tabGroupNameProperty:"name",tabHiddenProperty:"isHidden",showTabContextMenus:true,fetchParams:{query:_22ef.substitute("upper(family) eq '${0}'",[_22fc.CurrentFamily.toUpperCase()]),count:1000,start:0,sort:[{attribute:"displayName"}]},lookupButton:new _22f2({id:"GroupLookupButton",label:"",imageClass:"icon_Find_16x16",title:_22f3.lookupText,onClick:function(){var _22fd=Sage.Services.getService("ClientGroupContext"),_22fe;if(_22fd){_22fe=Sage.Services.getService("GroupLookupManager");if(_22fe){_22fe.showLookup();}}}}),staticTabs:[{"$key":"LOOKUPRESULTS","$descriptor":this.lookupResultsText,closable:false,contextMenuItems:this._getTabContextMenuItems()}],onTabSelect:function(child,_22ff){var id,_2300;if(_22ff){return;}id=(typeof child==="string")?child:child.id;_2300=Sage.Services.getService("ClientGroupContext");if(_2300){if(id!=="DOLOOKUP"){_2300.setCurrentGroup(id);}}},onTabClose:function(tab){Sage.Groups.GroupManager.HideGroup(tab.id);},onTabClick:function(e){var mode=_22ed.getModeId(),_2301=Sage.Services.getService("ClientGroupContext"),tabs=dijit.byId("GroupTabs"),_2302="",_2303="",_22fc=null,_2304=e.target,title="";if(mode!=="detail"){return;}array.forEach(tabs.getChildren(),function(item){if(item.selected){_2302=item.id;title=item.title;}});if(_2301){_22fc=_2301.getContext();if(_2302!=="DOLOOKUP"&&_22fc){_2303=_22fc.CurrentGroupID;}}if(_2302===_2303&&_2304&&_2304.innerHTML===title){Sage.Link.toListView();}}};},_getTabContextMenuItems:function(){var items;if(Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus.GroupLookupTabContextMenu){items=Sage.UI.DataStore.ContextMenus.GroupLookupTabContextMenu.items;}return items;},_getMenuConfig:function(){var _2305=Sage.Services.getService("ClientGroupContext"),_2306=_2305.getContext(),_2307=_2306.CurrentName||"";return {id:"mnuGroupMenu",cls:"",img:"images/icons/Groups_16x16.gif",imageClass:"icon_Groups_16x16",text:_22f3.groupText,tooltip:_22f3.groupButtonTooltip,addGroupTooltip:_22f3.addGroupButtonTooltip,width:"350px",items:[{cls:"",id:"sep2",text:"-",img:"",tooltip:"",href:"",isSeparator:true},{fn:this._getGroupMenuSearch,scope:this},{fn:this._getGroupMenuGrid,scope:this}]};},_getGroupMenuGrid:function(){var that=this,_2308=new _22ea({store:this.store}),query={},_2309=false,svc=Sage.Services.getService("ClientGroupContext"),key="GroupMenuShowHidden",_230a=sessionStorage.getItem(key),_230b=_230a!=="true";if(svc){_2309=svc.getContext();if(_2309.CurrentEntity){query=_22ef.substitute("upper(family) eq '${0}'",[_2309.CurrentFamily.toUpperCase()]);}}return new _22eb({gridOptions:{id:"groupsGridInMenu",store:that.store,rowsPerPage:40,structure:[{name:"&nbsp;",field:"$key",formatter:"fmtSelectedCol",width:"20px"},{name:_22f3.groupColumnText,field:"displayName",width:_230b?"260px":"205px"},{name:_22f3.visibleColumnText,field:"isHidden",formatter:"fmtHideCol",width:"55px",hidden:_230b}],loadingMessage:"Loading...",noDataMessage:"No records returned",selectionMode:"single",query:query,height:"400px",width:"275px",formatterScope:_2308,_onCellClick:function(e){if(!this.processingRequest){this.processingRequest=true;var _230c,_230d,_230e=e.grid.getParent(),menu=_230e&&_230e.getParent(),_230f,_2310,_2311=false,_2309;if(!this.menuClosedHandle){this.menuClosedHandle=menu.on("close",lang.hitch(this,function(){var _2312=dijit.byId("titlePane");if(_2312&&!_2311){_2312.resetConfiguration();}this.processingRequest=false;this.menuClosedHandle.remove();this.menuClosedHandle=null;}));}if(e.cell.index===1){_230c=e.grid.getItem(e.rowIndex);_230d=Sage.Services.getService("ClientGroupContext");if(_230d){_2309=_230d.getContext();var _2313=dijit.byId("mnuGroupMenu");if(_2309&&_2309.CurrentGroupID===_230c.$key){_2313._onClick(e);pm.close(menu);}else{_2311=true;_2310=dojo.connect(_230d,"onCurrentGroupChanged",e.grid,function(){this.started=false;dojo.disconnect(_2310);_2313._onClick(e);pm.close(menu);});_230d.setCurrentGroup(_230c.$key);}}}else{e.grid.started=false;this.processingRequest=false;e.stopPropagation();}}}},width:"300px",height:"400px"});},_getGroupMenuSearch:function(){return new _22f1({});}});return _22f4;});},"Sage/MainView/ActivityMgr/nls/OccurrenceOrSeriesQueryDlg":function(){define("Sage/MainView/ActivityMgr/nls/OccurrenceOrSeriesQueryDlg",["Sage/LanguageList","dojo/_base/lang"],function(_2314,lang){var nls={root:{titleFmt:"${type} - ${description}",actDateText:"Activity Date:",contactText:"Contact:",accountText:"Account:",opportunityText:"Opportunity:",editAllText:"Edit all Occurrences",editOneText:"Edit this Occurrence",completeAllText:"Complete all Occurrences",completeOneText:"Complete this Occurrence",deleteAllText:"Delete all Occurrences",deleteOneText:"Delete this Occurrence",continueText:"Continue",failedToLoadMsg:"Could not load activity"}};return lang.mixin(_2314,nls);});},"url:Sage/MainView/IntegrationContract/templates/SalesQuoteRTDV.html":"[\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_salesQuoteDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\r\n        '<div dojoAttachPoint=\"loadingContainer\">',\r\n            '<br />',\r\n            '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n            '<br />',\r\n            '<br />',\r\n        '</div>',\r\n        '<table cellspacing=\"5\" dojoAttachPoint=\"salesQuoteDetails\" border=\"0\" width=\"100%\" class=\"display-none\">',\n            '<div>',\r\n                '<tr>',\n\t\t\t        '<td>',\r\n\t\t\t             '<label for=\"SalesQuote_reference\">{%= $.lblSalesQuoteCaption %}</label>',\r\n\t\t\t        '</td>',\r\n                    '<td>',\r\n                        '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_status\">{%= $.lblStatusCaption %}</label>',\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                    '<td>',\n                        '<label for=\"SalesQuote_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\r\n                    '</td>',\n                    '<td>',\n                        '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                    '</td>',\r\n                '</tr>',\r\n            '</div>',\r\n        '</table>',\r\n        '<div style=\"height:370px;width:800px\" dojoAttachPoint=\"tabContentDetails\" class=\"display-none\">',\r\n            '<div id=\"{%= $.id%}_salesQuoteContainer\" dojoAttachPoint=\"salesQuoteContainer\" dojoType=\"dijit.layout.TabContainer\" style=\"width:100%;height:100%;\">',\r\n                '<div id=\"{%= $.id%}_salesQuoteContent\" dojoAttachPoint=\"salesQuoteContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.detailsTabTitle %}\" selected=\"true\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"{%= $.id%}_divDetails\">',\r\n                        '<table cellspacing=\"5\">',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<col style=\"width:200px\" />',\r\n                            '<tr>',\r\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_QuoteDate\">{%= $.lblQuoteDateCaption %}</label>',\r\n                                '</td>',\r\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_QuoteDate\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\r\n                                '<td>',\n                                    '<label for=\"SalesQuote_TaxTotal\">{%= $.lblTaxTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_TaxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\r\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_HoldStatus\">{%= $.lblHoldStatusCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_HoldStatus\" name=\"statusFlagText\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Currency\">{%= $.lblCurrencyCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Type\">{%= $.lblTypeCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\r\n                                    '<label for=\"SalesQuote_CostTotal\">{%= $.lblCostTotalCaption %}</label>',\r\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_CostTotal\" name=\"costTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PONumber\">{%= $.lblPONumberCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PONumber\" name=\"customerReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ProfitTotal\">{%= $.lblProfitTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ProfitTotal\" name=\"profitTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Quotation\">{%= $.lblQuotationCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Quotation\" name=\"quotation.reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_InvoiceStatus\">{%= $.lblInvoiceStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_InvoiceStatus\" name=\"invoiceStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Contact\">{%= $.lblContactCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Contact\" name=\"buyerContact.fullName\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryDate\">{%= $.lblDeliveryDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryDate\" name=\"deliveryDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_PriceList\">{%= $.lblPriceListCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_PriceList\" name=\"pricelist.name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DueDate\">{%= $.lblDueDateCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DueDate\" name=\"dueDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_NetTotal\">{%= $.lblNetTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_NetTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_Carrier\">{%= $.lblCarrierCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_Carrier\" name=\"carrierCompany\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DiscountTotal\">{%= $.lblDiscountTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DiscountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_AllocationStatus\">{%= $.lblAllocationStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_AllocationStatus\" name=\"allocationStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                            '<tr>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_DeliveryStatus\">{%= $.lblDeliveryStatusCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_DeliveryStatus\" name=\"deliveryStatus\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                                '<td>',\n                                    '<label for=\"SalesQuote_ChargesTotal\">{%= $.lblChargesTotalCaption %}</label>',\n                                '</td>',\n                                '<td>',\n                                    '<input type=\"text\" id=\"{%= $.id%}_ChargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                                '</td>',\n                            '</tr>',\r\n                        '</table>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soAddressesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.addressTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteAddresses\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteAddresses_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteAddresses_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soSalesPersonsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesPersonsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_SalesPersons\" dojoAttachEvent=\"onShow:initSalesPersons\">',\r\n                    '<div id=\"sdgrdSalesPersons\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesPersons_Grid\" dojoAttachPoint=\"sdgrdSalesPersons_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soLinesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.salesQuoteLinesTabTitle %}\" style=\"width:100%;height:100%;\">',\r\n                    '<div id=\"sdgrdSalesQuoteLines\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSalesQuoteLines_Grid\" dojoAttachPoint=\"sdgrdSalesQuoteLines_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soPaymentsContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.paymentsTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Payments\" dojoAttachEvent=\"onShow:initPayments\">',\r\n                    '<div id=\"sdgrdSOPayments\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSOPayments_Grid\" dojoAttachPoint=\"sdgrdSOPayments_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div id=\"{%= $.id%}_soDeliveriesContent\" dojoType=\"dijit.layout.ContentPane\" title=\"{%= $.deliveriesTabTitle %}\" style=\"width:100%;height:100%;\" dojoAttachPoint=\"cp_Deliveries\" dojoAttachEvent=\"onShow:initDeliveries\">',\r\n                    '<div id=\"sdgrdSODeliveries\" style=\"width:100%;height:100%;\">',\r\n                        '<div id=\"{%= $.id%}_sdgrdSODeliveries_Grid\" dojoAttachPoint=\"sdgrdSODeliveries_Grid\" style=\"width:100%;height:100%;\"></div>',\r\n                    '</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_soBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/UI/Columns/Email":function(){define("Sage/UI/Columns/Email",["Sage/UI/Controls/Email","Sage/UI/Columns/Cell","dojo/_base/declare"],function(Email,Cell,_2315){var _2316=_2315("Sage.UI.Columns.Email",Cell,{icon:"",defaultValue:"",widgetClass:Email,getWidgetProps:function(_2317){var _2318=this._getControlId();return dojo.mixin({},this.widgetProps||{},{emailId:_2318,email:_2317,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field});},getValue:function(index){var _2319=this.widget.focusNode.value;if((typeof _2319==="undefined")||(_2319==="")){_2319=this.defaultValue;}if(this.widget&&this.widget.focusNode.state==="Error"){return this.widget.focusNode._resetValue;}return _2319;},formatter:function(val,index){if(!val){return "";}var _231a=val;if(this.icon&&this.icon!==""){_231a=(this.icon===true||this.icon==="true")?"<img src=\"images/icons/Send_Write_email_16x16.png\" />":"<img src=\""+this.icon+"\" />";}return dojo.string.substitute("<a href=\"mailto:${0}\">${1}</a>",[val,_231a]);},markupFactory:function(node,cell){dojox.grid.cells.Cell.markupFactory(node,cell);if(dojo.hasAttr(node,"icon")){cell["icon"]=dojo.trim(dojo.attr(node,"icon")||"");}}});return _2316;});},"Sage/Groups/GroupLookup":function(){define("Sage/Groups/GroupLookup",["dijit/_Widget","Sage/_Templated","dijit/Dialog","Sage/UI/ConditionManager","Sage/Data/SDataServiceRegistry","Sage/Groups/GroupContextService","dojo/_base/lang","dojo/_base/declare","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/array","dojo/topic","dojo/aspect","Sage/Data/GroupLayoutSingleton"],function(_231b,_231c,_231d,_231e,_231f,_2320,lang,_2321,_2322,array,topic,_2323,_2324){var _2325=_2321("Sage.Groups.GroupLookupDialog",[_231b,_231c],{widgetsInTemplate:true,conditionMgr:false,title:"",widgetTemplate:new Simplate(["<div>","<div data-dojo-type=\"dijit.Dialog\" id=\"groupLookupDialog\" title=\"&nbsp;\" dojoAttachPoint=\"dlg\" >","</div>","</div>"]),constructor:function(o){},show:function(){if(this.conditionMgr){var _2326=Sage.Services.getService("UserOptions");if(_2326){_2326.get("defaultLookupCondition","DefaultLookupCondition",lang.hitch(this,function(_2327){this.conditionMgr.setFirstConditionValue("",_2327.value,"");}));}lang.mixin(this.dlg,new _2322());this.dlg.createHelpIconByTopic("lookup");this.dlg.show();}},hide:function(){this.dlg.hide();},_setConditionMgrAttr:function(_2328){this.conditionMgr=_2328;dojo.place(this.conditionMgr.domNode,this.dlg.containerNode,"only");},_setTitleAttr:function(title){this.title=title;this.dlg.set("title",title);}});var _2329=_2321("Sage.Groups.GroupLookup",null,{conditions:[],_layouts:{},_currentLayoutFamily:false,service:false,_dlgWindow:false,_conditionMgr:false,_doSearchConnection:false,_onSearchNavTo:false,id:"GroupLookup",constructor:function(){this.isInitialized=false;},showLookup:function(opts){if(typeof opts==="undefined"){var cSvc=Sage.Services.getService("ClientGroupContext");this._currentLayoutFamily=cSvc.getContext().CurrentFamily;opts={family:this._currentLayoutFamily};}this._onSearchNavTo=(opts.returnTo)?opts.returnTo:false;if(!this._layouts.hasOwnProperty(opts.family)){this._currentLayoutFamily=opts.family;this._requestLayout({family:opts.family,success:this._showInitializedLookup});return;}if(this._currentLayoutFamily!==opts.family){this._currentLayoutFamily=opts.family;}this._resetConditionManager();this._showInitializedLookup();},_showInitializedLookup:function(){var svc=Sage.Services.getService("ClientEntityContext"),_232a=svc&&svc.getContext(),_232b=_232a&&_232a.DisplayName,_232c=_232a&&_232a.EntityTableName,_232d=this._layouts[this._currentLayoutFamily]["mainTable"],_232e=this._layouts[this._currentLayoutFamily]["entityName"];if(!this._dlgWindow){this._dlgWindow=new _2325({conditionMgr:this._conditionMgr});}if(!this._dlgWindow.conditionMgr){this._dlgWindow.set("conditionMgr",this._conditionMgr);}if(_232c!==_232d){_232b=_232e;}this._dlgWindow.set("title",_232b);this._dlgWindow.show();},doLookup:function(args){this._ensureService();this._dlgWindow.hide();var _232f=new Sage.SData.Client.SDataServiceOperationRequest(this.service);_232f.setOperationName("setGroupLookupConditions");_232f.execute({request:{family:this._currentLayoutFamily,conditions:this.getConditionsString(),includeConditionsFrom:""}},{success:function(_2330){var navTo=this._onSearchNavTo+"?modeid=list&gid=LOOKUPRESULTS",path=document.location.toString().toLowerCase(),comp=this._onSearchNavTo&&this._onSearchNavTo.toLowerCase(),_2331=dijit.byId("GroupList");var _2332=Sage.Services.getService("ClientGroupContext");var _2333=_2332.getContext();if(_2333.CurrentFamily===this._currentLayoutFamily){_2323.after(_2332,"onCurrentGroupChanged",lang.hitch(this,function(){topic.publish("/group/lookup/success",{"conditions":this.getConditionsString()});}));if(_2331){_2331.shouldNotUpdate=true;}_2332.setCurrentGroup("LOOKUPRESULTS");}if(this._onSearchNavTo){if(path.indexOf(comp)===-1){document.location=navTo;return;}}},scope:this});},resetLookup:function(data){},getConditionsString:function(){return this._conditionMgr.getConditionsJSON();},_ensureService:function(){if(!this.service){this.service=_231f.getSDataService("system");}},_requestLayout:function(_2334){this._ensureService();if(!_2334.family){var _2335=Sage.Services.getService("ClientGroupContext");_2334.family=_2335.getContext().CurrentFamily||"ACCOUNT";}var _2336=dojo.string.substitute("name eq 'Lookup Results' and upper(family) eq '${0}'",[_2334.family.toUpperCase()]),_2337=lang.hitch(this,this._onReadSuccess,_2334),_2338=new _2324();_2338.getGroupLayout(_2336,_2337,null,"LOOKUPRESULTS");},_onReadSuccess:function(_2339,data){this._layouts[_2339.family]=data;this._currentLayoutFamily=_2339.family;this._resetConditionManager();if(typeof _2339.success==="function"){_2339.success.call(_2339.scope||this,data);}},_resetConditionManager:function(){if(!this._currentLayoutFamily){return;}if(this._conditionMgr){this._conditionMgr.destroy(false);this._conditionMgr=null;}var _233a=array.filter(this._layouts[this._currentLayoutFamily]["layout"],function(field){return field.caption&&field.caption!==""&&field.visible;});_233a=array.map(_233a,function(field){if(field.format&&field.format==="None"){field.format=field.fieldType;}return field;});this._conditionMgr=new _231e({fields:_233a,fieldNameProperty:"alias",fieldDisplayNameProperty:"caption",fieldTypeProperty:"format",id:this.id+"-ConditionManager"});if(this._dlgWindow){this._dlgWindow.set("conditionMgr",this._conditionMgr);}this._doSearchConnection=dojo.connect(this._conditionMgr,"onDoSearch",this,"doLookup");},destroy:function(){if(this._doSearchConnection){dojo.disconnect(this._doSearchConnection);this._doSearchConnection=false;}this.inherited(arguments);}});Sage.Services.addService("GroupLookupManager",new Sage.Groups.GroupLookup());return _2329;});},"Sage/UI/Alarms/AlarmPane":function(){define("Sage/UI/Alarms/AlarmPane",["dijit/form/Button","dijit/form/FilteringSelect","dojo/date","Sage/Utility","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/ActivityAlarm","dojo/i18n","dojo/i18n!./nls/AlarmPane","dojo/_base/declare","dojo/topic"],function(_233b,_233c,_233d,_233e,_233f,_2340,i18n,_2341,_2342,topic){var _2343=_2342("Sage.UI.Alarms.AlarmPane",_233f,{defaultSnooze:"5",_snoozeButton:false,templateString:["<div>","<div class=\"alarm-items-contents\" dojoAttachPoint=\"_alertContents\"></div>","<div class=\"alarm-snoozebar\" dojoAttachPoint=\"_snoozebar\">","<table>","<tr>","<td colspan=\"2\" class=\"dismissActions\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_dismissSelected\">${dismissText}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_dismissAll\">${dismissAllText}</button>","</td>","<td colspan=\"2\" class=\"calendar-link\">","<a href=\"calendar.aspx\" title=\"${showCalendarText}\">${showCalendarText}</a>","</td>","</tr><tr>","<td class=\"snoozeText\">${snoozeByText}</td>","<td colspan=\"2\" class=\"snoozeBy\">","<select name=\"selectSnoozeBy\" dojoAttachPoint=\"_selSnoozeBy\" data-dojo-type=\"dijit.form.FilteringSelect\">","<option value=\"5\" {% if ($.defaultSnooze == 5) { %} selected=\"selected\" {% } %}>${fiveMinText}</option>","<option value=\"10\" {% if ($.defaultSnooze == 10) { %} selected=\"selected\" {% } %}>${tenMinText}</option>","<option value=\"15\" {% if ($.defaultSnooze == 15) { %} selected=\"selected\" {% } %}>${fifteenMinText}</option>","<option value=\"30\" {% if ($.defaultSnooze == 30) { %} selected=\"selected\" {% } %}>${thirtyMinText}</option>","<option value=\"60\" {% if ($.defaultSnooze == 60) { %} selected=\"selected\" {% } %}>${oneHourText}</option>","<option value=\"120\" {% if ($.defaultSnooze == 120) { %} selected=\"selected\" {% } %}>${twoHourText}</option>","<option value=\"240\" {% if ($.defaultSnooze == 240) { %} selected=\"selected\" {% } %}>${fourHourText}</option>","<option value=\"480\" {% if ($.defaultSnooze == 480) { %} selected=\"selected\" {% } %}>${eightHourText}</option>","<option value=\"1440\" {% if ($.defaultSnooze == 1440) { %} selected=\"selected\" {% } %}>${oneDayText}</option>","<option value=\"2880\" {% if ($.defaultSnooze == 2880) { %} selected=\"selected\" {% } %}>${twoDayText}</option>","<option value=\"4320\" {% if ($.defaultSnooze == 4320) { %} selected=\"selected\" {% } %}>${threeDayText}</option>","<option value=\"10080\" {% if ($.defaultSnooze == 10080) { %} selected=\"selected\" {% } %}>${oneWeekText}</option>","<option value=\"20160\" {% if ($.defaultSnooze == 20160) { %} selected=\"selected\" {% } %}>${twoWeekText}</option>","</select>","</td>","<td class=\"snoozeActions\">","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_snooze\" dojoAttachPoint=\"_snoozeButton\">${snoozeText}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachEvent=\"onClick:_snoozeAll\">${snoozeAllText}</button>","</td>","</tr>","</table>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_2341);},_durByText:false,_textByDur:false,onShow:function(){this._snoozeButton.focus();},setDefaultSnooze:function(_2344){this.defaultSnooze=_2344;this._setSnoozeSelect(_2344);},_addAlert:function(item){if(this._alarmRinging(item)){var _2345=new _2340({userActivity:item,selected:this.selectedAlerts.hasOwnProperty(item["$key"])});this.alertWidgets.push(_2345);dojo.place(_2345.domNode,this._alertContents);}},_alarmRinging:function(_2346){var n=new Date();var _2347;var alarm;if((_2346.Alarm===null)&&(_2346.AlarmTime===null)){_2347=_233e.Convert.toDateFromString(_2346.Activity.AlarmTime);alarm=_2346.Activity.Alarm;_2346.Alarm=alarm;_2346.AlarmTime=_2346.Activity.AlarmTime;}else{_2347=_233e.Convert.toDateFromString(_2346.AlarmTime);alarm=_2346.Alarm;}return (alarm&&(_233d.compare(_2347,n)<1));},_snooze:function(){for(var i=0;i<this.alertWidgets.length;i++){var wid=this.alertWidgets[i];if(wid.selected){this._snoozeItem(wid.userActivity);}}this.store.save(this);},_snoozeAll:function(){for(var i=0;i<this.alertWidgets.length;i++){this._snoozeItem(this.alertWidgets[i].userActivity);}this.store.save(this);},_setSnoozeSelect:function(_2348){if(!this._textByDur){this._textByDur={"5":this.fiveMinText,"10":this.tenMinText,"15":this.fifteenMinText,"30":this.thirtyMinText,"60":this.oneHourText,"120":this.twoHourText,"240":this.fourHourText,"480":this.eightHourText,"1440":this.oneDayText,"2880":this.twoDayText,"4320":this.threeDayText,"10080":this.oneWeekText,"20160":this.twoWeekText};}this._selSnoozeBy.set("displayedValue",this._textByDur[_2348]);this._selSnoozeBy.set("value",_2348);},_snoozeItem:function(_2349){var _234a=this._selSnoozeBy.get("value");var dur=parseInt(_234a);var _234b=new Date();var _234c=_233d.add(_234b,"minute",dur);this.store.setValue(_2349,"AlarmTime",_233e.Convert.toIsoStringFromDate(_234c));},_dismissAll:function(){for(var i=0;i<this.alertWidgets.length;i++){this._dismissItem(this.alertWidgets[i].userActivity);}this.store.save(this);},_dismissSelected:function(){for(var i=0;i<this.alertWidgets.length;i++){var wid=this.alertWidgets[i];if(wid.selected){this._dismissItem(wid.userActivity);}}this.store.save(this);},_dismissItem:function(_234d){this.store.setValue(_234d,"Alarm",false);},deleteSelected:function(){var _234e=this._makeSelectionContext(false);if(_234e){var svc=Sage.Services.getService("ActivityService");if(_234e.count===1){var _234f=_234e.selectionInfo.selections[0].entity;svc.deleteActivity(_234f["$key"],_234f.Recurring);}else{svc.deleteActivitiesInSelectionContext(_234e,this._reloadAlarms,this);}}},_reloadAlarms:function(_2350){var _2351=dijit.byId("alarmPopup");_2351.reloadAlarms();},completeSelected:function(){var _2352=this._makeSelectionContext(false);if(_2352){var svc=Sage.Services.getService("ActivityService");var self=this;var _2353=topic.subscribe("/entity/activity/bulkComplete",function(_2354){self._reloadAlarms();_2353.remove();});if(_2352.count===1){var _2355=_2352.selectionInfo.selections[0].entity;svc.completeActivity(_2355["$key"],_2355.Recurring);}else{svc.completeActivitiesInSelectionContext(_2352);}}},_makeSelectionContext:function(_2356){var ids=[],sels=[];var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var id=wid.userActivity.Activity["$key"];ids.push(id);sels.push({rn:0,id:id,entity:wid.userActivity.Activity});if(_2356){this.alertWidgets.splice(i,1);wid.destroy();}}}if(ids.length>0){return {count:ids.length,id:null,mode:"select",name:"activities",selectionInfo:{key:"alert",keyField:"$key",mode:"selection",ranges:[],recordCount:ids.length,selectedIds:ids,selectionCount:2,selections:sels,sortDirection:"",sortField:""}};}return false;},onComplete:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(!this._alarmRinging(wid.userActivity)){this.alertWidgets.splice(i,1);wid.destroy();}}this._alertChanged(this.alertWidgets.length);},getUnhandledAlertCount:function(){var _2357=0;for(var i=0;i<this.alertItems.length;i++){if(this._alarmRinging(this.alertItems[i])){_2357++;}}return _2357;}});return _2343;});},"Sage/MainView/ActivityMgr/SnoozeButton":function(){define("Sage/MainView/ActivityMgr/SnoozeButton",["dijit/_Widget","Sage/_Templated","dojo/_base/declare"],function(_2358,_2359,_235a){var _235b=_235a("Sage.MainView.ActivityMgr.SnoozeButton",[_2358,_2359],{widgetsInTemplate:true,_started:false,widgetTemplate:new Simplate(["<span class=\"alarm-button\">","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_snoozeButton\" data-dojo-attach-event=\"onClick:_cboClick\" class=\"\" >","<div data-dojo-type=\"Sage.MainView.ActivityMgr.SnoozeOptions\" data-dojo-attach-point=\"_snoozeOptions\"></div>","</button>","</span>"]),startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;},_cboClick:function(){this._snoozeButton.openDropDown();},destroy:function(){this._snoozeButton.destroyRecursive();}});return _235b;});},"Sage/MainView/IntegrationContract/CustomerPaymentsRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/CustomerPaymentsRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_customerPaymentsDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<table cellspacing=\"5\">',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_reference\">{%= $.lblReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_date\">{%= $.lblDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_date\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_processDate\">{%= $.lblProcessDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_processDate\" name=\"processDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_name\">{%= $.lblNameCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_name\" name=\"name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_type\">{%= $.lblTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_status\">{%= $.lblStatusCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_currency\">{%= $.lblCurrencyCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderType\">{%= $.lblTenderTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderType\" name=\"tenderType\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderReference\">{%= $.lblTenderReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderReference\" name=\"tenderReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_discountTotal\">{%= $.lblDiscountsCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_discountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_netTotal\">{%= $.lblNetTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_netTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxTotal\">{%= $.lblTaxesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_chargesTotal\">{%= $.lblChargesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_chargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxCode\">{%= $.lblTaxCodeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxCode\" name=\"taxCode\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_source\">{%= $.lblSourceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_source\" name=\"source\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n        '</table>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_paymentBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\n    '</div>',\n'</div>'\n]"}});define("Sage/MainView/IntegrationContract/CustomerPaymentsRTDV",["dojo/_base/declare","dojo/i18n!./nls/CustomerPaymentsRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/CustomerPaymentsRTDV.html","Sage/UI/DateTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_235c,_235d,_235e,_235f,_2360,_2361,_2362,_2363,_2364){var _2365=_235c("Sage.MainView.IntegrationContract.CustomerPaymentsRTDV",[_235e,_235f],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2364)),constructor:function(){dojo.mixin(this,_235d);},loadCustomerPayments:function(){var self=this;var _2366={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"reference",name:this.grdPayments_Reference,sortable:true,formatter:this.customerPaymentsDetailsViewRenderer,style:"text-align:left;width:auto;",editable:false},{width:10,field:"date",type:_2363,formatType:"date",dateOnly:true,utc:false,name:this.grdPayments_Date,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"type",name:this.grdPayments_Type,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"status",name:this.grdPayments_Status,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"processDate",type:_2363,formatType:"date",dateOnly:true,utc:false,editable:false,hidden:function(){return true;}},{width:10,field:"discountTotal",editable:false,hidden:function(){return true;}},{width:10,field:"chargesTotal",editable:false,hidden:function(){return true;}},{width:10,field:"source",editable:false,hidden:function(){return true;}},{width:10,field:"taxTotal",editable:false,hidden:function(){return true;}},{width:10,field:"name",editable:false,hidden:function(){return true;}},{width:10,field:"tenderType",editable:false,hidden:function(){return true;}},{width:10,field:"tenderReference",editable:false,hidden:function(){return true;}},{width:10,field:"netTotal",editable:false,hidden:function(){return true;}},{width:10,field:"grossTotal",editable:false,hidden:function(){return true;}},{width:10,field:"taxCode",editable:false,hidden:function(){return true;}}],storeOptions:new _2361({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}]}),tools:[]};var _2367=new _2360.Grid(_2366,this.placeHolder);_2367.startup();var _2368=dijit.byId("tabContent");_2368.resize();_2368.resize();this.grid=_2367;},customerPaymentsDetailsViewRenderer:function(value){return dojo.string.substitute("<a href=\"javascript:customerPaymentsRTDV.loadDetailsView();\">${0}</a>",[value]);},loadDetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){this._dialog.set("value",row);this._dialog.show();}},hideDetailsDialog:function(){this._dialog.hide();}});return _2365;});},"Sage/QuickForms/Design/Editors/LayoutPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/LayoutPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/LayoutPropertyEditor"],function(_2369,lang,_236a,_236b,_236c,_236d,_236e,_236f,_2370,_2371){return _2369("Sage.QuickForms.Design.Editors.LayoutPropertyEditor",[_236a,_236f,_236e],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.positionText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.rowTooltipText %}\">","<label>{%= $.rowText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_row\" data-dojo-attach-event=\"onChange:_onRowChange\" required=\"true\" data-dojo-props=\"constraints:{min:0,max:100,places:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.columnTooltipText %}\">","<label>{%= $.columnText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_column\" data-dojo-attach-event=\"onChange:_onColumnChange\" required=\"true\" data-dojo-props=\"constraints:{min:0,max:100,places:0}\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.sizeText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.rowSpanTooltipText %}\">","<label>{%= $.rowSpanText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_rowSpan\" data-dojo-attach-event=\"onChange:_onRowSpanChange\" required=\"true\" data-dojo-props=\"constraints:{min:1,max:100,places:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.columnSpanTooltipText %}\">","<label>{%= $.columnSpanText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_columnSpan\" data-dojo-attach-event=\"onChange:_onColumnSpanChange\" required=\"true\" data-dojo-props=\"constraints:{min:1,max:100,places:0}\"></div>","</div>","</div>","</fieldset>"]),_row:null,_column:null,_rowSpan:null,_columnSpan:null,titleText:"Layout",positionText:"Position",sizeText:"Size",rowText:"Row:",rowTooltipText:"Row number of the control.",columnText:"Column:",columnTooltipText:"Column number of the control.",rowSpanText:"Row Span:",rowSpanTooltipText:"Number of cells the control occupies vertically.",columnSpanText:"Column Span:",columnSpanTooltipText:"Number of cells the control occupies horizontally.",constructor:function(){lang.mixin(this,_2371);},setup:function(){this.inherited(arguments);this._row.set("value",this._designer.get("row"));this._column.set("value",this._designer.get("column"));this._rowSpan.set("value",this._designer.get("rowSpan"));this._columnSpan.set("value",this._designer.get("columnSpan"));},_onRowChange:function(value){if(this.isSuspended()||!this._row.isValid()){return;}try{this._designer.set("row",parseInt(value)||0);}catch(e){this._row.setValue(e.value);if(console){console.error(e.message,e);}}},_onColumnChange:function(value){if(this.isSuspended()||!this._column.isValid()){return;}try{this._designer.set("column",parseInt(value)||0);}catch(e){this._column.setValue(e.value);if(console){console.error(e.message);}}},_onRowSpanChange:function(value){if(this.isSuspended()||!this._rowSpan.isValid()){return;}try{this._designer.set("rowSpan",parseInt(value)||1);}catch(e){this._rowSpan.setValue(e.value);if(console){console.error(e.message);}}},_onColumnSpanChange:function(value){if(this.isSuspended()||!this._columnSpan.isValid()){return;}try{this._designer.set("columnSpan",parseInt(value)||1);}catch(e){this._columnSpan.setValue(e.value);if(console){console.error(e.message);}}}});});},"Sage/Utility/File/nls/Attachment":function(){define("Sage/Utility/File/nls/Attachment",["Sage/LanguageList","dojo/_base/lang"],function(_2372,lang){var nls={root:{uploadingAttachments:"Uploading attachments",uploadCompleted:"Completed",uploadingPleaseWait:"Uploading, please wait...",uploadFailed:"Upload failed."}};return lang.mixin(_2372,nls);});},"Sage/Utility/main":function(){define("Sage/Utility/main",["Sage/Utility/Activity","Sage/Utility/Dashboard","Sage/Utility/Groups","Sage/Utility/_LocalStorageMixin","Sage/Utility/SDataLookup","Sage/Utility/Sql","Sage/Utility/Email","Sage/Utility/ErrorHandler","Sage/Utility/File","Sage/Utility/File/DragDropWatcher","Sage/Utility/File/DefaultDropHandler","Sage/Utility/UserOptions","Sage/Utility/Validate","Sage/Utility/PickList","Sage/Utility/Jobs"],function(){});},"Sage/QuickForms/Design/nls/GenericControlDesigner":function(){define("Sage/QuickForms/Design/nls/GenericControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_2373,lang){var nls={root:{displayNameText:"Unknown"}};return lang.mixin(_2373,nls);});},"Sage/UI/NavBar":function(){define("Sage/UI/NavBar",["dijit/layout/AccordionContainer","Sage/UI/NavBarPane","Sage/Layout/_SplitterEnhancedMixin","dojo/_base/declare"],function(_2374,_2375,_2376,_2377){var _2378=_2377("Sage.UI.NavBar",[_2374,_2376],{persist:true,postCreate:function(){this.inherited(arguments);var items=Sage.UI.DataStore.NavBar&&Sage.UI.DataStore.NavBar.items;if(items){this._processNavCollection(items);}},_processNavCollection:function(items){for(var i=0;i<items.length;i++){var item=items[i];this.addChild(new _2375({title:item.text,items:item.items}));}},startup:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";}});return _2378;});},"Sage/MainView/ReportMgr/Crystal/nls/StringParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/StringParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2379,lang){var nls={root:{txtTheValueMustBeBetween:"The value must be between {0} and {1} characters long.",txtTheMinimumLengthForThisField:"The minimum length for this field is {0}.",txtTheMaximumLengthForThisField:"The maximum length for this field is {0}.",txtPleaseSpecifyValue:"Please specify a value.",lblEnterValue_Caption:"Enter a Value:"}};return lang.mixin(_2379,nls);});},"Sage/QuickForms/Design/nls/PropertyEditorContainer":function(){define("Sage/QuickForms/Design/nls/PropertyEditorContainer",["Sage/LanguageList","dojo/_base/lang"],function(_237a,lang){var nls={root:{specificTitleFormatText:"${0} Properties (${1})",genericTitleFormatText:"${0} Properties"}};return lang.mixin(_237a,nls);});},"Sage/Services/nls/ReportingService":function(){define("Sage/Services/nls/ReportingService",["Sage/LanguageList","dojo/_base/lang"],function(_237b,lang){var nls={root:{txtUnsupportedReportType:"Unsupported report type: ${0}.",txtUnexpectedError:"Sorry an error occurred: ${0} ${1}.",invalidEntityError:"The entity ID has not been defined or could not be determined.",invalidReportPluginError:"The report plugin ID has not been defined or could not be determined.",invalidTableNameError:"The table name has not been defined or could not be determined.",noDefaultReportError:"A default report could not be located for the current entity.",reportCannotBeShownError:"The report cannot be shown."}};return lang.mixin(_237b,nls);});},"Sage/MailMerge/nls/Helper":function(){define("Sage/MailMerge/nls/Helper",["Sage/LanguageList","dojo/_base/lang"],function(_237c,lang){var nls={root:{destkopErrorsError:"The call to DesktopErrors() failed.",mailMergeInfoStoreError:"The call to MailMergeInfoStore() failed."}};return lang.mixin(_237c,nls);});},"Sage/MainView/Opportunity/UpdateOpportunities":function(){require({cache:{"url:Sage/MainView/Opportunity/templates/UpdateOpportunities.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.updateMultipleOpps_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmUpdateMultipleOpps\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.update_Property_Caption %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<select title=\"{%= $.update_Property_Caption %}\" labelWidth=\"20\" name=\"{%= $.id %}_PropertyName\" dojoAttachPoint=\"propertyNameSelect\" dojoAttachEvent=\"onChange:_propertyChanged\" data-dojo-type=\"dijit.form.Select\" style=\"width:150px\">',\r\n                            '{% for (var i=0; i < $._updateableProperties.length;i++) { %}',\r\n                                '<option value=\"{%= $._updateableProperties[i].propertyName %}\" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>',\r\n                            '{% } %}',\r\n                        '</select>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"divUpdateOppsTolbl\" dojoAttachPoint=\"divUpdateOppsTolbl\" class=\"display-none\">',\r\n                            '<label>{%= $.update_To_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoAttachPoint=\"divAcctMgrContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"accountMgr_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCloseProbContainer\" class=\"display-none\">',\r\n                            '<select id=\"{%= $.id %}_pkl_CloseProbability\" PickListName=\"Opportunity Probability\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_pkl_CloseProbability\" data-dojo-type=\"Sage.UI.Controls.SingleSelectPickList\" dojoAttachPoint=\"pkl_CloseProbability\" canEditText=\"false\" itemMustExist=\"true\"></select>',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" dojoAttachPoint=\"divForecastContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_Yes %}\" value=\"yesForecast\" id=\"{%= $.id %}_rdgYesForecast\" dojoAttachPoint=\"rdoYesForecast\" checked=\"true\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"addToForecast\" label=\"{%= $.addToForecast_No %}\" value=\"noForecast\" id=\"{%= $.id %}_rdgNoForecast\" />',\r\n                        '</div>',\r\n                        '<div data-dojo-type=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"2\" dojoAttachPoint=\"divEstCloseContainer\" baseClass=\"display-none\">',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" id=\"{%= $.id %}_rdgEstClose\" checked=\"true\" label=\"{%= $.estimatedClose_To %}\" value=\"estimatedClose\" dojoAttachPoint=\"rdoEstClose\" dojoAttachEvent=\"onChange:estimatedCloseDateChange\" />',\r\n                            '<input data-dojo-type=\"dijit.form.RadioButton\" type=\"radio\" name=\"estimatedClose\" value=\"move\" id=\"{%= $.id %}_rdgEstMove\" label=\"{%= $.estimatedClose_MoveOut %}\" />',\r\n                        '</div>',\r\n                        '<div dojoAttachPoint=\"divCommentsContainer\" class=\"display-none\">',\r\n                            '<textarea data-dojo-type=\"dijit.form.SimpleTextarea\" id=\"{%= $.id %}_txtComments\" dojoAttachPoint=\"txtComments\" style=\"font-size: 85%\"></textarea>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td></td>',\r\n                    '<td>',\r\n                        '<div id=\"divEstCloseDateContainer\" class=\"display-none\" dojoAttachPoint=\"divEstCloseDateContainer\">',\r\n                            '<div data-dojo-type=\"Sage.UI.Controls.DateTimePicker\" id=\"{%= $.id %}_dtpEstCloseDate\" displayDate=\"true\" displayTime=\"false\" dojoAttachPoint=\"dtpEstCloseDate\"></div>',\r\n                        '</div>',\r\n                        '<div id=\"divMoveEstimatedCloseContainer\" class=\"display-none\" dojoAttachPoint=\"divMoveEstimatedCloseContainer\">',\r\n                            '<select data-dojo-type=\"dijit.form.Select\" name=\"moveEstCloseDate\" id=\"{%= $.id %}_moveEstCloseDateList\" dojoAttachPoint=\"moveEstCloseDateList\">',\r\n                                '<option value=\"Forward\">{%= $.moveEstCloseDate_Forward %}</option>',\r\n                                '<option value=\"Backward\">{%= $.moveEstCloseDate_Backward %}</option>',\r\n                            '</select>',\r\n                            '<div data-dojo-type=\"dijit.form.TextBox\" labelWidth=\"20\" dojoAttachPoint=\"daysToMove\"></div>&nbsp',\r\n                            '<label>{%= $.estimatedClose_Days %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/Opportunity/UpdateOpportunities",["dojo/_base/declare","dojo/i18n!./nls/UpdateOpportunities","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/UpdateOpportunities.html","Sage/Utility/Jobs","dojo/string","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer"],function(_237d,_237e,_237f,_2380,_2381,_2382,_2383,_2384,_2385,_2386,jobs,_2387){var _2388=_237d("Sage.MainView.Opportunity.UpdateOpportunities",[_2382,_2383],{id:"dlgUpdateMultipleOpps",_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_AcctMgr:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2386)),constructor:function(_2389){this._selectionInfo=_2389;dojo.mixin(this,_237e);if(!this._updateableProperties){this._updateableProperties=[{propertyName:"",propertyDisplayName:""}];this.loadUpdateableProperties("AcctMgr",this.updateProp_AcctMgr);this.loadUpdateableProperties("Forecast",this.updateProp_Forecast);this.loadUpdateableProperties("CloseProb",this.updateProp_Probability);this.loadUpdateableProperties("EstClose",this.updateProp_EstClose);this.loadUpdateableProperties("Comments",this.updateProp_Comments);}},loadUpdateableProperties:function(_238a,_238b){var _238c={propertyName:_238a,propertyDisplayName:_238b};this._updateableProperties.push(_238c);},setSelectionInfo:function(_238d){this._selectionInfo=_238d;},show:function(){this._dialog.show();if(!this.lup_AcctMgr){this.createAcctMgrLookup();}this._propertyChanged();if(!this._dialog.helpIcon){_2380.mixin(this._dialog,new _237f());this._dialog.createHelpIconByTopic("updateopportunities");}},_propertyChanged:function(){if(this.propertyNameSelect){this.setDisplayProperty(this.divAcctMgrContainer,(this.propertyNameSelect.value=="AcctMgr"));this.setDisplayProperty(this.divCloseProbContainer,(this.propertyNameSelect.value=="CloseProb"));this.setDisplayProperty(this.divCommentsContainer,(this.propertyNameSelect.value=="Comments"));this.setDomDisplayProperty(this.divForecastContainer,(this.propertyNameSelect.value=="Forecast"));this.setDisplayProperty(this.divUpdateOppsTolbl,(this.propertyNameSelect.value!="EstClose"));this.setDomDisplayProperty(this.divEstCloseContainer,(this.propertyNameSelect.value=="EstClose"));}this.estimatedCloseDateChange();},setDisplayProperty:function(_238e,_238f){if(_238e&&_238f){dojo.removeClass(_238e,"display-none");}else{if(_238e){dojo.addClass(_238e,"display-none");}}},setDomDisplayProperty:function(_2390,_2391){if(_2390&&_2391){dojo.removeClass(_2390.domNode,"display-none");}else{if(_2390){dojo.addClass(_2390.domNode,"display-none");}}},estimatedCloseDateChange:function(){var _2392=this.rdoEstClose.get("checked");if(this.propertyNameSelect){this.setDisplayProperty(this.divEstCloseDateContainer,(_2392&&this.propertyNameSelect.value=="EstClose"));this.setDisplayProperty(this.divMoveEstimatedCloseContainer,(!_2392&&this.propertyNameSelect.value=="EstClose"));}},createAcctMgrLookup:function(){this.accountMgrLookupConfig={id:"_acctMgr",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupNameColText,"field":"UserInfo.UserName"},{"name":this.lookupTitleColText,"field":"UserInfo.Title"},{"name":this.lookupDepartmentColText,"field":"UserInfo.Department"},{"name":this.lookupRegionColText,"field":"UserInfo.Region"},{"name":this.lookupTypeColText,"field":"Type","propertyType":"Sage.Entity.Interfaces.UserType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users"},isModal:true,initialLookup:true,preFilters:[{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"5"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"6"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"7"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"8"}],returnPrimaryKey:true,dialogTitle:this.lookupActMgrText,dialogButtonText:this.btnOK_Caption};this.lup_AcctMgr=new _2385({id:"lu_AcctMgr",config:this.accountMgrLookupConfig,style:"width:100%"});dojo.place(this.lup_AcctMgr.domNode,this.accountMgr_Container.domNode,"only");},_okClick:function(){var _2393=this.getPropertySelectionValue();var self=this;if(!_2393&&!_2393.value){_2384.showError(this.errorUnspecifiedValue);return;}var _2394=[{"name":"EntityName","value":"Opportunity"},{"name":"PropertyNames","value":_2393.name},{"name":"PropertyValues","value":_2393.value},{"name":"SelectedIds","value":(this._selectionInfo.selectionCount>0)?this._selectionInfo.selectedIds.join(",")||"":""},{"name":"GroupId","value":(this._selectionInfo.selectionCount===0)?this.getCurrentGroupId()||"":""},{"name":"BusinessRuleName","value":this.getBusinessRuleMethod()}];var _2395={closable:true,title:_237e.updateMultipleOpps_Caption,key:"Sage.SalesLogix.BusinessRules.Jobs.UpdateEntityJob",parameters:_2394,success:function(_2396){},failure:function(_2397){_2384.showError(dojo.string.substitute(self.errorRequestingJobMgr,[_2397.statusText]));},ensureZeroFilters:true};self._close();jobs.triggerJobAndDisplayProgressDialog(_2395);},getCurrentGroupId:function(){var _2398=Sage.Services.getService("ClientGroupContext");if(_2398){var _2399=_2398.getContext();return _2399.CurrentGroupID;}return "";},getPropertySelectionValue:function(){if(this.propertyNameSelect){switch(this.propertyNameSelect.value){case "AcctMgr":if(this.lup_AcctMgr.selectedObject){return {name:"AccountManager",value:this.lup_AcctMgr.selectedObject.$key};}return false;case "CloseProb":return {name:"CloseProbability",value:this.pkl_CloseProbability.get("value")};case "Forecast":return {name:"AddToForecast",value:this.rdoYesForecast.get("checked")};case "EstClose":if(this.rdoEstClose.get("checked")){return {name:"EstimatedClose",value:this.dtpEstCloseDate.get("value")};}else{return this.moveEstCloseDateList.value=="Forward"?{name:"EstimatedClose",value:this.daysToMove.value}:{name:"EstimatedClose",value:_2387.substitute("-${0}",[this.daysToMove.value])};}break;case "Comments":return {name:"Notes",value:this.txtComments.value};}}return false;},getBusinessRuleMethod:function(){return this.propertyNameSelect.value==="EstClose"&&!this.rdoEstClose.get("checked")?"UpdateEstimatedCloseDate":"";},_close:function(){this._dialog.hide();}});return _2388;});},"url:Sage/MainView/Contact/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divUserLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"userLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/UI/Dashboard/nls/Dashboard":function(){define("Sage/UI/Dashboard/nls/Dashboard",["Sage/LanguageList","dojo/_base/lang"],function(_239a,lang){var nls={root:{newTabTitleText:"New Tab Title",inputTitleText:"Input a Title",copiedPageText:"Copied Tab",showText:"Show"}};return lang.mixin(_239a,nls);});},"Sage/MainView/ActivityMgr/nls/ActivityListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/ActivityListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_239b,lang){var nls={root:{colNameComplete:"Complete",colNameAttachment:"Attachment",colNameRecurring:"Recurring",colNameAlarm:"Alarm",colNameType:"Activity Type",colNameStartDate:"Start Date",colNameDuration:"Duration",colNameContact:"Name",colNameLead:"Lead",colNameAccount:"Account/Company",colNameCompany:"Company",colNameRegarding:"Regarding",colNamePriority:"Priority",colNameUserId:"Leader",colNameTimeless:"Timeless",colNameTypeName:"Type",colNameContactName:"Name",SnoozeAlarm:"Snooze Alarm",DismissAlarm:"Dismiss Alarm",colNameUnConfirmStatus:"Unconfirmed",colNameAssociationCount:"Participant Count"}};return lang.mixin(_239b,nls);});},"Sage/UI/Controls/nls/PickList":function(){define("Sage/UI/Controls/nls/PickList",["Sage/LanguageList","dojo/_base/lang"],function(_239c,lang){var nls={root:{okText:"OK",missingPickListText:"The PickList Could Not be Found"}};return lang.mixin(_239c,nls);});},"Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab",["dojo","dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Utility","Sage/Utility/Activity","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","dijit/layout/ContentPane","dojo/_base/lang","dojo/DeferredList","dojo/on","dojo/_base/array","dojo/topic","dojo/string","dojo/_base/Deferred","Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup","Sage/UI/Controls/SingleSelectPickList","dojo/i18n!./nls/ActivityEditorAttendeesTab","dojox/grid/cells/_base","Sage/Extensions/UI/Columns/Radio","Sage/Extensions/UI/Columns/CheckBox","Sage/Extensions/UI/Columns/PickListSelect","Sage/MainView/ActivityMgr/AttendeeLookup/LookupService"],function(dojo,_239d,_239e,_239f,_23a0,_23a1,_23a2,_23a3,_23a4,_23a5,_23a6,_23a7,lang,_23a8,on,array,topic,_23a9,_23aa,_23ab,_23ac,_23ad,_23ae,radio,_23af,_23b0,_23b1){var _23b2=_239f("Sage.MainView.ActivityMgr.ActivityEditorAttendeesTab",[_239d,_239e],{actEditor:null,lup_Contact:null,lup_Lead:null,self:null,widgetsInTemplate:true,currentPrimaryEntityId:null,userContactAttendees:[],editorMode:null,_activityId:null,_addedAttendees:null,_uncheckItem:null,_initialPrimaryContact:false,_gridStarted:false,_timeZones:[],constructor:function(_23b3){lang.mixin(this,_23b3);lang.mixin(this,_23ad);var self=this;if(this._timeZones.length==0){Sage.Utility.getTimeZones(function(_23b4){self._timeZones=_23b4;});}},widgetTemplate:new Simplate(["<div>","<div id=\"{%= $.id %}_attendeesGridPlaceholder\" dojoAttachPoint=\"_attendeesGridPlaceholder\" style=\"width:100%;height:100%\"></div>","</div>"]),userContactList:[],_newItems:[],startup:function(_23b5){this._newItems=[];this._addedAttendees=[];if(!this.actEditor){return;}this._activityId=_23a3.getCurrentEntityId();this._buildGrid(_23b5);dojo.subscribe("/entity/activity/create",this,this._activitySaved);dojo.subscribe("/entity/activity/change",this,this._activitySaved);this.createLookups();this.self=this;var self=this;},primaryClicked:function(_23b6){_23b6["attendeeTab"]=true;_23b6["PrimaryChecked"]=_23b6.checked;if(_23b6.checked){this._uncheckItem=_23b6;}if(!_23b6["AccountId"]&&_23b6["EntityType"]=="Contact"){_23a4._getContactData(_23b6["EntityId"],function(_23b7){if(_23b7["Account"]&&_23b7["Account"]["$key"]){_23b6["AccountId"]=_23b7["Account"]["$key"];}dojo.publish("/entity/activityAttendee/primaryChanged",[_23b6,this]);},this);}else{if(!_23b6["AccountId"]&&_23b6["EntityType"]=="Lead"){_23a4._getLeadData(_23b6["EntityId"],function(_23b8){if(_23b8["Account"]&&_23b8["Account"]["$key"]){_23b6["AccountId"]=_23b8["Account"]["$key"];}dojo.publish("/entity/activityAttendee/primaryChanged",[_23b6,this]);},this);}else{dojo.publish("/entity/activityAttendee/primaryChanged",[_23b6,this]);}}},_primaryUnChecked:function(_23b9){if(this.currentPrimaryEntityId!==entityId){}else{}},_getTimeZoneDisplayName:function(_23ba){var _23bb=_23ba;if(this._timeZones&&this._timeZones.length>0){var obj=this._timeZones.filter(function(val){return val.Keyname===_23ba;});if(obj&&obj[0]){_23bb=obj[0].Displayname;}}return _23bb;},_buildGrid:function(_23bc){var tools=[];tools=[{id:"attendeeSpeedSearch",imageClass:"icon_plus_16x16",handler:this.speedSearch,tooltip:this.tooltip_speedSearch,scope:this},{id:"attendeeAddContact",icon:"./images/icons/Contact_Lookup_16x23.png",handler:this.lookupContacts,tooltip:this.tooltip_AddContact,scope:this},{id:"attendeeeAddLead",icon:"./images/icons/Lead_Lookup_16x23.png",handler:this.lookupLeads,tooltip:this.tooltip_AddLead,scope:this},{id:"attendeeDelete",imageClass:"icon_Delete_16x16",handler:this.deleteAttendees,tooltip:this.tooltip_Delete,scope:this}];var self1=this;var _23bd=function(data,_23be){array.forEach(data,function(item,i){if(item["IsPrimary"]){this.currentPrimaryEntityId=item["EntityId"];}if(item["TimeZone"]){item["TimeZone"]=self1._getTimeZoneDisplayName(item["TimeZone"]);}if(self1._grid&&self1._grid.mode!=="insert"&&self1._grid.store&&self1._grid.store.dirtyDataCache.isDirty){if(self1._grid.store.dirtyDataCache[item["$key"]]){item["RoleName"]=self1._grid.store.dirtyDataCache[item["$key"]]["RoleName"];item["IsPrimary"]=self1._grid.store.dirtyDataCache[item["$key"]]["IsPrimary"];item["IsAttendee"]=self1._grid.store.dirtyDataCache[item["$key"]]["IsAttendee"];}}});};var _23bf=function(_23c0,field,_23c1){return;};_239f("Sage.Extensions.Activity.primaryContactCheckBox1",dojox.grid.cells.Bool,{format:function(index,_23c2){var value=Sage.Utility.getValue(_23c2,"IsPrimary");var _23c3="<input type=\"checkbox\" disabled=\"disabled\" />";if(value){_23c3="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _23c3;}});_239f("Sage.Extensions.Activity.isAttendeeCheckBox1",dojox.grid.cells.Bool,{format:function(index,_23c4){var value=Sage.Utility.getValue(_23c4,"IsAttendee");var _23c5="<input type=\"checkbox\" disabled=\"disabled\" />";if(value){_23c5="<input type=\"checkbox\" checked=\"checked\" disabled=\"disabled\" />";}return _23c5;}});var _23c6={};var _23c7={};var _23c8={};if(_23bc){_23c6={field:"IsPrimary",name:this.header_Primary,width:"40px",type:Sage.Extensions.Activity.primaryContactCheckBox1};_23c7={field:"RoleName",name:this.header_RoleName};_23c8={field:"IsAttendee",name:this.header_Attendee,width:"70px",type:Sage.Extensions.Activity.isAttendeeCheckBox1};}else{_23c6={field:"IsPrimary",name:this.header_Primary,width:"40px",editable:true,radioType:"group",type:Sage.Extensions.UI.Columns.CheckBox,checkBoxClicked:this.primaryClicked};_23c7={field:"RoleName",name:this.header_RoleName,pickListName:"Attendee Role",width:"130px",type:Sage.Extensions.UI.Columns.PickListSelect,options:["Decison Maker","Gate Keeper","Other"],editable:true};_23c8={field:"IsAttendee",name:this.header_Attendee,width:"70px",editable:true,radioType:"group",type:dojox.grid.cells.Bool};}var _23c9=[{field:"Name",name:this.header_Name,width:"150px",editable:false},{field:"AccountName",name:this.header_AccountName,width:"150px",editable:false},{field:"EntityType",name:this.header_Type,width:"60px",editable:false},_23c6,_23c7,_23c8,{field:"PhoneNumber",name:this.header_Phone,width:"100px",editable:false},{field:"Email",name:this.header_Email,width:"150px",editable:false},{field:"TimeZone",name:this.header_TimeZone,width:"150px",editable:false}];var actid=_23a4.getCurrentActivityId();this._activityId=this._activityId||actid;var _23ca={columns:_23c9,tools:tools,storeOptions:{service:_23a0.getSDataService("dynamic"),resourceKind:"activityAttendees",select:["EntityType","EntityId","IsPrimary","Name","Description","Notes","AccountId","AccountName"],sort:[{attribute:"Name"}],onDataChange:_23bf,onComplete:_23bd},slxContext:{"workspace":"",tabId:""},contextualCondition:function(){var actId=self._activityId;if(actId&&actId.length>12){actId=actId.substr(0,12);}return "Activity.id eq '"+actId+"'";},id:this.id+"_attendees",rowsPerPage:40,singleClickEdit:false,enableCheckBoxSelection:false,selectionMode:"single"};if(_23bc){_23ca.readOnly=true;}if(this.editorMode.indexOf("New")==0||this.editorMode==="CompleteUnscheduled"){_23ca.storeOptions["isInsertMode"]=true;}var grid=new _23a5.Grid(_23ca,this._attendeesGridPlaceholder);grid.setSortColumn("Name");this._grid=grid._grid;var self=this;dojo.connect(this._grid,"onBlur",function(){if(self._grid.mode!="insert"&&self._grid.store.dirtyDataCache.isDirty){}});grid.startup();this._grid.markClean=function(){if(this.dirtyDataMsgID){var _23cb=dojo.byId(this.dirtyDataMsgID);if(_23cb){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}}var _23cc=Sage.Services.getService("ClientBindingManagerService");if(_23cc){_23cc.clearDirtyAjaxItem(this.id);}};this._grid.markDirty=function(){};dojo.connect(this._grid,"_onFetchComplete",function(){if(self._grid.mode!="insert"&&self._uncheckItem){}if(self._initialPrimaryContact&&self._gridStarted){self._addPrimaryContact();}});},_addMemberToAvailabilityTab:function(_23cd){var _23ce=[];_23ce.push(_23cd);this.actEditor.addMembers(_23ce);},disableGrid:function(){this._grid.readOnly=true;this._grid.refresh();},saveGridChanges:function(_23cf){if(this._grid.mode!=="insert"){this._grid.saveChanges(lang.hitch(this,_23cf));}else{_23cf();}},speedSearch:function(){var self=this;if(!this._speedSearchLookup){this._speedSearchLookup=new _23ab();}this._speedSearchLookup.showLookup();this._speedSearchLookup.doSelected=function(items){self._processLookupResults(items);self._speedSearchLookup.hide();};},lookupContacts:function(){this.lup_Contact.seedProperty="Account.Id",this.lup_Contact.seedValue=this.actEditor._activityData.AccountId;this.lup_Contact.query.conditions="";this.lup_Contact.buildSDataStoreQueryForSeeding();this.lup_Contact._originalQueryConditions=this.lup_Contact.query.conditions;this.lup_Contact.cancelText=this.lup_Contact.closeText;this.lup_Contact.overrideSeedValueOnSearch=true;this.lup_Contact.showLookup();var _23d0=dojo.connect(this.lup_Contact.lookupDialog,"onHide",this.lup_Contact,function(){dojo.disconnect(_23d0);if(this.seedValue){this.resetGrid();}});},lookupLeads:function(){this.lup_Lead.query.conditions="";this.lup_Lead.buildSDataStoreQueryForSeeding();this.lup_Lead._originalQueryConditions=this.lup_Lead.query.conditions;this.lup_Lead.cancelText=this.lup_Lead.closeText;this.lup_Lead.showLookup();},deleteAttendees:function(){var _23d1=this._grid.selection.getSelected();var self=this;this._grid.deleteSelected(function(){if(_23d1){for(var i=0;i<_23d1.length;i++){var _23d2=_23d1[i];if(_23d2.IsPrimary){_23d2["attendeeTab"]=true;_23d2["PrimaryChecked"]=false;dojo.publish("/entity/activityAttendee/primaryChanged",[_23d2,this]);}if(_23d1[i].EntityType=="Contact"){var _23d3=self._checkUserContactAssociation(_23d1[i].EntityId);if(_23d3){var args={"memberId":_23d3,"attendeesTab":true};self.actEditor._removeMember(args);}}if(i==_23d1.length-1){dojo.publish("/entity/activityAttendee/delete",[null,this]);}}}});},_attendeeExists:function(_23d4){var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId===_23d4){return true;}}return false;},resetPrimary:function(_23d5){var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId!==_23d5){item.IsPrimary=false;}}},unCheckPrimary:function(_23d6){if(this._grid.mode=="insert"){this.resetPrimary();}else{var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.IsPrimary){this._uncheckItem=item;}}}},resetRows:function(grid,_23d7,_23d8,_23d9){var count=grid.rowCount;for(var i=0;i<count;i++){var item=grid.getItem(i);if(item&&item.EntityId!==_23d9.EntityId){var _23da="chk_"+this.field+"_"+item.EntityId;dojo.byId(_23da).checked=false;grid.store.setValue(item,_23d8,false);}else{if(item&&item.EntityId===_23d9.EntityId){var _23da="chk_"+this.field+"_"+item.EntityId;grid.store.setValue(item,_23d8,true);}}}},resetEntityContext:function(){var _23db=this.parentRelationshipName;var _23dc=_23a3.getCurrentEntityId();if(_23db==="activityId"){_23dc=_23dc.substr(0,12);}var _23dd=function(){return (_23db||"'A'")+" eq '"+_23dc+"'";};this._previewGrid.resetContextualCondition(_23dd);this.refresh();},_processLookupResults:function(_23de){var _23df=[];var _23e0=[];for(var i=0;i<_23de.length;i++){if(!this._attendeeExists(_23de[i].$key)){_23df.push(this._setAttendeeEntity(_23de[i]));if(_23de[i].type=="Contact"){this._getSlxAssociation("Contact",_23de[i].$key,null,function(data){if(data&&data.length>0&&data[0].UserId){this._updateUserContactList(data[0].UserId,data[0].ContactId);this._getResourceData(_23a3.getClientContextByKey("userID"),data[0].UserId,this._addMemberToAvailabilityTab,this);}},this);}}}if(_23df.length>0){this._addAttendeesToStore(_23df);}},_processContactLookupResults:function(_23e1){var _23e2=[];for(var i=0;i<_23e1.length;i++){if(!this._attendeeExists(_23e1[i].$key)){_23e1[i].EntityType="Contact";var _23e3=this._setAttendeeEntityFromContactLead("Contact",_23e1[i]);_23e3["IsAttendee"]=true;_23e2.push(_23e3);_23e1[i].New=true;}}if(_23e2.length>0){this._addAttendeesToStore(_23e2);}for(var i=0;i<_23e1.length;i++){if(_23e1[i].New&&_23e1[i].ContactUser&&_23e1[i].ContactUser.$resources&&_23e1[i].ContactUser.$resources.length>0){this._updateUserContactList(_23e1[i].ContactUser.$resources[0].UserId,_23e1[i].$key);this._getResourceData(_23a3.getClientContextByKey("userID"),_23e1[i].ContactUser.$resources[0].UserId,this._addMemberToAvailabilityTab,this);}}},_processLeadLookupResults:function(_23e4){var _23e5=[];for(var i=0;i<_23e4.length;i++){if(!this._attendeeExists(_23e4[i].$key)){_23e4[i].EntityType="Lead";var _23e6=this._setAttendeeEntityFromContactLead("Lead",_23e4[i]);_23e6["IsAttendee"]=true;_23e5.push(_23e6);}}if(_23e5.length>0){this._addAttendeesToStore(_23e5);}},getFieldValue:function(_23e7,name){for(var i=0;i<_23e7.length;i++){var field=_23e7[i];if(field.fieldName==name){return field.fieldValue;}}return "";},_setAttendeeEntity:function(_23e8){var _23e9={};_23e9.EntityType=_23e8.type;_23e9.EntityId=_23e8.$key;_23e9.IsPrimary=false;_23e9.Name=_23e8.$descriptor;_23e9.AccountName=this.getFieldValue(_23e8.fields,"account");_23e9.Email=this.getFieldValue(_23e8.fields,"email");_23e9.Description="";_23e9.Notes="";_23e9.TimeZone="";_23e9.PhoneNumber=this.getFieldValue(_23e8.fields,"phone");_23e9.RoleName="";_23e9.general=false;_23e9.IsAttendee=true;return _23e9;},_setAttendeeEntityFromContactLead:function(type,_23ea){var _23eb=false;if(_23ea&&_23ea.$key){_23eb={};_23eb.EntityType=type;_23eb.EntityId=_23ea.$key;_23eb.$key=_23ea.$key;_23eb.IsPrimary=false;_23eb.Name=_23ea.$descriptor;_23eb.$descriptor=_23ea.$descriptor;_23eb.Account=_23ea.Account;_23eb.AccountName=_23ea.AccountName||_23ea.Company;if(type=="Lead"){_23eb.Company=_23ea.Company;_23eb.LeadFullName=_23ea.$descriptor;}_23eb.Company=_23ea.Company;_23eb.Email=_23ea.Email;_23eb.Description="";_23eb.Notes="";if(_23ea.Address){_23eb.TimeZone=_23ea.Address.TimeZone;if(_23eb.TimeZone){_23eb.TimeZone=this._getTimeZoneDisplayName(_23eb.TimeZone);}}_23eb.PhoneNumber=_23ea.WorkPhone;_23eb.RoleName="";_23eb.general=false;}return _23eb;},_getResourceData:function(_23ec,_23ed,_23ee,scope){this.accessData=false;if(!this._accessStore){this._accessStore=new _23a1({include:["$descriptors"],resourceKind:"activityresourceviews",service:_23a0.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_23ed+"-"+_23ec+"'",onComplete:function(_23ef){_23ee.call(scope,_23ef);},onError:function(){_23ee.call(scope,null);},scope:this});},_getSlxAssociation:function(type,_23f0,_23f1,_23f2,scope){this.accessData=false;if(!this._associationStore){this._associationStore=new _23a2({include:["$descriptors"],resourceKind:"contactusers",select:["UserId","ContactId","Contact/Name","Contact/Email","Contact/WorkPhone","Contact/AccountName","User/Name"],service:_23a0.getSDataService("dynamic")});}var _23f3="";if(type=="Contact"){_23f3=_23a9.substitute("ContactId eq '${0}' ",[_23f0]);}else{if(type=="User"){_23f3=_23a9.substitute("UserId eq '${0}' ",[_23f0]);}}this._associationStore.fetch({query:_23f3,onComplete:function(_23f4){_23f2.call(scope,_23f4,_23f1);},onError:function(){_23f2.call(scope,null);},scope:this});},_updateUserContactList:function(_23f5,_23f6){if(!this.userContactList[_23f5]){this.userContactList[_23f5]={"UserId":_23f5,"ContactId":_23f6};}},_checkUserContactAssociation:function(_23f7){var _23f8=false;if(this.userContactList){for(var i in this.userContactList){if(this.userContactList[i]["ContactId"]==_23f7){_23f8=this.userContactList[i]["UserId"];break;}}}return _23f8;},_addContactAttendees:function(_23f9){var _23fa=[];var len=_23f9.length;var self=this;for(var i=0;i<len;i++){_23fa.push(this._getAssociationData(_23f9[i]));}var _23fb=new _23a8(_23fa);_23fb.then(function(_23fc){for(var j=0;j<_23fc.length;j++){if(_23fc[j][1]){self.userContactAttendees.push(_23fc[j][1]);}}self._addAttendeesToStore(self.userContactAttendees);self.userContactAttendees=[];});},_getAssociationData:function(_23fd){var d=new _23aa();var _23fe={"last":false};this._getSlxAssociation("User",_23fd,_23fe,function(data,scope){if(data&&data.length>0){var _23ff=null;if(data[0].Contact){this._updateUserContactList(data[0].UserId,data[0].ContactId);_23ff=this._setAttendeeEntityFromContactLead("Contact",data[0].Contact);}d.resolve(_23ff);}},this);return d;},_addPrimaryContact:function(_2400){if(this._initialPrimaryContact){if(!this._attendeeExists(this._initialPrimaryContact["$key"])){this._addContactAttendee(this._initialPrimaryContact);}}this._initialPrimaryContact=false;},_addContactAttendee:function(_2401){var _2402=[];var _2403=null;if(_2401){this.resetPrimary(_2401["$key"]);if(this._grid.mode!=="insert"){}if(_2401.Account){_2401.AccountName=_2401.Account.AccountName;_2403=this._setAttendeeEntityFromContactLead("Contact",_2401);_2403.IsPrimary=true;_2403.general=true;_2402.push(_2403);this._addAttendeesToStore(_2402,true);}else{_23a4._getContactData(_2401.$key,function(data){if(data){_2403=this._setAttendeeEntityFromContactLead("Contact",data);_2403.IsPrimary=true;_2403.general=true;_2402.push(_2403);this._addAttendeesToStore(_2402,true);}},this);}}},_addLeadAttendee:function(lead){var _2404=[];var _2405=null;if(lead){this.resetPrimary(lead["$key"]);if(!lead.Email&&!lead.WorkPhone){this._removeLeadAttendee();_23a4._getLeadData(lead.$key,function(data){if(data){_2405=this._setAttendeeEntityFromContactLead("Lead",data);_2405.general=true;_2405.IsPrimary=true;_2404.push(_2405);this._addAttendeesToStore(_2404,true);}},this);}else{_2405=this._setAttendeeEntityFromContactLead("Lead",lead);_2405.general=true;_2405.IsPrimary=true;_2404.push(_2405);this._addAttendeesToStore(_2404,true);}}},_removeAssociatedContact:function(_2406){if(this.userContactList[_2406]){var self=this;var _2407=this.userContactList[_2406]["ContactId"];var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId===_2407){self._grid.store.deleteItem(item);if(item.IsPrimary){item["attendeeTab"]=true;item["PrimaryChecked"]=false;dojo.publish("/entity/activityAttendee/primaryChanged",[item,this]);}break;}}}},checkStoreItem:function(_2408){var self=this;var _2409=new _23aa();this._grid.store.fetch({onComplete:function(items){var _240a=false;dojo.forEach(items,function(item,index){if(item&&item.EntityId==_2408){_240a=true;}});_2409.resolve(_240a);}});return _2409;},_removeContactAttendee:function(){var self=this;this._grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(item&&item.general&&item.EntityType=="Contact"){self._grid.store.deleteItem(item);}});}});},_removeLeadAttendee:function(){var self=this;this._grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(item&&item.general&&item.EntityType=="Lead"){self._grid.store.deleteItem(item);}});}});},_addLeadAttendees:function(_240b){var grid=this._grid;var _240c=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var fnAdd=function(){var _240d=new Sage.SData.Client.SDataServiceOperationRequest(_240c).setResourceKind("activities").setOperationName("AddLeadAttendees");var actId=_23a3.getCurrentEntityId();var entry={"$name":"AddLeadAttendees","request":{"ActivityId":actId,"leadIds":_240b.join()}};_240d.execute(entry,{success:function(_240e){grid.refresh();},failure:function(_240f){Sage.UI.Dialogs.showError(dojo.string.substitute("Error adding lead attendees",[_240f]));grid.refresh();}});};if(_240b.length>0){grid.showLoading();fnAdd();}},_getNewContactAttendees:function(){return this._newItems;},setInitialPrimaryContact:function(_2410){this._initialPrimaryContact=_2410;},refreshGrid:function(){this._grid.saveChanges();this._grid.refresh();},_addAttendeesToStore:function(_2411,_2412){var actid=_23a3.getCurrentEntityId();var _2413=false;var self=this;if(this._grid.mode==="insert"||!actid){var _2414=[];for(var i=0;i<_2411.length;i++){var _2415=_2411[i];if(!this._attendeeExists(_2415.EntityId)){this._newItems.push(_2415);_2414.push(_2415);}}this._grid.store.addItemsToCache(this,_2414);}else{var _2416=[];for(var i=0;i<_2411.length;i++){var _2415=_2411[i];_2415["Account"]=null;if(!this._attendeeExists(_2415.EntityId)){this._newItems.push(_2415);_2415.Activity={"$key":actid};_2416.push(this._saveGridActivityAttendee(_2415));}}var d1=new _23a8(_2416);d1.then(function(_2417){dojo.publish("/entity/activityAttendee/add",[_2417.length,this]);if(_2412&&_2411&&_2411.length>0){}});}this._grid.refresh();},_saveGridActivityAttendee:function(_2418){var d=new _23aa();this._grid.store.saveNewEntity(_2418,function(){d.resolve("success");},function(){d.resolve("success");},this);return d;},_addAdhocAttendee:function(){this._grid.store.newItem({onComplete:function(_2419){var actid=_23a3.getCurrentEntityId();if(!actid){actid=this.actEditor._makeTempID();}_2419.Activity={"$key":actid};this._newItems.push(association);if(this._grid.mode==="insert"){this._grid.store.addToCache(this,_2419,1);}else{this._grid.store.saveNewEntity(_2419);}this._grid.refresh();},scope:this});},_activitySaved:function(_241a){var _241b=new _23aa();if(this._grid.mode==="insert"){var actid=_241a["$key"];var count=0;var _241c=[];var _241d=null;for(var i=0;i<this._newItems.length;i++){count=i;var itm=this._newItems[i];itm["Account"]=null;itm["Activity"]={"$key":actid};if(!itm["IsPrimary"]){_241c.push(this._saveActivityAttendee(itm));}else{_241d=itm;}}this._newItems=[];var d1=new _23a8(_241c);d1.then(function(_241e){_241b.resolve({success:true});});if(_241d){this._updatePrimaryAttendee(_241d,actid);}}else{this._grid.saveChanges();_241b.resolve({success:true});this._newItems=[];this._uncheckItem=null;}return _241b;},_updatePrimaryAttendee:function(_241f,_2420){var _2421=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _2422=new Sage.SData.Client.SDataServiceOperationRequest(_2421).setResourceKind("activities").setOperationName("UpdatePrimaryActivityAttendee");var entry={"$name":"UpdatePrimaryActivityAttendee","request":{"ActivityId":_2420,"entityId":_241f.EntityId,"isAttendee":_241f.IsAttendee,"roleName":_241f.RoleName}};_2422.execute(entry,{success:function(_2423){},failure:function(ex){},scope:this});},_historySaved:function(_2424){var _2425=new _23aa();if(this._grid.mode==="insert"){var _2426=_2424["$key"];var count=0;var _2427=[];var _2428="";for(var i=0;i<this._newItems.length;i++){count=i;var itm=this._newItems[i];itm["Account"]=null;itm["History"]={"$key":_2426};if(_2428!==itm["EntityId"]){_2427.push(this._saveHistoryAttendee(itm));_2428=itm["EntityId"];}}this._newItems=[];var d1=new _23a8(_2427);d1.then(function(_2429){_2425.resolve({success:true});});}return _2425;},_saveActivityAttendee:function(itm){var d=new _23aa();var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_23a0.getSDataService("dynamic")).setResourceKind("activityAttendees").create(itm,{success:function(){d.resolve("success");},failure:function(){},scope:this});return d;},_saveHistoryAttendee:function(itm){var d=new _23aa();var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_23a0.getSDataService("dynamic")).setResourceKind("historyAttendees").create(itm,{success:function(){d.resolve("success");},failure:function(){},scope:this});return d;},_dialogHide:function(){this._newItems=[];this._grid.store.clearCache();this._grid._clearData();this._grid.markClean();this._uncheckItem=null;this._gridStarted=false;},destroy:function(){this.lup_Contact.destroy();this.lup_Lead.destroy();this._gridStarted=false;this.inherited(arguments);},_tabShow:function(){if(this._grid){var _242a=this._grid.get("mode");if(this.editorMode.indexOf("New")==0||!this._activityId){this._grid.set("mode","insert");}else{this._grid.set("mode","");}this._grid.refresh();if(this.lup_Contact){this.lup_Contact.resetGrid();this.lup_Contact.destroy();}if(this.lup_Lead){this.lup_Lead.resetGrid();this.lup_Lead.destroy();}this.createLookups();this._gridStarted=true;}},createLookups:function(){var srvc=Sage.Services.getService("LookupService");if(srvc){var self=this;var _242b=srvc.getLookupInstance("Contact","activityContactAttendee");if(_242b){this.lup_Contact=_242b;this.lup_Contact.doSelected=function(items){self._processContactLookupResults(items);this.lookupDialog.hide();};}var _242c=srvc.getLookupInstance("Lead","activityLeadAttendee");if(_242c){this.lup_Lead=_242c;_242c.doSelected=function(items){self._processLeadLookupResults(items);this.lookupDialog.hide();};}}},setToReadOnly:function(_242d){var _242e=["attendeeSpeedSearch","attendeeAddContact","attendeeeAddLead","attendeeDelete"];this._bulkSetProperty(this,_242e,"disabled",_242d);},_bulkSetProperty:function(ui,_242f,prop,val){for(var i=0;i<_242f.length;i++){var ctrl=dijit.byId(_242f[i]);if(ctrl){ctrl.set(prop,val);}}}});return _23b2;});},"Sage/UI/Controls/LogOffButton":function(){define("Sage/UI/Controls/LogOffButton",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/MenuBarItem","dojo/i18n!./nls/LogOffButton","dojo/_base/declare"],function(_2430,_2431,_2432,_2433,_2434){var _2435=_2434("Sage.UI.Controls.LogOffButton",_2430,{postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.addChild(new _2432({label:_2433.logOffText,iconStyle:"width: 16px",icon:"images/icons/login_16.png",imageClass:"icon_login_16",title:_2433.logOffText,id:"btnLogOff",onClick:function(){try{window.location.href="Shutdown.axd";}catch(e){}}}));}});return _2435;});},"url:Sage/MainView/ReportMgr/Crystal/templates/NumberParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divSingleValue\" style=\"padding-top: 5px;\">\r\n            <select data-dojo-type=\"dijit.form.Select\" dojoattachpoint=\"cmbValues\" style=\"width: 150px\">\r\n            </select>                    \r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px;\">\r\n            <input type=\"text\" dojoType=\"Sage.UI.Controls.Numeric\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" />            \r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>","url:Sage/MainView/IntegrationContract/templates/CustomerPaymentsRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_customerPaymentsDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<table cellspacing=\"5\">',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_reference\">{%= $.lblReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_date\">{%= $.lblDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_date\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_processDate\">{%= $.lblProcessDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_processDate\" name=\"processDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_name\">{%= $.lblNameCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_name\" name=\"name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_type\">{%= $.lblTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_status\">{%= $.lblStatusCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_currency\">{%= $.lblCurrencyCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderType\">{%= $.lblTenderTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderType\" name=\"tenderType\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderReference\">{%= $.lblTenderReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderReference\" name=\"tenderReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_discountTotal\">{%= $.lblDiscountsCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_discountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_netTotal\">{%= $.lblNetTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_netTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxTotal\">{%= $.lblTaxesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_chargesTotal\">{%= $.lblChargesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_chargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxCode\">{%= $.lblTaxCodeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxCode\" name=\"taxCode\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_source\">{%= $.lblSourceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_source\" name=\"source\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n        '</table>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_paymentBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\n    '</div>',\n'</div>'\n]","Sage/MainView/ActivityMgr/nls/HistoryEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/nls/HistoryEditorAttendeesTab",["Sage/LanguageList","dojo/_base/lang"],function(_2436,lang){var nls={root:{header_Name:"Name",header_AccountName:"Account/Company",header_Type:"Type",header_Primary:"Primary",header_RoleName:"Role",header_Phone:"Phone",header_Email:"Email",header_TimeZone:"Time Zone",header_Notes:"Notes",header_Status:"Status"}};return lang.mixin(_2436,nls);});},"Sage/Utility/nls/Email":function(){define("Sage/Utility/nls/Email",["Sage/LanguageList","dojo/_base/lang"],function(_2437,lang){var nls={root:{RecipientInfoError:"There was an unexpected error attempting to read the recipient information: ${0}",MailToProtocolError:"There was an error attempting to generate an e-mail message using the mailto: protocol (href.length=${0}). The number of e-mail recipients may need to be reduced. Browser error: ${1}.",InvalidContextError:"The e-mail request cannot be processed. This operation is only supported for Contacts or Leads.",InvalidArgumentError:"The e-mail request cannot be processed. Invalid argument.",FilteredOutMsg:"Filtered out: Non-solicitable: ${0}; Invalid: ${1}; Dupes: ${2}",AllInvalidEmailError:"The collection does not include one entity with a valid and/or solicitable e-mail address.",EmailFieldQueried:"The e-mail field queried was: ${0}.",EntityInfoError:"The was a failure attempting to retrieve the entity information.",CapabilityModeError:"The capability to write an e-mail to a group selection is only available in list views.",CapabilityEntityError:"The capability to write an e-mail to a group selection is only available for Contacts or Leads.",NoRowsSelectedError:"There are no rows selected."}};return lang.mixin(_2437,nls);});},"Sage/MainView/ActivityMgr/LitRequestListPanelConfig":function(){define("Sage/MainView/ActivityMgr/LitRequestListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/LitRequestListPanelConfig"],function(_2438,_2439,_243a,_243b,_243c,_243d,_243e,_243f){var _2440=_243e("Sage.MainView.ActivityMgr.LitRequestListPanelConfig",[_2438],{constructor:function(){this._nlsResources=_243f;this._listId="literature";this._resourceKind="litRequests";this.entityName="LitRequest";this._contextMenu="LitRequestListContextMenu";this._securedAction="ActivitiesViewLitratureRequests";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/litRequest/change",this._onListRefresh);},_onListRefresh:function(event){var _2441=Sage.Services.getService("ActivityService");_2441.refreshList("literature");},_getSelect:function(){var _2442=["$key","ContactName","Contact/$key","Description","FillDate","FillStatus","Options","Priority","RequestDate","SendDate","SendVia","TotalCost","FillUser/UserInfo/UserName","RequestUser/UserInfo/UserName","Contact/AccountName","Contact/Address/PostalCode","Contact/Account/AccountId","ReqestUser/$key"];return _2442;},_getSort:function(){var sort=[{attribute:"RequestDate",descending:true}];return sort;},_getWhere:function(){var _2443=this._nlsResources.litFillStatusComplete||"Completed";var where=(this._currentUserId)?dojo.string.substitute("(RequestUser.Id eq \"${0}\") and (FillStatus ne \"${1}\"  or FillStatus eq null )",[this._currentUserId,_2443]):"";return where;},_getStructure:function(){var _2444=this._nlsResources.colNameView||"View";var _2445=this._nlsResources.colNameContact||"Contact";var _2446=this._nlsResources.colNameDescription||"Description";var _2447=this._nlsResources.colNameFillStatus||"Status";var _2448=this._nlsResources.colNamePriority||"Priority";var _2449=this._nlsResources.colNameReqestDate||"Request Date";var _244a=this._nlsResources.colNameSendDate||"Send Date";var _244b=this._nlsResources.colNameSendVia||"Send Via";var _244c=this._nlsResources.colNameTotalCost||"Total Cost";var _244d=this._nlsResources.colNameReqestUser||"Request User";var _244e=this._nlsResources.colNameAccount||"Account";var _244f=this._nlsResources.colNamePostalCode||"Postal Code";_243e("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitViewCell",dojox.grid.cells.Cell,{format:function(_2450,_2451){var key=_2439.getValue(_2451,"$key");var html="<a href=\"LitRequest.aspx?entityid="+key+"&modeid=Detail\" >"+_2444+"</a>";return html;}});_243e("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitContactCell",dojox.grid.cells.Cell,{format:function(_2452,_2453){var _2454=Sage.Utility.getValue(_2453,"Contact.$key");var _2455=Sage.Utility.getValue(_2453,"ContactName");var html="<a href=\"Contact.aspx?entityid="+_2454+"&modeid=Detail\" >"+_2455+"</a>";return html;}});_243e("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitAccountCell",dojox.grid.cells.Cell,{format:function(_2456,_2457){var _2458=Sage.Utility.getValue(_2457,"Contact.Account.$key");var _2459=Sage.Utility.getValue(_2457,"Contact.AccountName");var html="<a href=\"Account.aspx?entityid="+_2458+"&modeid=Detail\" >"+_2459+"</a>";return html;}});var _245a=[{field:"$key",name:" ",type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitViewCell,width:"60px"},{field:"RequestDate",name:_2449,type:_243d,dateOnly:true,width:"90px"},{field:"Priority",name:_2448,width:"60px"},{field:"Description",name:_2446,width:"200px"},{field:"ContactName",name:_2445,type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitContactCell,width:"200px"},{field:"Contact.AccountName",name:_244e,type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitAccountCell,width:"200px"},{field:"SendDate",name:_244a,type:_243d,dateOnly:true,width:"90px"},{field:"SendVia",name:_244b,width:"60px"},{field:"TotalCost",name:_244c,width:"60px"},{field:"FillStatus",name:_2447,width:"60px"},{field:"RequestUser.UserInfo.UserName",name:_244d,width:"90px"},{field:"Contact.Address.PostalCode",name:_244f,width:"60px"}];return _245a;},_getDetailConfig:function(){var _245b={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"LitRequestSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/LitRequestSummary.html",postProcessCallBack:false};return _245b;},_getFormatterScope:function(){var _245c=new _243b({requestConfiguration:{mashupName:"ActivityManager",queryName:"LitRequestSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/LitRequestSummary.html"});return _245c;},_getToolBars:function(){var _245d={items:[]};return _245d;}});return _2440;});},"Sage/Services/_ServiceMixin":function(){define("Sage/Services/_ServiceMixin",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_245e,_245f){var _2460=_245f("Sage.Services._ServiceMixin",null,{serviceMap:null,constructor:function(){var map=this.serviceMap;if(map){for(var _2461 in map){if(this[_2461]){continue;}this[_2461]=this._resolveService(map[_2461]);}}},_resolveService:function(_2462){if(_2462&&_2462.type==="sdata"){return _245e.getSDataService(_2462.name);}return Sage.Services.getService(_2462);}});return _2460;});},"Sage/Utility/File/DefaultDropHandler":function(){define("Sage/Utility/File/DefaultDropHandler",["Sage/Utility/File/DragDropWatcher","Sage/Utility/File/Attachment","Sage/Utility/File/LibraryDocument","Sage/UI/Dialogs","dojo/string","Sage/Utility","Sage/Utility/EntityRelationships","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","dijit/_Widget","Sage/Services/ActivityService","dojo/i18n","dojo/i18n!./nls/DefaultDropHandler","dojo/_base/declare"],function(_2463,_2464,_2465,_2466,_2467,_2468,_2469,dLang,_246a,_246b,_246c,_246d,i18n,_246e,_246f){var _2470=_246f("Sage.Utility.File.EmailFileHandler",null,{file:null,histRelIdProperty:"",histRelNameProperty:"",histRelId:"",histRelName:"",extendRelationships:null,entityContext:null,fileMetaData:null,newHistory:null,saveAsMsg:false,doNotPromptHistory:false,saveAttachments:false,emailDroppedText:"Dropped Email",attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities.",constructor:function(opts){dLang.mixin(this,opts);},handleFile:function(){if(!this.file){return;}_2469.getRelationships(this.entityContext,function(_2471){var store=new _246a({resourceKind:"history",service:_246b.getSDataService("dynamic")});store.newItem({onComplete:function(_2472){var hist={};hist[this.histRelIdProperty]=this.histRelId;hist[this.histRelNameProperty]=this.histRelName;hist["Type"]="atEmail";hist["Duration"]=1;hist["Timeless"]=false;hist["Category"]=this.emailDroppedText;var d=(this.fileMetaData.sentOn)?this.fileMetaData.sentOn:this.fileMetaData.receivedTime;if(!d){d=new Date();}var _2473=_2468.Convert.toIsoStringFromDate(d);hist["StartDate"]=_2473;hist["CompletedDate"]=_2473;hist["OriginalDate"]=_2473;if(this.fileMetaData["subject"]){hist["Description"]=this.fileMetaData.subject.substring(0,64);}if(this.fileMetaData["body"]){hist["LongNotes"]=this.fileMetaData.body;}if(this.fileMetaData["senderName"]){hist["UserDef2"]=this.fileMetaData.senderName;}_2472=dLang.mixin(_2472,hist);if(_2471){_2472=dLang.mixin(_2472,_2471);}store.saveNewEntity(_2472,this._historySaved,this._historyFailed,this,false);},scope:this});},this);},_getAttachmentMixin:function(_2474,_2475){var mixin={};for(var p in _2475){mixin[p]=_2475[p];}mixin["description"]=_2474.filename;return mixin;},_historySaved:function(hist){this.newHistory=hist;var mixin={};mixin["HistoryId"]=hist["$key"];mixin["historyId"]=hist["$key"];for(var p in hist){var _2476=p.substring(p.length-2);if(_2476.toUpperCase()==="ID"&&hist[p]){mixin[p]=hist[p];}}if(this.saveAsMsg){this.file.name=hist["$key"]+".msg";this.file.filename=hist["$key"]+".msg";var _2477=this._getAttachmentMixin(this.file,mixin);_2477.description=hist["Description"];_2464.createAttachmentSilent(this.file,_2477);}if(this.fileMetaData.attachments.length>0){if(this.saveAttachments){for(var i=0;i<this.fileMetaData.attachments.length;i++){var _2478=this.fileMetaData.attachments[i];var _2479=this._getAttachmentMixin(_2478,mixin);if((!_2478.name)&&(_2478.filename)){_2478["name"]=_2478.filename;}_2464.createAttachmentSilent(_2478,_2479);}}}this.onHistorySaved(hist["$key"]);},_historyFailed:function(req){},onHistoryFailed:function(){},onHistorySaved:function(_247a){}});Sage.namespace("Utility.File.DefaultDropHandler");Sage.Utility.File.DefaultDropHandler={attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities.",emailDroppedText:"Dropped Email",promptForAttachments:true,saveAttachments:false,hasAttachments:false,options:{},historyQueue:[],historyHandlers:[],fileType:Sage.Utility.File.fileType.ftAttachment,init:function(_247b){dojo.connect(_2463,"onFilesDropped",this,"onFilesDropped");Sage.Utility.File.DefaultDropHandler.options["SAVEMSGFILES"]=_247b.saveMSGFiles;var _247c=Sage.Services.getService("UserOptions");if(_247c){_247c.get("DoNotPromptHistory","Email",function(opt){Sage.Utility.File.DefaultDropHandler.options["DoNotPromptHistory"]=(opt["value"]==="T");});}},onFilesDropped:function(files,_247d){if(this.shouldForceAttachments(_247d)){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_2464.createAttachments(files);}else{_2465.createDocuments(files,_247d);}return;}var _247e=[];var _247f=[];for(var i=0;i<files.length;i++){var file=files[i];if(this.isOutlookEmailFile(file)){_247e.push(file);}else{_247f.push(file);}}if(_247e.length>0){this.handleEmailFiles(_247e,_247d);}if(_247f.length>0){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_2464.createAttachments(_247f);}else{_2465.createDocuments(files,_247d);}}},shouldForceAttachments:function(_2480){var _2481=false;if(!Sage.gears){return true;}if(_2480){_2481=Sage.Utility.File.DefaultDropHandler.isTargetAttachmentTab(_2480.parentElement);}if(_2481){return true;}else{return false;}},isOutlookEmailFile:function(file){var re=/\.(\w+)$/;var _2482=file.name.match(re);if(_2482.length>1){return _2482[1].toLowerCase()==="msg";}return false;},isTargetAttachmentTab:function(_2483){if(!_2483){return false;}if(_2483.id.indexOf("tabContent.dijitContentPane")!=-1){return false;}if(_2483.id.indexOf("AttachmentList")!=-1){return true;}return Sage.Utility.File.DefaultDropHandler.isTargetAttachmentTab(_2483.parentElement);},handleEmailFiles:function(files,_2484){if(!Sage.gears||(this.fileType===Sage.Utility.File.fileType.ftLibraryDocs)){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_2464.createAttachments(files);}else{_2465.createDocuments(files,_2484);}return;}if(files.length<1){return;}this.hasAttachments=false;this._buildEmailQueue(files);if(this.hasAttachments){var self=this;var _2485={title:this.attachmentTitleText,query:this.attachmentQuestionText,callbackFn:function(_2486){if(_2486){self.saveAttachments=true;}else{self.saveAttachments=false;}self._processNextHistoryHandler();},yesText:null,noText:null,showNoButton:true};_2466.raiseQueryDialogExt(_2485);}else{this.saveAttachments=false;this._processNextHistoryHandler();}},_buildEmailQueue:function(files){var _2487=this.getEntityInfo();var table=_2487.EntityTableName.toUpperCase().substring(0,1)+_2487.EntityTableName.toLowerCase().substring(1);var _2488=Sage.gears.factory.create("beta.desktop");this.historyHandlers=[];this.historyQueue=[];for(var i=0;i<files.length;i++){var blob=null;if(files[i].blob){blob=files[i].blob;}else{blob=files[i];}var md=_2488.extractMetaData(blob);if(md.attachments.length>0){this.hasAttachments=true;}this.historyHandlers.push(new _2470({file:files[i],histRelIdProperty:table+"Id",histRelNameProperty:table+"Name",histRelId:_2487.EntityId,histRelName:_2487.Description,entityContext:_2487,emailDroppedText:Sage.Utility.File.DefaultDropHandler.emailDroppedText,fileMetaData:md,saveAttachments:false,saveAsMsg:Sage.Utility.File.DefaultDropHandler.options.SAVEMSGFILES,doNotPromptHistory:Sage.Utility.File.DefaultDropHandler.options.DoNotPromptHistory,onHistorySaved:dojo.hitch(this,"_onHistoryHandlerSuccsess"),onHistoryFailed:dojo.hitch(this,"_onHistoryHandlerFailed")}));}},_processNextHistoryHandler:function(){if(this.historyHandlers.length>0){var _2489=this.historyHandlers.pop();if(_2489){_2489.saveAttachments=this.saveAttachments;_2489.handleFile();}}else{this.saveAttachments=false;this._hasAttachmnets=false;this._checkContinueToComplete();}},_onHistoryHandlerSuccsess:function(_248a){this.historyQueue.push(_248a);this._processNextHistoryHandler();},_onHistoryHandlerFailed:function(){this._processNextHistoryHandler();},_checkContinueToComplete:function(){if(!this.options.DoNotPromptHistory){this._showCompleteDlg();}else{dojo.publish("/entity/history/change",null);this.historyQueue=[];}},_showCompleteDlg:function(){var _248b=Sage.Services.getService("ActivityService");_248b.completeHistoriesInList(this.historyQueue);},getEntityInfo:function(){if(Sage.Services.hasService("ClientEntityContext")){var _248c=Sage.Services.getService("ClientEntityContext");var _248d=_248c.getContext();if(_248d.EntityId!==""){return _248d;}else{return null;}}}};Sage.Utility.File.DefaultDropHandler=dojo.mixin(Sage.Utility.File.DefaultDropHandler,i18n.getLocalization("Sage.Utility.File","DefaultDropHandler"));return Sage.Utility.File.DefaultDropHandler;});},"Sage/TaskPane/nls/SecurityManagerTasksTasklet":function(){define("Sage/TaskPane/nls/SecurityManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_248e,lang){var nls={root:{addSecurityProfileTitle:"Add Profile",editSecurityProfileTitle:"Edit Profile"}};return lang.mixin(_248e,nls);});},"Sage/MainView/ReportMgr/Crystal/MultiselectNumberParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectNumberParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint=\"divMultipleValues\" style=\"padding-top: 5px;\">\r\n            <center>\r\n                <table cellspacing=\"10\">\r\n                    <tr>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msAvailableValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAdd\" dojoAttachEvent=\"onClick:_cmdAdd_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdRemove\" dojoAttachEvent=\"onClick:_cmdRemove_OnClick\" >{%= Sage.Utility.htmlEncode(\"<\") %}</div>\r\n                        </td>\r\n                        <td align=\"left\">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint=\"msSelectedValues\" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px; padding-left: 10px\">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <div style=\"float:left\"><input type=\"text\" dojoType=\"Sage.UI.Controls.Numeric\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" /></div>\r\n            &nbsp;<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdAddCustom\" dojoAttachEvent=\"onClick:_cmdAddCustom_OnClick\" >{%= Sage.Utility.htmlEncode(\">\") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/MultiselectNumberParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/number","dojo/i18n!./nls/MultiselectNumberParameterEditor","dojo/text!./templates/MultiselectNumberParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dijit/form/MultiSelect","Sage/UI/Controls/Numeric","Sage/Utility"],function(_248f,_2490,_2491,_2492,_2493,_2494,_2495,_2496,_2497,_2498){var _2499=_2498.makeTemplateFromString(_2493);var _249a=_248f("Sage.MainView.ReportMgr.Crystal.MultiselectNumberParameterEditor",[_2494],{_nlsResources:_2492,widgetTemplate:_2499,_minimum:null,_maximum:null,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var self=this;var value=null;this._promptParameter.currentValues=[];_2490.forEach(this.msSelectedValuesWidget.domNode,function(_249b,i){var _249c=_249b.value;if(!isNaN(_249c)&&_249c!==""){value=self._getOriginalParameterValue(_249c);self._promptParameter.currentValues.push(value);}else{var _249d=_249b.innerHTML;value=self._getParameterValue(_249d);self._promptParameter.currentValues.push(value);}});return this._promptParameter;},constructor:function(_249e){},startup:function(){this.inherited(arguments);_2495.setDomNodeVisible(this.divValidationMessage,false);_2495.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);this._initializeValuesMultiselect();this._initializeMessages();},isValid:function(){var msg="";var valid=true;if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.msSelectedValuesWidget.domNode.length===0){msg=_2492.txtPleaseSpecifyValue;valid=false;}}this._showValidationMessage(msg);return valid;},_cmdAddCustom_OnClick:function(){var _249f=this.txtCustomValue.focusNode.textbox.value;if(_249f&&_249f!==""){var _24a0=_2491.parse(_249f);if(this._valueWithinMinMaxRange(_24a0)){var _24a1=dojo.doc.createElement("option");_24a1.innerHTML=_24a0;_24a1.value="";this.msSelectedValuesWidget.containerNode.appendChild(_24a1);this._showValidationMessage("");}else{this._showValidationMessage(this._getMinMaxValidationMessage(_24a0));}}else{this._showValidationMessage(_2492.txtPleaseSpecifyValue);}},_cmdAdd_OnClick:function(){this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);},_cmdRemove_OnClick:function(){_2490.forEach(this.msSelectedValuesWidget.domNode,function(_24a2,i){if(_24a2.selected&&(isNaN(_24a2.value)||_24a2.value==="")){dojo.destroy(_24a2);}});this.msAvailableValuesWidget.addSelected(this.msSelectedValuesWidget);},_initializeMessages:function(){var _24a3=null;if(this._minimum&&!this._maximum){_24a3=dojo.replace(_2492.txtPleaseSpecifyNumberGreater,[this._minimum]);}if(!this._minimum&&this._maximum){_24a3=dojo.replace(_2492.txtPleaseSpecifyNumberLesser,[this._maximum]);}if(this._minimum&&this._maximum){_24a3=dojo.replace(_2492.txtPleaseSpecifyNumberBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_24a3);_2495.setDomNodeVisible(this.divMinMaxMessage,(_24a3!==null));},_valueWithinMinMaxRange:function(_24a4){if(this._minimum&&(_24a4<this._minimum)){return false;}if(this._maximum&&(_24a4>this._maximum)){return false;}return true;},_getMinMaxValidationMessage:function(_24a5){var _24a6="";if(this._minimum&&(_24a5<this._minimum)){_24a6=dojo.replace(_2492.txtPleaseSpecifyNumberGreater,[this._minimum]);return _24a6;}if(this._maximum&&(_24a5>this._maximum)){_24a6=dojo.replace(_2492.txtPleaseSpecifyNumberLesser,[this._maximum]);return _24a6;}return "";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_2495.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getParameterValue:function(_24a7){var _24a8={className:"CrystalReports.ParameterFieldDiscreteValue",description:null,discreteValue:{actualValue:_24a7,actualValueType:"Int32",value:_24a7,valueType:"Int32"}};return _24a8;},_initializeValuesMultiselect:function(){var self=this;_2490.forEach(this._values,function(entry,i){var _24a9=dojo.doc.createElement("option");_24a9.innerHTML=entry.description;_24a9.value=entry._id;_2490.some(self._initialIds,function(_24aa,i){if(entry._id===_24aa){_24a9.selected=true;return true;}});self.msAvailableValues.appendChild(_24a9);});this.msAvailableValuesWidget=new dijit.form.MultiSelect({},this.msAvailableValues);dojo.setStyle(this.msAvailableValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget=new dijit.form.MultiSelect({},this.msSelectedValues);dojo.setStyle(this.msSelectedValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);_2490.forEach(this._initialCustomValues,function(entry,i){var _24ab=entry.value;var _24ac=dojo.doc.createElement("option");_24ac.innerHTML=_24ab;_24ac.value="";_24ac.selected=true;self.msSelectedValuesWidget.containerNode.appendChild(_24ac);});}});return _249a;});},"url:Sage/Library/templates/DocumentProperties.html":"[\r\n'<div>',\r\n'    <div dojoType=\"dijit.Dialog\" id=\"propertiesDialog\" title=\"{%= Sage.Utility.htmlEncode($.resources.DocumentProperties) %}\" dojoAttachPoint=\"_dialog\">',\r\n'        <div dojoType=\"dijit.form.Form\" id=\"propertiesForm\" method=\"POST\" onSubmit=\"return true;\">',\r\n'            <table style=\"border: 1px solid #9f9f9f;\" cellspacing=\"10\">',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileName\">{%= $.resources.FileName %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileName\" name=\"fileName\" required=\"true\" maxlength=\"255\" dojoType=\"dijit.form.ValidationTextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"CreateDate\">{%= $.resources.Created %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"createDate\" name=\"createDate\" disabled=\"disabled\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Directroy\">{%= $.resources.Directory %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"directory.fullPath\" name=\"directory.fullPath\" maxlength=\"255\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"RevisionDate\">{%= $.resources.Revised %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"revisionDate\" name=\"revisionDate\" required=\"false\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Status\">{%= $.resources.Status %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"status\" name=\"status\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"ExpireDate\">{%= $.resources.Expires %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <div id=\"expiresRoot\" name=\"expiresRoot\"></div>',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileSize\">{%= $.resources.Size %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileSize\" name=\"fileSize\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"doNotExpire\" name=\"doNotExpire\" dojoAttachEvent=\"onChange:_doNotExpireChange\" />',\r\n'                        <label for=\"doNotExpire\">{%= $.resources.DoNotExpire %}</label>',\r\n'                    </td>',\r\n'                </tr>',\r\n'            </table>',\r\n'            <label for=\"Description\">{%= $.resources.Description %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"description\" name=\"description\" maxlength=\"255\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <br>',\r\n'            <label for=\"abstract\">{%= $.resources.Abstract %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"abstract\" name=\"abstract\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <p></p>',\r\n'            <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"forceDistribution\" name=\"forceDistribution\" />',\r\n'            <label for=\"forceDistribution\">{%= $.resources.ForceDistribution %}</label>',\r\n'            <div style=\"text-align: right\">',\r\n'                <button class=\"libOkBtn\" dojoType=\"dijit.form.Button\" id=\"okButton\" type=\"button\" dojoAttachEvent=\"onClick:_submitClick\">{%= $.resources.OK %}</button>',\r\n'                &nbsp;',\r\n'                <button dojoType=\"dijit.form.Button\" id=\"cancelButton\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.resources.Cancel %}</button>',\r\n'            </div>',\r\n'            <div style=\"display: none\">',\r\n'                <input type=\"text\" dojoType=\"dijit.form.DateTextBox\" id=\"expireDate\" name=\"expireDate\" value=\"\" />',\r\n'            </div>',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$key\" name=\"$key\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$etag\" name=\"$etag\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expires\" name=\"expires\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"flags\" name=\"flags\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"abstract$originalValue\" name=\"abstract$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"description$originalValue\" name=\"description$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expireDate$originalValue\" name=\"expireDate$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"fileName$originalValue\" name=\"fileName$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"revisionDate$originalValue\" name=\"revisionDate$originalValue\" value=\"\" />',\r\n'        </div>',\r\n'    </div>',\r\n'</div>'\r\n]","Sage/UI/nls/TimeZoneItem":function(){define("Sage/UI/nls/TimeZoneItem",["Sage/LanguageList","dojo/_base/lang"],function(_24ad,lang){var nls={root:{buttonOKText:"OK",buttonCancelText:"Cancel",timeZoneText:"Time zone",timeZoneSettingsText:"Time Zone Settings",setTimeZoneText:"Set the time zone:"}};return lang.mixin(_24ad,nls);});},"Sage/Utility/File/GoogleDocPicker":function(){define("Sage/Utility/File/GoogleDocPicker",["dijit/_Widget","dijit/tree/TreeStoreModel","dijit/Dialog","dijit/Tree","dojo/window","dojo/data/ItemFileReadStore","dojo/i18n!./nls/GoogleDocPicker","dojo/_base/declare"],function(_24ae,_24af,_24b0,Tree,_24b1,_24b2,_24b3,_24b4){var _24b5=_24b4("Sage.Utility.File.GoogleAuthModule",null,{couldNotOpenWindowMsg:"Could not open authentication window - please check your popup blocker settings.",scope:"",authUrl:"",constructor:function(opts){this.scope=opts.authUrl;dojo.mixin(this,opts);dojo.mixin(this,_24b3);},login:function(){var r=this;this._loadGoogleLibrary(function(){google.load("gdata","2.0",{"callback":function(){google.gdata.onLoad();if(google.accounts.user.checkLogin(r.authUrl)){r.onLoggedIn();}else{window.googleAuthModule=r;var win=window.open("GoogleAuth.aspx","_blank");setTimeout(function(){var _24b6=false;if(typeof win=="undefined"){_24b6=true;}else{if(win&&win.closed){_24b6=false;}else{if(win&&!win.outerHeight){_24b6=true;}}}if(_24b6){alert(r.couldNotOpenWindowMsg);}},3000);}}});});},logout:function(){if(google.accounts.user.checkLogin(this.authUrl)){google.accounts.user.logout();}},onLoggedIn:function(){},_loadGoogleLibrary:function(_24b7){if(typeof google!=="undefined"){_24b7();}else{var _24b8="googleCallback_"+String(Math.random()).replace(/^0\./,"");window[_24b8]=_24b7;var _24b9=document.createElement("script");_24b9.src="https://www.google.com/jsapi?callback="+_24b8;_24b9.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(_24b9);}}});var _24ba=_24b4("Sage.Utility.File.GoogleDocPicker",_24ae,{id:"",googleDocumentsTitle:"Google Documents",pick:function(){var auth=new _24b5({authUrl:"https://docs.google.com/feeds"});dojo.connect(auth,"onLoggedIn",this,this._onLoggedInHandler);auth.login();},_onLoggedInHandler:function(){var svc=new google.gdata.client.GoogleService("writely","mytest");svc.getFeed("https://docs.google.com/feeds/documents/private/full?showfolders=true",dojo.hitch(this,"_displayFeed"),function(e){},undefined,true);},_displayFeed:function(feed){var root=this._parseFeed(feed);dojo.ready(dojo.hitch(this,function(){var store=new _24b2({data:{items:[{children:root,title:"Root",root:true}]}});var _24bb=new _24af({store:store,childrenAttrs:["children"],labelAttr:"title",query:{}});var tree=new Tree({model:_24bb,showRoot:false,openOnDblClick:true});dojo.connect(tree,"onDblClick",dojo.hitch(this,function(item,node,evt){this.onDocumentSelected(item.title,item.url);}));dojo.connect(tree,"onLoad",dojo.hitch(this,function(){var dlg=new _24b0({title:_24b3.googleDocumentsTitle,content:tree});dlg.startup();dlg.containerNode.style.maxHeight=dojo.window.getBox().h/3+"px";dlg.containerNode.style.minWidth="200px";dlg.containerNode.style.overflow="auto";dlg.show();}));}));},_parseFeed:function(feed){var items=[];var _24bc=feed.feed.entry;if(_24bc){for(var i=0;i<_24bc.length;i++){var entry=_24bc[i];var _24bd={id:entry.id.$t,title:entry.title.$t,feedentry:entry};dojo.some(entry.category,function(x){if(x.scheme=="http://schemas.google.com/g/2005#kind"){_24bd.type=x.label;return true;}});items.push(_24bd);}}items.sort(function(a,b){return a.title>b.title?1:(a.title<b.title?-1:0);});var root=items.slice(0);var _24be=0;dojo.forEach(items,function(item,i){var _24bf=false;dojo.forEach(item.feedentry.link,function(link){if(link.rel=="http://schemas.google.com/docs/2007#parent"){dojo.some(items,function(_24c0){if(link.href==_24c0.id){_24bf=true;if(!_24c0.children){_24c0.children=[];}_24c0.children.push(item);}});}if(link.rel=="alternate"){item.url=link.href;}});if(_24bf){root.splice(i-_24be,1);_24be++;}});return root;},onDocumentSelected:function(title,url){}});return _24ba;});},"Sage/UI/Columns/nls/SlxEdit":function(){define("Sage/UI/Columns/nls/SlxEdit",["Sage/LanguageList","dojo/_base/lang"],function(_24c1,lang){var nls={root:{editText:"Edit"}};return lang.mixin(_24c1,nls);});},"Sage/Reporting/nls/Enumerations":function(){define("Sage/Reporting/nls/Enumerations",["Sage/LanguageList","dojo/_base/lang"],function(_24c2,lang){var nls={root:{txtGroup:"Group",txtDateRange:"Date Range",txtUser:"User",txtQuery:"Query",txtIsGreaterThan:"Is Greater Than",txtIsLessThan:"Is Less Than",txtIsInTheRange:"Is In The Range",txtIsAfter:"Is After",txtIsBefore:"Is Before",txtContains:"Contains",txtStartsWith:"Starts With",txtEndsWith:"Ends With",txtIs:"Is",txtIsNot:"Is Not",txtOnDemand:"On Demand",txtScheduled:"Scheduled",txtCrystalReport:"Crystal Report",txtExportToFileReportType:"Export to File",txtUnknownReportType:"Unknown",txtNoFormat:"No Format",txtPdf:"PDF",txtExcel:"Excel",txtCsv:"CSV",txtWord:"Word",txtXml:"XML"}};return lang.mixin(_24c2,nls);});},"Sage/Layout/ContentPane":function(){define("Sage/Layout/ContentPane",["dojo/_base/declare","dijit/layout/ContentPane","Sage/Layout/_SplitterEnhancedMixin"],function(_24c3,_24c4,_24c5){var _24c6=_24c3("Sage.Layout.ContentPane",[_24c4,_24c5],{});return _24c6;});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionEditor.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.dlgCrystalReportConditionDetails_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 300px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                \r\n                '<table cellspacing=\"10\">',\r\n                    \r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbConditionType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',                            \r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionType\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionType_OnChange\" style=\"width:150px\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trCurrentUser\">',\r\n                        '<td>',\r\n                            '&nbsp;',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkCurrentUser\" dojoAttachEvent=\"onChange:_chkCurrentUser_OnChange\" /> <label>{%= $._nlsResources.chkCurrentUser_Caption %}</label>',\r\n                        '</td>',                        \r\n                    '</tr>',\r\n                    \r\n                    '<tr dojoAttachPoint=\"trUser\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpUser_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpUser_Caption %}\" dojoAttachPoint=\"contentPaneLkpUser\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',                        \r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trGroup\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpGroup_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpGroup_Caption %}\" dojoAttachPoint=\"contentPaneLkpGroup\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',\r\n                    '</tr>',                                                       \r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trDateRange\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbDateRange_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbDateRange\" dojoAttachEvent=\"onChange:_cmbDateRange_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"DateRange\">{%= $._nlsResources.cmbDateRange_SpecificDates_Caption %}</option>',\r\n                                '<option value=\"ThisWeek\">{%= $._nlsResources.cmbDateRange_ThisWeek_Caption %}</option>',\r\n                                '<option value=\"ThisMonth\">{%= $._nlsResources.cmbDateRange_ThisMonth_Caption %}</option>',\r\n                                '<option value=\"ThisQuarter\">{%= $._nlsResources.cmbDateRange_ThisQuarter_Caption %}</option>',\r\n                                '<option value=\"ThisYear\">{%= $._nlsResources.cmbDateRange_ThisYear_Caption %}</option>',\r\n                                '<option value=\"LastWeek\">{%= $._nlsResources.cmbDateRange_LastWeek_Caption %}</option>',\r\n                                '<option value=\"LastMonth\">{%= $._nlsResources.cmbDateRange_LastMonth_Caption %}</option>',\r\n                                '<option value=\"LastQuarter\">{%= $._nlsResources.cmbDateRange_LastQuarter_Caption %}</option>',\r\n                                '<option value=\"LastYear\">{%= $._nlsResources.cmbDateRange_LastYear_Caption %}</option>',\r\n                                '<option value=\"MonthToDate\">{%= $._nlsResources.cmbDateRange_MonthToDate_Caption %}</option>',\r\n                                '<option value=\"QuarterToDate\">{%= $._nlsResources.cmbDateRange_QuarterToDate_Caption %}</option>',\r\n                                '<option value=\"YearToDate\">{%= $._nlsResources.cmbDateRange_YearToDate_Caption %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trFromDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trToDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trTable\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbTable_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbTables\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbTables_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trField\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbField_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbFields\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbFields_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trOperator\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbOperator_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOperators\" sortByLabel=\"false\" style=\"width:150px\" dojoAttachEvent=\"onChange:_cmbOperators_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue1\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue1\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue2_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue2\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue1\">',\r\n                        '<td>',\r\n                            '<label dojoAttachPoint=\"lblNumericValue1\">{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue1\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtNumericValueTo_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue2\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trDateValue1\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue1\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trDateValue2\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue2\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    \r\n                '</table>',\r\n                \r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $._nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $._nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/UI/FilteringSelect":function(){define("Sage/UI/FilteringSelect",["dijit/form/FilteringSelect","dojo/_base/declare"],function(_24c7,_24c8){return _24c8("Sage.UI.FilteringSelect",_24c7,{valueAttr:false,_getValueField:function(){return this.valueAttr||"value";}});});},"Sage/Reporting/Enumerations":function(){define("Sage/Reporting/Enumerations",["dojo/_base/declare","dojo/i18n!./nls/Enumerations"],function(_24c9,_24ca){Sage.namespace("Sage.Reporting.Enumerations");dojo.mixin(Sage.Reporting.Enumerations,{nlsResources:_24ca,ConditionPreset:{CurrentEntity:"CurrentEntity",CurrentGroup:"CurrentGroup",CurrentUser:"CurrentUser",AllRecords:"AllRecords",Custom:"Custom",Preset:"Preset"},ReportConditionConnector:{And:"And",Or:"Or"},FieldDataTypes:{String:"String",Numeric:"Numeric",DateTime:"DateTime"},DateRange:{ThisWeek:"ThisWeek",ThisMonth:"ThisMonth",ThisQuarter:"ThisQuarter",ThisYear:"ThisYear",LastWeek:"LastWeek",LastMonth:"LastMonth",LastQuarter:"LastQuarter",LastYear:"LastYear",MonthToDate:"MonthToDate",QuarterToDate:"QuarterToDate",YearToDate:"QuarterToDate"},ReportExportFormat:{NoFormat:"NoFormat",Pdf:"Pdf",Excel:"Excel",Csv:"Csv",Word:"Word",Xml:"Xml"},ReportTypes:{CrystalReport:"Crystal",ExportToFileReportType:"ExportToFile"},getReportTypeCaption:function(_24cb){switch(_24cb){case this.ReportTypes.CrystalReport:return _24ca.txtCrystalReport;case this.ReportTypes.ExportToFileReportType:return _24ca.txtExportToFileReportType;default:console.error("Unsupported report type : "+_24cb);}return _24ca.txtUnknownReportType;},ReportConditionType:{Group:"Group",DateRange:"DateRange",User:"User",Query:"Query"},getReportConditionTypeCaption:function(_24cc){switch(String(_24cc)){case String(this.ReportConditionType.Group):return _24ca.txtGroup;case String(this.ReportConditionType.DateRange):return _24ca.txtDateRange;case String(this.ReportConditionType.User):return _24ca.txtUser;case String(this.ReportConditionType.Query):return _24ca.txtQuery;default:console.error("Unsupported condition type : "+_24cc);}return "";},ReportConditionOperator:{IsGreaterThan:"IsGreaterThan",IsLessThan:"IsLessThan",IsInTheRange:"IsInTheRange",IsAfter:"IsAfter",IsBefore:"IsBefore",Contains:"Contains",StartsWith:"StartsWith",EndsWith:"EndsWith",Is:"Is",IsNot:"IsNot"},getReportConditionOperatorCaption:function(_24cd){switch(String(_24cd)){case String(this.ReportConditionOperator.IsGreaterThan):return _24ca.txtIsGreaterThan;case String(this.ReportConditionOperator.IsLessThan):return _24ca.txtIsLessThan;case String(this.ReportConditionOperator.IsInTheRange):return _24ca.txtIsInTheRange;case String(this.ReportConditionOperator.IsAfter):return _24ca.txtIsAfter;case String(this.ReportConditionOperator.IsBefore):return _24ca.txtIsBefore;case String(this.ReportConditionOperator.Contains):return _24ca.txtContains;case String(this.ReportConditionOperator.StartsWith):return _24ca.txtStartsWith;case String(this.ReportConditionOperator.EndsWith):return _24ca.txtEndsWith;case String(this.ReportConditionOperator.Is):return _24ca.txtIs;case String(this.ReportConditionOperator.IsNot):return _24ca.txtIsNot;default:console.error("Unsupported condition operator : "+_24cd);}return "";},ExecutionType:{OnDemand:0,Scheduled:1},getExecutionTypeCaption:function(value){switch(value){case this.ExecutionType.OnDemand:return _24ca.txtOnDemand;case this.ExecutionType.Scheduled:return _24ca.txtScheduled;default:console.error("Unsupported execution type: "+value);}return "";},CrystalReportWizardStep:{Init:0,Conditions:1,Parameters:2,ExportOptions:3,Finish:4},SlxParameterValueKind:{NumberParameter:"NumberParameter",CurrencyParameter:"CurrencyParameter",BooleanParameter:"BooleanParameter",DateParameter:"DateParameter",StringParameter:"StringParameter",DateTimeParameter:"DateTimeParameter",TimeParameter:"TimeParameter"},SlxDefaultValueDisplayType:{Description:"Description",DescriptionAndValue:"DescriptionAndValue"},SlxParameterValueRangeKind:{Range:"Range",Discrete:"Discrete",DiscreteAndRange:"DiscreteAndRange"},SlxRangeBoundType:{NoBound:"NoBound",BoundExclusive:"BoundExclusive",BoundInclusive:"BoundInclusive"}});return Sage.Reporting.Enumerations;});},"Sage/QuickForms/Design/OwnerControlDesigner":function(){define("Sage/QuickForms/Design/OwnerControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/OwnerBasicPropertyEditor","./Editors/OwnerAdvancedPropertyEditor","dojo/i18n!./nls/OwnerControlDesigner"],function(_24ce,array,lang,_24cf,_24d0,_24d1,_24d2,_24d3,_24d4,_24d5,_24d6){return _24ce("Sage.QuickForms.Design.OwnerControlDesigner",[_24d0,_24d1,_24cf,_24d2],{designSupport:{visible:true},editors:[_24d4,_24d5,_24d3],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-owner",helpTopicName:"Owner_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXOwner, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Owner",constructor:function(){lang.mixin(this,_24d6);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_24d7){return (_24d7["ControlItemName"]=="LookupResultValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_24d8){this.inherited(arguments);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"LookupResultValue",DataItemName:_24d8.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:"null"}]);this.set("designBinding",_24d8.propertyPath||"");},startup:function(){this.inherited(arguments);var _24d9=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_24d9&&_24d9["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Layout/TabContainer":function(){define("Sage/Layout/TabContainer",["dojo/_base/declare","dojo/ready","dojo/aspect","dijit/layout/TabContainer"],function(_24da,ready,_24db,_24dc){var _24dd=_24da("Sage.Layout.TabContainer",[_24dc],{region:"center",destroyRecursive:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);},postCreate:function(){_24db.after(this,"startup",function(){var _24de=dijit.byId("tabContent");_24de.resize();_24de.resize();});}});return _24dd;});},"url:Sage/UI/Controls/templates/DateTimePicker.html":"<div class=\"dateTimePicker\">\r\n        <div dojoAttachPoint=\"tooltipContainer\">\r\n        \r\n            <div dojoAttachPoint=\"dateContainer\" class=\"dateTimePicker-dateContainer\">\r\n               \r\n                    <input id=\"${id}-Calendar\" data-dojo-type=\"Sage.UI.Calendar\"\r\n                        style=\"width:inherit;\"\r\n                        textAlign=\"${textAlign}\"\r\n                           type=\"text\" \r\n                           tabindex=\"0\"\r\n                           displayMode=\"popup\"\r\n                           dojoAttachPoint=\"dateNode\"\r\n                           dojoAttachEvent=\"onValueSelected:_onValueSelected,onBlur:_onCalendarBlur\">\r\n               \r\n            </div>\r\n            \r\n            <div dojoAttachPoint=\"timeZoneContainer\" class=\"dateTimePicker-timeZoneContainer\">\r\n               \r\n                    <label for=\"${id}-TimeStart\">${timeStartText}</label><br />\r\n                    <input id=\"${id}-TimeTextBox\" data-dojo-type=\"dijit.form.TimeTextBox\" \r\n                           style=\"width:16em;\"\r\n                           textAlign=\"${textAlign}\"\r\n                           tabindex=\"0\"\r\n                           type=\"text\" dojoAttachPoint=\"timeNode\">\r\n                    <br /><br/>\r\n                    <label for=\"${id}-TzCalculator\">${timeZoneCalculatorText}</label>\r\n                    <div id=\"timeZoneCalucaltor\" class=\"dateTimePicker-timeZoneCalculator\">\r\n                       <p style=\"width:auto;margin-top:auto\">\r\n                            <label for=\"${id}-TzSelectSource\">${timeZoneSourceText}</label><br />\r\n                            <select id=\"${id}-TzSelectSource\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneSourceComboNode\" style=\"width:15em;\">\r\n                            </select>\r\n                            <br />\r\n                            <label for=\"${id}-TzSelectDest\">${timeZoneDestText}</label><br />\r\n                           <select id=\"${id}-TzSelectDest\" data-dojo-type=\"dijit.form.ComboBox\"  dojoAttachPoint=\"timeZoneDestComboNode\" style=\"width:15em;\">\r\n                           </select>\r\n                           <br/>\r\n                            <span id=\"${id}-ConvertResults\" dojoAttachPoint=\"convertResultsNode\" style=\"float:left;padding-top:5px;\">\r\n                        </span>\r\n                        </p><br/>\r\n                        <button id=\"${id}-Convert\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"timeZoneConvertButtonNode\" type=\"button\" style=\"float:right\" dojoAttachEvent=\"onClick:_convertClicked\">\r\n                            ${convertText}\r\n                        </button>\r\n                       \r\n                        \r\n                    </div>\r\n               \r\n                <div class=\"button-bar alignright\" style=\"clear: both\">\r\n                    <button id=\"${id}-OKButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"OKButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_okClicked\">\r\n                        ${okText}\r\n                    </button>\r\n                    <button id=\"${id}-CancelButton\" tabindex=\"0\" data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"CancelButtonNode\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClicked\">\r\n                        ${cancelText}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    \r\n</div>\r\n\r\n","Sage/QuickForms/Design/Editors/nls/CheckBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CheckBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_24df,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",checkedText:"Checked:",checkedTooltipText:"Sets default state of checkbox to selected.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_24df,nls);});},"Sage/Data/BaseSDataStore":function(){define("Sage/Data/BaseSDataStore",["Sage/Utility","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/_base/lang"],function(_24e0,_24e1,_24e2,lang){var _24e3=_24e2("Sage.Data.BaseSDataStore",null,{queryName:null,constructor:function(o){lang.mixin(this,o);this.features={"dojo.data.api.Read":true};if(!this.identityAttributes){this.identityAttributes=[this.identityAttribute||"$key"];}if(!this.labelAttributes){this.labelAttributes=["$descriptor"];}this.features["dojo.data.api.Identity"]=true;this.dataCache={query:""};},fetch:function(_24e4){if(!this.isNewContext(_24e4)&&this.feed){this.onSuccess(_24e4,this.feed);return;}this.setContext(_24e4);if(_24e4.count===Infinity){_24e4.count=500;}var _24e5=(_24e4.count-0)||this.pageSize||15;var _24e6=(_24e4.start-0)||1;if(_24e6>1){_24e6=_24e6+1;}this.verifyService();var _24e7=this.getCollectionRequestObj(_24e4);if(!_24e7){if(_24e4.onError){_24e4.onError.call(_24e4.scope||this,"Invalid data url",_24e4);}return;}_24e7.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,(isNaN(_24e6))?1:_24e6);var qry="";if(this.query&&typeof this.query!=="function"){if(!this.directQuery){this.directQuery=this.query;}}if(this.directQuery){if(!_24e4.query){_24e4.query={};}lang.mixin(_24e4.query,this.directQuery);}if(_24e4.query){if(typeof _24e4.query==="function"){qry=_24e4.query();}else{if(typeof _24e4.query==="string"){qry=_24e4.query;}else{if(typeof _24e4.query==="object"){for(var _24e8 in _24e4.query){if(_24e8==="fn"){qry=_24e4.query.fn.call(_24e4.query.scope||this);}else{if(_24e8==="conditions"){if(typeof _24e4.query.conditions==="string"&&_24e4.query.conditions!==""){qry+=(qry&&qry.length>0)?" and "+_24e4.query.conditions:_24e4.query.conditions;}}else{if(_24e8!=="scope"){if(_24e4.query.hasOwnProperty(_24e8)){var _24e9=[_24e8," like ","'",_24e4.query[_24e8].replace("*","%"),"'"].join("");qry+=(qry.length>0)?" and "+_24e9:_24e9;}}}}}}}}}_24e4.evaluatedQuery=qry||"";if(qry&&qry!==""){_24e7.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_24e7.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_24e7.setQueryArg("include",this.include.join(","));}if(this.sort){_24e4.sort=_24e4.sort||[];dojo.forEach(this.sort,function(_24ea){if(dojo.filter(_24e4.sort,function(_24eb){return _24ea.attribute==_24eb.attribute;}).length===0){_24e4.sort.push(_24ea);}});}if(typeof _24e4.resourcePredicate!=="undefined"){_24e7.getUri().setCollectionPredicate(_24e4.resourcePredicate);}this._setQueryArgsOnRequest(_24e4.queryArgs,_24e7);if(_24e4.sort&&_24e4.sort.length>0){var order=[];dojo.forEach(_24e4.sort,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_24e7.setQueryArg("orderBy",order.join(","));}if(this.beforeRequest&&typeof this.beforeRequest==="function"){this.beforeRequest.call(_24e4.scope||this,_24e7);}var key=_24e7.read({success:lang.hitch(this,this.onSuccess,_24e4),failure:lang.hitch(this,this.onFailure,_24e4)});return {abort:lang.hitch(this,this.abortRequest,key)};},getCollectionRequestObj:function(_24ec){var _24ed=this.queryName?new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(this.queryName):new Sage.SData.Client.SDataResourceCollectionRequest(this.service);_24ed.setResourceKind(this.resourceKind);_24ed.setStartIndex(_24ec.start+1);if(this.resourcePredicate&&this.resourcePredicate!=="''"){_24ed.getUri().setCollectionPredicate(this.resourcePredicate);}this._setQueryArgsOnRequest(this.queryArgs,_24ed);if(!_24ec.count&&this.count){_24ec.count=this.count;}_24ed.setCount(_24ec.count);return _24ed;},_setQueryArgsOnRequest:function(_24ee,_24ef){if(_24ee){for(var prop in _24ee){if(_24ee.hasOwnProperty(prop)){_24ef.setQueryArg(prop,_24ee[prop]);}}}},abortRequest:function(key){this.service.abortRequest(key);},onSuccess:function(_24f0,feed){if(_24f0.onBegin){if(typeof feed.$totalResults==="undefined"){feed.$totalResults=500000;}_24f0.onBegin.call(_24f0.scope||this,feed.$totalResults,_24f0);}if(_24f0.onComplete){_24f0.onComplete.call(_24f0.scope||this,feed.$resources,_24f0);}this.addToCache(_24f0,feed);},onFailure:function(_24f1,_24f2,o){var msg="An unknown exception occurred obtaining data.";if(_24f2.responseText){var _24f3=Sys.Serialization.JavaScriptSerializer.deserialize(_24f2.responseText);if(dojo.isArray(_24f3)){msg=_24f3[0].message;}else{msg=_24f2.responseText;}}if(_24f1&&_24f1.onError){_24f1.onError.call(_24f1.scope||this,msg,_24f1);}else{if(typeof msg==="string"&&typeof console!=="undefined"){if(_24f2&&_24f2.status){msg+=" (HTTP status = %o; statusText = %o)";console.error(msg,_24f2.status,_24f2.statusText);}else{console.error(msg);}}}},setContext:function(_24f4){this.context={start:_24f4.start,count:_24f4.count,query:_24f4.query,queryOptions:_24f4.queryOptions,sort:_24f4.sort};},addToCache:function(_24f5,feed){var i,item,key;if(_24f5.evaluatedQuery!==this.dataCache.query){this.clearCache();this.dataCache.query=_24f5.evaluatedQuery;}if(feed.$resources){for(i=0;i<feed.$resources.length;i++){item=feed.$resources[i];key=this.getIdentity(item);this.dataCache[key]=item;}}},clearCache:function(){for(var key in this.dataCache){if(key!=="query"){delete this.dataCache[key];}}this.dataCache.query="";},isNewContext:function(_24f6){if(typeof this.context!=="object"){return true;}if(this.context.start!==_24f6.start){return true;}if(this.context.count!==_24f6.count){return true;}return false;},verifyService:function(_24f7){if(!this.service){this.service=_24e1.getSDataService(_24f7||"dynamic");}},getValue:function(item,_24f8,_24f9){return _24e0.getValue(item,_24f8);},getFeatures:function(){return this.features;},getLabel:function(item){var lbl=[];for(var i=0;i<this.labelAttributes.length;i++){if(item.hasOwnProperty(this.labelAttributes[i])){lbl.push(item[this.labelAttributes[i]]);}}return lbl.join(" ");},getLabelAttributes:function(item){return this.labelAttributes;},getIdentity:function(item){if(item){var _24fa=[];for(var i=0;i<this.identityAttributes.length;i++){if(item.hasOwnProperty(this.identityAttributes[i])){_24fa.push(item[this.identityAttributes[i]]);}}return _24fa.join("");}},getIdentityAttributes:function(item){return this.identityAttributes;},fetchItemByIdentity:function(_24fb){if(this.dataCache.hasOwnProperty(_24fb.identity)){_24fb.onItem.call(_24fb.scope||this,this.dataCache[_24fb.identity]);}else{var msg="Item with that key does not exist in the data cache: "+_24fb.identity;if(_24fb.onError){_24fb.onError.call(_24fb.scope||this,{"error":msg});}else{if(typeof console!=="undefined"){}}}},containsValue:function(item,attr,value){var val=_24e0.getValue(item,attr);return val!=="";}});return _24e3;});},"Sage/UI/JobSchedulingWidget":function(){require({cache:{"url:Sage/UI/templates/JobSchedulingWidget.html":"<div>\r\n    <div dojoAttachPoint=\"divJobSchedulingWidget\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <label>${lblCreateSchedule}:</label>\r\n                </td>\r\n            </tr>\r\n            <tr style=\"padding-left: 10px\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblEveryText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesHours\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesHours\"></select>\r\n                    </div>\r\n                    <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboFrequency\" dojoAttachEvent=\"onChange:_onFrequencyChange\">\r\n                        <option value=\"minutes\">${lblMinutesFrequency}</option>\r\n                        <option value=\"hourly\">${lblHourlyFrequency}</option>\r\n                        <option value=\"daily\">${lblDailyFrequency}</option>\r\n                        <option value=\"weekday\">${lblWeekDayFrequency}</option>\r\n                        <option value=\"weekly\">${lblWeeklyFrequency}</option>\r\n                        <option value=\"monthly\">${lblMonthlyFrequency}</option>\r\n                        <option value=\"yearly\" selected=\"selected\" disabled=\"disabled\">${lblYearlyFrequency}</option>\r\n                    </select>\r\n                    <label dojoAttachPoint=\"lblOnText\" class=\"display-none\">${lblOnText}</label>&nbsp;\r\n                    <label dojoAttachPoint=\"lblOnTheText\" class=\"display-none\">${lblOnTheText}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divMonthDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMonthDay\">\r\n                            <option value=\"1\" selected=\"selected\">${lblFirstDay}</option>\r\n                            <option value=\"2\">${lblSecondDay}</option>\r\n                            <option value=\"3\">${lblThirdDay}</option>\r\n                            <option value=\"4\">${lblFourthDay}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <div dojoAttachPoint=\"divDay\" style=\"display: -moz-inline-box; display: inline-block\" class=\"display-none\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboDay\">\r\n                            <option value=\"SUN\">${lblSunday}</option>\r\n                            <option value=\"MON\" selected=\"selected\">${lblMonday}</option>\r\n                            <option value=\"TUE\">${lblTuesday}</option>\r\n                            <option value=\"WED\">${lblWednesday}</option>\r\n                            <option value=\"THU\">${lblThursday}</option>\r\n                            <option value=\"FRI\">${lblFriday}</option>\r\n                            <option value=\"SAT\">${lblSaturday}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblAtText\">${lblAtText}</label>&nbsp;&nbsp;\r\n                    <div dojoAttachPoint=\"divMinutesPastHour\" class=\"display-none\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cboMinutesPastHour\"></select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint=\"lblMinutesPastHour\" class=\"display-none\">${lblMinutesPastHour}</label>&nbsp;\r\n                    <div dojoAttachPoint=\"divRunAtTime\" style=\"display: -moz-inline-box; display: inline-block\">\r\n                        <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunAtTime\" displayDate=\"false\" displayTime=\"true\" label=\"${lblAtText}\" required=\"true\"></div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowRunFromDate\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblFromTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunFromDate\" displayDate=\"true\" label=\"${lblFromTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                    <label>${lblToTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtRunToDate\" displayDate=\"true\" label=\"${lblToTimeText}\" style=\"width: 140px\"></div>&nbsp;\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint=\"rowCronExpression\">\r\n                <td>\r\n                    <label style=\"padding-left: 10px\">${lblCronExpressionText}</label>&nbsp;\r\n                    <div data-dojo-type=\"dijit.form.TextBox\" dojoAttachPoint=\"txtCronExpression\" style=\"width: 375px\"></div>&nbsp\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>"}});define("Sage/UI/JobSchedulingWidget",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/Select","dijit/form/Button","Sage/UI/ImageButton","dojo/text!./templates/JobSchedulingWidget.html","dojo/i18n!./nls/JobSchedulingWidget","dojo/_base/declare","dojo/string","Sage/UI/Dialogs","Sage/UI/Controls/DateTimePicker"],function(_24fc,_24fd,_24fe,_24ff,_2500,_2501,_2502,_2503,_2504,_2505,_2506){var _2507=_2504("Sage.UI.JobSchedulingWidget",[_24fe,_24fc,_24fd],{cronExpression:"",displayStartEndTime:true,minuteOptions:["10","15","20","25","30","35","40","45","50","55"],pastHourOptions:["0","5","10","15","20","25","30","35","40","45","50","55"],hourOptions:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],cronFields:{seconds:0,minutes:"*",hours:"*",days:"*",weeks:"*",months:"*",years:"*"},cronExpressionVisible:true,_initialized:false,widgetsInTemplate:true,templateString:_2502,postMixInProperties:function(){dojo.mixin(this,_2503);},initialize:function(_2508){dojo.mixin(this,_2508);if(this.trigger){this.cronExpression=this.trigger.cronExpression;}else{this.cronExpressionVisible=false;}this.txtCronExpression.set("value",this.cronExpression);this._parseCronExpression();this.cboFrequency.set("value",this._getFrequencyType());this._loadScheduleDetails();this._initializeControlState();this.cboFrequency.removeOption("yearly");},_initializeListOptions:function(_2509,_250a,_250b){var _250c=[];this._clearComboBox(_2509);dojo.forEach(_250b,function(_250d){var _250e={selected:false,label:_250d,value:_250d};if(_250a===_250d){_250e.selected=true;}_250c.push(_250e);});_2509.addOption(_250c);},_parseCronExpression:function(){var _250f="0 0/10 * 1/1 * ? *";var _2510="0 20 0/2 1/1 * ? *";var daily="0 10 12 1/1 * ? *";var _2511="0 0 12 ? * MON-FRI *";var _2512="0 0 12 ? * WED *";var _2513="0 0 12 ? 1/1 TUE#2 *";if(this.cronExpression){var parts=this.cronExpression.split(" ");if(parts.length===6||parts.length===7){this.cronFields.seconds=parts[0];this.cronFields.minutes=parts[1];this.cronFields.hours=parts[2];this.cronFields.days=parts[3];this.cronFields.weeks=parts[4];this.cronFields.months=parts[5];this.cronFields.years=parts.length===6?parts[6]:"*";}}},_getFrequencyType:function(){var _2514="daily";if(!this.cronExpression){return _2514;}var _2515=[];if(this.cronFields.days==="?"){if(this.cronFields.months==="MON-FRI"){this.cronExpressionVisible=false;return "weekday";}else{if(this.cronFields.months.indexOf("#")!==-1){_2515=["/"];if(!isNaN(this.cronFields.weeks)){this.cronExpressionVisible=true;}else{if(this._isValid(this.cronFields.days,_2515)){_2514="monthly";this.cronExpressionVisible=false;}}}else{if(this._isWeeklyType()){this.cronExpressionVisible=false;return "weekly";}}}}if(this.cronFields.months==="?"&&(this.cronFields.days==="1/1"||this.cronFields.days==="*")){if(!isNaN(this.cronFields.hours)){this.cronExpressionVisible=false;return "daily";}else{var part=this.cronFields.hours.split("/");if(part.length>1){this.cronExpressionVisible=false;return "hourly";}else{part=this.cronFields.minutes.split("/");if(part.length>1){this.cronExpressionVisible=false;return "minutes";}}}}return _2514;},_isWeeklyType:function(){var _2516=[",","-","*","?","/","L","#"];if(this._isValid(this.cronFields.months,_2516)){return true;}else{return false;}},_loadScheduleDetails:function(){if(this.cronExpression){this._loadCronScheduleDetails();}else{this._loadFromPropScheduleDetails();}},_loadFromPropScheduleDetails:function(){this.cronExpressionVisible=false;if(this.trigger){}},_loadCronScheduleDetails:function(){var part;switch(this.cboFrequency.get("value")){case "minutes":part=this.cronFields.minutes.split("/");this._initializeListOptions(this.cboMinutesHours,part[1],this.minuteOptions);break;case "hourly":part=this.cronFields.hours.split("/");this._initializeListOptions(this.cboMinutesHours,part[1],this.hourOptions);this.cboMinutesHours.set("value",part[1]);this._initializeListOptions(this.cboMinutesPastHour,this.cronFields.minutes,this.pastHourOptions);this.cboMinutesPastHour.set("value",this.cronFields.minutes);break;case "weekly":this.cboDay.set("value",this._convertDayToStr(this.cronFields.months));break;case "monthly":part=this.cronFields.months.split("#");this.cboDay.set("value",this._convertDayToStr(part[0]));this.cboMonthDay.set("value",part[1]);break;}},_convertDayToStr:function(day){if(!isNaN(day)){switch(day){case 1:return "SUN";case 3:return "TUE";case 4:return "WED";case 5:return "THU";case 6:return "FRI";case 7:return "SAT";default:return "MON";}}else{return day;}},_convertDayToInt:function(day){switch(day){case "SUN":return 0;case "MON":return 1;case "TUE":return 2;case "WED":return 3;case "THU":return 4;case "FRI":return 5;case "SAT":return 6;}},_isValidExpression:function(){var _2517=[];switch(this.cboFrequency.get("value")){case "minutes":_2517=[",","-"];return this._isValid(this.cronFields.minutes,_2517);case "hourly":_2517=[",","-"];return this._isValid(this.cronFields.hours,_2517);case "daily":case "weekly":return true;case "monthly":_2517=[",","-","?","/","L"];return this._isValid(this.cronFields.months,_2517);default:return false;}},_isValid:function(_2518,_2519){var _251a=true;dojo.every(_2519,function(_251b){if(_2518.indexOf(_251b)!==-1){_251a=false;}});return _251a;},_assignDateValues:function(){switch(this.cboFrequency.get("value")){case "daily":case "weekday":case "weekly":case "monthly":case "yearly":var _251c=new Date();var _251d=[",","-","*"];var _251e=this._getTimePart(this.cronFields.minutes,_251d);if(this._isNumber(_251e)){_251c.setMinutes(_251e);}var hours=this._getTimePart(this.cronFields.hours,_251d);if(this._isNumber(hours)){_251c.setHours(this.cronFields.hours);}if(this.trigger&&this._isNumber(_251e)&&this._isNumber(hours)){this.dtRunAtTime.set("value",_251c);}break;}if(this.trigger){if(this.trigger.startTimeUtc){this.dtRunFromDate.set("value",new Date(parseInt(this.trigger.startTimeUtc.substr(6))));}if(this.trigger.endTimeUtc){this.dtRunToDate.set("value",new Date(parseInt(this.trigger.endTimeUtc.substr(6))));}}},_getTimePart:function(_251f,_2520){var _2521="invalid";if(this._isNumber(_251f)){_2521=parseInt(_251f);}else{if(this._isValid(_251f,_2520)){var part=_251f.split("/");if(part.length>1){_2521=part[1];}}}return _2521;},_isNumber:function(value){var reg=new RegExp("^[0-9]+$");return !!reg.test(value);},_initializeControlState:function(){var _2522=this.cboFrequency.get("value").valueOf();this._setVisibility(this.divMinutesHours,_2522==="minutes"||_2522==="hourly");this._setVisibility(this.lblOnText,_2522==="weekly");this._setVisibility(this.lblOnTheText,_2522==="monthly");this._setVisibility(this.divMonthDay,_2522==="monthly");this._setVisibility(this.divDay,_2522==="weekly"||_2522==="monthly");this._setVisibility(this.lblAtText,_2522!=="minutes");this._setVisibility(this.divRunAtTime,_2522!=="minutes"&&_2522!=="hourly");this._setVisibility(this.lblMinutesPastHour,_2522==="hourly");this._setVisibility(this.divMinutesPastHour,_2522==="hourly");this._setVisibility(this.rowCronExpression,this.cronExpressionVisible);},_onFrequencyChange:function(){var _2523=this.cboFrequency.get("value").valueOf();if(_2523==="minutes"){if(this.initialized){this._initializeListOptions(this.cboMinutesHours,"5",this.minuteOptions);}}else{if(_2523==="hourly"){if(this.initialized){this._initializeListOptions(this.cboMinutesHours,"1",this.hourOptions);}if(this.cboMinutesPastHour.options.length===0){this._initializeListOptions(this.cboMinutesPastHour,"0",this.pastHourOptions);}}}if(!this.initialized){this.initialized=true;this._assignDateValues();}this._initializeControlState();},_clearComboBox:function(_2524){var _2525=_2524.options.length;for(var i=0;i<_2525;i++){_2524.removeOption(0);}},_setVisibility:function(_2526,_2527){if(_2526&&_2527){dojo.removeClass(_2526,"display-none");}else{if(_2526){dojo.addClass(_2526,"display-none");}}},_buildCronExpression:function(){return _2505.substitute("${0} ${1} ${2} ${3} ${4} ${5} ${6}",[this._getFormatedSeconds(),this._getFormatedMinutes(),this._getFormatedHours(),this._getFormatedDaysOfMonth(),this._getFormatedMonths(),this._getFormatedDaysOfWeek(),this._getFormatedYears()]);},_getFormatedSeconds:function(){return 0;},_getFormatedMinutes:function(){switch(this.cboFrequency.get("value")){case "minutes":return _2505.substitute("0/${0}",[this.cboMinutesHours.get("value")]);case "hourly":return this.cboMinutesPastHour.get("value");case "daily":case "weekly":case "monthly":case "yearly":return this._getTimePortion(true);default:return "*";}},_getFormatedHours:function(){switch(this.cboFrequency.get("value")){case "minutes":return "*";case "hourly":return _2505.substitute("0/${0}",[this.cboMinutesHours.get("value")]);default:return this._getTimePortion(false);}},_getTimePortion:function(_2528){if(_2528){var _2529=this.dtRunAtTime.getTimeValue();return _2529.getMinutes();}else{var hour=this.dtRunAtTime.getTimeValue();return hour.getHours();}},_getFormatedDaysOfMonth:function(){switch(this.cboFrequency.get("value")){case "minutes":case "hourly":case "daily":return "*";case "weekday":case "weekly":case "monthly":case "yearly":return "?";default:return "*";}},_getFormatedMonths:function(){return "*";},_getFormatedDaysOfWeek:function(){switch(this.cboFrequency.get("value")){case "minutes":case "daily":case "hourly":return "?";case "weekday":return "MON-FRI";case "weekly":return this.cboDay.get("value");case "monthly":case "yearly":return _2505.substitute("${0}#${1}",[this.cboDay.get("value"),this.cboMonthDay.get("value")]);default:return "*";}},_getFormatedYears:function(){return "*";},_isSameDate:function(_252a,_252b){return _252a.getFullYear()===_252b.getFullYear()&&_252a.getMonth()===_252b.getMonth()&&_252a.getDate()===_252b.getDate();},_getDaysDateDiff:function(date1,date2){var _252c=1000*60*60*24;var _252d=Math.abs(date1.getTime()-date2.getTime());return Math.round(_252d/_252c);},getJobSchedulingOptions:function(){var _252e={startTime:this.dtRunFromDate.focusNode.value===""?null:this.dtRunFromDate.getValue(),endTime:this.dtRunToDate.focusNode.value===""?null:this.dtRunToDate.getValue(),cronExpression:this._buildCronExpression()};return _252e;},validateSchedule:function(_252f,_2530){var _2531=this.dtRunFromDate.focusNode.value===""?null:this.dtRunFromDate.getValue();var _2532=this.dtRunToDate.focusNode.value===""?null:this.dtRunToDate.getValue();var onDay=null;if(_252f&&!_2531||(_2530&&!_2531||_2530&&!_2532)){if(!_2531){_2506.showError(this.txtInvalidStartDate,this.txtInvalidScheduleTitle);}else{_2506.showError(this.txtInvalidEndDate,this.txtInvalidScheduleTitle);}return false;}if(!_2531&&!_2532){return true;}if(_2531&&_2532&&_2531>=_2532||!_2531&&_2532){_2506.showError(this.txtInvalidDatesMessage,this.txtInvalidScheduleTitle);return false;}if(!_2532){return true;}_2531=new Date(_2531);_2532=new Date(_2532);switch(this.cboFrequency.get("value")){case "minutes":if(_2531.setMinutes(_2531.getMinutes()+parseInt(this.cboMinutesHours.get("value")))>=_2532){_2506.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case "hourly":if(_2531.setHours(_2531.getHours()+parseInt(this.cboMinutesHours.get("value")))>=_2532){_2506.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case "daily":case "weekday":if(this._isSameDate(_2531,_2532)){_2506.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case "weekly":if(this._isSameDate(_2531,_2532)){_2506.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}else{if(_2532.getDate()-_2531.getDate()<7){onDay=this._convertDayToInt(this.cboDay.get("value"));var _2533=_2531;_2533.setDate(_2533.getDate()+(_2533.getDay()+onDay));if(_2533>_2532){_2506.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}}}return true;case "monthly":if(this._isSameDate(_2531,_2532)){_2506.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}else{if(this._getDaysDateDiff(_2532,_2531)<31){var _2534=parseInt(this.cboMonthDay.get("value"));onDay=this._convertDayToInt(this.cboDay.get("value"));var _2535=this._moveToNthOccurrence(_2531,_2534,onDay,"","");var _2536=this._moveToNthOccurrence(_2532,_2534,onDay,"","");if(_2535<=_2531){if(_2536<=_2535||_2536>=_2532){_2506.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}}}}return true;}return false;},_moveToNthOccurrence:function(_2537,index,day,month,year){var date=new Date(_2537);date.setDate(1);if(month!==""&&month!==undefined){date.setMonth(month);}else{month=date.getMonth();}if(year!==""&&year!==undefined){date.setFullYear(year);}else{year=date.getFullYear();}while(date.getDay()!=day){date.setDate(date.getDate()+1);}switch(index){case 2:date.setDate(date.getDate()+7);break;case 3:date.setDate(date.getDate()+14);break;case 4:date.setDate(date.getDate()+21);break;case 5:date.setDate(date.getDate()+28);if(date.getMonth()!==month){date=null;}break;}return date;},destroyWidget:function(){this.destroyRecursive();}});return _2507;});},"url:Sage/templates/SpeedSearch.html":"<span>\r    <!-- the textbox -->\r    <input type=\"text\" id=\"txt_ss\" />\r    <!--the image button-->\r    <button id='ss-btn-image' type=\"button\" style=\"font-size:10px\"></button>\r    <button id='ss-btn-toggle' type=\"button\" style=\"font-size:10px\"></button>\r</span>\r","Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionsDialog":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionsDialog",["Sage/LanguageList","dojo/_base/lang"],function(_2538,lang){var nls={root:{txtDialogTitle:"Select Records",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel",grdCrystalConditions_ConditionType_Caption:"Type",grdCrystalConditions_TableName_Caption:"Table",grdCrystalConditions_FieldName_Caption:"Field",grdCrystalConditions_Operator_Caption:"Operator",grdCrystalConditions_Value_Caption:"Condition Value",txtShowRecordsThatMatch:"Show records that match: ",txtMatch:"Match:",txtOfTheFollowingConditions:"of the following conditions:",txtAny:"Any",txtAll:"All",txtAllRecords:"[All Records]",txtSpecificConditions:"[Specific Conditions]",txtCurrentUser:"[Current User]"}};return lang.mixin(_2538,nls);});},"Sage/UI/GroupTabPane":function(){define("Sage/UI/GroupTabPane",["dijit/layout/TabContainer","dojo/topic","dojo/_base/lang","dojo/_base/declare","dojo/on"],function(_2539,topic,lang,_253a,on){var _253b=_253a("Sage.UI.GroupTabPane",_2539,{useMenu:false,_children:null,_drawnChildren:{},_initialLoadFinished:false,constructor:function(_253c){this._children=[];this.inherited(arguments);},resize:function(){var _253d=this.getChildren();this.inherited(arguments);if(this._initialLoadFinished&&_253d.length>1){if(!this._drawnChildren[_253d[1].id]){this.tablist._leftBtn.setDisabled(false);}if(!this._drawnChildren[_253d[_253d.length-1].id]){this.tablist._rightBtn.setDisabled(false);}}},addChild:function(_253e){this._children.push(_253e);topic.publish(this.id+"-addChild",_253e,this._children.length);this._setupChild(_253e);if(!this.selectedChildWidget){this.selectChild(_253e);}if(this.doLayout){this.layout();}this.onAddChildrenComplete();},addChildren:function(_253f,_2540){var _2541=1;var i;for(i=0;i<_253f.length;i++){if(_2540==_253f[i]){_2541=i;}if(this._started){this._children.push(_253f[i]);}}dojo.subscribe("/group/context/changed",lang.hitch(this,function(_2542){if(!this._drawnChildren[_2542.current.CurrentGroupID]){var _2543=this.getChildren(),_2544=dijit.byId("GroupTabs_tablist");for(var i=1;i<_2543.length;i++){if(_2543[i].id==_2542.current.CurrentGroupID){_2544.onAddChild(_2543[i],1);this.onAddChildrenComplete(i-1,i);break;}}this._drawnChildren[_2542.current.CurrentGroupID]=true;}}));this.drawChildren(_2541,25);this._initialLoadFinished=true;},drawChildren:function(_2545,_2546,_2547){var _2548=dijit.byId("GroupTabs_tablist"),_2549=this.getChildren(),_254a=(_2545+_2546),i;if(_2549.length<=1){return;}if(_254a>=_2549.length){_2545=(_2549.length-_2546-1);_254a=_2549.length;}if(_2545<1){_2545=1;}if(_2547=="left"){for(i=(_254a-1);i>=_2545;i--){if(!this._drawnChildren[_2549[i].id]){_2548.onAddChild(_2549[i],1);this._drawnChildren[_2549[i].id]=true;this._setupChild(_2549[i]);}}}else{for(i=_2545;i<_254a;i++){if(!this._drawnChildren[_2549[i].id]){_2548.onAddChild(_2549[i]);this._drawnChildren[_2549[i].id]=true;this._setupChild(_2549[i]);}}}if(this.doLayout){if(_2547){if(_2547=="left"){this.tablist._leftBtn.onClick(this.tablist._leftBtn);}else{this.tablist._rightBtn.onClick(this.tablist._rightBtn);}}else{this.layout();}var _254b=null,_254c=null;if(_254a<_2549.length){this.tablist._rightBtn.setDisabled(false);_254b=on(this.tablist._rightBtn,"click",lang.hitch(this,function(){_254b.remove();if(_254c){_254c.remove();}this.drawChildren(_254a,10,"right");}));}if(_2545>1){this.tablist._leftBtn.setDisabled(false);_254c=on(this.tablist._leftBtn,"click",lang.hitch(this,function(){_254c.remove();if(_254b){_254b.remove();}this.drawChildren((_2545-10),10,"left");}));}}this.onAddChildrenComplete(_2545-1,_254a-1);},onAddChildrenComplete:function(start,end){},getChildren:function(){return this._children;},removeChildren:function(){var i=0,_254d;for(i=0;i<this._children.length;i++){_254d=this._children[i];if(i===0||this._drawnChildren[_254d.id]){topic.publish(this.id+"-removeChild",_254d);_254d.destroyDescendants();}}this._children=[];this._drawnChildren={};this.destroyDescendants();if(this.doLayout){this.layout();}}});return _253b;});},"Sage/Extensions/Activity/ListPanelOverrides/nls/ActivityListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/nls/ActivityListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_254e,lang){var nls={root:{colNameAssociationCount:"Participant Count"}};return lang.mixin(_254e,nls);});},"Sage/TaskPane/AccountingTasksTasklet":function(){define("Sage/TaskPane/AccountingTasksTasklet",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/Dialogs","dojo/i18n!./nls/AccountingTasksTasklet","dojo/_base/declare"],function(_254f,_2550,_2551,_2552){var _2553=_2552("Sage.TaskPane.AccountingTasksTasklet",_254f,{nlsAccountingResources:_2551,linkAccount:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _2554=this.getSelectionInfo();if(this.verifySingleSelection(_2554)){this.saveSelections(this.actionItem,_2554);return true;}else{_2550.showInfo(this.selectSingleRecord,this.invalidSelectionTitle);return false;}},actionItem:function(){},checkPrices:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _2555=this.getSelectionInfo();if(this.verifySingleSelection(_2555)){this.saveSelections(this.actionItem,_2555);}else{_2550.showInfo(this.nlsAccountingResources.updatePricingRecords,this.invalidSelectionTitle);return false;}},submitSalesOrder:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _2556=this.getSelectionInfo();if(this.verifySingleSelection(_2556)){this.saveSelections(this.actionItem,_2556);}else{_2550.showInfo(this.nlsAccountingResources.updatePricingRecords,this.invalidSelectionTitle);return false;}}});return _2553;});},"Sage/QuickForms/Design/ComboBoxControlDesigner":function(){define("Sage/QuickForms/Design/ComboBoxControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/ComboBoxBasicPropertyEditor","./Editors/ComboBoxAdvancedPropertyEditor","dojo/i18n!./nls/ComboBoxControlDesigner"],function(_2557,array,lang,_2558,_2559,_255a,_255b,_255c,_255d,_255e,_255f){return _2557("Sage.QuickForms.Design.ComboBoxControlDesigner",[_2559,_255a,_2558,_255b],{designSupport:{visible:true},editors:[_255d,_255e,_255c],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-combobox",helpTopicName:"ComboBox_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFListBox, Sage.Platform.QuickForms.QFControls",displayNameText:"ComboBox",constructor:function(){lang.mixin(this,_255f);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_2560){return (_2560["ControlItemName"]=="SelectedValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDataSourceAttr:function(){return lang.getObject("DataSource",false,this.entry);},_setDataSourceAttr:function(value){lang.setObject("DataSource",value,this.entry);},_getHasItemsAttr:function(){var items=lang.getObject("ItemValues",false,this.entry);return (lang.isArray(items)&&items.length>0);},_getItemValuesAttr:function(){return lang.getObject("ItemValues",false,this.entry);},_setItemValuesAttr:function(value){lang.setObject("ItemValues",value,this.entry);},_getTextFieldAttr:function(){return lang.getObject("TextField",false,this.entry);},_setTextFieldAttr:function(value){lang.setObject("TextField",value,this.entry);},_getValueFieldAttr:function(){return lang.getObject("ValueField",false,this.entry);},_setValueFieldAttr:function(value){lang.setObject("ValueField",value,this.entry);},setupFor:function(_2561){this.inherited(arguments);this.set("dataSource",null);this.set("textField","");this.set("valueField","");this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"SelectedValue",DataItemName:_2561.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_2561.propertyPath||"");},startup:function(){this.inherited(arguments);var _2562=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_2562&&_2562["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/nls/JobSchedulingWidget":function(){define("Sage/UI/nls/JobSchedulingWidget",["Sage/LanguageList","dojo/_base/lang"],function(_2563,lang){var nls={root:{lblCreateSchedule:"Create job schedule to run",lblEveryText:"Every",lblOnText:"on",lblOnTheText:"on the",lblAtText:"at",lblMinutesPastHour:"minutes past the hour",lblFromTimeText:"Run from",lblToTimeText:"to",lblMinutesFrequency:"minutes",lblHourlyFrequency:"hour(s)",lblDailyFrequency:"day",lblWeekDayFrequency:"week day",lblWeeklyFrequency:"week",lblMonthlyFrequency:"month",lblYearlyFrequency:"year",lblSunday:"Sunday",lblMonday:"Monday",lblTuesday:"Tuesday",lblWednesday:"Wednesday",lblThursday:"Thursday",lblFriday:"Friday",lblSaturday:"Saturday",lblFirstDay:"first",lblSecondDay:"second",lblThirdDay:"third",lblFourthDay:"fourth",lblCronExpressionText:"Cron expression",txtInvalidScheduleTitle:"Invalid Schedule",txtInvalidDatesMessage:"The end time must be after the start time. Please correct this information before continuing.",txtInvalidScheduleTime:"The start and end times specified will prevent this schedule from running. Please correct this information before continuing.",txtInvalidStartDate:"A start date is required. Please specify a start date before continuing.",txtInvalidEndDate:"A end date is required. Please specify a end date before continuing"}};return lang.mixin(_2563,nls);});},"Sage/UI/Controls/nls/LogOffButton":function(){define("Sage/UI/Controls/nls/LogOffButton",["Sage/LanguageList","dojo/_base/lang"],function(_2564,lang){var nls={root:{logOffText:"Log Off"}};return lang.mixin(_2564,nls);});},"Sage/QuickForms/Design/Editors/nls/TextBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/TextBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2565,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_2565,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/MultiselectStringParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/MultiselectStringParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2566,lang){var nls={root:{txtTheValueMustBeBetween:"The value must be between {0} and {1} characters long.",txtTheMinimumLengthForThisField:"The minimum length for this field is {0}.",txtTheMaximumLengthForThisField:"The maximum length for this field is {0}.",txtPleaseSpecifyValue:"Please specify a value.",lblAvailableValues_Caption:"Available Values:",lblSelectedValues_Caption:"Selected Values:",lblEnterValue_Caption:"Enter a Value:"}};return lang.mixin(_2566,nls);});},"Sage/MainView/ActivityMgr/nls/EditEventEditor":function(){define("Sage/MainView/ActivityMgr/nls/EditEventEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2567,lang){var nls={root:{titleScheduleText:"Schedule Event",titleEditText:"Edit Event",lblDayTypeText:"Day Type:",lblStartDateText:"Start Date:",lblEndDateText:"End Date:",lblUserText:"User:",lookupUserText:"Lookup User",lblCategoryText:"Category:",lblLocationText:"Location:",lblDescriptionText:"Description:",btnOkayText:"OK",btnCancelText:"Cancel",btnHelpText:"Help",eventTypeActiveText:"Active",eventTypeBusinessTripText:"Business Trip",eventTypeConferenceText:"Conference",eventTypeHolidayText:"Holiday",eventTypeOffText:"Off",eventTypeTradeShowText:"Trade Show",eventTypeUnavailableText:"Unavailable",eventTypeVacationText:"Vacation",errorText:"I'm sorry, the event could not be created because an error occurred.",invaildDatesText:"I'm sorry, the end date cannot be earlier than the start date.",nameText:"Name",}};return lang.mixin(_2567,nls);});},"Sage/Utility/File/FallbackFilePicker":function(){require({cache:{"url:Sage/Utility/File/templates/FallbackFilePicker_Attachment.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.attachFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"{%= $._buildPostUrl() %}\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"128\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n            '<input type=\"hidden\" name=\"dataType\" value=\"R\" />',\r\n            '<input type=\"hidden\" name=\"attachDate\" dojoAttachPoint=\"_attachDate\"/>',\r\n            '<input type=\"hidden\" name=\"accountId\" dojoAttachPoint=\"_accountId\"/>',\r\n            '<input type=\"hidden\" name=\"activityId\" dojoAttachPoint=\"_activityId\" />',\r\n            '<input type=\"hidden\" name=\"contactId\" dojoAttachPoint=\"_contactId\" />',\r\n            '<input type=\"hidden\" name=\"contractId\" dojoAttachPoint=\"_contractId\" />',\r\n            '<input type=\"hidden\" name=\"defectId\" dojoAttachPoint=\"_defectId\" />',\r\n            '<input type=\"hidden\" name=\"historyId\" dojoAttachPoint=\"_historyId\" />',\r\n            '<input type=\"hidden\" name=\"leadId\" dojoAttachPoint=\"_leadId\" />',\r\n            '<input type=\"hidden\" name=\"opportunityId\" dojoAttachPoint=\"_opportunityId\" />',\r\n            '<input type=\"hidden\" name=\"productId\" dojoAttachPoint=\"_productId\" />',\r\n            '<input type=\"hidden\" name=\"returnId\" dojoAttachPoint=\"_returnId\" />',\r\n            '<input type=\"hidden\" name=\"salesOrderId\" dojoAttachPoint=\"_salesOrderId\" />',\r\n            '<input type=\"hidden\" name=\"ticketId\" dojoAttachPoint=\"_ticketId\" />',\r\n            '<input type=\"hidden\" name=\"userId\" dojoAttachPoint=\"_userId\" />',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]","url:Sage/Utility/File/templates/FallbackFilePicker_LibraryDoc.html":"[\r\n'<div>',\r\n    '<div dojoType=\"dijit.Dialog\" id=\"uploadFileDialog\" title=\"{%= $.addLibraryFileText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onHide\">',\r\n        '<iframe src=\"about:blank\" style=\"width:0px;height:0px;border-width:0px;\" name=\"{%= $._iframeId %}\" id=\"{%= $._iframeId %}\" dojoAttachPoint=\"_iframe\" dojoAttachEvent=\"onload:_iframeLoad\"></iframe>',\r\n        '<form method=\"post\" enctype=\"multipart/form-data\" action=\"\" target=\"{%= $._iframeId %}\" dojoAttachPoint=\"_postForm\" class=\"attachment-properties-form\">',\r\n            '<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\">',\r\n                 '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.uploadFileText %}\" >',\r\n                    '<input name=\"file\" multiple=\"false\" type=\"file\" dojoAttachEvent=\"onchange:_onNewFile\" dojoAttachPoint=\"btn_FileSelect\" class=\"uploadButton\" />',\r\n                 '</div>',\r\n                 '<div dojoType=\"dijit.form.TextBox\" label=\"{%= $.descriptionText %}\" name=\"description\" id=\"{%= $.id %}_tb_Description\" dojoAttachPoint=\"tb_Description\" maxlength=\"255\" ></div>',\r\n                 '<input type=\"hidden\" dojoType=\"dijit.form.TextBox\" name=\"fileName\" id=\"{%= $.id %}_tb_realFileName\" dojoAttachPoint=\"tb_realFileName\" maxlength=\"255\" />',\r\n            '</div>',\r\n            '<div class=\"general-dialog-actions\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>',\r\n                '<span>&nbsp;&nbsp</span>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>',\r\n            '</div>',\r\n        '</form>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/Utility/File/FallbackFilePicker",["dijit/_Widget","Sage/_Templated","dijit/Dialog","require","dojo/string","Sage/UI/Dialogs","Sage/Utility","Sage/Utility/ErrorHandler","Sage/Utility/File","Sage/Utility/File/Attachment","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","dojo/i18n","dojo/i18n!./nls/FallbackFilePicker","dojo/text!./templates/FallbackFilePicker_Attachment.html","dojo/text!./templates/FallbackFilePicker_LibraryDoc.html","dojo/_base/array","dojo/_base/declare","dojo/has"],function(_2568,_2569,_256a,_256b,_256c,_256d,_256e,_256f,File,_2570,_2571,_2572,i18n,_2573,_2574,_2575,array,_2576,has){var _2577=_2576("Sage.Utility.File.FallbackFilePicker",[_2568,_2569],{addLibraryFileText:"Add Library File",attachFileText:"Attach File",descriptionText:"Description",uploadFileText:"Select File",okText:"OK",cancelText:"Cancel",_iframeId:"attachmentPostIFrame",_hiddenFields:["_attachDate","_accountId","_activityId","_contactId","_contractId","_defectId","_historyId","_leadId","_opportunityId","_productId","_returnId","_salesOrderId","_ticketId","_userId"],_showing:false,fileType:File.fileType.ftAttachment,widgetsInTemplate:true,id:"fallbackFilePicker",widgetTemplate:null,constructor:function(_2578){this.inherited(arguments);if(_2578&&typeof _2578==="object"){dojo.mixin(this,_2578);}},destroy:function(){if(this._dialog){this._dialog.destroyRecursive();}this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","FallbackFilePicker"));this.inherited(arguments);if(this.fileType!=File.fileType.ftLibraryDocs){this.widgetTemplate=new Simplate(eval(_2574));}else{this.widgetTemplate=new Simplate(eval(_2575));}},show:function(){if(this._postForm){this._postForm.reset();}this._dialog.show();if(this.fileType!=File.fileType.ftLibraryDocs){_2570.getKnownRelationships(this._receiveRelationships,this,true);}if(has("ie")<9){this._iframe.attachEvent("onload",this._iframeLoad);window.FallbackFilePicker=this;}this._showing=true;},hide:function(){this._dialog.hide();},_onHide:function(){if(this._dialog._standby){this._dialog.hideLoading();}if(this.fileType!=File.fileType.ftLibraryDocs){for(var i=0;i<this._hiddenFields.length;i++){if(this._hiddenFields[i]){this[this._hiddenFields[i]].value="";}}}this.tb_Description.set("value","");this.tb_realFileName.set("value","");this._showing=false;},_receiveRelationships:function(rels){if(this.fileType==File.fileType.ftLibraryDocs){return;}for(var rel in rels){if(this["_"+rel]){this["_"+rel].value=rels[rel];}else{if(rel){this["_"+rel]=dojo.create("input",{"type":"hidden","name":rel,"value":rels[rel]},this._postForm);this._hiddenFields.push("_"+rel);}}}this._userId.value=_256e.getClientContextByKey("userID")||"";this._attachDate.value=_256e.Convert.toIsoStringFromDate(new Date());},_buildPostUrl:function(){var _2579=[];_2579.push(/https/i.test(window.location.protocol)?"https":"http");_2579.push("://");_2579.push(window.location.hostname);if(window.location.port&&window.location.port!==80){_2579.push(":",window.location.port);}_2579.push("/");_2579.push(_256e.getVirtualDirectoryName());if(this.fileType!=File.fileType.ftLibraryDocs){_2579.push("/slxdata.ashx/slx/system/-/attachments/file?iframe=true&format=xml");}else{if(!Sage.Library||!Sage.Library.Manager||!Sage.Library.FileHandler){_256d.showError(this.invalidContext);return null;}var _257a=Sage.Library.FileHandler.findDirectoryId();var sUrl=_256c.substitute("/slxdata.ashx/slx/system/-/libraryDirectories('${0}')/documents/file?iframe=true&format=xml",[_257a]);_2579.push(sUrl);}var url=_2579.join("");return url;},_iframeLoad:function(e){var self;if(has("ie")<9){self=window.FallbackFilePicker;}else{self=this;}var frame=self._iframe;if(frame.contentDocument.body&&frame.contentDocument.body.innerText){if(frame.contentDocument.body.innerText=="RuntimeErrorPostTooLarge"){self.hide();_256d.showError(self.fileTooLargeError);return;}}try{var _257b=function(_257c){if(_257c&&_257c.hasOwnProperty("message")){var _257d=_257c.message;if(_257c.hasOwnProperty("applicationCode")&&_256f.isSDataExceptionDiagnoses(_257c.applicationCode)){var _257e=function(){var obj={};var _257f=_257c.applicationCode.split("; ");array.forEach(_257f,function(item){if(item&&dojo.isString(item)&&item.indexOf("=")!==-1){var _2580=item.split("=");var name=_2580[0].trim();var value=_2580[1].trim();obj[name]=value;}});return obj;};var info=_257e();if(info&&info.hasOwnProperty("slxErrorId")){_257d+="<br /><br />";_257d+=self.slxErrorIdInfo+info.slxErrorId;}}_256d.showError(_257d);}};if(has("ie")){var obj={};if(has("ie")<9){var sXml=(frame.contentDocument.body)?frame.contentDocument.body.innerText:null;if(sXml&&dojo.isString(sXml)){sXml=sXml.trim();var _2581=sXml.split("\n");if(dojo.isArray(_2581)){array.forEach(_2581,function(line,idx){var pos=line.indexOf("- ");if(pos===0){_2581[idx]=line.replace("- ","");}else{pos=line.indexOf("  ");if(pos===0){_2581[idx]=line.replace("  ","");}}});sXml=_2581.join("");obj=_256f.getSDataDiagnosis(sXml,true);_257b(obj);}}}else{if(frame.contentDocument.documentElement&&frame.contentDocument.documentElement.childNodes.length>=2){if(frame.contentDocument.documentElement.childNodes[1].tagName==="sdata:diagnosis"){var _2582=frame.contentDocument.documentElement.childNodes[1];for(var i=0;i<_2582.childNodes.length;i++){var node=_2582.childNodes[i];if(node.nodeName.indexOf("sdata:")===0){obj[node.nodeName.replace("sdata:","")]=node.textContent;}}_257b(obj);}}}}}catch(err){if(typeof console!=="undefined"){}}if(frame.contentDocument.URL&&typeof frame.contentDocument.URL!=="undefined"){if(self.fileType!=File.fileType.ftLibraryDocs){if(frame.contentDocument.URL.indexOf("attachments")>0){dojo.publish("/entity/attachment/create","");self.hide();}}else{if(frame.contentDocument.URL.indexOf("/documents/file")>0){dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);self.hide();}}}},_onNewFile:function(_2583){if(_2583.srcElement&&_2583.srcElement.value.length>0){if(_2583.srcElement.value){var _2584=_2583.srcElement.value.replace(/^.*[\\\/]/,"");if(this.tb_Description.get("value")===""){var _2585=_2584.split("."),_2586="";if(_2585.length<=2){_2586=_2585[0];}else{for(var i=0;i<_2585.length-1;i++){if(i>0){_2586+=".";}_2586+=_2585[i];}}this.tb_Description.set("value",_2586);}this.tb_realFileName.set("value",_2584);}}},_okClick:function(){if(this.tb_realFileName.get("value")===""){_256d.showInfo(this.pleaseSelectFile);return;}if(this.fileType===File.fileType.ftLibraryDocs){this._postForm.action=this._buildPostUrl();}this._postForm.submit();if(!this._dialog._standby){_2571.mixin(this._dialog,new _2572());}this._dialog.showLoading();},_cancelClick:function(){this.hide();}});return _2577;});},"Sage/MainView/ReportMgr/Crystal/StringParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/StringParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n        <div dojoattachpoint=\"divMinMaxMessage\" style=\"padding-top: 5px;\">\r\n            <span dojoattachpoint=\"spanMinMaxMessage\">&nbsp;</span>\r\n        </div>\r\n        <div dojoattachpoint=\"divSingleValue\" style=\"padding-top: 5px;\">\r\n            <select data-dojo-type=\"dijit.form.Select\" dojoattachpoint=\"cmbValues\" style=\"width: 150px\">\r\n            </select>                    \r\n        </div>\r\n        <div dojoattachpoint=\"divCustomValues\" style=\"padding-top: 5px;\">\r\n            <label>{%: $._nlsResources.lblEnterValue_Caption %}</label><br />\r\n            <input data-dojo-type=\"dijit.form.TextBox\" type=\"text\" dojoAttachPoint=\"txtCustomValue\" style=\"width:150px\" />            \r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n"}});define("Sage/MainView/ReportMgr/Crystal/StringParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/string","Sage/Utility","dojo/i18n!./nls/StringParameterEditor","dojo/text!./templates/StringParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","dijit/form/MultiSelect","dijit/form/TextBox"],function(_2587,array,_2588,_2589,_258a,_258b,_258c,_258d,_258e){var _258f=_2589.makeTemplateFromString(_258b);var _2590=_2587("Sage.MainView.ReportMgr.Crystal.StringParameterEditor",[_258c],{_nlsResources:_258a,widgetTemplate:_258f,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var self=this;this._promptParameter.currentValues=[];var _2591=this._getCurrentValue();if(_2591===null){_2591="";}var _2592=self._getParameterValue(_2591);self._promptParameter.currentValues.push(_2592);return this._promptParameter;},constructor:function(_2593){},startup:function(){this.inherited(arguments);_258d.setDomNodeVisible(this.divValidationMessage,false);_258d.setDomNodeVisible(this.divSingleValue,false);_258d.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);if(this._values.length>0){_258d.setDomNodeVisible(this.divSingleValue,true);this._initializeValuesDropdown();}else{if(this._initialValues&&this._initialValues.length>0){this.txtCustomValue.set("value",this._initialValues[0].value);}}this._initializeMessages();},isValid:function(){var valid=true;var msg="";var _2594=this._getCurrentValue();if(!this._allowCustomValues){if(_2594===null){msg=_258a.txtPleaseSpecifyValue;valid=false;}}else{if(!this._valueWithinMinMaxLength(_2594)){msg=this._getMinMaxValidationMessage(_2594);valid=false;}}this._showValidationMessage(msg);return valid;},_initializeMessages:function(){var _2595=null;if(this._minimum&&!this._maximum){_2595=dojo.replace(_258a.txtTheMinimumLengthForThisField,[this._minimum]);}if(!this._minimum&&this._maximum){_2595=dojo.replace(_258a.txtTheMaximumLengthForThisField,[this._maximum]);}if(this._minimum&&this._maximum){_2595=dojo.replace(_258a.txtTheValueMustBeBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_2595);_258d.setDomNodeVisible(this.divMinMaxMessage,(_2595!==null));},_valueWithinMinMaxLength:function(value){if(this._minimum&&(value.length<this._minimum)){return false;}if(this._minimum&&(value.length>this._maximum)){return false;}return true;},_getMinMaxValidationMessage:function(value){var _2596="";if(this._minimum&&(value.length<this._minimum)){_2596=dojo.replace(_258a.txtTheMinimumLengthForThisField,[this._minimum]);return _2596;}if(this._maximum&&(value.length>this._maximum)){_2596=dojo.replace(_258a.txtTheMaximumLengthForThisField,[this._maximum]);return _2596;}return "";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_258d.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getCurrentValue:function(){var _2597=this.txtCustomValue.value;if(dojo.isString(_2597)&&_2597!==""){return _2597;}else{var _2598=this.cmbValues.get("value");if(_2598!==null&&_2598!==""&&_2598!=="-1"){var value=this._getOriginalParameterValue(_2598);return value.discreteValue.actualValue;}}return null;},_getParameterValue:function(_2599){var value={className:"CrystalReports.ParameterFieldDiscreteValue",computedText:"\""+_2599+"\"",description:_2599,displayText:_2599,discreteValue:{actualValue:_2599,actualValueType:"String",value:_2599,valueType:"String"}};return value;},_initializeValuesDropdown:function(){var items=dojo.clone(this._values);if(this._initialIds.length===0){items.unshift({_id:"-1",description:"..."});}var data={identifier:"_id",label:"description",items:items};var store=new _258e({data:data});this.cmbValues.setStore(store);this.cmbValues.startup();var self=this;array.some(this._initialIds,function(_259a,i){self.cmbValues.attr("value",_259a);return true;});if(this._initialIds.length===0&&this._initialValues.length>0&&this._allowCustomValues){this.txtCustomValue.set("value",this._initialValues[0].value);}}});return _2590;});},"Sage/Format":function(){define("Sage/Format",["Sage/Utility","dojo/string"],function(_259b,_259c){Sage.Format={phone:function(val,index){if(!val){return "";}if(val.length!==10){return _259b.htmlEncode(val);}return _259c.substitute("(${0}) ${1}-${2}",[val.substring(0,3),val.substring(3,6),val.substring(6)]);},email:function(val,index){if(!val){return "";}var _259d=val;if(this.icon&&this.icon!==""){_259d=(this.icon===true||this.icon==="true")?"<img src=\"images/icons/Send_Write_email_16x16.png\" />":"<img src=\""+this.icon+"\" />";}return dojo.string.substitute("<a href=\"mailto:${0}\">${1}</a>",[val,_259d]);},stringFromArray:function(_259e,arr){switch(arr.length){case 1:return String.format(_259e,arr[0]);case 2:return String.format(_259e,arr[0],arr[1]);case 3:return String.format(_259e,arr[0],arr[1],arr[2]);case 4:return String.format(_259e,arr[0],arr[1],arr[2],arr[3]);case 5:return String.format(_259e,arr[0],arr[1],arr[2],arr[3],arr[4]);case 6:return String.format(_259e,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5]);case 7:return String.format(_259e,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6]);case 8:return String.format(_259e,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7]);case 9:return String.format(_259e,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7],arr[8]);case 10:return String.format(_259e,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7],arr[8],arr[9]);default:return _259e;}},abbreviationFormatter:function(_259f){return function(value){if(!value||typeof (value)!="string"||value.length<=_259f){return value;}value=value.substring(0,_259f);var _25a0=value.lastIndexOf(" ");if(_25a0>0&&_25a0>value.length*0.75){value=value.substring(0,_25a0);}return value+"...";};},Address:{fullAddressFormatStrings:{"USA":"${0}\r\n${1}\r\n${2}\r\n${3}, ${4} ${5}\r\n${6}","Japan":"${0}\r\n${1}${2}\r\n${3}, ${4} ${5}\r\n${6}"},formatDefault:function(_25a1){var _25a2="",_25a3="",_25a4="",cityF="",_25a5="",_25a6="",_25a7="";var _25a8="\r\n";for(var i=0;i<_25a1.length;i++){switch(_25a1[i].name){case "addr1":_25a2=(_25a1[i].value.length>0)?_25a1[i].value:"";break;case "addr2":_25a3=(_25a1[i].value.length>0)?[_25a8,_25a1[i].value].join(""):"";break;case "addr3":_25a4=(_25a1[i].value.length>0)?[_25a8,_25a1[i].value].join(""):"";break;case "city":cityF=(_25a1[i].value.length>0)?[_25a8,_25a1[i].value,","].join(""):"";break;case "state":var _25a9=(_25a1[i-1].value.length>0)?"":_25a8;_25a5=(_25a1[i].value.length>0)?[_25a9," ",_25a1[i].value].join(""):"";break;case "postalCode":_25a6=(_25a1[i].value.length>0)?[" ",_25a1[i].value].join(""):"";break;case "country":_25a7=(_25a1[i].value.length>0)?[_25a8,_25a1[i].value].join(""):"";break;}}return [_25a2,_25a3,_25a4,cityF,_25a5,_25a6,_25a7].join("");},formatAddress:function(_25aa,_25ab){var addr1="",addr2="",addr3="",city="",state="",_25ac="",_25ad="";var _25ae="";for(var i=0;i<_25aa.length;i++){switch(_25aa[i].name){case "addr1":addr1=_25aa[i].value;break;case "addr2":addr2=_25aa[i].value;break;case "addr3":addr3=_25aa[i].value;break;case "city":city=_25aa[i].value;break;case "state":state=_25aa[i].value;break;case "postalCode":_25ac=_25aa[i].value;break;case "country":_25ad=_25aa[i].value;break;}}if(_25ab){switch(_25ad){case "USA":_25ae=this.formatDefault(_25aa);break;case "Japan":_25ae=dojo.string.substitute(this.fullAddressFormatStrings["Japan"],[addr1,addr2,addr3,city,state,_25ac,_25ad]);break;default:_25ae=this.formatDefault(_25aa);}}else{_25ae=this.formatDefault(_25aa);}return _25ae;}}};return Sage.Format;});},"Sage/QuickForms/Design/Editors/NonVisibleAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NonVisibleAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NonVisibleAdvancedPropertyEditor"],function(_25af,lang,_25b0,_25b1,_25b2,_25b3,_25b4,_25b5,_25b6,_25b7,_25b8){return _25af("Sage.QuickForms.Design.Editors.NonVisibleAdvancedPropertyEditor",[_25b0,_25b6,_25b5],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,titleText:"Advanced",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",constructor:function(){lang.mixin(this,_25b8);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));},_onControlTypeChange:function(value){},_onControlIdChange:function(value){}});});},"Sage/Workspaces/main":function(){define("Sage/Workspaces/main",["Sage/Workspaces/Dialog"],function(){});},"Sage/MailMerge/nls/Loader":function(){define("Sage/MailMerge/nls/Loader",["Sage/LanguageList","dojo/_base/lang"],function(_25b9,lang){var nls={root:{decodeFailed:"The call to DecodeMailMergeJsonFromUrl() failed."}};return lang.mixin(_25b9,nls);});},"url:Sage/UI/Controls/templates/SingleSelectPickList.html":"<div>\r\n    <select id=\"${id}-Combo\" data-dojo-type=\"Sage.UI.ComboBox\" shouldPublishMarkDirty=\"false\" required=\"${required}\" dojoAttachPoint=\"comboBox\" dojoAttachEvent=\"onChange:_onChange\">\r\n    </select>\r\n</div>\r\n","url:Sage/templates/ImageButton.html":"<span id=\"${id}\" class=\"dijit dijitReset dijitInline\" role=\"presentation\">\r\n<span class=\"dijitReset dijitInline dijitButtonNode imageButtonNode\" data-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\">\r\n        <span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\">\r\n                <img alt=\"\" src=\"\" data-dojo-attach-point=\"iconNode\"/>\r\n                <div class=\"dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}\" data-dojo-attach-point=\"iconNodeSprite\"></div>\r\n            </span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\r/></span>\r\r\n","Sage/Library/DocumentProperties":function(){require({cache:{"url:Sage/Library/templates/DocumentProperties.html":"[\r\n'<div>',\r\n'    <div dojoType=\"dijit.Dialog\" id=\"propertiesDialog\" title=\"{%= Sage.Utility.htmlEncode($.resources.DocumentProperties) %}\" dojoAttachPoint=\"_dialog\">',\r\n'        <div dojoType=\"dijit.form.Form\" id=\"propertiesForm\" method=\"POST\" onSubmit=\"return true;\">',\r\n'            <table style=\"border: 1px solid #9f9f9f;\" cellspacing=\"10\">',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileName\">{%= $.resources.FileName %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileName\" name=\"fileName\" required=\"true\" maxlength=\"255\" dojoType=\"dijit.form.ValidationTextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"CreateDate\">{%= $.resources.Created %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"createDate\" name=\"createDate\" disabled=\"disabled\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Directroy\">{%= $.resources.Directory %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"directory.fullPath\" name=\"directory.fullPath\" maxlength=\"255\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"RevisionDate\">{%= $.resources.Revised %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"text\" id=\"revisionDate\" name=\"revisionDate\" required=\"false\" dojoType=\"dijit.form.DateTextBox\" />',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"Status\">{%= $.resources.Status %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"status\" name=\"status\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <label for=\"ExpireDate\">{%= $.resources.Expires %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <div id=\"expiresRoot\" name=\"expiresRoot\"></div>',\r\n'                    </td>',\r\n'                </tr>',\r\n'                <tr>',\r\n'                    <td>',\r\n'                        <label for=\"FileSize\">{%= $.resources.Size %}:</label>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input class=\"libInputText\" type=\"text\" id=\"fileSize\" name=\"fileSize\" required=\"false\" dojoType=\"dijit.form.TextBox\" />',\r\n'                    </td>',\r\n'                    <td>',\r\n'                    </td>',\r\n'                    <td>',\r\n'                        <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"doNotExpire\" name=\"doNotExpire\" dojoAttachEvent=\"onChange:_doNotExpireChange\" />',\r\n'                        <label for=\"doNotExpire\">{%= $.resources.DoNotExpire %}</label>',\r\n'                    </td>',\r\n'                </tr>',\r\n'            </table>',\r\n'            <label for=\"Description\">{%= $.resources.Description %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"description\" name=\"description\" maxlength=\"255\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <br>',\r\n'            <label for=\"abstract\">{%= $.resources.Abstract %}:</label>',\r\n'            <br>',\r\n'            <textarea class=\"libTextBox\" id=\"abstract\" name=\"abstract\" dojoType=\"dijit.form.Textarea\"></textarea>',\r\n'            <p></p>',\r\n'            <input type=\"checkbox\" dojoType=\"dijit.form.CheckBox\" id=\"forceDistribution\" name=\"forceDistribution\" />',\r\n'            <label for=\"forceDistribution\">{%= $.resources.ForceDistribution %}</label>',\r\n'            <div style=\"text-align: right\">',\r\n'                <button class=\"libOkBtn\" dojoType=\"dijit.form.Button\" id=\"okButton\" type=\"button\" dojoAttachEvent=\"onClick:_submitClick\">{%= $.resources.OK %}</button>',\r\n'                &nbsp;',\r\n'                <button dojoType=\"dijit.form.Button\" id=\"cancelButton\" type=\"button\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.resources.Cancel %}</button>',\r\n'            </div>',\r\n'            <div style=\"display: none\">',\r\n'                <input type=\"text\" dojoType=\"dijit.form.DateTextBox\" id=\"expireDate\" name=\"expireDate\" value=\"\" />',\r\n'            </div>',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$key\" name=\"$key\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"$etag\" name=\"$etag\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expires\" name=\"expires\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"flags\" name=\"flags\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"abstract$originalValue\" name=\"abstract$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"description$originalValue\" name=\"description$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"expireDate$originalValue\" name=\"expireDate$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"fileName$originalValue\" name=\"fileName$originalValue\" value=\"\" />',\r\n'            <input type=\"hidden\" dojoType=\"dijit.form.TextBox\" id=\"revisionDate$originalValue\" name=\"revisionDate$originalValue\" value=\"\" />',\r\n'        </div>',\r\n'    </div>',\r\n'</div>'\r\n]"}});define("Sage/Library/DocumentProperties",["Sage/_Templated","dijit/_Widget","dojo/i18n","Sage/Utility","dijit/Dialog","dijit/form/CheckBox","dijit/form/DateTextBox","dijit/form/Form","dijit/form/Textarea","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/layout/LayoutContainer","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/dom-construct","dojo/i18n!./nls/DocumentProperties","dojo/text!./templates/DocumentProperties.html","dojo/_base/declare"],function(_25ba,_25bb,i18n,_25bc,_25bd,_25be,_25bf,Form,_25c0,_25c1,_25c2,_25c3,_25c4,dLang,_25c5,nls,_25c6,_25c7){var _25c8=_25c7("Sage.Library.DocumentProperties",[_25bb,_25ba],{_cancelClick:function(){this.hide();},_dialog:false,_doNotExpireChange:function(_25c9){if(this._ready){if(_25c9===true){this._updateExpires(false,null);}else{var _25ca=dijit.byId("expireDate$originalValue").get("value");var _25cb=new Date();if(_25ca&&dojo.isString(_25ca)&&_25bc.Convert.isDateString(_25ca)){_25cb=_25bc.Convert.toDateFromString(_25ca);_25cb=new Date(_25cb.getUTCFullYear(),_25cb.getUTCMonth(),_25cb.getUTCDate());}this._updateExpires(true,_25cb);}}},_neverExpireDate:new Date(2099,0,1),_ready:false,_submitClick:function(){this.hide();Sage.Library.FileHandler.validateProperties(this.getData());},_updateExpires:function(_25cc,_25cd){if(_25cc===false){var _25ce=dijit.byId("neverExpireControl");if(!_25ce){_25ce=new _25c1({},"neverExpireControl");_25ce.set("disabled","disabled");}_25ce.set("value",this.resources.Never);dijit.byId("expireDate").set("value",this._neverExpireDate);dojo.place(_25ce.domNode,"expiresRoot","only");}else{var _25cf=dijit.byId("expireDateControl");if(!_25cf){_25cf=new _25bf({},"expireDateControl");_25cf.set("onChange",function(_25d0){dijit.byId("expireDate").set("value",_25d0);});}_25cf.set("value",_25cd);dojo.place(_25cf.domNode,"expiresRoot","only");}},resources:{},constructor:function(){this.inherited(arguments);this.resources={};},postMixInProperties:function(){dLang.mixin(this.resources,nls);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _25d1=dijit.byId("fileName");if(_25d1){_25d1.regExp="[^\\\\/:\"*?<>|\r\n]+";_25d1.invalidMessage=this.resources.InvalidFileName;}dLang.mixin(this._dialog,new _25c4());this._dialog.createHelpIconByTopic("libraryfileproperties");},getData:function(){var form=dijit.byId("propertiesForm");if(form){return form.get("value");}return false;},hide:function(){this._dialog.hide();},show:function(entry,_25d2){this._ready=false;var self=this;var form=dijit.byId("propertiesForm");if(!this._dialog.onFocusEvent){this._dialog.onFocusEvent=dojo.connect(this._dialog,"onFocus",function(){if(form){self._updateExpires(entry.expires,entry["expireDate"]);form.set("value",entry);}self._ready=true;});}if(!this._dialog.onHideEvent){this._dialog.onHideEvent=dojo.connect(this._dialog,"onHide",function(){dojo.disconnect(self._dialog.onFocusEvent);dojo.disconnect(self._dialog.onHideEvent);self._dialog.onFocusEvent=null;self._dialog.onHideEvent=null;self._ready=false;});}dijit.byId("doNotExpire").set("checked",(entry.expires===false));dijit.byId("forceDistribution").set("checked",(entry.flags===1));dijit.byId("directory.fullPath").set("readOnly",true);dijit.byId("status").set("readOnly",true);dijit.byId("fileSize").set("readOnly",true);if(_25d2){dijit.byId("doNotExpire").set("disabled","disabled");dijit.byId("forceDistribution").set("disabled","disabled");dijit.byId("fileName").set("readOnly",true);dijit.byId("revisionDate").set("disabled","disabled");dijit.byId("description").set("readOnly",true);dijit.byId("abstract").set("readOnly",true);dijit.byId("okButton").set("disabled","disabled");}this._dialog.show();},widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_25c6))});return _25c8;});},"Sage/QuickForms/Design/Editors/PickListBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/PickListBasicPropertyEditor",["dojo/string","dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","dijit/form/ComboBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","Sage/Services/_ServiceMixin","dojo/i18n!./nls/PickListBasicPropertyEditor"],function(_25d3,_25d4,lang,_25d5,_25d6,_25d7,_25d8,_25d9,_25da,_25db,_25dc,_25dd,_25de,_25df,_25e0){return _25d4("Sage.QuickForms.Design.Editors.PickListBasicPropertyEditor",[_25d5,_25dd,_25dc,_25df],{serviceMap:{"dataService":{type:"sdata",name:"system"}},widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.captionTooltipText %}\">","<label>{%= $.captionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_caption\" data-dojo-attach-event=\"onChange:_onCaptionChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.captionAlignmentTooltipText %}\">","<label>{%= $.captionAlignmentText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_captionAlignment\" data-dojo-attach-event=\"onChange:_onCaptionAlignmentChange\">","{% for (var alignment in $.alignmentText) { %}","<span value=\"{%= alignment %}\">{%= $.alignmentText[alignment] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.toolTipTooltipText %}\">","<label>{%= $.toolTipText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_toolTip\" data-dojo-attach-event=\"onChange:_onToolTipChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.isReadOnlyTooltipText %}\">","<label>{%= $.isReadOnlyText %}</label>","<div data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-point=\"_isReadOnly\" data-dojo-attach-event=\"onChange:_onIsReadOnlyChange\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_25e0);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/UI/SDataMainViewConfigurationProvider":function(){define("Sage/UI/SDataMainViewConfigurationProvider",["Sage/UI/ListPanel","Sage/_ConfigurationProvider","Sage/UI/TitleContentPane","Sage/UI/DetailPanel","Sage/UI/_DetailPanelConfigurationProvider","dojo/_base/declare"],function(_25e1,_25e2,_25e3,_25e4,_25e5,_25e6){var _25e7=_25e6("Sage.UI.SDataMainViewConfigurationProvider",[_25e2,Sage.UI._TitlePaneConfigProvider,_25e5],{entityType:"",service:null,listPanelConfiguration:false,constructor:function(_25e8){this.listPanelConfiguration=this.listPanelConfiguration||{list:{},detail:false,summary:false};this.titlePaneConfiguration=this.titlePaneConfiguration||{tabs:false,menu:false,titleFmtString:"${0}"};var eCtx=Sage.Services.getService("ClientEntityContext");if(eCtx){eCtx.setContext({EntityType:this.entityType});}var _25e9=Sage.Services.getService("ClientGroupContext");if(_25e9){dojo.connect(_25e9,"onCurrentGroupChanged",this,"handleProfileChanged");}if(Sage.Services.hasService("MainViewConfigurationProvider")){Sage.Services.removeService("MainViewConfigurationProvider");}},handleProfileChanged:function(opt){this.onConfigurationChange(opt);},requestConfiguration:function(_25ea){if(_25ea.success&&this.listPanelConfiguration){_25ea.success.call(_25ea.scope||this,this.listPanelConfiguration,this);}}});return _25e7;});},"url:Sage/MainView/JobMgr/templates/RunJobDialog.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.nlsResources.dlgRunJob_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 525px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                '<table cellspacing=\"10\">',                    \r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtJobName_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtJobName\" required=\"true\" dojoType=\"dijit.form.TextBox\" disabled=\"disabled\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtTriggerDescription_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtTriggerDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $.nlsResources.cmbScheduleType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbScheduleType\" dojoAttachEvent=\"onChange:_cmbScheduleType_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"now\">{%= $.nlsResources.txtRunNow %}</option>',\r\n                                '<option value=\"scheduled\">{%= $.nlsResources.txtScheduledExecution %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n                '<div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>',\r\n                '<div dojoType=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabsContainer\" class=\"tab-container\" style=\"width:100%; height:250px\">',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\"  title=\"{%= $.nlsResources.contentPaneParameters_Caption %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"contentPaneParameters\">',\r\n                        '<div id=\"divGrdParameters\" style=\"height:200px;\">',\r\n                            '<table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdJobParameters\">',\r\n                                '<thead>',\r\n                                    '<th field=\"name\" width=\"100px\">{%= $.nlsResources.colName_Caption %}</th>',\r\n                                    '<th id=\"parameterValue\" field=\"defaultValue\" width=\"100px\" editable=\"true\">{%= $.nlsResources.colValue_Caption %}</th>',\r\n                                    '<th field=\"description\" width=\"225px\">{%= $.nlsResources.colDescription_Caption %}</th>',\r\n                                '</thead>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $.nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $.nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/MainView/ReportMgr/Common/ExportOptionsDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Common/templates/ExportOptionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"overflow:auto\">\r\n                <div dojoattachpoint=\"containerDiv\" id=\"containerDiv\" style=\"height:350px; overflow:auto\">\r\n                    <table cellspacing=\"10\">\r\n                        <tr dojoAttachpoint=\"trScheduleDescription\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtScheduleDescription_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <input type=\"text\" dojoAttachPoint=\"txtScheduleDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:300px\" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtOutputFormat_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOutputFormat\" sortByLabel=\"false\" style=\"width:300px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trRunAsUserId\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtRunAs_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.txtRunAs_Caption %}\" dojoAttachPoint=\"container_lkpRunAsUserId\" style=\"padding: 0 !important;\"></div>                            \r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint=\"trSchedulingWidget\">                            \r\n                            <td colspan=\"2\">\r\n                                <div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Common/ExportOptionsDialog",["dojo/_base/declare","dojo/_base/array","Sage/Reporting/Enumerations","dojo/text!./templates/ExportOptionsDialog.html","dojo/i18n!./nls/ExportOptionsDialog","Sage/UI/Controls/Lookup","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/Utility","Sage/UI/JobSchedulingWidget","dijit/Dialog","dijit/form/Form"],function(_25eb,_25ec,_25ed,_25ee,_25ef,_25f0,_25f1,_25f2,_25f3,_25f4,_25f5){var _25f6=_25f4.makeTemplateFromString(_25ee);var _25f7=_25eb("Sage.MainView.ReportMgr.Common.ExportOptionsDialog",[_25f3],{id:"dlgExportOptions",_nlsResources:_25ef,_helpIconTopic:"RptscheduleWiz",_currentStep:_25ed.CrystalReportWizardStep.ExportOptions,_scheduleOptions:null,_exportOptions:null,widgetTemplate:_25f6,constructor:function(_25f8){this._initializeWizardOptions(_25f8);this._scheduleOptions=_25f8.scheduleOptions;this._exportOptions=_25f8.exportOptions;},destroy:function(){this.lkpRunAsUserId.destroyRecursive();this.cmbOutputFormat.destroyRecursive();if(this.jobSchedulingWidget){this.jobSchedulingWidget.destroyRecursive();}this._dialog.destroyRecursive();this.inherited(arguments);},show:function(){this.jobSchedulingWidget.initialize({trigger:this._scheduleOptions.trigger});this.inherited(arguments);},startup:function(){this.inherited(arguments);this._createRunAsLookup();this._setControlsVisibility();this._initializeOutputFormatDropdown();this._initializeTextboxes();},isValid:function(){var valid=true;if(this._scheduleOptions.executionType===_25ed.ExecutionType.Scheduled){valid=this.jobSchedulingWidget.validateSchedule();}return valid;},_initializeTextboxes:function(){var _25f9=this._scheduleOptions.trigger?this._scheduleOptions.trigger.$descriptor:this.reportMetadata.displayName;this.txtScheduleDescription.set("value",_25f9);},_initializeOutputFormatDropdown:function(){var _25fa=_25f1.getOutputFormats(this.reportMetadata.reportType);var data={identifier:"outputFormat",label:"caption",items:_25fa};var store=new _25f2({data:data});this.cmbOutputFormat.setStore(store);this.cmbOutputFormat.startup();if(this._exportOptions.outputFormat){this.cmbOutputFormat.attr("value",this._exportOptions.outputFormat);}},_createRunAsLookup:function(){var _25fb={id:"_lkpRunAsUserId",structure:[{cells:[{name:_25ef.txtName,field:"UserInfo.UserName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return "Type ne 5 and Type ne 8 and Type ne 6";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",include:["UserInfo"],sort:[{attribute:"UserInfo.UserName"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_25ef.txtSelectUser,dialogButtonText:_25ef.txtOK};this.lkpRunAsUserId=new _25f0({id:"lkpRunAsUserId",readonly:false,config:_25fb});dojo.place(this.lkpRunAsUserId.domNode,this.container_lkpRunAsUserId.domNode,"only");if(this._exportOptions.runAsUserId){var user=_25f1.getUser(this._exportOptions.runAsUserId);this.lkpRunAsUserId.set("selectedObject",user);}},_getWizardStepResult:function(){var _25fc={exportOptions:this._getExportOptions(),scheduleOptions:this._getScheduleOptions()};return _25fc;},_getExportOptions:function(){this._exportOptions.description=this.txtScheduleDescription.get("value");this._exportOptions.outputFormat=this.cmbOutputFormat.value;this._exportOptions.runAsUserId=this.lkpRunAsUserId.selectedObject?this.lkpRunAsUserId.selectedObject.$key:null;return this._exportOptions;},_getScheduleOptions:function(){if(this._scheduleOptions.executionType==_25ed.ExecutionType.OnDemand){this._scheduleOptions.executionType=_25ed.ExecutionType.OnDemand;}else{var _25fd=this.jobSchedulingWidget.getJobSchedulingOptions();var _25fe=null;var _25ff=null;var _2600=null;if(_25fd){if(_25fd.startTime&&(_25fd.startTime instanceof Date)){_25fe=_25f4.Convert.toJsonStringFromDate(_25fd.startTime);}if(_25fd.endTime&&(_25fd.endTime instanceof Date)){_25ff=_25f4.Convert.toJsonStringFromDate(_25fd.endTime);}_2600=_25fd.cronExpression;}this._scheduleOptions.startTime=_25fe;this._scheduleOptions.endTime=_25ff;this._scheduleOptions.cronExpression=_2600;this._scheduleOptions.scheduleDescription=this.txtScheduleDescription.get("value");this._scheduleOptions.executionType=_25ed.ExecutionType.Scheduled;}return this._scheduleOptions;},_setControlsVisibility:function(){var svc=Sage.Services.getService("RoleSecurityService");if(svc){if(!svc.hasAccess("Entities/ReportManager/RunAsUser")){_25f1.setDomNodeVisible(this.trRunAsUserId,false);}}var _2601=(this._scheduleOptions.executionType===_25ed.ExecutionType.Scheduled);_25f1.setDomNodeVisible(this.trSchedulingWidget,_2601);},_getDialogTitle:function(){if(this._scheduleOptions.executionType===_25ed.ExecutionType.OnDemand){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";}else{return this._nlsResources.txtDialogTitleScheduling+" ["+this._reportMetadata.displayName+"]";}}});return _25f7;});},"Sage/UI/Controls/nls/DateTimePicker":function(){define("Sage/UI/Controls/nls/DateTimePicker",["Sage/LanguageList","dojo/_base/lang"],function(_2602,lang){var nls={root:{okText:"OK",cancelText:"Cancel",convertDescription:"Compare to another time zone.",convertText:"Compare",calculatorText:"Time Zone Calculator",timeZoneSourceText:"Current Time Zone",timeZoneDestText:"Comparison Time Zone",buttonToolTip:"Calendar",timeStartText:"Time",timeZoneCalculatorText:"Time Zone Calculator"}};return lang.mixin(_2602,nls);});},"Sage/UI/GroupMenuFmtScope":function(){define("Sage/UI/GroupMenuFmtScope",["dijit/form/CheckBox","dojo/_base/declare"],function(_2603,_2604){var scope=_2604("Sage.UI.GroupMenuFmtScope",null,{store:null,currentGroupId:"",constructor:function(args){this.store=args.store;this.currentGroupId="";var _2605=Sage.Services.getService("ClientGroupContext");if(_2605){dojo.connect(_2605,"onCurrentGroupChanged",this,"onCurrentGroupChanged");}},fmtSelectedCol:function(value,idx){if(this.currentGroupId===""){var _2606=Sage.Services.getService("ClientGroupContext");if(_2606){var _2607=_2606.getContext();this.currentGroupId=(_2607.CurrentGroupID==="LOOKUPRESULTS")?"p6UJ9A00024G":_2607.CurrentGroupID;}}return (value===this.currentGroupId)?["<span id=\"",value,"\" >&#10003;</span>"].join(""):["<span id=\"",value,"\" >&nbsp;</span>"].join("");},fmtHideCol:function(value,idx,cell){var grid=cell.grid,item=grid.getItem(idx),_2608=new _2603();_2608.set("checked",!value);_2608.on("click",function(){var _2609=_2608.get("checked"),svc=Sage.Services.getService("RoleSecurityService");if(svc.hasAccess("Entities/Group/Edit")){if(_2609){Sage.Groups.GroupManager.UnHideGroup(item["$key"],true);}else{Sage.Groups.GroupManager.HideGroup(item["$key"],true);}}});return _2608;},onCurrentGroupChanged:function(){this.currentGroupId="";var _260a=Sage.Services.getService("ClientGroupContext");var _260b=_260a.getContext();if(dijit.byId("GroupTabs").selectedChildWidget.id!==_260b.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_260b.CurrentGroupID);}}});return scope;});},"Sage/UI/AttachmentList":function(){define("Sage/UI/AttachmentList",["dijit/_Widget","Sage/UI/EditableGrid","Sage/Data/SDataServiceRegistry","dojo/string","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/Utility","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/UI/Dialogs","Sage/Utility/File/AttachmentPropertiesEditForm","Sage/Utility/File/FallbackFilePicker","Sage/Utility/File/AddURLAttachment","Sage/Utility/File/GoogleDocPicker","Sage/UI/SLXPreviewGrid","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/Text","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/_base/connect","dojo/i18n!./nls/AttachmentList"],function(_260c,_260d,_260e,_260f,_2610,_2611,_2612,_2613,_2614,_2615,_2616,_2617,_2618,_2619,_261a,_261b,_261c,_261d,_261e,lang,_261f,_2620){var _2621=_261d("Sage.UI.AttachmentList",[_260c],{placeHolder:"",conditionFmt:"",parentRelationshipName:"",workspace:"",tabId:"",fileInputBtn:false,_fileInputOnChange:null,_attachmentEditor:false,_newAttachmentsCache:[],subscriptions:[],constructor:function(){lang.mixin(this,_2620);this.subscriptions=[];},startup:function(_2622){this._checkDbType(_2622);},_checkDbType:function(_2623){var svc=Sage.Services.getService("SystemOptions");svc.get("DbType",function(val){this._buildGrid(val==="2"||val==="3");if(typeof _2623=="function"){_2623(this);}},function(){this._buildGrid(false);if(typeof _2623=="function"){_2623(this);}},this);},_buildGrid:function(_2624){var _2625=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_2626,cel){var _2627=[cel.grid.id,"-row",_2626].join("");var id=(_2612.getModeId()==="insert")?_2627:value;var _2628=["<div id=",id," >",id,"</ div>"].join("");return _2628;}},{field:"description",name:_2620.attachmentText,format:function(_2629,_262a){if(!_262a){return this.defaultValue;}if(_262a["url"]){var href=_262a["url"]||"";href=(href.indexOf("http")<0)?"http://"+href:href;return _260f.substitute("<a href=\"${0}\" target=\"_blank\" title=\"${1}\">${2}</a>",[href,_262a["url"],_262a["$descriptor"]]);}else{if(_262a["fileExists"]){return _260f.substitute("<a href=\"javascript: Sage.Utility.File.Attachment.getAttachment('${0}');\" title=\"${1}\">${1}</a>",[_262a["$key"],_262a["$descriptor"]]);}else{return _262a["$descriptor"];}}},filterConfig:{widgetType:_261c},width:"300px"},{field:"user",name:_2620.userText,format:function(_262b,_262c){if(!_262c){return "";}var user=(_262c.hasOwnProperty("user")&&typeof _262c["user"]==="object")?_262c.user:null;if(!user){return "";}return user["$descriptor"];},width:"120px"},{field:"attachDate",name:_2620.modDateText,filterConfig:{widgetType:_261b,label:_2620.dateRangeText},type:_2610,width:"175px"},{field:"fileSize",name:_2620.sizeText,formatter:function(v){return _2613.formatFileSize(v);},width:"120px"},{field:"fileName",name:_2620.extensionText,formatter:function(s,_262d,cell){if(!s){return ".";}return s.substr(s.lastIndexOf("."));},sortable:false,width:"120px"}];var tools=[{id:this.id+"_btnBrowse",imageClass:"icon_plus_16x16",handler:this.browseForFiles,title:_2620.addFileText,alternateText:_2620.addFileText,appliedSecurity:"",scope:this},{id:this.id+"_btnAddUrl",imageClass:"icon_Internet_Service_Add_16x16",handler:this.addUrlAttachment,title:_2620.addUrlText,appliedSecurity:"",alternateText:_2620.addUrlText,scope:this},{id:this.id+"_btnEditAttachProps",imageClass:"icon_Edit_Item_16x16",handler:this.editSelectedAttachment,title:_2620.editText,appliedSecurity:"",alternateText:_2620.editText,scope:this},{id:this.id+"_btnDeleteAttachment",imageClass:"icon_Delete_16x16",title:_2620.deleteText,handler:this.deleteSelectedAttachment,appliedSecurity:"",alternateText:_2620.deleteText,scope:this},{id:this.id+"_btnHelp",imageClass:"icon_Help_16x16",handler:function(){_2612.openHelp("attachmentstab");},title:_2620.helpText,alternateText:_2620.helpText,appliedSecurity:""}];if(_2624){var _262e={field:"remoteStatus",name:"&nbsp;",width:"300px",format:function(_262f,_2630){if(!_2630){return this.defaultValue;}var _2631=(_2630["remoteStatus"])?_2630["remoteStatus"]:(_2630["fileExists"])?"Delivered":"Available";if(!_2630["dataType"]){_2631="X";}var link=_260f.substitute("<a href=\"javascript:Sage.Utility.File.Attachment.remoteRequestAttachment('${0}')\">${1}</a>",[_2630["$key"],_2620.request]);switch(_2631){case "Available":return _2620.available+" - "+link;case "Requested":return _2620.requested;case "Delivered":return _2620.delivered+" - "+link;default:return " ";}}};_2625.splice(2,0,_262e);}var _2632=this.parentRelationshipName;var _2633=_2612.getCurrentEntityId();if(_2632==="activityId"){_2633=_2633.substr(0,12);}var _2634={readOnly:true,columns:_2625,tools:tools,storeOptions:{service:_260e.getSDataService("system"),resourceKind:"attachments",include:["$descriptors"],select:["description","user","attachDate","fileSize","fileName","url","fileExists","remoteStatus","dataType"],sort:[{attribute:"attachDate"}]},slxContext:{"workspace":this.workspace,tabId:this.tabId},contextualCondition:function(){return (_2632||"'A'")+" eq '"+_2633+"'";},id:this.id+"_attachments",rowsPerPage:20};var curId=_2612.getCurrentEntityId();if(!curId){_2634.storeOptions["isInsertMode"]=true;}this.onBeforeCreateGrid(_2634);var grid=new _261a.Grid(_2634,this.placeHolder);grid.setSortColumn("attachDate");this._grid=grid._grid;this._previewGrid=grid;grid.startup();if(this.workspace){var _2635=dijit.byId("tabContent");_2635.resize();_2635.resize();}var self=this;this.fileInputBtn=dojo.doc.createElement("INPUT");dojo.attr(this.fileInputBtn,{"type":"file","multiple":"true","accept":"*/*","class":"display-none"});dojo.place(this.fileInputBtn,this.domNode,"last");self._fileInputOnChange=_261f.connect(this.fileInputBtn,"onchange",self,self.handleFiles);this.subscriptions.push(dojo.subscribe("/entity/attachment/create",this,this.onNewAttachmentEntity));this.subscriptions.push(dojo.subscribe("/entity/attachment/update",this,this.onAttachmentUpdated));if(_2624){this.subscriptions.push(dojo.subscribe("/entity/attachment/requested",this,this.onAttachmentUpdated));}dojo.connect(grid,"destroy",this,this.destroy);var _2636=Sage.Services.getService("ClientEntityContext");var ctx=_2636.getContext();this.contextEntityType=ctx.EntityType;},refresh:function(){if(this._grid){var _2637=this._grid.get("mode");var curId=_2612.getCurrentEntityId();if((!curId&&_2637!=="insert")||(curId&&_2637==="insert")){this._grid.set("mode",(!curId)?"insert":"");}this._previewGrid.refresh();}},resetEntityContext:function(){var _2638=this.parentRelationshipName;var _2639=_2612.getCurrentEntityId();if(_2638==="activityId"){_2639=_2639.substr(0,12);}var _263a=function(){return (_2638||"'A'")+" eq '"+_2639+"'";};this._previewGrid.resetContextualCondition(_263a);this.refresh();},destroy:function(){var len=this.subscriptions.length;for(var i=0;i<len;i++){dojo.unsubscribe(this.subscriptions.pop());}},handleFiles:function(e){var files=this.fileInputBtn.files;this._createAttachments(files);},handleGearsDesktopFileSelect:function(files){if(files.length>0){_2614.createAttachments(files);}},_createAttachments:function(files){if(files.length>0){_2614.createAttachments(files);}},onNewAttachmentEntity:function(_263b){var _263c=Sage.Services.getService("ClientEntityContext");var ctx=_263c.getContext();if(this.contextEntityType!==ctx.EntityType){return;}if(this._grid.mode==="insert"){if(!_263b){this._getFallBackPickerAttachment();return;}else{this._newAttachmentsCache.push(_263b);this._grid.store.addToCache(this,_263b,1);}}this._previewGrid.refresh();},_getFallBackPickerAttachment:function(){var _263d=dijit.byId("activityEditor");var _263e="activityId";if(!_263d||!_263d._tempIdForAttachments){_263d=dijit.byId("historyEditor")||{};_263e="historyId";}var _263f=_263d._tempIdForAttachments;if(_263f){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_260e.getSDataService("system")).setResourceKind("attachments").setQueryArg("select",["description","userId","attachDate","fileSize","fileName","url","fileExists"].join(",")).setQueryArg("where",_263e+" eq '"+_263f+"'").setStartIndex(1).setCount(50);req.read({success:this._receivedFallBackPickerAttachments,failure:function(){},scope:this});}},_receivedFallBackPickerAttachments:function(data){var _2640=data.$resources;this.clearNewAttachments();for(var i=0;i<_2640.length;i++){var att=_2640[i];this._newAttachmentsCache.push(att);this._grid.store.addToCache(this,att,i);}this._previewGrid.refresh();},onAttachmentUpdated:function(_2641){var _2642=Sage.Services.getService("ClientEntityContext");var ctx=_2642.getContext();if(this.contextEntityType!==ctx.EntityType){return;}if(this._grid.mode==="insert"){var _2643=this._newAttachmentsCache;for(var i=0;i<_2643.length;i++){if(_2643[i].$key===_2641.$key){lang.mixin(_2643[i],_2641);}}}this._previewGrid.refresh();},getNewAttachments:function(){return this._newAttachmentsCache;},clearNewAttachments:function(){this._newAttachmentsCache=[];this._grid.store.clearCache();},_editAttachmentInfo:function(_2644){if(!this._attachmentEditor){this._attachmentEditor=new _2616();}this._attachmentEditor.set("attachmentId",_2644);this._attachmentEditor.show();},browseForFiles:function(e){if(Sage.gears){var _2645=Sage.gears.factory.create("beta.desktop");_2645.openFiles(this.handleGearsDesktopFileSelect);}else{if(_2613.supportsHTML5File){var node=this.fileInputBtn.cloneNode();_261e.destroy(this.fileInputBtn);_261e.place(node,this.domNode,"last");this.fileInputBtn=node;_261f.disconnect(this._fileInputOnChange);this._fileInputOnChange=_261f.connect(this.fileInputBtn,"onchange",this,this.handleFiles);this.fileInputBtn.click();}else{var fbfp=dijit.byId("fallbackFilePicker");if(!fbfp){fbfp=new _2617({id:"fallbackFilePicker"});}fbfp.show();}}},addUrlAttachment:function(e){var ed=dijit.byId("urlAttachmentEditor");if(!ed){ed=new _2618({id:"urlAttachmentEditor"});}ed.set("attachmentId","");ed.show();},editSelectedAttachment:function(){var _2646=this._grid.selection.getSelected();if(_2646.length<1){return;}var item=_2646[0];this._editAttachmentInfo(item["$key"]);},deleteSelectedAttachment:function(){this._grid.deleteSelected(function(){dojo.publish("/entity/attachment/delete");});},addGoogle:function(){var _2647=dijit.byId("googleDocumentPicker");if(!_2647){_2647=new _2619({id:"googleDocumentPicker"});dojo.connect(_2647,"onDocumentSelected",this,"_handleGoogleDocPicked");}_2647.pick();},_handleGoogleDocPicked:function(title,url){var _2648=new Sage.SData.Client.SDataTemplateResourceRequest(_260e.getSDataService("system"));_2648.setResourceKind("attachments");_2648.read({success:function(_2649){_2649.description=dojo.isArray(title)?title[0]:title;_2649.url=dojo.isArray(url)?url[0]:url;this._addRelationshipsToGoogleDocAttachment(_2649);},failure:function(err){},scope:this});},_addRelationshipsToGoogleDocAttachment:function(_264a){_2614.getKnownRelationships(function(rels){var _264b=lang.mixin(_264a,rels);_264b.user={"$key":_2612.getClientContextByKey("userID")||""};_264b.attachDate=_2612.Convert.toIsoStringFromDate(new Date());var _264c=new Sage.SData.Client.SDataSingleResourceRequest(_260e.getSDataService("system")).setResourceKind("attachments");_264c.create(_264b,{success:function(att){dojo.publish("/entity/attachment/create",att);},failure:function(err){},scope:this});},this);},onBeforeCreateGrid:function(_264d){},setToReadOnly:function(_264e){var _264f=[this.id+"_btnBrowse",this.id+"_btnAddUrl",this.id+"_btnEditAttachProps",this.id+"_btnDeleteAttachment"];this._bulkSetProperty(this,_264f,"disabled",_264e);},_bulkSetProperty:function(ui,_2650,prop,val){for(var i=0;i<_2650.length;i++){var ctrl=dijit.byId(_2650[i]);if(ctrl){ctrl.set(prop,val);}}}});return _2621;});},"Sage/MainView/SecurityMgr/SecurityManagerGroupContext":function(){define("Sage/MainView/SecurityMgr/SecurityManagerGroupContext",["Sage/Groups/GroupContextService","dojo/_base/declare"],function(_2651,_2652){var _2653=_2652("Sage.MainView.SecurityMgr.SecurityManagerGroupContext",_2651,{_currentContext:{},constructor:function(){dojo.mixin(this._currentContext,this._emptyContext);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}this.setContext("PROF00000001","Read/Write Default");},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._isRetrievingContext=false;},setCurrentGroup:function(id,name){this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});}});return _2653;});},"Sage/MainView/ReportMgr/nls/ReportManagerActions":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerActions",["Sage/LanguageList","dojo/_base/lang"],function(_2654,lang){var nls={root:{txtSelectRecord:"Please select a record in the list before continuing.",txtInvalidSelectionCount:"You must have at least one record selected before continuing.",confirm_Deletion:"Are you sure you want to delete the selected ${0}?",confirm_Report:"report",confirm_Schedule:"schedule",confirm_ReportHistory:"report history record",txtYes:"Yes",txtNo:"No",deleteJobError:"Sorry an error occurred during the deletion process: ${0}",txtDeleteHistory:"Deleting history records",txtDeleteTitle:"Delete History",txtErrorDeleteReport:"An error occurred deleting report: ${0}"}};return lang.mixin(_2654,nls);});},"Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/BooleanParameterEditor.html":"<div>\r\n    <div dojoattachpoint=\"promptParameterContainer\" style=\"border: 1px solid #B5BCC7; padding: 10px\">\r\n        <div style=\"border-bottom: 1px solid #B5BCC7; padding-bottom: 5px\">\r\n            <div style=\"float: left\">\r\n                <label for=\"values\">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style=\"float: right\">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style=\"clear: both\"></div>\r\n        </div>\r\n        <div style=\"padding-top: 5px;\">\r\n            <select dojotype=\"dijit.form.Select\" dojoattachpoint=\"cmbValues\" style=\"width: 150px\">\r\n            </select>\r\n        </div>\r\n        <div dojoattachpoint=\"divValidationMessage\" style=\"padding-top: 5px; color:red\">\r\n            <span dojoattachpoint=\"spanValidationMessage\">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>"}});define("Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/text!./templates/BooleanParameterEditor.html","dojo/i18n!./nls/BooleanParameterEditor","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","Sage/Utility"],function(_2655,_2656,_2657,_2658,_2659,_265a,_265b,_265c,_265d){var _265e=_265d.makeTemplateFromString(_2657);var _265f=_2655("Sage.MainView.ReportMgr.Crystal.BooleanParameterEditor",[_2659],{widgetTemplate:_265e,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var _2660=this._getCurrentValue();if(_2660){this._promptParameter.currentValues=[_2660];}return this._promptParameter;},constructor:function(_2661){},startup:function(){this.inherited(arguments);this._initializeValuesDropdown();_265a.setDomNodeVisible(this.divValidationMessage,false);},isValid:function(){var valid=true;var msg="";var _2662=this._getCurrentValue();if(!this._allowCustomValues){if(_2662===null){msg=_2658.txtPleaseSpecifyValue;valid=false;}}this._showValidationMessage(msg);return valid;},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_265a.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getCurrentValue:function(){var _2663=this.cmbValues.value;if(_2663!==null&&_2663!==""&&_2663!=="-1"){var value=this._getOriginalParameterValue(_2663);return value;}return null;},_initializeValuesDropdown:function(){var items=dojo.clone(this._values);if(this._initialIds.length===0){items.unshift({_id:"-1",description:"..."});}var data={identifier:"_id",label:"description",items:items};var store=new _265b({data:data});this.cmbValues.setStore(store);this.cmbValues.startup();if(this._initialValues.length>0){var _2664=this._initialValues[0];var self=this;_2656.some(this._values,function(entry,i){if(entry.value===_2664.value){self.cmbValues.attr("value",entry._id);return true;}});}}});return _265f;});},"Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig",["Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig","Sage/UI/SDataLookup","dojo/i18n!./nls/LeadLookupConfig","dojo/_base/declare","dojo/_base/lang"],function(_2665,_2666,_2667,_2668,lang){var _2669=_2668("Sage.MainView.ActivityMgr.AttendeeLookup.LeadLookupConfig",[_2665],{constructor:function(){lang.mixin(this,_2667);this.lookupType=_2666;this._initConfig();},_initConfig:function(){this.id="_leadLookup",this.lookupName="Lead";this.lookupDisplayName="Lead Lookup";this.entityName="Lead";this.dialogTitle=this.dialogTitleText,this.cells=null;this.cells=this.getCells();this.defaultCell={"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""};this.storeOptions={resourceKind:"leads",select:["LastName","FirstName","Title","Type","Company","Address/Timezone"],sort:[{attribute:"LastName"}]};this.preFilters=[];this.gridOptions={};this.query={};this.isModal=true;this.displayMode=5;this.initialLookup=false;},getCells:function(){if(this.cells){return this.cells;}this.cells=[{name:this.colFirstName,field:"FirstName"},{name:this.colLastName,field:"LastName"},{name:this.colTitle,field:"Title"},{name:this.colCompany,field:"Company"},{name:this.colWorkPhone,field:"WorkPhone"},{name:this.colEmail,field:"Email"}];return this.cells;},getConfig:function(uiid){var _266a={id:this.id+"_base_"+uiid,btnToolTip:"",structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,displayMode:this.displayMode,storeOptions:this.storeOptions,isModal:this.isModal,initialLookup:this.initialLookup,preFilters:this.preFilters,query:this.query,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:function(){alert("overide the doSelect method");},cancelText:this.cancelText};return _266a;},getLookupInstance:function(uiid){var _266b=this.getConfig(uiid);var _266c=new this.lookupType(_266b);return _266c;}});return _2669;});},"Sage/UI/Alarms/nls/AlarmPopup":function(){define("Sage/UI/Alarms/nls/AlarmPopup",["Sage/LanguageList","dojo/_base/lang"],function(_266d,lang){var nls={root:{title:"Alerts",alarmsText:"Alarms",unconfirmedText:"Unconfirmed",deleteText:"Delete Selected",helpText:"Help",completeText:"Complete selected activities"}};return lang.mixin(_266d,nls);});},"Sage/MainView/Contact/nls/ContactUserAssociationEditor":function(){define("Sage/MainView/Contact/nls/ContactUserAssociationEditor",["Sage/LanguageList","dojo/_base/lang"],function(_266e,lang){var nls={root:{btnCancel_Caption:"Cancel",btnOK_Caption:"OK",dialogTitleText:"Associate Contact with User",associateContactText:"Associate the selected contact with the following user",user_Caption:"User",lookupUserText:"Lookup User",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",disAssociateTitle:"Disassociate form a User",associationExistsMessage:"The user you selected is already associated to a contact. Select another user.",}};return lang.mixin(_266e,nls);});},"Sage/QuickForms/Design/CurrencyControlDesigner":function(){define("Sage/QuickForms/Design/CurrencyControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/CurrencyBasicPropertyEditor","./Editors/CurrencyAdvancedPropertyEditor","dojo/i18n!./nls/CurrencyControlDesigner"],function(_266f,array,lang,_2670,_2671,_2672,_2673,_2674,_2675,_2676,_2677){return _266f("Sage.QuickForms.Design.CurrencyControlDesigner",[_2671,_2672,_2670,_2673],{designSupport:{visible:true},editors:[_2675,_2676,_2674],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-currency",helpTopicName:"Currency_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXCurrency, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Currency",constructor:function(){lang.mixin(this,_2677);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_2678){return (_2678["ControlItemName"]=="Text");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDecimalDigitsAttr:function(){return lang.getObject("DecimalDigits",false,this.entry);},_setDecimalDigitsAttr:function(value){lang.setObject("DecimalDigits",value,this.entry);},_getDisplayCurrencyCodeAttr:function(){return lang.getObject("DisplayCurrencyCode",false,this.entry);},_setDisplayCurrencyCodeAttr:function(value){lang.setObject("DisplayCurrencyCode",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getExchangeRateTypeAttr:function(){return lang.getObject("ExchangeRateType",false,this.entry);},_setExchangeRateTypeAttr:function(value){lang.setObject("ExchangeRateType",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_2679){this.inherited(arguments);this.set("decimalDigits",-1);this.set("currentCode",null);this.set("displayCurrencyCode",true);this.set("displayMode","AsControl");this.set("exchangeRateType","BaseRate");this.set("maxLength",_2679["data"].length||"");this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_2679.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_2679.propertyPath||"");},startup:function(){this.inherited(arguments);var _267a=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_267a&&_267a["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Extensions/UI/Columns/Radio":function(){define("Sage/Extensions/UI/Columns/Radio",["dojo/_base/declare","dojo/_base/lang"],function(_267b,lang){var _267c=_267b("Sage.Extensions.UI.Columns.Radio",dojox.grid.cells.Bool,{formatEditing:function(_267d,_267e){var _267f=this.radioType=="group"?"rdo_"+this.field:"rdo_"+this.field+"_"+_267e;var _2680=_267d?"checked":"";return "<input type=\"radio\" "+_2680+" name=\""+_267f+"\"  style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.resetRows(e.grid,e.rowIndex,this.field);this.applyStaticValue(e.rowIndex);}},resetRows:function(grid,_2681,_2682){this.currentRow=_2681;var self=this;grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(index!=self.currentRow){grid.store.setValue(item,_2682,false);}});}});}});return _267c;});},"Sage/MainView/ReportMgr/HistoryListPanelConfig":function(){define("Sage/MainView/ReportMgr/HistoryListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/UI/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/HistoryListPanelConfig","Sage/Data/SDataServiceRegistry","Sage/UI/Columns/DateTime","dojo/_base/lang","Sage/MainView/ReportMgr/ReportManagerFormatter","Sage/Utility/Jobs"],function(_2683,_2684,_2685,_2686,_2687,_2688,_2689,_268a,_268b){var _268c=_2685("Sage.MainView.ReportMgr.HistoryListPanelConfig",[_2683],{keyField:"$key",_listId:"History",_resourceKind:"reportHistory",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"HistoryListContextMenu",constructor:function(){_2689.mixin(this,_2686);this._service=_2687.getSDataService("dynamic");this._structure=this._getStructure();this._select=this._getSelect();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_getStructure:function(){return [{field:"CreateDate",name:this.colNameDate,width:"65px",type:_2688},{field:"ScheduleName",name:this.colNameReportName,width:"125px",formatter:_268a.formatAttachment},{field:"ReportType",name:this.colNameReportType,width:"50px",formatter:_268a.formatReportType},{field:"ExecutionType",name:this.colNameExecutionType,width:"50px",formatter:_268a.formatExecutionType},{field:"DocumentType",name:this.colNameOutputFormat,width:"50px"},{field:"RunAs",name:this.colNameRunAs,width:"50px",formatter:_268b.formatUser},{field:"ScheduledBy",name:this.colNameScheduledBy,width:"50px",formatter:_268b.formatUser},{field:"FileSize",name:this.colNameSize,width:"50px",formatter:_268a.formatFileSize}];},_getSelect:function(){return ["CreateDate","ExecutionType","ScheduledBy","RunAs","CreateUser","ScheduleName","DocumentType","FileSize","ElapsedTimeInSeconds","ReportType","AttachId"];},_getWhere:function(){return "";},_getInclude:function(){return ["$descriptors"];},_getSummaryListRequestConfig:function(){var _268d={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _268d;},_getFormatterScope:function(){var _268e=this._getSummaryListRequestConfig();var _268f=new _2684({templateLocation:"MainView/ReportMgr/templates/HistoryListSummary.html",resetDataManager:true,requestConfiguration:_268e});return _268f;},_getSummaryDetailRequestConfig:function(){var _2690={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:["$descriptors"],useBatchRequest:false};return _2690;},_getDetailConfig:function(){var _2691=this._getFormatterScope();var _2692=this._getSummaryDetailRequestConfig();var _2693={resourceKind:this._resourceKind,requestConfiguration:_2692,templateLocation:"MainView/ReportMgr/Templates/HistoryDetailSummary.html"};return _2693;},_getToolBars:function(){var _2694={items:[]};return _2694;}});return _268c;});},"Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg":function(){define("Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility","Sage/Utility/Activity","Sage/UI/Dialogs","dijit/form/RadioButton","dojo/_base/declare","dojo/i18n!./nls/OccurrenceOrSeriesQueryDlg"],function(_2695,_2696,_2697,_2698,_2699,_269a,_269b,_269c,_269d,_269e,_269f,_26a0,_26a1,_26a2,_26a3){var _26a4=_26a2("Sage.MainView.ActivityMgr.OccurrenceOrSeriesQueryDlg",[_2695,_2696],{activityId:"",activityMemberId:"",activity:false,store:false,mode:"edit",widgetsInTemplate:true,disableSeriesOption:"",widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" title=\"\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:_onDlgHide\">","<div class=\"recur-activity-dialog\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"1\" labelWidth=\"160\" >","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.actDateText %}\" dojoAttachPoint=\"container_actDate\"></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.accountText %}\" dojoAttachPoint=\"container_account\"></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.contactText %}\" dojoAttachPoint=\"container_contact\"></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $.opportunityText %}\" dojoAttachPoint=\"container_opportunity\"></div>","</div>","<div class=\"dijitContentPane\">&nbsp;</div>","<div class=\"dijitContentPane\">","<input type=\"radio\" dojoType=\"dijit.form.RadioButton\" name=\"editType\" id=\"{%= $.id %}_thisOccurrence\" checked=\"true\" dojoAttachPoint=\"_thisOccurRadio\" />&nbsp;","<label for=\"{%= $.id %}_thisOccurrence\">{%= ($.mode === \"edit\") ? $.editOneText : (($.mode === \"delete\")? $.deleteOneText : $.completeOneText) %}</label>","</div><div class=\"dijitContentPane\">","<input type=\"radio\" dojoType=\"dijit.form.RadioButton\" name=\"editType\" id=\"{%= $.id %}_Series\" dojoAttachPoint=\"_seriesRadio\" {%=$.disableSeriesOption%} />&nbsp;","<label for=\"{%= $.id %}_Series\">{%= ($.mode === \"edit\") ? $.editAllText : (($.mode === \"delete\")? $.deleteAllText : $.completeAllText) %}</label>","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnContinue\" name=\"_btnContinue\" dojoAttachPoint=\"_btnContinue\" dojoAttachEvent=\"onClick:_continueClick\" >{%= $.continueText %}</div>","</div>","</div>","</div>","</div>"]),constructor:function(){_269a.mixin(this,_26a3);},show:function(){this._dialog.show();if(!this._dialog._standby){_269a.mixin(this._dialog,new _2699());if(!this.activity){this._dialog.showLoading();}}this._thisOccurRadio.set("checked",true);},_setModeAttr:function(mode){this.mode=mode;},_getModeAttr:function(){return this.mode;},hide:function(){this._dialog.hide();},_onDlgHide:function(){this.activity=false;this.activityId="";},_setActivityIdAttr:function(_26a5){this.activityId=_26a5;if(this.activityId&&this.activityId!==""){this._loadData();}},_getActivityIdAttr:function(){return this.activityId;},_setActivityMemebrIdAttr:function(_26a6){this.activityMemberId=_26a6;},_getActivityMemberIdAttr:function(){return this.activityMemberId;},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}var _26a7=["Description","AccountName","ContactName","OpportunityName","StartDate","Type","Timeless","Recurring","RecurrenceState"];if(this.activityId.length>12){if(!this.store){this.store=new _269b({include:[],select:_26a7,resourceKind:"activities",service:_269c.getSDataService("system")});}if(this.activityId!==""){this.store.fetch({predicate:"\""+this.activityId+"\"",onComplete:this._receiveActivity,onError:this._failLoad,scope:this});}}else{var req=new Sage.SData.Client.SDataResourceCollectionRequest(_269c.getSDataService("system")).setResourceKind("activities").setQueryArg("select",_26a7.join(",")).setQueryArg("where","id eq '"+this.activityId+"'").setQueryArg("orderby","StartDate asc").setQueryArg("count","1");req.read({success:this._receiveActivities,failure:this._failLoad,scope:this});}},_receiveActivity:function(_26a8){if(this._dialog._standby){this._dialog.hideLoading();}this.activity=_26a8;this._bind();},_receiveActivities:function(data){if(this._dialog._standby){this._dialog.hideLoading();}var _26a9=data["$resources"];if(_26a9.length<1){this._failLoad();}this.activity=_26a9[0];this.activityId=this.activity["$key"];this._bind();},_bind:function(){var act=this.activity;var d=act.Description;if(d.length>30){d=d.substring(0,26)+"...";}this._dialog.set("title",_2697.substitute(this.titleFmt,{type:_269f.getActivityTypeName(act.Type),description:d}));this.container_actDate.set("content",_269f.formatActivityStartDate(_269e.Convert.toDateFromString(act.StartDate,act.Timeless)));this.container_account.set("content",act.AccountName||"&nbsp;");this.container_contact.set("content",act.ContactName||"&nbsp;");this.container_opportunity.set("content",act.OpportunityName||"&nbsp;");},_failLoad:function(){if(this._dialog._standby){this._dialog.hideLoading();}_26a0.showWarning(this.failedToLoadMsg);this._dialog.hide();},_continueClick:function(e){this.hide();if(this._thisOccurRadio.get("checked")){this.onSelectOccurrence(this.activityId,_269e.Convert.toDateFromString(this.activity.StartDate),this.activityMemberId);}else{this.onSelectSeries(this.activityId,this.activityMemberId);}},onSelectSeries:function(id){},onSelectOccurrence:function(id,_26aa){}});return _26a4;});},"Sage/QuickForms/Design/DataGridControlDesigner":function(){define("Sage/QuickForms/Design/DataGridControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/DataGridBasicPropertyEditor","./Editors/DataGridAdvancedPropertyEditor","dojo/i18n!./nls/DataGridControlDesigner"],function(_26ab,array,lang,_26ac,_26ad,_26ae,_26af,_26b0,_26b1,_26b2,_26b3,_26b4,_26b5){return _26ab("Sage.QuickForms.Design.DataGridControlDesigner",[_26af,_26b0,_26ae,_26b1],{designSupport:{visible:true},editors:[_26b3,_26b4,_26b2],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<table class=\"{%= $.fieldClass %}-table\" data-dojo-attach-point=\"tableNode\">","</table>","</div>"]),tableHeaderTemplate:new Simplate(["<th style=\"width:{%= $.widthStyle %}\">{%: $.ColumnHeading || $.Text %}</th>"]),fieldClass:"design-datagrid",helpTopicName:"Data_Grid_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFDataGrid, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Data Grid",emptyTableRowStringText:"No records match the selection criteria.",constructor:function(){lang.mixin(this,_26b5);},_getDataSourceAttr:function(){return lang.getObject("DataSource",false,this.entry);},_setDataSourceAttr:function(value){lang.setObject("DataSource",value,this.entry);},_getPageSizeAttr:function(){return lang.getObject("PageSize",false,this.entry);},_setPageSizeAttr:function(value){lang.setObject("PageSize",value,this.entry);},_getResizableColumnsAttr:function(){return lang.getObject("ResizableColumns",false,this.entry);},_setResizableColumnsAttr:function(value){lang.setObject("ResizableColumns",value,this.entry);},_getColumnsAttr:function(){return lang.getObject("Columns",false,this.entry);},_setColumnsAttr:function(value){lang.setObject("Columns",value,this.entry);},_getEmptyTableRowTextAttr:function(){return lang.getObject("EmptyTableRowText",false,this.entry);},_setEmptyTableRowTextAttr:function(value){lang.setObject("EmptyTableRowText",value,this.entry);},_getExpandableRowsAttr:function(){return lang.getObject("ExpandableRows",false,this.entry);},_setExpandableRowsAttr:function(value){lang.setObject("ExpandableRows",value,this.entry);},_getRenderVerticalAttr:function(){return lang.getObject("RenderVertical",false,this.entry);},_setRenderVerticalAttr:function(value){lang.setObject("RenderVertical",value,this.entry);},_getShowSortIconAttr:function(){return lang.getObject("ShowSortIcon",false,this.entry);},_setShowSortIconAttr:function(value){lang.setObject("ShowSortIcon",value,this.entry);},renderColumns:function(){var _26b6=this.get("columns"),row=_26ac.create("tr");for(var i=0;i<_26b6.length;i++){var _26b7=lang.clone(_26b6[i]);_26b7.widthStyle=_26b7.Width>0?_26b7.Width+"em":"auto";_26ac.place(this.tableHeaderTemplate.apply(_26b7,this),row,"last");}_26ac.place(row,this.tableNode,"only");},setupFor:function(_26b8){this.inherited(arguments);this.set("dataSource",null);this.set("pageSize",20);this.set("resizableColumns",true);this.set("emptyTableRowString",this.emptyTableRowStringText);this.set("expandableRows",false);this.set("renderVertical",false);this.set("showSortIcon",true);},startup:function(){this.inherited(arguments);this.renderColumns();this.applyVisibility();}});});},"Sage/QuickForms/Design/PickListControlDesigner":function(){define("Sage/QuickForms/Design/PickListControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/PickListBasicPropertyEditor","./Editors/PickListAdvancedPropertyEditor","dojo/i18n!./nls/PickListControlDesigner"],function(_26b9,array,lang,_26ba,_26bb,_26bc,_26bd,_26be,_26bf,_26c0,_26c1){return _26b9("Sage.QuickForms.Design.PickListControlDesigner",[_26bb,_26bc,_26ba,_26bd],{designSupport:{visible:true},editors:[_26bf,_26c0,_26be],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\">...</div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-picklist",helpTopicName:"Pick_List_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXPickList, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Pick List",constructor:function(){lang.mixin(this,_26c1);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_26c2){return (_26c2["ControlItemName"]=="PickListValue");});},_getStorageModeAttr:function(){var mode=lang.getObject("StorageMode",false,this.entry);if(mode==="ID"){return "Id";}else{return mode;}},_setStorageModeAttr:function(value){lang.setObject("StorageMode",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getPickListNameAttr:function(){return lang.getObject("PickListName",false,this.entry);},_setPickListNameAttr:function(value){lang.setObject("PickListName",value,this.entry);},_getPickListIdAttr:function(){return lang.getObject("PickListId",false,this.entry);},_setPickListIdAttr:function(value){lang.setObject("PickListId",value,this.entry);},_getMustExistInListAttr:function(){return lang.getObject("MustExistInList",false,this.entry);},_setMustExistInListAttr:function(value){lang.setObject("MustExistInList",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getCanEditTextAttr:function(){return lang.getObject("CanEditText",false,this.entry);},_setCanEditTextAttr:function(value){lang.setObject("CanEditText",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getAllowMultiplesAttr:function(){return lang.getObject("AllowMultiples",false,this.entry);},_setAllowMultiplesAttr:function(value){lang.setObject("AllowMultiples",value,this.entry);},setupFor:function(_26c3){this.inherited(arguments);this.set("allowMultiples",false);this.set("canEditText",true);this.set("displayMode","AsControl");this.set("maxLength",_26c3["data"].length||-1);this.set("mustExistInList",false);this.set("required",false);this.set("storageMode","Id");this.set("pickListName",_26c3["dataTypeData"]["PickListName"]);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"PickListValue",DataItemName:_26c3.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_26c3.propertyPath||"");},startup:function(){this.inherited(arguments);var _26c4=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_26c4&&_26c4["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig",[],function(){return {"overrideConfigs":[]};});},"Sage/QuickForms/Design/Editors/FormBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dojo/data/ItemFileWriteStore","Sage/_Templated","./_PropertyEditor","dojo/i18n!./nls/FormBasicPropertyEditor"],function(_26c5,lang,_26c6,_26c7,_26c8,_26c9,_26ca,_26cb){return _26c5("Sage.QuickForms.Design.Editors.FormBasicPropertyEditor",[_26c6,_26ca,_26c9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.generalText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.activeControlTooltipText %}\">","<label>{%= $.activeControlText %}</label>","<div data-dojo-type=\"dijit.form.ComboBox\" data-dojo-attach-point=\"_activeControl\" data-dojo-attach-event=\"onChange:_onActiveControlChange\" data-dojo-props=\"disabled:true\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.nameTooltipText %}\">","<label>{%= $.nameText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_name\" data-dojo-attach-event=\"onChange:_onNameChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.descriptionTooltipText %}\">","<label>{%= $.descriptionText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_description\" data-dojo-attach-event=\"onChange:_onDescriptionChange\"></div>","</div>","</div>","</fieldset>"]),_activeControl:null,_description:null,_name:null,titleText:"Basic",generalText:"General",activeControlText:"Active Control:",activeControlTooltipText:"The control the user's cursor starts on.",descriptionText:"Description:",descriptionTooltipText:"Optional description of the purpose of the form.",nameText:"Name:",nameTooltipText:"Form identifier used by the system.",constructor:function(){lang.mixin(this,_26cb);},setup:function(){this.inherited(arguments);this.setActiveControlList();this._activeControl.set("value",this._designer.get("activeControl"));this._description.set("value",this._designer.get("description"));this._name.set("value",this._designer.get("name"));},setActiveControlList:function(){var _26cc=this._designer.get("controls"),_26cd=new _26c8({data:{identifier:"key",label:"name",items:[]}});for(var i=0;i<_26cc.length;i++){var _26ce=_26cc[i];if(_26ce.entry&&_26ce.entry["ControlId"]){_26cd.newItem({key:"control_"+i,name:_26ce.entry["ControlId"]});}}this._activeControl.set({store:_26cd,disabled:false});},_onActiveControlChange:function(value){if(this.isSuspended()){return;}this._designer.set("activeControl",value);},_onNameChange:function(value){},_onDescriptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("description",value);}});});},"Sage/QuickForms/Design/Editors/nls/OwnerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/OwnerBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_26cf,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_26cf,nls);});},"Sage/QuickForms/Design/DateTimePickerControlDesigner":function(){define("Sage/QuickForms/Design/DateTimePickerControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/DateTimePickerBasicPropertyEditor","./Editors/DateTimePickerAdvancedPropertyEditor","dojo/i18n!./nls/DateTimePickerControlDesigner"],function(_26d0,array,lang,_26d1,_26d2,_26d3,_26d4,_26d5,_26d6,_26d7,_26d8){return _26d0("Sage.QuickForms.Design.DateTimePickerControlDesigner",[_26d2,_26d3,_26d1,_26d4],{designSupport:{visible:true},editors:[_26d6,_26d7,_26d5],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div class=\"{%= $.fieldClass %}\" data-dojo-attach-point=\"containerNode\">","<div class=\"{%= $.fieldClass %}-caption\" data-dojo-attach-point=\"designCaptionNode\"></div>","<div class=\"{%= $.fieldClass %}-field\">","<span data-dojo-attach-point=\"designBindingNode\"></span>","<div class=\"{%= $.fieldClass %}-icon\"></div>","</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-datetimepicker",helpTopicName:"DateTime_Picker_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFDateTimePicker, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"DateTime Picker",constructor:function(){lang.mixin(this,_26d8);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_26d9){return (_26d9["ControlItemName"]=="DateTimeValue");});},_getButtonToolTipAttr:function(){return lang.getObject("ButtonToolTip",false,this.entry);},_setButtonToolTipAttr:function(value){lang.setObject("ButtonToolTip",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDisplayDateAttr:function(){return lang.getObject("DisplayDate",false,this.entry);},_setDisplayDateAttr:function(value){lang.setObject("DisplayDate",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getDisplayTimeAttr:function(){return lang.getObject("DisplayTime",false,this.entry);},_setDisplayTimeAttr:function(value){lang.setObject("DisplayTime",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getTimelessAttr:function(){return lang.getObject("Timeless",false,this.entry);},_setTimelessAttr:function(value){lang.setObject("Timeless",value,this.entry);},setupFor:function(_26da){this.inherited(arguments);this.set("displayDate",true);this.set("displayTime",false);this.set("buttonToolTip","");this.set("displayMode","AsControl");this.set("required",false);this.set("timeless",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"DateTimeValue",DataItemName:_26da.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_26da.propertyPath||"");},startup:function(){this.inherited(arguments);var _26db=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_26db&&_26db["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/Filters/FilterManager":function(){define("Sage/UI/Filters/FilterManager",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/string","dojo/date","dojo/date/locale","Sage/Utility","Sage/Utility/Filters"],function(lang,_26dc,array,_26dd,_26de,_26df,_26e0,_26e1){var _26e2=_26dc("Sage.UI.Filters.FilterManager",null,{_connects:null,_subscribes:null,_owner:null,_timeout:null,_applied:null,_definitionSet:null,refreshBufferDelay:500,filterGroup:"default",owner:null,nullName:"SLX_NULL",emptyName:"SLX_EMPTY",constructor:function(_26e3){lang.mixin(this,_26e3);this._applied={};this._definitionSet={};var _26e4=_26e0.getValue(window,"Sage.UI.DataStore.Filters"),_26e5=null,_26e6=null;if(_26e4&&_26e4[this.filterGroup]){_26e5=_26e4[this.filterGroup].applied;_26e6=_26e4[this.filterGroup].definitionSet;if(_26e5){this._applied=_26e5;}if(_26e6){this._definitionSet=_26e6;}}this._connects=[];this._subscribes=[];this._subscribes.push(dojo.subscribe(_26dd.substitute("/ui/filters/${0}/change",[this.filterGroup]),this,this._onChange),dojo.subscribe(_26dd.substitute("/ui/filters/${0}/clear",[this.filterGroup]),this,this._onClear),dojo.subscribe(_26dd.substitute("/ui/filters/${0}/apply",[this.filterGroup]),this,this._onApply));},destroy:function(){array.forEach(this._connects,function(_26e7){_26e7.remove();});array.forEach(this._subscribes,function(_26e8){_26e8.remove();});this.uninitialize();},uninitialize:function(){},"set":function(name,value){this["_"+name]=value;},"get":function(name){return this["_"+name];},_onClear:function(_26e9,_26ea){var key=_26e9&&_26e9.$key;if(key&&this._applied[key]){delete this._applied[key];}else{this._applied={};}},getAppliedFilterCount:function(){var _26eb,_26ec,_26ed,count=0;for(_26eb in this._applied){if(this._applied.hasOwnProperty(_26eb)){_26ed=this._applied[_26eb];for(_26ec in _26ed){if(_26ed.hasOwnProperty(_26ec)){count=count+1;}}}}return count;},_onApply:function(_26ee,_26ef,_26f0){this._applied=_26ee||{};this._definitionSet=_26ef||{};},_onChange:function(_26f1,name,value,_26f2){if(this._timeout){clearTimeout(this._timeout);}var key=_26f1&&_26f1.$key,_26f3=null;if(key){this._definitionSet[key]=_26f1;this._applied[key]=this._applied[key]||{};_26f3=this._applied[key];if((_26f1.details.userLookupFilter)||(_26f1.details.lookupFilter)){_26f3["value"]=value;}else{if(value!==false){_26f3[name]=value;}else{delete _26f3[name];}}}this._timeout=setTimeout(lang.hitch(this,this._onTimeout),this.refreshBufferDelay);},_onTimeout:function(){dojo.publish(_26dd.substitute("/ui/filters/${0}/refresh",[this.filterGroup]),[this._applied,this._definitionSet,this]);},_escapeString:function(_26f4,quote){quote=quote||"\"";return _26f4.replace(quote,quote+quote);},_transformValue:function(type,value,quote){if(value){quote=quote||"\"";if(type==="string"||type==="key"||type==="enum"||type==="boolean"){return quote+this._escapeString(value,quote)+quote;}if(type==="date"){quote="@";return quote+this._transformDate(value)+quote;}}return value;},_transformDate:function(value){var today=new Date(Date.now()),_26f5;if(this.specialDates.hasOwnProperty(value)){return _26e0.Convert.toIsoStringFromDate(this.specialDates[value](today));}else{_26f5=_26df.parse(value);if(_26f5){return _26e0.Convert.toIsoStringFromDate(_26f5);}else{return value;}}},specialDates:{":today":function(today){today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":todaystart":function(today){today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":todayend":function(today){today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":yesterday":function(today){today.setDate(today.getDate()-1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":yesterdaystart":function(today){today.setDate(today.getDate()-1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":yesterdayend":function(today){today.setDate(today.getDate()-1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":tomorrow":function(today){today.setDate(today.getDate()+1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":tomorrowstart":function(today){today.setDate(today.getDate()+1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":tomorrowend":function(today){today.setDate(today.getDate()+1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisweekstart":function(today){today.setDate(today.getDate()-today.getDay());today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisweekend":function(today){today.setDate(today.getDate()+(6-today.getDay()));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thismonthstart":function(today){today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thismonthend":function(today){today.setDate(_26de.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisyearstart":function(today){today.setDate(1);today.setMonth(0);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisyearend":function(today){today.setDate(31);today.setMonth(11);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisquarterstart":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisquarterend":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod);today.setDate(_26de.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextweekstart":function(today){today.setDate(today.getDate()+(7-today.getDay()));today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextweekend":function(today){today.setDate(today.getDate()+(7-today.getDay())+6);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextmonthstart":function(today){today.setMonth(today.getMonth()+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextmonthend":function(today){today.setMonth(today.getMonth()+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextyearstart":function(today){today.setFullYear(today.getFullYear()+1);today.setMonth(0);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextyearend":function(today){today.setFullYear(today.getFullYear()+1);today.setMonth(11);today.setDate(31);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextquarterstart":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextquarterend":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod+3);today.setDate(_26de.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastweekstart":function(today){today.setDate(today.getDate()-today.getDay()-7);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastweekend":function(today){today.setDate(today.getDate()-today.getDay()-1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastmonthstart":function(today){today.setMonth(today.getMonth()-1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastmonthend":function(today){today.setMonth(today.getMonth()-1);today.setDate(_26de.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastyearstart":function(today){today.setFullYear(today.getFullYear()-1);today.setMonth(0);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastyearend":function(today){today.setFullYear(today.getFullYear()-1);today.setMonth(11);today.setDate(31);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastquarterstart":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod-3);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastquarterend":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod-1);today.setDate(_26de.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;}},resolveProperty:function(_26f6,_26f7){if(this._owner&&this._owner.resolveProperty){return this._owner.resolveProperty(_26f6,_26f7);}return _26f6;},resolveTimelessProperty:function(_26f8){if(this._owner){if(this._owner._configuration){if(this._owner._configuration.getTimelessProperty){return this._owner._configuration.getTimelessProperty(_26f8);}}}return false;},resolveDataType:function(_26f9){return _26e1.resolveDataType(_26f9);},createRangeFragment:function(_26fa,_26fb,_26fc,_26fd){var _26fe=this.resolveDataType(_26fa.propertyDataTypeId),_26ff=this.resolveProperty(_26fb,_26fd),_2700=_26fa.details.rangeFilter,_2701=false,_2702=[],_2703=[],_2704="and",sub=_26dd.substitute,name=null,range=null,_2705=null,_2706=function(p){return p;},_2707=[],_2708=_2700.characters>0?_2700.characters:1;if(_26fe==="string"){_2706=function(p){return sub("substring(${0}, 1, ${1})",[p,_2708]);};}for(name in _26fc){if(_26fc.hasOwnProperty(name)){range=_26fc[name];if(typeof range==="undefined"||range===null){continue;}if(_26fe==="date"){_2701=this.resolveTimelessProperty(_26ff);}if(_2701){var _2709=new Date(Date.now());var _270a=new Date(Date.now());var quote="@";var _270b="";var _270c="";if(range.lower===range.upper){_2702.push(this._transformValue(_26fe,range.lower));}else{if(this.specialDates.hasOwnProperty(range.lower)){_2709=this.specialDates[range.lower](_2709);_2709.setHours(0);_2709.setMinutes(0);_2709.setSeconds(0);_270b=quote+_26e0.Convert.toIsoStringFromDateNonUTC(_2709)+quote;}if(this.specialDates.hasOwnProperty(range.upper)){_270a=this.specialDates[range.upper](_270a);_270a.setHours(23);_270a.setMinutes(59);_270a.setSeconds(59);_270c=quote+_26e0.Convert.toIsoStringFromDateNonUTC(_270a)+quote;}_2705=[_2701,_2706(_26ff),this._transformValue(_26fe,range.lower),this._transformValue(_26fe,range.upper),_270b,_270c];if(range.lower===null){_2703.push(sub("((${0} eq false and ${1} le ${3}) or (${0} eq true and ${1} le ${4}))",_2705));}else{if(range.upper===null){_2703.push(sub("((${0} eq false and ${1} ge ${2}) or (${0} eq true and ${1} le ${5}))",_2705));}else{_2703.push(sub("((${0} eq false and ${1} between ${2} and ${3}) or (${0} eq true and ${1} between ${4} and ${5}))",_2705));}}_2704="or";}}else{if(range.lower===range.upper){if(range.lower!==null&&typeof range.lower!=="undefined"){_2702.push(this._transformValue(_26fe,range.lower));}}else{_2705=[_2706(_26ff),this._transformValue(_26fe,range.lower),this._transformValue(_26fe,range.upper)];if(range.lower===null){_2703.push(sub("${0} le ${2}",_2705));}else{if(range.upper===null){_2703.push(sub("${0} ge ${1}",_2705));}else{_2703.push(sub("${0} between ${1} and ${2}",_2705));}}_2704="or";}}}}if(_2702.length>0){if(_26fe==="string"){array.forEach(_2702,function(value){if(value&&value.length>2){_2707.push(value.substring(0,_2708+1)+"\"");}});_2702=_2707;}_2703.push(sub("${0} in (${1})",[_2706(_26ff),_2702.join(",")]));}return _2703.length>0?"("+_2703.join(") "+_2704+" (")+")":false;},createDistinctFragment:function(_270d,_270e,_270f,_2710){var _2711=this.resolveDataType(_270d.propertyDataTypeId),sub=_26dd.substitute,name=null,_2712=[],_2713=null,_2714=false,_2715=this.resolveProperty(_270e,_2710);for(name in _270f){if(_270f.hasOwnProperty(name)){if(name===this.nullName){_2713=sub("${0} eq null",[_2715]);}else{if(name===this.emptyName){_2712.push("''");}else{_2712.push(this._transformValue(_2711,_270f[name]));}}}}if(_2712.length>0){_2714=sub("${0} in (${1})",[_2715,_2712.join(",")]);}if(_2713&&_2712.length>0){_2714=sub("(${0} or ${1})",[_2714,_2713]);}else{if(_2713){_2714=_2713;}}return _2714;},createLookupFragment:function(_2716,_2717,_2718,_2719){var _271a=this.resolveDataType(_2716.propertyDataTypeId),_271b,value="",prop=this.resolveProperty(_2717,_2719),_271c="",_271d=[],name;if(_2718.hasOwnProperty("value")){_271b=_2718["value"].operator;value=_2718["value"].value;}if((value==="")||(value===null)){return false;}if(typeof value==="string"){prop="upper("+prop+")";value=value.toUpperCase();}_271c=_26dd.substitute("${0} ${1}",[prop,this._transformLookupOperator(_271b,value,_271a)]);return _271c;},_transformLookupOperator:function(_271e,value,_271f){var _2720="",lhs,rhs="${0}";switch(_271e){case "Equal":lhs="eq";break;case "NotEqual":lhs="ne";break;case "LessThan":lhs="lt";break;case "LessThanEqual":lhs="le";break;case "GreaterThan":lhs="gt";break;case "GreaterThanEqual":lhs="ge";break;case "StartsWith":lhs="like";rhs="${0}%";break;case "EndsWith":lhs="like";rhs="%${0}";break;case "Contains":lhs="like";rhs="%${0}%";break;default:lhs="eq";break;}if(_271f==="string"||_271f==="key"){rhs="\""+rhs+"\"";}rhs=_26dd.substitute(rhs,[value]);return _26dd.substitute("${0} ${1}",[lhs,rhs]);},createQuery:function(){var _2721=[],key,_2722,_2723,_2724,_2725,_2726,_2727;for(key in this._applied){if(this._applied.hasOwnProperty(key)){_2722=this._applied[key];_2723=this._definitionSet[key];_2724=_2723.propertyName;_2725=_2723.details;_2727=_2723.dataPath;if(_2725.rangeFilter){_2726=this.createRangeFragment(_2723,_2724,_2722,_2727);}else{if(_2725.distinctFilter){_2726=this.createDistinctFragment(_2723,_2724,_2722,_2727);}else{if((_2725.userLookupFilter)||(_2725.lookupFilter)){_2726=this.createLookupFragment(_2723,_2724,_2722,_2727);}}}if(_2726){_2721.push(_2726);}}}return _2721.length>0?"("+_2721.join(") and (")+")":false;},createValueSet:function(){var _2728=[],_2729,_272a,_272b,_272c,_272d,name,key;for(key in this._applied){if(this._applied.hasOwnProperty(key)){_2729=this._applied[key];_272a=this._definitionSet[key];_272b=_272a.details;_272c=(_272b.rangeFilter&&"rangeFilter")||(_272b.distinctFilter&&"distinctFilter")||(_272b.userLookupFilter&&"lookupFilter");_272d={"filterId":_272a.$key,"filterName":_272a.filterName,"appliedValues":[],"operator":null};switch(_272c){case "rangeFilter":for(name in _2729){if(_2729.hasOwnProperty(name)){_272d.appliedValues.push(_2729[name]&&_2729[name].rangeId);}}break;case "distinctFilter":for(name in _2729){if(_2729.hasOwnProperty(name)){_272d.appliedValues.push(name);}}break;case "lookupFilter":for(name in _2729){if(_2729.hasOwnProperty(name)){if(_2729[name].hasOwnProperty("operator")){_272d.appliedValues.push(_2729[name]);_272d.operator=_2729[name].operator;}}}break;default:break;}_2728.push(_272d);}}return _2728;}});return _26e2;});},"Sage/UI/Controls/Currency":function(){define("Sage/UI/Controls/Currency",["dojo/_base/html","dojox/grid/DataGrid","dijit/_Widget","Sage/_Templated","dijit/form/CurrencyTextBox","Sage/UI/Controls/CurrencyTextBox","dojo/currency","dojo/string","dojo/_base/declare","Sage/Utility"],function(html,_272e,_272f,_2730,_2731,_2732,_2733,_2734,_2735,_2736){dojo.mixin(dijit.form.ValidationTextBox.prototype.attributeMap,{slxchangehook:"focusNode"});var _2737=_2735("Sage.UI.Controls.Currency",[_272f,_2730],{displayModes:{"AsHyperlink":0,"AsControl":1,"AsText":2},modeTemplates:{"AsHyperlink":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">{%= $.value %}</div>"]),"AsControl":new Simplate(["<input  data-dojo-type=\"Sage.UI.Controls.CurrencyTextBox\" ","constraints=\"{ {%= $.constraintsToString() %} }\" ","id=\"{%= $.id %}_CurrencyTextBox\" ","style=\"width:inherit;\"","textAlign=\"{%= $.textAlign %}\""," name=\"{%= $.name %}\" type=\"text\" "," value=\"{%= $.value %}\" dojoAttachPoint=\"focusNode\" ","{% if ( $.multiCurrency ) { %} "," class=\"ISOSpace\" ","{% } %}"," hotKey=\"{%= $.hotKey %}\" ","{% if($.disabled === \"disabled\") { %} "," disabled=\"disabled\" ","{% } %}","{% if($.readonly === \"readonly\") { %} "," readonly=\"readonly\" ","{% } %}"," maxlength=\"{%= $.maxLength %}\" "," required=\"{%= $.required %}\">","{% if ( $.multiCurrency ) { %} ","<label id=\"{%= $.id %}_ISOLabel\" ","dojoAttachPoint=\"currencyCodeLabel\" ","for=\"${0}_CurrencyTextbox\" ","class=\"ISOLabel\" ","wairole=\"presentation\" ","readonly=\"true\" ","tabindex=\"-1\" ","class=\"dijitInputInner\" ","role=\"presentation\">","</label> ","{% } %}"]),"AsText":new Simplate(["<div data-dojo-type=\"dijit.form.Button\" showLabel=\"true\">{%= $.formattedText() %}</div>"])},widgetTemplate:new Simplate(["<div style=\"width:inherit;\" slxcompositecontrol=\"true\" id=\"{%= $.id %}\" >","{%= $.modeTemplates[$.displayMode].apply($) %}","</div>"]),postMixInProperties:function(){this.currentCultureSymbol=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol;if(this.multiCurrency){this.constraints["currency"]=null;}else{if(this.constraints["currency"]===""||this.constraints["currency"]===null){this.constraints["currency"]=this.currentCode;}}},postCreate:function(){if(this.multiCurrency){dijit.byId(this.id+"_CurrencyTextBox").domNode.setAttribute("style","width:100% !important;");this.currencyCodeLabel.innerHTML=this.currentCode;}this.inherited(arguments);},value:0,currentCultureSymbol:"",currentCode:"USD",exchangeRate:1,multiCurrency:false,displayCurrencyCode:true,autoPostBack:false,width:15,maxLength:128,required:false,style:"",enabled:true,readonly:"",disabled:"",visible:true,hotKey:"",tabIndex:0,displayMode:"AsControl",widgetsInTemplate:true,styles:"text-align: right;",name:"",constraints:null,id:"currencyControl",constraintsToString:function(){var tmp=[];for(var prop in this.constraints){if(this.constraints.hasOwnProperty(prop)){var value=this.constraints[prop];if(typeof value==="string"){value="'"+value+"'";}tmp.push(prop+":"+value);}}var _2738=tmp.join(",");return _2738;},constructor:function(_2739){this.inherited(arguments);},destroy:function(){if(this.focusNode){this.focusNode.destroy();}this.inherited(arguments);}});return _2737;});},"Sage/Utility/File/DescriptionsForm":function(){define("Sage/Utility/File/DescriptionsForm",["Sage/Utility/File","dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/string","dijit/Dialog","dojo/i18n","dojo/i18n!./nls/DescriptionsForm","dojo/_base/declare"],function(File,_273a,_273b,dLang,_273c,_273d,i18n,_273e,_273f){var _2740=_273f("Sage.Utility.File.DescriptionsForm",[_273a,_273b],{fileType:File.fileType.ftAttachment,titleFmt:"Add Attachment(s) for ${0}",titleLibraryDoc:"Add Library Document(s)",fileNameText:"File name and size: ",descText:"Description:",okText:"OK",cancelText:"Cancel",entityDesc:"",_formParts:[],files:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>","<div dojoType=\"dijit.Dialog\" id=\"dlgFileDescriptions\" title=\"\" dojoAttachPoint=\"_dialog\">","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"3\" style=\"width:580px\">","<div dojoType=\"dijit.layout.ContentPane\" label=\"\" style=\"width:212px;\"><label>{%= $.fileNameText %}</label></div>","<div dojoType=\"dijit.layout.ContentPane\" label=\"\" style=\"width:250px;\"><label>{%= $.descText %}</label></div>","</div>","<div dojoType=\"dojox.layout.TableContainer\" orientation=\"horiz\" cols=\"2\" labelWidth=\"5\" dojoAttachPoint=\"contentNode\" style=\"min-height:150px;width:580px;max-height:250px;overflow:auto\" >","</div>","<div class=\"general-dialog-actions\">","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnOK\" name=\"_btnOK\" dojoAttachPoint=\"_btnOK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.okText %}</div>","<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btnCancel\" name=\"_btnCancel\" dojoAttachPoint=\"_btnCancel\" dojoAttachEvent=\"onClick:_cancelClick\">{%= $.cancelText %}</div>","</div>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,_273e);this.inherited(arguments);},show:function(){if(this.fileType!==File.fileType.ftLibraryDocs){this._dialog.set("title",_273c.substitute(this.titleFmt,[this.entityDesc]));}else{this._dialog.set("title",this.titleLibraryDoc);}this._dialog.show();this._addFormParts();},_setEntityDescAttr:function(desc){this.entityDesc=desc;},_getEntityDescAttr:function(){return this.entityDesc;},_setFilesAttr:function(files){this.files=files;},_getFilesAttr:function(){return this.files;},_addFormParts:function(){for(var i=0;i<this.files.length;i++){var file=this.files[i];var _2741=0;if(file.size===0){_2741=0;}else{_2741=file.size||file.blob.length;}if(_2741===0){_2741+="0 Bytes";}else{if(_2741){if(_2741>1024){if(_2741>1048576){_2741=Math.round(_2741/1048576)+" MB";}else{_2741=Math.round(_2741/1024)+" KB";}}else{_2741+=" Bytes";}}}var fnFld=new dijit.form.TextBox({id:"filename_"+i,value:file.name+"  ("+_2741+")",style:"min-width:250px;margin:0 0 5px 15px;",disabled:true});var _2742=new dijit.form.TextBox({id:"desc_"+i,value:this.getDefaultDescription(file.name),style:"min-width:250px;margin:0 0 5px 20px;",maxLength:128,relFileName:file.name});this._formParts.push(fnFld);this._formParts.push(_2742);this.contentNode.addChild(fnFld);this.contentNode.addChild(_2742);}},_clearForm:function(){var len=this._formParts.length;for(var i=len-1;i>-1;i--){var elem=this._formParts[i];this.contentNode.removeChild(elem);elem.destroyRecursive(false);}this._formParts=[];},_okClick:function(){var _2743=[];for(var i=0;i<this._formParts.length;i++){var elem=this._formParts[i];if(elem.params["relFileName"]){_2743.push({description:elem.get("value")||this.getDefaultDescription(elem.params["relFileName"]),fileName:elem.params["relFileName"]});}}this._clearForm();this.onDescriptionsEntered(this.files,_2743);this._dialog.hide();},_cancelClick:function(){this._clearForm();this._dialog.hide();},getDefaultDescription:function(_2744){return _2744.replace(/\.[\w]*/,"");},onDescriptionsEntered:function(files,_2745){}});return _2740;});},"Sage/MainView/JobMgr/RunJobDialog":function(){require({cache:{"url:Sage/MainView/JobMgr/templates/RunJobDialog.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.nlsResources.dlgRunJob_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 525px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                '<table cellspacing=\"10\">',                    \r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtJobName_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtJobName\" required=\"true\" dojoType=\"dijit.form.TextBox\" disabled=\"disabled\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td style=\"width:150px\">',\r\n                            '<label>{%= $.nlsResources.txtTriggerDescription_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtTriggerDescription\" required=\"true\" dojoType=\"dijit.form.TextBox\" style=\"width:320px\" />',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $.nlsResources.cmbScheduleType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbScheduleType\" dojoAttachEvent=\"onChange:_cmbScheduleType_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"now\">{%= $.nlsResources.txtRunNow %}</option>',\r\n                                '<option value=\"scheduled\">{%= $.nlsResources.txtScheduledExecution %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n                '<div data-dojo-type=\"Sage.UI.JobSchedulingWidget\" id=\"jobSchedulingWidget\" data-dojo-attach-point=\"jobSchedulingWidget\"></div>',\r\n                '<div dojoType=\"dijit.layout.TabContainer\" dojoAttachPoint=\"tabsContainer\" class=\"tab-container\" style=\"width:100%; height:250px\">',\r\n                    '<div dojoType=\"dijit.layout.ContentPane\"  title=\"{%= $.nlsResources.contentPaneParameters_Caption %}\" class=\"tabContent remove-padding\" dojoAttachPoint=\"contentPaneParameters\">',\r\n                        '<div id=\"divGrdParameters\" style=\"height:200px;\">',\r\n                            '<table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdJobParameters\">',\r\n                                '<thead>',\r\n                                    '<th field=\"name\" width=\"100px\">{%= $.nlsResources.colName_Caption %}</th>',\r\n                                    '<th id=\"parameterValue\" field=\"defaultValue\" width=\"100px\" editable=\"true\">{%= $.nlsResources.colValue_Caption %}</th>',\r\n                                    '<th field=\"description\" width=\"225px\">{%= $.nlsResources.colDescription_Caption %}</th>',\r\n                                '</thead>',\r\n                            '</table>',\r\n                        '</div>',\r\n                    '</div>',\r\n                '</div>',\r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $.nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $.nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/JobMgr/RunJobDialog",["dojo/_base/declare","dojo/string","dojo/i18n!./nls/RunJobDialog","dojo/text!./templates/RunJobDialog.html","Sage/UI/JobSchedulingWidget","dijit/_Widget","Sage/_Templated","dojo/_base/lang","Sage/UI/Controls/_DialogHelpIconMixin","dojo/data/ItemFileWriteStore","dojox/grid/DataGrid","Sage/Utility/Jobs","Sage/Utility","Sage/UI/Dialogs"],function(_2746,_2747,_2748,_2749,_274a,_274b,_274c,_274d,_274e,_274f,_2750,_2751,_2752,_2753){var _2754=_2746("Sage.MainView.JobMgr.RunJobDialog",[_274b,_274c],{id:"dlgRunJob",_dialog:false,_configMgr:false,_key:null,_trigger:null,_currentGroupId:null,widgetTemplate:new Simplate(eval(_2749)),nlsResources:_2748,widgetsInTemplate:true,show:function(_2755){this._key=_2755.key;this._currentGroupId=_2755.currentGroupId;if(_2755.triggerId){this._getTriggerRequest(_2755.triggerId);this.cmbScheduleType.set("value","scheduled");this.cmbScheduleType.set("disabled",true);}this._setVisible(this.jobSchedulingWidget.divJobSchedulingWidget,false);this.jobSchedulingWidget.initialize({trigger:this._trigger});this._dialog.show();if(!this._dialog.helpIcon){_274d.mixin(this._dialog,new _274e());this._dialog.createHelpIconByTopic("runjob");}},_getTriggerRequest:function(key){var _2756=Sage.Services.getService("JobService");var _2757=new Sage.SData.Client.SDataSingleResourceRequest(_2756.getSchedulingSDataService());_2757.setResourceKind(_2747.substitute("triggers('${0}')",[key]));var self=this;_2757.read({async:false,success:function(_2758){self._trigger=_2758;}});},_dialog_OnShow:function(){var self=this;self.txtJobName.set("value",self._key);window.setTimeout(function(){self._getAndDisplayJobDetails();},250);},_triggerJob:function(){var _2759=this.jobSchedulingWidget.getJobSchedulingOptions();if(this.cmbScheduleType.value==="scheduled"){if(!this.jobSchedulingWidget.validateSchedule(false,false)){return;}}var _275a=[];var isNew=(!this._trigger);if(this.grdJobParameters&&this.grdJobParameters.store){dojo.forEach(this.grdJobParameters.store._getItemsArray(),function(item){if(item&&item.name&&item.name.length){var value=!isNew?item.value.length>0?item.value[0]:"":item.defaultValue.length>0?item.defaultValue[0]:"";_275a.push({name:item.name[0],value:value});}});}var _275b=null;if(_2759.startTime&&(_2759.startTime instanceof Date)){_275b=_2752.Convert.toJsonStringFromDate(_2759.startTime);}var _275c=null;if(_2759.endTime&&(_2759.endTime instanceof Date)){_275c=_2752.Convert.toJsonStringFromDate(_2759.endTime);}var _275d=this._currentGroupId;var _275e={closable:true,key:this._key,descriptor:this.txtTriggerDescription.get("value"),frequency:this.cmbScheduleType.value==="scheduled"?_2759.frequency:null,startTime:_275b,endTime:_275c,user:{$key:this._getCurrentUserId()},parameters:_275a,infoMessage:"",cronExpression:_2759.cronExpression,title:this.txtTriggerDescription.get("value")||this.txtJobName.get("value"),success:function(_275f){_2751.refreshList(_275d);},failure:function(_2760){}};if(this.cmbScheduleType.value==="scheduled"){if(isNew){this._scheduleJob(_275e);}else{this._updateTrigger(_275e);}}else{_2751.triggerJobAndDisplayProgressDialog(_275e);}this._closeDialog();},_getCurrentUserId:function(){var _2761=null;var _2762=Sage.Services.getService("ClientContextService");if(_2762){if(_2762.containsKey("userID")){_2761=_2762.getValue("userID");}}return _2761;},_scheduleJob:function(_2763){var _2764=Sage.Services.getService("JobService");_2764.scheduleJob(_2763);},_updateTrigger:function(_2765){var _2766=Sage.Services.getService("JobService");_2766.updateTrigger(_2765);},_cmbScheduleType_OnChange:function(){if(this.cmbScheduleType){var _2767=(this.cmbScheduleType.value==="scheduled");this._setVisible(this.jobSchedulingWidget.divJobSchedulingWidget,_2767);}},_setVisible:function(_2768,_2769){if(_2768&&_2769){dojo.removeClass(_2768,"display-none");}else{if(_2768){dojo.addClass(_2768,"display-none");}}},_closeDialog:function(){var self=this;this.jobSchedulingWidget.destroyWidget();self._dialog.hide();setTimeout(function(){self.destroyRecursive();},1000);},_validateJobOptions:function(){if(typeof this._key!=="string"||this._key===""){_2753.showError(_2747.substitute(this.nlsResources.txtInvalidParameterMessage,[this.nlsResources.txtJobName_Caption]),this.nlsResources.txtInvalidParameterTitle);return false;}if(this.cmbScheduleType.value==="scheduled"){if(this.jobSchedulingWidget.cboFrequency.get("value")===""){_2753.showError(_2747.substitute(this.nlsResources.txtInvalidParameterMessage,[this.nlsResources.cbofrequency_Caption]),this.nlsResources.txtInvalidParameterTitle);return false;}}return true;},_cmdOK_OnClick:function(){if(this._validateJobOptions()){this._triggerJob();}},_cmdCancel_OnClick:function(){this._closeDialog();},_dialog_OnCancel:function(){this._closeDialog();},_getAndDisplayJobDetails:function(){var self=this;var svc=Sage.Services.getService("JobService");var key=this._key;var _276a="jobs";if(this._trigger){_276a="triggers";key=this._trigger.$key;}var _276b={key:key,resourceKind:_276a,success:function(_276c){if(_276c.job){self.txtJobName.set("value",_276c.job.$descriptor||_276c.job.$key);}self.txtTriggerDescription.set("value",_276c.$descriptor||_276c.$key);self._setJobParametersGridStore(_276c.parameters);}};svc.getJobDefinition(_276b);},_setJobParametersGridStore:function(_276d){var _276e=[];if(this._trigger){var _276f=this._getJobParameters();var self=this;dojo.forEach(_276d,function(item){var _2770=self._getParameterDescription(_276f,item.name);_276e.push({name:item.name,value:item.value,description:_2770});});}else{_276e=_276d;}var data={identifier:"name",items:_276e};this._setParameterValueColumnBinding(this._trigger?"value":"defaultValue");var store=new _274f({data:data});this.grdJobParameters.setStore(store);},_getParameterDescription:function(_2771,_2772){var _2773="";dojo.forEach(_2771,function(item){if(item.name===_2772){_2773=item.description;}});return _2773;},_getJobParameters:function(){var job=null;var _2774=Sage.Services.getService("JobService");var _2775=new Sage.SData.Client.SDataSingleResourceRequest(_2774.getSchedulingSDataService());_2775.setResourceKind(_2747.substitute("jobs('${0}')",[this._trigger.job.$key]));_2775.setQueryArg("select","parameters/*");_2775.read({async:false,success:function(_2776){job=_2776;}});return job?job.parameters:job;},_setParameterValueColumnBinding:function(_2777){var self=this;dojo.forEach(this.grdJobParameters.layout.cells,function(item,index){if(item.id==="parameterValue"){self.grdJobParameters.layout.cells[index].field=_2777;}});}});return _2754;});},"Sage/MainView/JobMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2778,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_2778,nls);});},"Sage/QuickForms/Design/nls/TextBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/TextBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_2779,lang){var nls={root:{displayNameText:"TextBox"}};return lang.mixin(_2779,nls);});},"Sage/UI/Dashboard/DashboardPage":function(){define("Sage/UI/Dashboard/DashboardPage",["dojo/i18n","Sage/UI/GridContainer","Sage/UI/Dialogs","Sage/UI/Dashboard/DashboardWidgetCell","Sage/Utility","dijit/form/ValidationTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/dom-construct","Sage/Array","dojo/i18n!./nls/DashboardTabController","dojo/i18n!./nls/WidgetDefinition","dojo/_base/declare","dojo/_base/lang"],function(i18n,_277a,_277b,_277c,_277d,_277e,_277f,_2780,_2781,_2782,_2783,_2784,lang){var _2785=_2784("Sage.UI.Persistance.DashboardColumn",null,{constructor:function(_2786){dojo.safeMixin(this,_2786);}});var _2787=_2784("Sage.UI.Dashboard.DashboardPage",_277a,{_nwTableOuter:new Simplate(["<div id=\"nwTable\" class=\"new-widget-table\"><div style=\"height:400px; overflow-y:auto;\"><table width=\"100%\">{%= $.content %}</table></div>","<div align=\"right\"><button data-dojo-type=\"dijit.form.Button\""," type=\"button\" id=\"btnAddContentClose\" class=\"ok-button\" title=\"{%= $.buttonCancel %}\" align=\"right\" style=\"margin-top:10px;\">{%= $.buttonCancel %}</button>","</div></div>"]),_nwTableInner:new Simplate(["<tr><td><b>{%= $.key %}</b><br />{%= $.value %}</td></tr>","<tr><td><button data-dojo-type=\"dijit.form.Button\"","type=\"button\" id=\"{%= $.btnId %}\" class=\"btn-add-new\">{%= $.addText %}</button></td></tr>","<tr><td><hr /></td></tr>"]),style:"z-index:500;",_eoTable:new Simplate(["<div id=\"eoTable\" class=\"edit-options-table\"><table width=\"100%\">","<tr><td>{%= $.titleText %}</td><td><div data-dojo-type=\"dijit.form.ValidationTextBox\" id=\"txtEO\""," regExp=\"[^-<>:;@#\\$!%\\^&\\*\\(\\)\\+=\\`\\[{},/?\\.~]*\" value=\"{%= $.title %}\" invalidMessage=\"{%= $.invalidMessage %}\"></div></td></tr>","<tr><td colspan=2>{%= $.chooseTemplateText %}</td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO0\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"one_column\" name=\"radioEO\" /></td><td><label for=\"rdoEO0\">{%= $.oneColumnText %}","</label></td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO1\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"two_even\" name=\"radioEO\" /></td><td><label for=\"rdoEO1\">{%= $.twoColumnText %}","</label></td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO2\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"fat_left\" name=\"radioEO\" /></td><td><label for=\"rdoEO2\">{%= $.fatLeftText %}","</label></td></tr>","<tr><td><input type=\"radio\" id=\"rdoEO3\" data-dojo-type=\"dijit.form.RadioButton\""," value=\"fat_right\" name=\"radioEO\" /></td><td><label for=\"rdoEO3\">{%= $.fatRightText %}","</label></td></tr>","<tr><td><input type=\"checkbox\" id=\"chkMD\" data-dojo-type=\"dijit.form.CheckBox\""," value=\"make_def\"/></td><td><label for=\"chkMD\">{%= $.makeDefaultText %}</label></td></tr>","<tr><td colspan=2 align=\"right\"><button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnEOK\" class=\"ok-button\" title=\"{%= $.buttonOk %}\" >{%= $.buttonOk %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\""," id=\"btnEOCancel\" class=\"cancel-button\" title=\"{%= $.buttonCancel %}\">{%= $.buttonCancel %}</button>","</td></tr></table></div>"]),_raisePermissionInvalidMessage:function(){var _2788=this;var fn=function(ans){if(ans){var db=dijit.byId("Dashboard");db._copyPage(_2788);}};var opts={title:this.resources.errorText,query:[this.resources.permissionErrorText,this.resources.permissionErrorPerformCopyText],yesText:this.resources.yesText,noText:this.resources.noText,callbackFn:fn,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);},postCreate:function(){this.inherited(arguments);this.subscribe("/ui/dashboard/pageSave",function(page){if(typeof page==="string"){page=parseInt(page,10);}if(page===this._page){if(this.permission){this._save();}else{this._raisePermissionInvalidMessage();}}});this.subscribe("/dojox/mdnd/drop","_dropped");},resources:{},postMixInProperties:function(){dojo.mixin(this.resources,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this.resources,i18n.getLocalization("dijit","common"));this._releaseManager.page=this;this.inherited(arguments);},_createChild:function(_2789,col,idx,page){var _278a=_2789.options.title||_2789["@name"],_278b=_278a;while(_278b.indexOf(" ")>=0){_278b=_278b.replace(" ","_");}while(_278b.indexOf(".")>=0){_278b=_278b.replace(".","_");}while(_278b.indexOf("'")>=0){_278b=_278b.replace("'","_");}if(_2783[_278b]){_278a=_2783[_278b];}this._childWidgets.push(new _277c({dndType:"Portlet",title:_278a,resizeChildren:false,column:col,index:idx,_page:page,_parentId:this.id,preventRender:this.toBeHidden,widgetOptions:_2789.options}));return this._childWidgets[this._childWidgets.length-1];},_addNewWidget:function(name){if(this.permission){var last=this._childWidgets[this._childWidgets.length-1];var col=last&&last.column?last.column:0;var idx=last&&last.index?last.index+1:0;var _278c=new _277c({dndType:"Portlet",isNew:true,title:this.resources[name]||name,resizeChildren:false,column:col,index:idx,_page:this._page,_parentId:this.id,widgetOptions:{name:name,title:name}});this._childWidgets.push(_278c);this.addChild(this._childWidgets[this._childWidgets.length-1],col,idx);this._save();}else{this._raisePermissionInvalidMessage();}},_editOptionsMenu:function(){var uo=Sage.UI.DataStore.Dashboard.userOptions;var _278d=false,_278e=false,_278f=false,_2790=false;switch(this.colWidths.toString()){case "50,50":_278e=true;break;case "67,33":_278f=true;break;case "33,67":_2790=true;break;default:_278d=true;}var d=new dijit.Dialog({title:this.resources.editOptionsText,style:"width:350px"});d.set("content",this._eoTable.apply({title:this.get("title"),buttonOk:this.resources.buttonOk,buttonCancel:this.resources.buttonCancel,addText:this.resources.addText,titleText:this.resources.titleText,chooseTemplateText:this.resources.chooseTemplateText,oneColumnText:this.resources.oneColumnText,twoColumnText:this.resources.twoColumnText,fatLeftText:this.resources.fatLeftText,fatRightText:this.resources.fatRightText,makeDefaultText:this.resources.makeDefaultText,invalidMessage:this.resources.invalidMessage}));dijit.byId("rdoEO0").set("checked",_278d);dijit.byId("rdoEO1").set("checked",_278e);dijit.byId("rdoEO2").set("checked",_278f);dijit.byId("rdoEO3").set("checked",_2790);if(uo.defaultTab==this.title){dijit.byId("chkMD").set("checked",true);}d.show();var _2791=function(){if(this.isNew){var _2792=dijit.byId("Dashboard");_2792.closeChild(this);_2792.selectFirstVisible();}dojo.disconnect(_2793);dojo.disconnect(ok);dojo.disconnect(_2794);d.destroyRecursive();};var _2793=dojo.connect(d,"hide",this,_2791);var _2794=dojo.connect(dijit.byId("btnEOCancel"),"onClick",this,function(){d.hide();});var ok=dojo.connect(dijit.byId("btnEOK"),"onClick",this,function(){if(this.permission){var txtEO=dijit.byId("txtEO");if(!txtEO.isValid()||!this.getParent()._isTitleUnique(txtEO.value,this.id)){return false;}var _2795={};_2795.ttl=txtEO.value;_2795.one_column=dijit.byId("rdoEO0").get("value");_2795.even_split=dijit.byId("rdoEO1").get("value");_2795.fat_left=dijit.byId("rdoEO2").get("value");_2795.fat_right=dijit.byId("rdoEO3").get("value");_2795.make_def=dijit.byId("chkMD").get("value");if(this.isNew){this.isNew=false;}else{_2795.oldName=this.name;}this._setOptions(_2795);this._save();this._redrawWidgets();this.getParent().addRemovePageContextMenu();d.hide();}else{d.hide();this._raisePermissionInvalidMessage();}});},_redrawWidgets:function(){if(this._childWidgets){dojo.forEach(this._childWidgets,function(_2796){_2796.refresh(true);});}},_releaseManager:{share:function(){this.lookupOptions.callerId=this.page.id;if(!this.dialog){this.dialog=new dijit.Dialog({id:this.page.id+"-shareDialog",style:"width: 405px",title:this.page.resources.shareTabText});var _2797=dojo.connect(this.dialog,"hide",this,this.fnHide);dojo.mixin(this.dialog,new _277f());this.dialog.createHelpIconByTopic("Working_with_the_Dashboard");}if(this.grid){this.grid.destroyRecursive();}this.grid=new dojox.grid.DataGrid({id:this.page.id+"-shareDialog-grid",structure:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_2798,cel){var id=[cel.grid.id,"-row",_2798].join("");var _2799=["<div id=",id," >",id,"</ div>"].join("");return _2799;}},{field:"Text",name:this.page.resources.releasedToText,width:"185px"},{field:"Type",name:this.page.resources.typeText,width:"175px"}],height:"200px"},document.createElement("div"));var def=dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/dashboard/release",preventCache:true,handleAs:"json",content:{name:this.page.name,family:this.page.family},load:dojo.hitch(this,this.releaseFetchSuccess),error:function(data){}});},releaseFetchSuccess:function(data,xhr){var _279a={identifier:"Id",items:data};this.gridStore=new dojo.data.ItemFileWriteStore({data:_279a});this.dialog.set("content",this.dialogContent.apply({id:this.dialog.id,pageId:this.page.id,closeText:this.page.resources.closeText,everyoneText:this.page.resources.everyoneText,headerText:this.page.resources.shareTabText}));this.initTools();this.dialog.show();dojo.place(this.grid.domNode,this.dialog.id+"-grid","replace");this.grid.setStore(this.gridStore);dojo.style(this.dialog.id,"top","130px");},fnHide:function(){this.release();},initTools:function(){var delid=this.dialog.id+"_delBtn";var _279b=_2780.create("img",{"id":delid,"alt":this.page.resources.deleteText,"title":this.page.resources.deleteText,"src":"images/icons/Delete_16x16.png","class":"tws-header-icon"});dojo.place(_279b,dojo.query(["#",this.dialog.id,"-toolbar"].join(""))[0],"last");dojo.connect(dojo.byId(delid),"onclick",this,this.deleteSelected);delid=this.dialog.id+"_lookupBtn";_279b=_2780.create("img",{"id":delid,"alt":this.page.resources.addText,"title":this.page.resources.addText,"src":"images/icons/Plus_16x16.gif","class":"tws-header-icon"});dojo.place(_279b,dojo.query(["#",this.dialog.id,"-toolbar"].join(""))[0],"last");dojo.connect(dojo.byId(delid),"onclick",this,this.startLookup);},deleteSelected:function(){var _279c=this.grid.selection.getSelected();if(_279c.length){var _279d=this.gridStore;dojo.forEach(_279c,function(item){if(item!==null){_279d.deleteItem(item);}});this.gridStore.save();}},page:null,grid:null,gridStore:null,dialog:null,dialogContent:new Simplate(["<div width=\"560px\">","<div style=\"width:100%;\" align=\"right\" id=\"{%= $.id %}-toolbar\"></div>","<div id=\"{%= $.id %}-grid\" ></div>","<div style=\"width:100%;\" align=\"right\" ><button data-dojo-type=\"dijit.form.Button\" type=\"button\" style=\"margin-top:10px;\" ","data-dojo-props=\"onClick:function(){dijit.byId('{%= $.pageId %}')._releaseManager.everyoneClick();}\"",">{%= $.everyoneText %}</button>","<button data-dojo-type=\"dijit.form.Button\" type=\"button\" style=\"margin-left:10px; margin-top:10px;\" ","data-dojo-props=\"onClick:function(){dijit.byId('{%= $.pageId %}')._releaseManager.dialog.hide();}\"",">{%= $.closeText %}</button></div>","</div> "]),lookup:null,everyoneClick:function(){var item=[{$key:"SYST00000001",OwnerDescription:this.page.resources.everyoneText}];this.lookupOptions.doSelected(item);},release:function(){var ids="";var items=this.gridStore._arrayOfAllItems;for(var i=0;i<items.length;i++){if(items[i]){ids+=items[i].Id[0]+",";}}var vURL="SLXGroupBuilder.aspx?method=GetGroupIdFromNameFamilyAndType&name="+this.page.name+"&family=System&type=36";dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_279e){}),load:dojo.hitch(this,function(_279f){vURL="SLXGroupBuilder.aspx?method=ReleaseGroup&gid="+_279f+"&toids="+ids;dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_27a0){}),load:dojo.hitch(this,function(_27a1){})});})});},startLookup:function(){if(!this.lookup){this.lookup=new Sage.UI.SDataLookup(this.lookupOptions);this.lookup.dialogTitle=this.page.resources.addLookup;this.lookup.dialogButtonText=this.page.resources.okButton;this.lookup.structure[0].cells[0].name=this.page.resources.typeText;this.lookup.structure[0].cells[1].name=this.page.resources.descriptionText;}this.lookup.showLookup();},lookupOptions:{callerId:null,displayMode:5,structure:[{cells:[{name:"",field:"Type",sortable:true,width:"150px",editable:false,styles:null,propertyType:"Sage.Entity.Interfaces.OwnerType",excludeFromFilters:false,useAsResult:false},{"name":"","field":"OwnerDescription","sortable":true,"width":"500px","editable":false,"styles":null,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false}],"defaultCell":{"name":null,"field":null,"sortable":false,"width":"50px","editable":false,"styles":"text-align: left;","propertyType":null,"excludeFromFilters":false,"useAsResult":false}}],gridOptions:{},storeOptions:{"resourceKind":"owners"},dialogTitle:"",dialogButtonText:"",id:"MainContent_AccountDetails_Owner_Grid",modality:"modal",doSelected:function(items){var _27a2=dijit.byId(this.callerId)._releaseManager;for(var i=0,len=items.length;i<len;i++){if(!_27a2.gridStore._itemsByIdentity[items[i].$key]){_27a2.gridStore.newItem({Id:items[i].$key,Text:items[i].OwnerDescription,Type:items[i].Type});}}_27a2.gridStore.save();_27a2.grid.startup();if(_27a2.lookup&&_27a2.lookup.lookupDialog){_27a2.lookup.lookupDialog.hide();}}}},_joinColumnWidgets:function(){if(this.nbZones===2){for(var i=this._childWidgets.length-1;i>=0;i--){if(this._childWidgets[i].column===1){this.removeChild(this._childWidgets[i]);this._childWidgets[i].column=0;this._childWidgets[i].index+=this._childWidgets.length;this.addChild(this._childWidgets[i],0,this._childWidgets[i].index);}}this._deleteColumn(1);}},_setOptions:function(_27a3){var uo=Sage.UI.DataStore.Dashboard.userOptions;if(_27a3.ttl){this.title=_27a3.ttl;this.set("name",_27a3.ttl);var _27a4=dijit.byId("Dashboard_tablist_"+this.id);if(_27a4){_27a4._setLabelAttr(_27a3.ttl);}}if(_27a3.one_column){this._joinColumnWidgets();this.setColumns(1);this.set("colWidths","100");dojo.publish("ui/dashboard/columnResize");}if(_27a3.even_split){this.setColumns(2);this.set("colWidths","50,50");dojo.publish("/ui/dashboard/columnResize");}if(_27a3.fat_left){this.setColumns(2);this.set("colWidths","67,33");dojo.publish("/ui/dashboard/columnResize");}if(_27a3.fat_right){this.setColumns(2);this.set("colWidths","33,67");dojo.publish("/ui/dashboard/columnResize");}if(_27a3.make_def){var db=dijit.byId(this._parentId);if(this.title){uo.defaultTab=this.title;db._updateUserOptions();}}if(_27a3.oldName){this.oldName=_27a3.oldName;}else{this.oldName="";}},_newWidgetMenu:function(){var d=new dijit.Dialog({title:this.resources.addContentText,style:"width:365px;"});dojo.mixin(d,new _277f());var list=Sage.UI.DataStore.Dashboard.widgetsList;var inner=[];this._nwListeners=[];for(var item in list){if(list.hasOwnProperty(item)&&item!="Default"){var _27a5=item.replace(" ","_");inner.push(this._nwTableInner.apply({btnId:_27a5+"_label",key:_2783[_27a5]||item,value:_2783[_27a5+"_Description"]||list[item],addText:this.resources.addText}));}}var mkup=this._nwTableOuter.apply({content:inner.join(""),buttonCancel:this.resources.buttonCancel});d.createHelpIconByTopic("Introducing_Widgets");d.set("content",mkup);d.show();var _27a6=function(){dojo.forEach(this._nwListeners,dojo.disconnect);dojo.disconnect(_27a7);dojo.disconnect(_27a8);setTimeout((function(d){return function(){d.destroyDescendants();d.destroy(false);};})(d),1);};var _27a7=dojo.connect(d,"hide",this,_27a6);var _27a8=dojo.connect(dijit.byId("btnAddContentClose"),"onClick",this,function(){d.hide();});var adds=dijit.findWidgets(dojo.byId("nwTable"));for(var i=0,len=adds.length;i<len;i++){if(adds[i].id!="btnAddContentClose"){var cb=dojo.hitch(this,this._addNewClick,d,adds[i].id);this._nwListeners.push(dojo.connect(adds[i],"onClick",null,cb));}}},_addNewClick:function(d,_27a9,evt){var id=_27a9.replace("_label","").replace("_"," ");d.hide();this._addNewWidget(id);},_init:function(){if(this.pageRendered){if(this.firstButNotDefault){for(var k=0,llen=this._childWidgets.length;k<llen;k++){this._childWidgets[k]._redrawCharts();}this.firstButNotDefault=false;}return;}setTimeout(lang.hitch(this,function(){if(this._columns.length){for(var i=0;i<this.nbZones;i++){if(this._columns[i]){this._columns[i].Widgets.Widget=_277d.Convert.toArrayFromObject(this._columns[i].Widgets.Widget);for(var j=0,len=this._columns[i].Widgets.Widget.length;j<len;j++){if(this._columns[i].Widgets.Widget[j]){this.addChild(this._createChild(this._columns[i].Widgets.Widget[j],i,j,this._page),i,j);}}}}}this.pageRendered=true;}),5);},_dropped:function(drp,_27aa,i){var _27ab=dijit.byId(drp.id);if(this._page!==_27ab._page){return;}var col=_27aa.node.cellIndex;_27ab._setColumn(col);_27ab._setIndex(i);dojo.publish("/ui/widget/dropped",[drp.id,_27ab._page,col,i]);if(this.permission){this._save();}else{this._raisePermissionInvalidMessage();}},_hide:function(){return this.title;},_copy:function(){return this._save(true);},_contextSave:function(){if(!this.pageRendered){return;}this._save();},_save:function(_27ac){var cw=this.colWidths;var _27ad;if(cw){_27ad=typeof cw==="string"?cw:cw.join(",");}var _27ae;if(_27ac){_27ae={"@name":this.name,"@title":this.name,"@id":this.id,"@family":this.family||"System","@permission":this.permission,"@colWidths":_27ad,Columns:{Column:[]}};}else{_27ae={"@name":this.name,"@title":this.name,"@id":this.id,"@family":this.family||"System","@colWidths":_27ad,Columns:{Column:[]}};}var _27af={};for(var i=0;i<this.nbZones;i++){_27af[i]=new _2785({Widgets:{Widget:[]}});}var len;for(i=0,len=this._childWidgets.length;i<len;i++){var col=this._childWidgets[i].column;var opts=this._childWidgets[i].widgetOptions;var w={index:this._childWidgets[i].index,"@name":opts.name,"@family":opts.family||"System",options:opts};_27af[col].Widgets.Widget.placeByAttr(w,"index");}var cols=Sage.Utility.size(_27af);for(var j=0;j<cols;j++){_27ae.Columns.Column.push(_27af[j]);}var pg={Dashboard:{}};Sage.Utility.mixOwn(pg.Dashboard,_27ae);if(_27ac){return pg;}var pgStr=dojo.toJson(pg);if(!this.oldName){this.oldName="";}var uri=dojo.string.substitute("slxdata.ashx/slx/crm/-/dashboard/page?name=${0}&family=${1}&oldName=${2}",[encodeURIComponent(this.name),encodeURIComponent(this.family),encodeURIComponent(this.oldName)]);var def=dojo.xhrPost({url:uri,handleAs:"text",postData:pgStr,load:function(data){},error:function(err){console.error(err);}});}});return _2787;});},"url:Sage/MainView/Account/templates/AccountDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Account.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svSubType_Caption || \"Sub Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.subtype %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Status || \"Status:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.status %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svDivision_Caption || \"Division:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.division %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svIndustry_Caption || \"Industry:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.industry) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMainPhone_Caption || \"Main phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mainphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTollFree_Caption || \"Toll free:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.tollfree) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","Sage/MainView/SecurityManager":function(){define("Sage/MainView/SecurityManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/Columns/RadioGroup","Sage/Data/WritableSDataStore","Sage/MainView/SecurityMgr/SecurityManagerGroupContext","dojo/i18n!./nls/SecurityManager","dojo/_base/declare"],function(_27b0,_27b1,_27b2,_27b3,_27b4,_27b5){var _27b6=_27b5("Sage.MainView.SecurityManager",_27b0,{_profilesStore:false,_currentProfileId:false,_currentProfileDescription:false,_profileNameCache:{},store:false,entityType:"securityProfileColumns",constructor:function(_27b7){dojo.mixin(this,_27b4);var _27b8=Sage.Services.getService("ClientGroupContext");if(!_27b8||_27b8.declaredClass!="Sage.MainView.SecurityMgr.SecurityManagerGroupContext"){Sage.Services.removeService("ClientGroupContext");_27b8=new _27b3();Sage.Services.addService("ClientGroupContext",_27b8);}if(_27b8){var ctx=_27b8.getContext();this._currentProfileId=ctx.CurrentGroupID;this._currentProfileDescription=ctx.CurrentName;}this.service=Sage.Data.SDataServiceRegistry.getSDataService("system");this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:this.securityManagerText+": ${0}"};dojo.subscribe("/group/context/changed",this,"onConfigurationChange");},_getListPanelConfig:function(){var _27b9=dijit.byId("refreshBtn");if(!this.refreshEvent){this.refreshEvent=dojo.connect(_27b9,"onClick",this,function(){var _27ba=dijit.byId("list");_27ba._markClean();});}var _27bb=[{field:"table",name:this.tableText,width:"155px"},{field:"entity",name:this.entityText,width:"130px"},{field:"column",name:this.columnText,width:"140px"},{field:"property",name:this.propertyText,width:"100px"},{field:"access",name:this.accessText,labels:[this.readWriteText,this.readOnlyText,this.noAccessText],width:"300px",type:_27b1,options:["ReadWrite","ReadOnly","NoAccess"],editable:true}];var where=(this._currentProfileId)?dojo.string.substitute("profile.id eq \"${0}\"",[this._currentProfileId]):"";if(!this.store){this.store=new _27b2({id:"securityProfileColumns",service:this.service,isSecurityManager:true,resourceKind:"securityProfileColumns",include:[],select:["table","entity","column","property","access"],directQuery:{conditions:where}});}else{this.store.directQuery={conditions:where};}this.listPanelConfiguration={list:{structure:_27bb,store:this.store,selectionMode:"none",id:"securityManagerListConfig"},detail:false,summary:false,toolBar:{items:[{icon:"~/ImageResource.axd?scope=global&type=Global_Images&key=Save_16x16",title:this.saveText,onClick:dojo.hitch(this.store,"save")},{icon:"~/ImageResource.axd?scope=global&type=Global_Images&key=Reset_16x16",title:this.resetText,onClick:dojo.hitch(this.store,"revert")}]}};dojo.style(dijit.byId("addGroupButton").domNode,"display","none");return this.listPanelConfiguration;},requestConfiguration:function(_27bc){if(_27bc.success){_27bc.success.call(_27bc.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_27bd){if(_27bd.success){_27bd.success.call(_27bd.scope||this,this.titlePaneConfiguration,this);}},onConfigurationChange:function(obj){this._currentProfileId=obj.current.CurrentGroupID;this._currentProfileDescription=obj.current.CurrentName;if(this._currentProfileId&&this._currentProfileId.length===12){if(this._profileNameCache&&this._profileNameCache.hasOwnProperty(this._currentProfileId)){this._setUIForNewGroup(false);}else{this._profilesStore.fetch({onComplete:dojo.hitch(this,"_setUIForNewGroup")});}}},onTitlePaneConfigurationChange:function(){},_setUIForNewGroup:function(_27be){var i;if(_27be){this._profileNameCache={};for(i=0;i<_27be.length;i++){this._profileNameCache[_27be[i]["$key"]]=_27be[i]["$descriptor"];}}var _27bf=dijit.byId("titlePane");if(_27bf){_27bf.set("title",this._profileNameCache[this._currentProfileId]);}var tabs=dijit.byId("GroupTabs");if(tabs){var _27c0=tabs.getChildren();for(i=0;i<_27c0.length;i++){if(_27c0[i].id===this._currentProfileId){tabs.selectChild(_27c0[i],false);break;}}}},_getTabsConfig:function(){this._setProfilesStore();this._profilesStore.fetch({onComplete:dojo.hitch(this,"_setUIForNewGroup")});return {store:this._profilesStore,selectedTabId:this._currentProfileId,tabKeyProperty:"$key",tabNameProperty:"profileDescription",fetchParams:{},staticTabs:[],onTabSelect:function(child){var _27c1=Sage.Services.getService("ClientGroupContext");if(_27c1){var ctx=_27c1.getContext();var id=child.id||child;if(ctx.CurrentGroupID===id){return;}var _27c2=dijit.byId("list");_27c2._markClean();_27c1.setCurrentGroup(id,child.title);}},onTabClose:false};},_setProfilesStore:function(){this._profilesStore=this._profilesStore||new _27b2({id:"securityProfilesstore",service:this.service,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"],orderby:"profileDescription"});},_getMenuConfig:function(){this._setProfilesStore();return {id:"profileMenu",img:"images/icons/Groups_16x16.gif",text:this.profilesText,tooltip:this.profilesText,width:"300px",items:[{fn:this._getProfileMenuGrid,scope:this}]};},_getProfileMenuGrid:function(){return new Sage.UI.GridMenuItem({gridOptions:{id:"profileGridInMenu",store:this._profilesStore,rowsPerPage:40,structure:[{field:"profileDescription",name:"Description",width:"290px"}],selectionMode:"single",query:{},height:"400px",width:"350px",onSelected:function(idx){var _27c3=this.getItem(idx);var _27c4=Sage.Services.getService("ClientGroupContext");if(_27c4){var ctx=_27c4.getContext();if(ctx.CurrentGroupID===_27c3["$key"]){return;}var _27c5=dijit.byId("GroupTabs"),_27c6=_27c5.getChildren();for(var i=0;i<_27c6.length;i++){if(_27c6[i].id==_27c3["$key"]){_27c5.selectChild(_27c6[i]);_27c4.setCurrentGroup(_27c3["$key"],_27c3.profileDescription);return;}}}}}});}});return _27b6;});},"Sage/Extensions/UI/Columns/CheckBox":function(){define("Sage/Extensions/UI/Columns/CheckBox",["dojo/_base/declare","dojo/_base/lang","dojo/query"],function(_27c7,lang,query){var _27c8=_27c7("Sage.Extensions.UI.Columns.CheckBox",dojox.grid.cells.Bool,{checkBoxIds:null,constructor:function(_27c9){this.checkBoxIds=[];},formatEditing:function(_27ca,_27cb){var _27cc="chk_"+this.field+"_"+_27cb;if(!this.checkBoxIds[_27cc]){this.checkBoxIds.push(_27cc);}var key="";var _27cd=this.grid.getItem(_27cb);if(_27cd){key=_27cd.EntityId;}var _27ce="chk_"+this.field+"_"+key;var _27cf=(_27ca===true||_27ca===1)?"<input type=\"checkbox\" class=\"attendeeGridIsPrimary\" id=\""+_27ce+"\" name=\""+_27cc+"\" checked=\"checked\" />":"<input type=\"checkbox\" class=\"attendeeGridIsPrimary\" id=\""+_27ce+"\" name=\""+_27cc+"\" />";return _27cf;},doclick:function(e){if(e.target.tagName=="INPUT"){var item=e.grid.getItem(e.rowIndex);if(e.target.checked){item.checked=true;}else{item.checked=false;}if(this.checkBoxClicked&&typeof this.checkBoxClicked==="function"){this.checkBoxClicked.call(this,item);}this.resetRows(e.grid,e.rowIndex,this.field,item);if(e.grid.mode=="insert"){this.applyStaticValue(e.rowIndex);}}},resetRows:function(grid,_27d0,_27d1,_27d2){var count=grid.rowCount;var _27d3;for(var i=0;i<count;i++){var item=grid.getItem(i);if(item&&item.EntityId!==_27d2.EntityId){_27d3="chk_"+this.field+"_"+item.EntityId;dojo.byId(_27d3).checked=false;grid.store.setValue(item,_27d1,false);}else{if(item&&item.EntityId===_27d2.EntityId){_27d3="chk_"+this.field+"_"+item.EntityId;if(grid.mode=="insert"){grid.store.setValue(item,_27d1,true);}else{if(grid.mode!=="insert"&&item.IsPrimary){grid.store.setValue(item,_27d1,false);}else{if(grid.mode!=="insert"&&!item.IsPrimary){grid.store.setValue(item,_27d1,true);}}}}}}},resetCheckBoxes:function(index){for(var i=0;i<this.checkBoxIds.length;i++){if(index!=i){dojo.byId(this.checkBoxIds[i]).checked=false;}}query(".attendeeGridIsPrimary").forEach(function(node,index,arr){});}});return _27c8;});},"Sage/QuickForms/Design/Editors/TextBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/TextBoxAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/TextBoxAdvancedPropertyEditor"],function(_27d4,lang,_27d5,_27d6,_27d7,_27d8,_27d9,_27da,_27db,_27dc){return _27d4("Sage.QuickForms.Design.Editors.TextBoxAdvancedPropertyEditor",[_27d5,_27da,_27d9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlLabelPlacementTooltipText %}\">","<label>{%= $.controlLabelPlacementText %}</label>","<div data-dojo-type=\"dijit.form.Select\" data-dojo-attach-point=\"_controlLabelPlacement\" data-dojo-attach-event=\"onChange:_onControlLabelPlacementChange\">","{% for (var placement in $.labelPlacementText) { %}","<span value=\"{%= placement %}\">{%= $.labelPlacementText[placement] %}</span>","{% } %}","</div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.visibleTooltipText %}\">","<label>{%= $.visibleText %}</label>","<div data-dojo-attach-point=\"_visible\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onVisibleChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.enabledTooltipText %}\">","<label>{%= $.enabledText %}</label>","<div data-dojo-attach-point=\"_enabled\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onEnabledChange\"></div>","</div>","<div class=\"editor-field\" title=\"{%= $.maxLengthTooltipText %}\">","<label>{%= $.maxLengthText %}</label>","<div data-dojo-type=\"dijit.form.NumberTextBox\" data-dojo-attach-point=\"_maxLength\" data-dojo-attach-event=\"onChange:_onMaxLengthChange\" data-dojo-props=\"constraints:{min:-1,places:0}\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.requiredTooltipText %}\">","<label>{%= $.requiredText %}</label>","<div data-dojo-attach-point=\"_required\" data-dojo-type=\"dijit.form.CheckBox\" data-dojo-attach-event=\"onChange:_onRequiredChange\"></div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.defaultDataBindingTooltipText %}\">","<label>{%= $.defaultDataBindingText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_defaultDataBinding\" data-dojo-attach-event=\"onChange:_onDefaultDataBindingChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlIdTooltipText %}\">","<label>{%= $.controlIdText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlId\" data-dojo-attach-event=\"onChange:_onControlIdChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","<div class=\"editor-content-half\">","<div class=\"editor-field\" title=\"{%= $.controlTypeTooltipText %}\">","<label>{%= $.controlTypeText %}</label>","<div data-dojo-type=\"dijit.form.TextBox\" data-dojo-attach-point=\"_controlType\" data-dojo-attach-event=\"onChange:_onControlTypeChange\" data-dojo-props=\"disabled:true\"></div>","</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_maxLength:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_27dc);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _27dd=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_27dd&&_27dd["DataItemName"])||"");},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onMaxLengthChange:function(value){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/UI/Calendar":function(){define("Sage/UI/Calendar",["dijit/Calendar","dojo/_base/declare"],function(_27de,_27df){var _27e0=_27df("Sage.UI.Calendar",_27de,{_dateModifiedExternal:false,displayMode:"",constructor:function(_27e1){this.displayMode=_27e1.displayMode;var self=this;if(this.displayMode==="popup"){dojo.connect(this,"_setValueAttr",function(value,_27e2){if(value){value=new self.dateClassObj(value);}if(self._isValidDate(value)){value.setHours(1,0,0,0);if(!self.isDisabledDate(value,self.lang)){self._set("value",value);if(self.monthWidget&&self.monthWidget.dropDown){self.set("currentFocus",value);}if(_27e2||typeof _27e2=="undefined"){self.onChange(self.get("value"));}}}else{self._set("value",null);self.set("currentFocus",self.currentFocus);}});}else{dojo.subscribe("/entity/activity/calendar/schedulerDateChanged",function(data){(function(){self._dateModifiedExternal=true;self.set("value",data.date);self._dateModifiedExternal=false;})();});dojo.connect(this,"_setCurrentFocusAttr",function(date){self.set("value",date);});}this.inherited(arguments);},onValueSelected:function(date){if(this.displayMode!="popup"){if(!this._dateModifiedExternal){this._dateModifiedExternal=false;dojo.publish("/entity/activity/calendar/navigationCalendarDateChanged",[date,this]);this._dateModifiedExternal=false;}}},getClassForDate:function(date){var day=date.getDay();if((day===6)||(day===0)){return "dijitCalendarWeekEndDate";}}});return _27e0;});},"Sage/QuickForms/Design/nls/EmailControlDesigner":function(){define("Sage/QuickForms/Design/nls/EmailControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_27e3,lang){var nls={root:{displayNameText:"Email"}};return lang.mixin(_27e3,nls);});},"Sage/MainView/JobManager":function(){define("Sage/MainView/JobManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/MainView/JobMgr/JobManagerGroupContextService","Sage/MainView/JobMgr/FilterConfigurationProvider","dojo/_base/declare","Sage/MainView/JobMgr/JobManagerActions"],function(_27e4,_27e5,_27e6,_27e7,_27e8,_27e9){var _27ea=_27e9("Sage.MainView.JobManager",_27e4,{_currentTabId:false,_currentTabDescription:false,_currentKeyField:"$key",_groupContextService:false,_tabNameCache:{},_mainViewName:"JobManager",store:false,constructor:function(_27eb){var _27ec=Sage.Services.getService("ClientGroupContext");if(!_27ec||_27ec.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){Sage.Services.removeService("ClientGroupContext");_27ec=new JobManagerGroupContextService();Sage.Services.addService("ClientGroupContext",_27ec);}var ctx=_27ec.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");},_setListPanelConfig:function(){var _27ed=Sage.Services.getService("ClientGroupContext");if(_27ed){this.listPanelConfiguration=_27ed.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}},_getListPanelConfig:function(){this._setListPanelConfig();return this.listPanelConfiguration;},requestConfiguration:function(_27ee){if(_27ee.success){_27ee.success.call(_27ee.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_27ef){if(_27ef.success){_27ef.success.call(_27ef.scope||this,this.titlePaneConfiguration,this);}},_setUIForNewTab:function(tabId,_27f0){this._currentTabId=tabId;this._currentTabDescription=_27f0;},_onCurrentGroupChanged:function(args){var _27f1=args["current"];if(!_27f1){var _27f2=Sage.Services.getService("ClientGroupContext");_27f1=_27f2.getContext();}if(dijit.byId("GroupTabs").selectedChildWidget.id!==_27f1.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_27f1.CurrentGroupID);}},_onTabSelected:function(tab){var _27f3=Sage.Services.getService("ClientGroupContext");var id=tab.id||tab;var _27f4=_27f3.getKeyField(id);if(_27f3){var ctx=_27f3.getContext();if(ctx.CurrentGroupID===id){return;}this._setUIForNewTab(id,tab.title);_27f3.setCurrentGroup(id,tab.title,_27f4);}},_getTabsConfig:function(){var _27f5={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _27f5;},_getStaticTabs:function(){var _27f6=Sage.Services.getService("ClientGroupContext");var _27f7=_27f6.getStaticTabs();return _27f7;},_getMenuConfig:function(){return false;}});return _27ea;});},"Sage/UI/Controls/nls/Lookup":function(){define("Sage/UI/Controls/nls/Lookup",["Sage/LanguageList","dojo/_base/lang"],function(_27f8,lang){var nls={root:{buttonToolTip:"Find",closeButtonToolTip:"Remove"}};return lang.mixin(_27f8,nls);});},"Sage/Utility/File/nls/DescriptionsForm":function(){define("Sage/Utility/File/nls/DescriptionsForm",["Sage/LanguageList","dojo/_base/lang"],function(_27f9,lang){var nls={root:{titleFmt:"Add Attachment(s) for ${0}",titleLibraryDoc:"Add Library Document (s)",fileNameText:"File name and size: ",descText:"Description:",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_27f9,nls);});},"Sage/TaskPane/OpportunityTasksTasklet":function(){define("Sage/TaskPane/OpportunityTasksTasklet",["dojo/i18n!./nls/OpportunityTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/Opportunity/UpdateOpportunities","Sage/MainView/Opportunity/OpportunityStatistics","dojo/_base/declare"],function(_27fa,_27fb,_27fc,_27fd,_27fe,_27ff){var _2800=_27ff("Sage.TaskPane.OpportunityTasksTasklet",[_27fb,_27fc],{updateOpportunitiesTitle:"Update Opportunities",opportunityStatisticsTitle:"Opportunity Statistics",taskItems:[],constructor:function(){dojo.mixin(this,_27fa);this.taskItems=[{taskId:"UpdateOpportunities",type:"Link",displayName:this.updateOpportunitiesTitle,clientAction:"opportunityTasksActions.updateOpportunities();",securedAction:"Entities/Opportunity/MultiUpdate"},{taskId:"OpportunityStatistics",type:"Link",displayName:this.opportunityStatisticsTitle,clientAction:"opportunityTasksActions.opportunityStatistics();",securedAction:"Entities/Opportunity/OpportunityStatistics"}];},updateOpportunities:function(){this.prepareSelectedRecords(this.updateOpportunitiesActionItem(this.getSelectionInfo()));},updateOpportunitiesActionItem:function(_2801){return function(){var _2802=dijit.byId("dlgUpdateMultipleOpps");if(!_2802){_2802=new _27fd(_2801);}else{_2802.setSelectionInfo(_2801);}_2802.show();};},opportunityStatistics:function(){this.prepareSelectedRecords(this.opportunityStatisticsActionitem(this.getSelectionInfo()));},opportunityStatisticsActionitem:function(_2803){return function(){var _2804=new _27fe(_2803);_2804.show();};}});return _2800;});},"Sage/UI/Controls/SimpleTextarea":function(){define("Sage/UI/Controls/SimpleTextarea",["dijit/form/SimpleTextarea","dojo/_base/declare"],function(_2805,_2806){var _2807=_2806("Sage.UI.Controls.SimpleTextarea",[_2805],{baseClass:"dijitTextBox dijitTextArea sageTextArea",templateString:"<div><textarea ${!nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea></div>",hotKey:"",multiLineMaxLength:"",shouldPublishMarkDirty:true,_setHotKeyAttr:{node:"textbox",type:"attribute",attribute:"accessKey"},constructor:function(args){this.maxLength=args.multiLineMaxLength;},onChange:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.inherited(arguments);}});return _2807;});},"Sage/UI/SLXPreviewGrid/FilterPanel":function(){define("Sage/UI/SLXPreviewGrid/FilterPanel",["dijit/form/Button","dijit/_Widget","Sage/Utility/_LocalStorageMixin","dojo/i18n!../nls/SLXPreviewGrid","dojo/_base/declare"],function(_2808,_2809,_280a,_280b,_280c){var _280d=_280c("Sage.UI.SLXPreviewGrid.FilterPanel",[_2809,_280a],{_filters:null,_state:{},STORE_NS:"SAGE_UI_EDITABLEGRID",STORE_KEY_FILTERINFO:"_FILTER_INFO_",applyText:"Apply",resetText:"Reset",constructor:function(){this._filters=[];},postMixInProperties:function(){dojo.mixin(this,_280b);this._loadState();this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.domNode.className="filterPanel";var left=document.createElement("div");left.style.styleFloat=left.style.cssFloat="left";left.style.width="39%";var right=document.createElement("div");right.style.styleFloat=right.style.cssFloat="left";right.style.width="39%";var _280e=this._state["filterStates"]||{};var _280f=left;dojo.forEach(this.filterConfig,function(item,index,ar){if(_280f===left&&index+1>ar.length/2){_280f=right;}var _2810=document.createElement("div");_2810.className="filterItem";var _2811=this._createFilter(item);if(_280e[item.field]&&_2811.applyState){_2811.applyState(_280e[item.field]);}this._filters.push(_2811);if(item.label){var lbl=document.createElement("label");lbl.appendChild(document.createTextNode(item.label+":"));lbl.className="filterPanelLabel";lbl.htmlFor=_2811.domNode.id;_2810.appendChild(lbl);}_2810.appendChild(_2811.domNode);_280f.appendChild(_2810);},this);var _2812=document.createElement("div");_2812.style.styleFloat=_2812.style.cssFloat="left";_2812.style.width="20%";_2812.className="filterButtonPanel";var btnOk=new _2808({label:this.applyText});_2812.appendChild(btnOk.domNode);dojo.connect(btnOk,"onClick",this,"_applyFilter");var _2813=new _2808({label:this.resetText});_2812.appendChild(_2813.domNode);dojo.connect(_2813,"onClick",this,"_resetFilter");dojo.connect(this.domNode,"keydown",this,function(e){if(e.keyCode===13){this._applyFilter();}});this.domNode.appendChild(left);this.domNode.appendChild(right);this.domNode.appendChild(_2812);},startup:function(){this.inherited(arguments);dojo.forEach(this._filters,function(item){item.startup();});if(this._state["visible"]&&this._state["visible"]===true){this.toggle();}},destroy:function(){dojo.forEach(this._filters,function(item){item.destroy(false);});dojo.forEach(dijit.findWidgets(this.domNode),function(wid){wid.destroy(false);});this.inherited(arguments);},getQuery:function(){var c=[];dojo.forEach(this._filters,function(f){var q=f.getQuery();if(q){c.push(q);}});return c.length>0?c.join(" and "):null;},toggle:function(){if(this.domNode.style.display==="none"){this.domNode.style.display="block";this._state["visible"]=true;}else{this.domNode.style.display="none";this._state["visible"]=false;}this._saveState();},onFilterApply:function(_2814){},_createFilter:function(_2815){var c=_2815.widgetType;return new c(_2815);},_applyFilter:function(){var _2816={};for(var i=0;i<this._filters.length;i++){var f=this._filters[i];if(f.getState){_2816[f.field]=f.getState();}}this._state["filterStates"]=_2816;this._saveState();this.onFilterApply(this.getQuery());},_resetFilter:function(){dojo.forEach(this._filters,function(f){f.reset();});this._applyFilter();},_saveState:function(){var key=this.STORE_KEY_FILTERINFO+this.id;this.saveToLocalStorage(key,this._state,this.STORE_NS);},_loadState:function(){var key=this.STORE_KEY_FILTERINFO+this.id;this._state=this.getFromLocalStorage(key,this.STORE_NS)||{};}});return _280d;});},"Sage/QuickForms/Design/Editors/nls/NumericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NumericBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2817,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_2817,nls);});},"Sage/TaskPane/nls/CommonTasksTasklet":function(){define("Sage/TaskPane/nls/CommonTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_2818,lang){var nls={root:{okButtonText:"OK",loadingText:"loading...",noPrimaryEmail:"No primary email available",selectFileFormat:"Select a file format:",exportToFile_OptionCSV:"Standard CSV",exportToFile_OptionTab:"Tab delimited (recommended for Microsoft Excel)",exportToFile_OptionSaveFormat:"Remember my selection and do not ask again.",exportToFile_OK:"OK",exportToFile_Cancel:"Cancel",exportToFile_DialogTitle:"Export to File",exportToExcel_Caption:"Exporting to Excel",errorRequestingJobMgr:"An error occurred requesting job manager: ${0}",errorExecutionAction:"An error occurred executing action ${0}",exportProcessingJobMsg:"Processing export, you may continue waiting for completion, or go to the reports view to open your file."}};return lang.mixin(_2818,nls);});},"Sage/Utility/File":function(){define("Sage/Utility/File",["Sage/UI/Dialogs","dojo/number","dojo/_base/lang"],function(_2819,_281a,lang){Sage.namespace("Utility.File");Sage.Utility.File={fileType:{ftAttachment:0,ftLibraryDocs:1},unableToUploadText:"Saleslogix Desktop Integration Module must be installed to use this feature.",unknownSizeText:"unknown",supportsHTML5File:(window.File&&window.FileReader&&window.FileList&&window.Blob),largeFileWarningText:"Warning: This request exceed the size limit set by your administrator and fail to upload.",largeFileWarningTitle:"Warning",fileUploadOptions:{maxFileSize:4000000},init:function(_281b){if(_281b){this.fileUploadOptions=_281b;}},isFileSizeAllowed:function(files){var l=0;var _281c=Sage.Utility.File.fileUploadOptions.maxFileSize;var title=Sage.Utility.File.largeFileWarningTitle;var msg=Sage.Utility.File.largeFileWarningText;for(var i=0;i<files.length;i++){if(files[i].size===0){}else{l+=files[i].size||files[i].blob.length;}}if(l>(_281c)){_2819.showError(msg,title);return false;}return true;},uploadFile:function(file,url,_281d,_281e,error,scope,asPut){if(!Sage.Utility.File.isFileSizeAllowed([file])){return;}if(Sage.gears){this._uploadFileGears(file,url,_281d,_281e,error,scope,asPut);}else{if(this.supportsHTML5File){if((window.FileReader.prototype.readAsBinaryString)||(window.FileReader.prototype.readAsArrayBuffer)){this._uploadFileHTML5_asBinary(file,url,_281d,_281e,error,scope,asPut);}else{this._uploadFileHTML5(file,url,_281d,_281e,error,scope,asPut);}}else{this._showUnableToUploadError();}}},uploadFileHTML5:function(file,url,_281f,_2820,error,scope,asPut){if(!Sage.Utility.File.isFileSizeAllowed([file])){return;}if(this.supportsHTML5File){if((window.FileReader.prototype.readAsBinaryString)||(window.FileReader.prototype.readAsArrayBuffer)){this._uploadFileHTML5_asBinary(file,url,_281f,_2820,error,scope,asPut);}else{this._uploadFileHTML5(file,url,_281f,_2820,error,scope,asPut);}}else{this._showUnableToUploadError();}},_uploadFileGears:function(file,url,_2821,_2822,error,scope,asPut){if(!window.Sage&&!Sage.gears){this._showUnableToUploadError();return;}if(_2821){_2821.call(scope,null);}if(!url){url="slxdata.ashx/slx/system/-/attachments/file?format=json";}var _2823=Sage.gears.factory.create("beta.httprequest");_2823.open((asPut)?"PUT":"POST",url);var _2824="---------------------------"+(new Date()).getTime();var _2825="--";var crlf="\r\n";var _2826=Sage.gears.factory.create("beta.blobbuilder");_2826.append(_2825);_2826.append(_2824);_2826.append(crlf);_2826.append("Content-Disposition: attachment; name=\"file_\"");if(file.name){_2826.append("; filename*=\""+encodeURI(file.name)+"\"");}_2826.append(crlf);_2826.append("Content-Type: application/octet-stream");_2826.append(crlf);_2826.append(crlf);_2826.append(file.blob);_2826.append(crlf);_2826.append(_2825);_2826.append(_2824);_2826.append(_2825);_2826.append(crlf);if(typeof (_2822)==="function"){_2823.onreadystatechange=function(){if(_2823.readyState===4){if(Math.floor(_2823.status/100)!==2){if(typeof (error)==="function"){error.call(scope||this,_2823);}}else{_2822.call(scope||this,_2823);}}};}if(typeof (_2821)==="function"){_2823.upload.onprogress=function(prog){_2821.call(scope||this,prog);};}_2823.setRequestHeader("Content-Type","multipart/attachment; boundary="+_2824);var blob=_2826.getAsBlob();_2823.send(blob);},_uploadFileHTML5:function(file,url,_2827,_2828,error,scope,asPut){if(!this.supportsHTML5File||!window.FormData){this._showUnableToUploadError();return;}if(_2827){_2827.call(scope,null);}if(!url){url="slxdata.ashx/slx/system/-/attachments/file";}var fd=new FormData();fd.append("file_",file,file.name);var _2829=new XMLHttpRequest();_2829.open((asPut)?"PUT":"POST",url);_2829.setRequestHeader("X-Requested-With","XMLHttpRequest");if(_2828){_2829.onreadystatechange=function(){if(_2829.readyState===4){if(Math.floor(_2829.status/100)!==2){if(error){error.call(scope||this,_2829);}}else{_2828.call(scope||this,_2829);}}};}if(_2827){_2829.upload.addEventListener("progress",function(e){_2827.call(scope||this,e);});}_2829.send(fd);},_uploadFileHTML5_asBinary:function(file,url,_282a,_282b,error,scope,asPut){if(!this.supportsHTML5File){this._showUnableToUploadError();return;}if(_282a){_282a.call(scope,null);}window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(!url){url="slxdata.ashx/slx/system/-/attachments/file";}var _282c=new XMLHttpRequest();_282c.open((asPut)?"PUT":"POST",url);_282c.setRequestHeader("X-Requested-With","XMLHttpRequest");var _282d=new FileReader();_282d.onload=lang.hitch(this,function(evt){var _282e,_282f,_2830,crlf,bb,_2831,_2832,_2833;_2832=new FileReader();try{new Blob();bb=[];}catch(e){bb=new window.BlobBuilder();_2831=true;}_282e=evt.target.result;_282f="---------------------------"+(new Date()).getTime();_2830="--";crlf="\r\n";this._append(bb,_2830+_282f+crlf);this._append(bb,"Content-Disposition: attachment; ");this._append(bb,"name=\"file_\"; ");this._append(bb,"filename*=\""+encodeURI(file.name)+"\" ");this._append(bb,crlf);this._append(bb,"Content-Type: "+file.type);this._append(bb,crlf+crlf);this._append(bb,_282e);this._append(bb,crlf);this._append(bb,_2830+_282f+_2830+crlf);if(_282b){_282c.onreadystatechange=function(){if(_282c.readyState===4){if(Math.floor(_282c.status/100)!==2){if(error){error.call(scope||this,_282c);}}else{_282b.call(scope||this,_282c);}}};}if(_282a){_282c.upload.addEventListener("progress",function(e){_282a.call(scope||this,e);});}_282c.setRequestHeader("Content-Type","multipart/attachment; boundary="+_282f);if(_2831){_2833=bb.getBlob(file.type);}else{_2833=new Blob(bb);}_2832.onload=function(e){_282c.send(e.target.result);};try{_282c.send(_2833);}catch(e){_2832.readAsArrayBuffer(_2833);}});_282d.readAsArrayBuffer(file);},_append:function(_2834,data){if(_2834&&_2834.constructor===Array){_2834.push(data);}else{_2834.append(data);}},_showUnableToUploadError:function(){_2819.showError(this.unableToUploadText);},formatFileSize:function(size){size=parseInt(size,10);if(size===0){return "0 KB";}if(!size||size<0){return this.unknownSizeText;}if(size<1024){return "1 KB";}return _281a.format(Math.round(size/1024))+" KB";}};return Sage.Utility.File;});},"Sage/UI/ConditionManager":function(){define("Sage/UI/ConditionManager",["Sage/_Templated","dijit/_Widget","dijit/form/Select","dijit/form/Button","Sage/UI/ImageButton","Sage/UI/SearchConditionWidget","Sage/Utility","dojo/i18n!./nls/ConditionManager","dojo/_base/declare"],function(_2835,_2836,_2837,_2838,_2839,_283a,util,nls,_283b){var _283c=_283b("Sage.UI.ConditionManager",[_2836,_2835],{widgetsInTemplate:true,srchBtnCaption:"Search",addrowlabel:"Lookup by:",hiderowlabel:"And:",hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",hideimgalttext:"Remove Condition",addimgalttext:"Add Condition",errorOperatorRequiresValue:"The operator requires a value",equalTo:"Equal to",notEqualTo:"Not Equal to",startingWith:"Starting With",contains:"Contains",equalOrLessThan:"Equal or Less than",equalOrGreaterThan:"Equal or Greater than",lessThan:"Less than",greaterThan:"Greater than",operators:null,fields:null,fieldsHash:null,fieldNameProperty:"fieldname",fieldDisplayNameProperty:"displayname",fieldTypeProperty:"propertyType",fieldPickListNameProperty:"pickListName",conditionWidgets:null,widgetConnects:null,widgetTemplate:new Simplate(["<div id=\"{%= $.id %}\" class=\"lookup-condition-manager\">","<table cellspacing=\"0\" cellpadding=\"3\">","<tr><td><div dojoAttachPoint=\"conditions\"></div></td></tr>","</table>","<div class=\"lookup-condition-actions\">","<button id=\"{%= $.id %}-Search\" data-dojo-type=\"dijit.form.Button\" type=\"button\" dojoAttachPoint=\"searchButton\" dojoAttachEvent=\"onClick:_doSearch\">{%= $.srchBtnCaption %}</button>","</div>","</div>"]),isSettingValues:false,id:"",constructor:function(){this.conditionWidgets={};this.operators={};this.fieldsHash={};this.fields=[];this.widgetConnects=[];},destroy:function(){var wid,i;for(i=0;i<this.widgetConnects.length;i++){dojo.disconnect(this.widgetConnects[i]);}for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].destroy){this.conditionWidgets[wid].destroy();}}}this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,nls);this.inherited(arguments);},getOperatorsByField:function(field){var _283d,_283e,_283f,_2840,_2841;_283d=[{value:"eq",label:this.equalTo,selected:false,disabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false}];_283e=[{value:"sw",label:this.startingWith,selected:false,disabled:false},{value:"like",label:this.contains,selected:false,diabled:false},{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false},{value:"le",label:this.equalOrLessThan,selected:false,diabled:false},{value:"ge",label:this.equalOrGreaterThan,selected:false,diabled:false},{value:"lt",label:this.lessThan,selected:false,diabled:false},{value:"gt",label:this.greaterThan,selected:false,diabled:false}];_283f=[{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false},{value:"le",label:this.equalOrLessThan,selected:false,diabled:false},{value:"ge",label:this.equalOrGreaterThan,selected:false,diabled:false},{value:"lt",label:this.lessThan,selected:false,diabled:false},{value:"gt",label:this.greaterThan,selected:false,diabled:false}];_2840=[{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false}];_2841={"System.Boolean":{options:_283d},"Boolean":{options:_283d},"System.String":{options:_283e},"SalesLogix.PickList":{options:_2840},"Sage.Entity.Interfaces.UserType":{options:_283f},"Sage.Entity.Interfaces.OwnerType":{options:_283f},"System.DateTime":{options:_283f},"DateTime":{options:_283f},"Phone":{options:_283e},"User":{options:_283e},"Owner":{options:_283e},"System.Double":{options:_283f},"System.Int32":{options:_283f},"System.Int16":{options:_283f},"System.Decimal":{options:_283f},"Fixed":{options:_283f},"Decimal":{options:_283f},"Integer":{options:_283f},"Positive Integer":{options:_283f},"Currency":{options:_283f},"Percent":{options:_283f},"defaultOperators":{options:_283e},"None":{options:_283e}};if((field.hasOwnProperty(this.fieldTypeProperty))&&(_2841.hasOwnProperty(field[this.fieldTypeProperty]))){return _2841[field[this.fieldTypeProperty]].options;}return _2841.defaultOperators&&_2841.defaultOperators.options;},getConditionsAsUrlWhereString:function(){var conds=this.getConditions(),_2842=[],_2843=null,i,_2844,lhd,rhd,lhs,rhs,_2845;for(i=0;i<conds.length;i++){_2843=conds[i].val;if(typeof _2843==="string"){_2843=_2843.replace(/%/g,"");}if(_2843.constructor===Date){if(conds[i].operator==="eq"||conds[i].operator==="ne"){lhd=_2843;rhd=_2843;lhd.setHours(0);lhd.setMinutes(0);lhd.setSeconds(0);lhs=util.Convert.toIsoStringFromDate(lhd);rhd.setHours(23);rhd.setMinutes(59);rhd.setSeconds(59);rhs=util.Convert.toIsoStringFromDate(rhd);_2845={field:conds[i].fieldname,leftOp:"gt",leftVal:lhs,rightOp:"lt",rightVal:rhs,join:"and"};if(conds[i].operator==="ne"){_2845.leftOp="lt";_2845.rightOp="gt";_2845.join="or";}_2842.push(dojo.string.substitute("(${field} ${leftOp} '${leftVal}' ${join} ${field} ${rightOp} '${rightVal}')",_2845));continue;}else{if(conds[i].operator==="le"||conds[i].operator==="gt"){_2843.setHours(23);_2843.setMinutes(59);_2843.setSeconds(59);}else{if(conds[i].operator==="ge"||conds[i].operator==="lt"){_2843.setHours(0);_2843.setMinutes(0);_2843.setSeconds(0);}}}_2843=util.Convert.toIsoStringFromDate(_2843);}_2844={field:conds[i].fieldname,op:conds[i].operator,val:_2843};var fld=this.getField(conds[i].fieldname);if(fld&&fld.propertyType==="SalesLogix.PickList"){if(typeof _2843==="object"&&_2843[0]){_2844.val=_2843[0];}}if(_2844.op==="like"){_2844.val=["%",_2844.val,"%"].join("");}else{if(_2844.op==="sw"){_2844.op="like";_2844.val+="%";}}if(typeof _2844.val==="string"){_2844.val=["\"",_2844.val.toUpperCase(),"\""].join("");_2844.field=["upper(",_2844.field,")"].join("");}_2842.push([_2844.field," ",_2844.op," ",_2844.val].join(""));}return _2842.join(" and ");},getField:function(_2846){if(this.fieldsHash&&this.fieldsHash.hasOwnProperty(_2846)){return this.fieldsHash[_2846];}return false;},getConditionsJSON:function(){var i=0,_2847=this.getConditions(),_2848,_2849;for(i=0;i<_2847.length;i++){_2849=_2847[i];_2848=_2847[i].val;if(_2848.constructor===Date){_2848=util.Convert.toIsoStringFromDate(_2848);}_2847[i].val=_2848;}return Sys.Serialization.JavaScriptSerializer.serialize(_2847);},getConditions:function(){var conds=[],wid,c;for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].getCondition){c=this.conditionWidgets[wid].getCondition();if(c){conds.push(c);}}}}return conds;},resetConditions:function(){var wid,i;for(i=0;i<this.widgetConnects.length;i++){dojo.disconnect(this.widgetConnects[i]);}for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].getCondition){this._removeCondition(this.conditionWidgets[wid]);}}}this._setInitialCondition();},_doSearch:function(){this.onDoSearch(this.getConditions());},_setFieldsAttr:function(_284a){var i;this.fields=_284a;this.fieldsHash={};for(i=0;i<_284a.length;i++){this.fieldsHash[_284a[i][this.fieldNameProperty]]=_284a[i];}this.resetConditions();},setFirstConditionValue:function(field,op,value){var prop,wid;for(prop in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(prop)){wid=this.conditionWidgets[prop];if(wid.isFirstCondition){wid.defaultOperator=op;wid.defaultField=field;wid.defaultValue=value;wid.refreshDefaults();}}}},addCondition:function(field,op,value,_284b){var count=this._conditionCount(),_284c=new _283a({conditionManager:this,label:this.hiderowlabel,isFirstCondition:false,defaultField:field,defaultOperator:op,defaultValue:value,id:this.id+"-SearchCondition"+count,visible:_284b});this.widgetConnects.push(dojo.connect(_284c,"onRemoveLookupCondition",this,"_removeCondition"));dojo.place(_284c.domNode,this.conditions);_284c.startup();this.conditionWidgets[_284c.id]=_284c;},_setInitialCondition:function(){var self=this,wid=new _283a({conditionManager:self,label:self.addrowlabel,isFirstCondition:true,id:self.id+"-SearchCondition0",visible:true});this.widgetConnects.push(dojo.connect(wid,"onAddLookupCondition",self,"_addCondition"));self.conditionWidgets[wid.id]=wid;dojo.place(wid.domNode,self.conditions);wid.startup();},_addCondition:function(){var count=this._conditionCount(),_284d=new _283a({conditionManager:this,label:this.hiderowlabel,isFirstCondition:false,id:this.id+"-SearchCondition"+count,visible:true});this.widgetConnects.push(dojo.connect(_284d,"onRemoveLookupCondition",this,"_removeCondition"));this.conditionWidgets[_284d.id]=_284d;dojo.place(_284d.domNode,this.conditions);_284d.startup();},_removeCondition:function(_284e){var id=_284e.id;_284e.destroyRecursive();delete (this.conditionWidgets[id]);},_conditionCount:function(){var count=0,wid;for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){count+=1;}}return count;},onDoSearch:function(args){}});return _283c;});},"Sage/MainView/ReportMgr/ReportsListPanelConfig":function(){define("Sage/MainView/ReportMgr/ReportsListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/ReportsListPanelConfig","Sage/Data/SDataServiceRegistry","Sage/UI/Columns/DateTime","dojo/_base/lang","Sage/MainView/ReportMgr/ReportManagerFormatter"],function(_284f,_2850,_2851,_2852,_2853,_2854,_2855,_2856){var _2857=_2851("Sage.MainView.ReportMgr.ReportsListPanelConfig",[_284f],{keyField:"$key",_listId:"Reports",_resourceKind:"reports",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"ReportsListContextMenu",constructor:function(){_2855.mixin(this,_2852);this._service=_2853.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.list.selectionMode="single";},_getStructure:function(){return [{field:"displayName",name:this.colNameReportName,width:"100px"},{field:"mainTable",name:this.colNameTable,width:"50px",formatter:_2856.formatProperCase},{field:"createUser",name:this.colNameCreateUser,width:"50px",formatter:_2856.formatGetUserById},{field:"createDate",name:this.colNameCreateDate,width:"50px",type:_2854},{field:"modifyUser",name:this.colNameModifyUser,width:"50px",formatter:_2856.formatGetUserById},{field:"modifyDate",name:this.colNameModifyDate,width:"50px",type:_2854}];},_getSelect:function(){return ["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"];},_getWhere:function(){return "";},_getSort:function(){var sort=[{attribute:"displayName",descending:false}];return sort;},_getInclude:function(){var _2858=[];return _2858;},_getSummaryListRequestConfig:function(){var _2859={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"],include:[],sort:this._getSort(),useBatchRequest:false};return _2859;},_getFormatterScope:function(){var _285a=this._getSummaryListRequestConfig();var _285b=new _2850({templateLocation:"MainView/ReportMgr/templates/ReportsListSummary.html",resetDataManager:true,requestConfiguration:_285a});return _285b;},_getSummaryDetailRequestConfig:function(){var _285c={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"],include:[],useBatchRequest:false};return _285c;},_getDetailConfig:function(){var _285d=this._getFormatterScope();var _285e=this._getSummaryDetailRequestConfig();var _285f={resourceKind:this._resourceKind,requestConfiguration:_285e,templateLocation:"MainView/ReportMgr/Templates/ReportDetailSummary.html"};return _285f;},_getToolBars:function(){var _2860={items:[]};return _2860;}});return _2857;});},"Sage/UI/Alarms/JobNotificationButton":function(){define("Sage/UI/Alarms/JobNotificationButton",["dojo/_base/declare","Sage/_Templated","dijit/_Widget","Sage/Utility","dojo/string","Sage/Data/SDataStore","dijit/form/ComboButton","dojo/i18n!./nls/JobNotificationButton","dojo/_base/event","dojo/_base/lang","dojo/dom-class","Sage/UI/Alarms/JobNotificationPopup","Sage/UI/ImageButton","Sage/Services/UserOptions"],function(_2861,_2862,_2863,_2864,_2865,_2866,_2867,_2868,event,lang,_2869){var _286a=_2861("Sage.UI.Alarms.JobNotificationButton",[_2863,_2862],{options:{displayJobNotificationsInToolbar:true,pollInterval:5},widgetsInTemplate:true,pollInterval:5,_notificationsCountKey:"NotificationsCount",_started:false,_notificationBtnVisible:false,widgetTemplate:new Simplate(["<span id=\"jobNotification\" data-dojo-attach-point=\"_jobNotification\" class=\"alarm-button-container alarm-button notification-buttonIcon display-none\">","<button data-dojo-type=\"dijit.form.ComboButton\" data-dojo-attach-point=\"_button\" data-dojo-attach-event=\"onClick:_cboClick\" class=\"\" >","<div data-dojo-type=\"Sage.UI.Alarms.JobNotificationPopup\" id=\"notificationPopup\" data-dojo-attach-point=\"_popup\" data-dojo-attach-event=\"onClose:_popupClosed\"></div>","</button>","</span>"]),_setPollIntervalAttr:function(val){this.pollInterval=val;},_getPollIntervalAttr:function(){return this.pollInterval;},startup:function(){if(this._started){return;}var _286b=Sage.Services.getService("JobService");var _286c=_286b.getSchedulingSDataService();this._service=_286c;this.inherited(arguments);dojo.subscribe("/job/execution/changed",this,this._notificationChanged);dojo.subscribe("/job/execution/setNotificationCount",this,this._setNotificationCount);var _286d=Sage.Services.getService("UserOptions");if(_286d){_286d.getByCategory("ActivityAlarm",this._receivedOptions,this);}if(this._button.valueNode){this.connect(this._button.valueNode,"click",function(e){event.stop(e);});}},_receivedOptions:function(){this._popup.set("options",this.options);if(this.options.displayJobNotificationsInToolbar&&this.pollInterval>0){var self=this;window.setTimeout(function(){self._poll();},15000);}this._started=true;},_poll:function(){if(this._service){this._notificationStore=new _2866({id:"Executions",service:this._service,resourceKind:"executions",include:["$descriptors"],select:["$key","user"]});this._notificationStore.fetch({start:0,onComplete:this._onReceiveCounts,onError:this._countsFailed,scope:this});}},_onReceiveCounts:function(data){this._saveToSessionStorage(this._notificationsCountKey,data?data.length:0);this._initializeButton();var self=this;window.setTimeout(function(){self._poll();},this.pollInterval*60000);},_countsFailed:function(req){},_initializeButton:function(){var _286e=this._getFromSessionStorage(this._notificationsCountKey)||0;if(_286e>0){this._button.set("label"," "+_286e+" ");this._button.set("title",_2865.substitute(_2868.notificationToolTip,[_286e]));this._showNotificationButton();}else{this._hideNotificationButton();}},_setNotificationCount:function(_286f){this._saveToSessionStorage(this._notificationsCountKey,_286f);this._initializeButton();},_showNotificationButton:function(){if(!this._notificationBtnVisible){_2869.remove(this._jobNotification,"display-none");this._notificationBtnVisible=true;}},_hideNotificationButton:function(){if(this._notificationBtnVisible){_2869.add(this._jobNotification,"display-none");this._notificationBtnVisible=false;}},_cboClick:function(e){if(this._popup.isOpen){this._button.closeDropDown();}else{this._button.openDropDown();}return false;},_popupClosed:function(){},_notificationChanged:function(){this._poll();},_saveToSessionStorage:function(key,value){sessionStorage.setItem(key,value);},_getFromSessionStorage:function(key){return sessionStorage.getItem(key);}});return _286a;});},"Sage/UI/SearchMenuItem":function(){require({cache:{"url:Sage/templates/GridMenuItem.html":"<tr class=\"dijitGridMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"4\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\" style=\"display:none\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"display:none\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n    <td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\" style=\"display:none\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n</tr>\n"}});define("Sage/UI/SearchMenuItem",["dojo/_base/declare","dijit/MenuItem","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","Sage/UI/ImageButton","dojo/dom-construct","dojo/_base/lang","dojo/has","dojo/_base/sniff","Sage/UI/Controls/_DialogHelpIconMixin","dojo/text!../templates/GridMenuItem.html","dojo/i18n!./nls/SearchMenuItem","dojo/topic"],function(_2870,_2871,_2872,_2873,_2874,_2875,_2876,lang,has,sniff,_2877,_2878,nls,topic){var _2879=_2870("Sage.UI.SearchMenuItem",_2871,{id:"groupSearchMenuItem",templateString:_2878,seedQuery:"",findText:"Find: ",showHiddenText:"Show Hidden: ",clearText:"Clear",textBox:null,findButton:null,clearButton:null,showHiddenCheck:null,registeredWidgets:null,startup:function(){this.inherited(arguments);var _287a=lang.hitch(this,function(event){if(event.keyCode===9){event.cancelBubble=true;}});if(nls){this.findText=nls.findText;this.showHiddenText=nls.showHiddenText;this.clearText=nls.clearText;}this.getParent().on("open",lang.hitch(this,this.init));if(has("mozilla")){this.getParent().on("keyPress",_287a);}else{this.getParent().on("keyDown",_287a);}},init:function(){if(!this.started){topic.subscribe("sage/ui/groups/gridMenuStarted",lang.hitch(this,function(_287b){if(!this.started){this.registeredWidgets=[];this._createSearchTextBox();this._createShowHidden();}this._setQuery();this.started=true;}));}var fn=lang.hitch(this,function(){this.focusText();});setTimeout(fn,100);},focusText:function(){if(this.textBox&&this.textBox.focus){this.textBox.focus();}},_createSearchTextBox:function(){this.textBox=new _2872();this.textBox.startup();this.registeredWidgets.push(this.textBox);var _287c=lang.hitch(this,function(event){if(event.keyCode===13){this._setQuery();}if(event.keyCode===37||event.keyCode===39||event.keyCode===9){event.cancelBubble=true;}});if(has("mozilla")){this.textBox.on("keyPress",_287c);}else{this.textBox.on("keyDown",_287c);}_2876.place(this.textBox.domNode,this.containerNode,"only");_2876.create("label",{"for":this.textBox.id,"innerHTML":this.findText+": ","class":"groupMenuLabel"},this.containerNode,"first");this.findButton=new _2875({imageClass:"icon_Find_16x16","class":"groupMenuButton","title":this.findText,onClick:lang.hitch(this,function(){this._setQuery();})});this.clearButton=new _2874({label:this.clearText,"class":"groupMenuButton","title":this.clearText,onClick:lang.hitch(this,function(){this.textBox.set("value","");this._setQuery();})});_2876.place(this.findButton.domNode,this.containerNode,"last");_2876.place(this.clearButton.domNode,this.containerNode,"last");this.titleBar=this.containerNode;lang.mixin(this,new _2877());this.createHelpIconByTopic("Group_Manager");_2876.place(this.helpIcon,this.containerNode,"last");this.registeredWidgets.push(this.findButton);this.registeredWidgets.push(this.clearButton);},_createShowHidden:function(){var key="GroupMenuShowHidden",_287d=sessionStorage.getItem(key);if(_287d===null){sessionStorage.setItem(key,"false");_287d="false";}this.showHiddenCheck=new _2873();this.showHiddenCheck.set("checked",_287d==="true"?true:false);this.registeredWidgets.push(this.showHiddenCheck);this.showHiddenCheck.on("click",lang.hitch(this,function(event){this._setQuery();var grid=dijit.byId("groupsGridInMenu");if(grid){if(this.showHiddenCheck.checked){sessionStorage.setItem(key,"true");grid.structure[1].width="205px";}else{sessionStorage.setItem(key,"false");grid.structure[1].width="260px";}grid.setStructure(grid.structure);grid.layout.setColumnVisibility(2,this.showHiddenCheck.checked);}}));var _287e=_2876.create("p",null,this.containerNode,"last");_2876.place(this.showHiddenCheck.domNode,_287e,"last");_2876.create("label",{"for":this.showHiddenCheck.id,"innerHTML":this.showHiddenText,"class":"groupMenuLabel"},this.showHiddenCheck.domNode,"before");},_setQuery:function(){var grid=dijit.byId("groupsGridInMenu"),_287f=this.textBox.get("value").replace(/'/g,"''"),_2880=[];if(grid){if(!this.seedQuery){this.seedQuery=grid.get("query");}_2880.push(this.seedQuery);if(_287f){_287f=this._escapeSearchText(_287f);_2880.push("and upper(displayName) like '%"+_287f.toUpperCase()+"%'");}if(!this.showHiddenCheck.checked){_2880.push("and not isHidden");}grid.set("query",_2880.join(" "));grid._refresh();}},_escapeSearchText:function(_2881){_2881=_2881.replace(/\[/g,"[[]").replace(/_/g,"[_]").replace(/%/g,"[%]");return _2881;},_onClick:function(e){e.cancelBubble=true;},destroy:function(){var i;if(this.registeredWidgets!==null){for(i=0;i<this.registeredWidgets.length;i++){this.registeredWidgets[i].destroy(false);this.registeredWidgets.splice(i,1);}}this.inherited(arguments);}});return _2879;});},"Sage/Utility/nls/Dashboard":function(){define("Sage/Utility/nls/Dashboard",["Sage/LanguageList","dojo/_base/lang"],function(_2882,lang){var nls={root:{pageText:"Page"}};return lang.mixin(_2882,nls);});},"Sage/QuickForms/Design/PropertyValueError":function(){define("Sage/QuickForms/Design/PropertyValueError",["dojo/string","dojo/_base/lang"],function(_2883,lang){var _2884=function(_2885,value,_2886){this.result=_2885;this.value=value;this.message=_2886||_2883.substitute(this.messageText,[value]);};lang.extend(_2884,{messageText:"The value ${0} is not allowed.",toString:function(){return this.message;}});return lang.setObject("Sage.QuickForms.Design.PropertyValueError",_2884);});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionsDialog.html":"<div>\r\n    <div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._getDialogTitle() %}\" dojoattachpoint=\"_dialog\" dojoattachevent=\"onCancel:_dialog_OnCancel\" style=\"width: 600px;\">\r\n        <div data-dojo-type=\"dijit.form.Form\">\r\n            <div style=\"height: 300px\">\r\n                \r\n                <div>\r\n                    <table cellspacing=\"5\">\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtShowRecordsThatMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionPresets\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionPresets_OnChange\" style=\"width:150px\" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>                   \r\n                        <tr dojoAttachPoint=\"trConnector\" class=\"display-none\">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConnector\" style=\"width:150px\" >\r\n                                    <option value=\"Or\">{%= $._nlsResources.txtAny %}</option>\r\n                                    <option value=\"And\">{%= $._nlsResources.txtAll %}</option>\r\n                                </select>\r\n                                <label>&nbsp;{%= $._nlsResources.txtOfTheFollowingConditions %}</label>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div dojoType=\"dijit.Toolbar\" dojoAttachPoint=\"tbConditions\" region=\"top\" splitter=\"false\" class=\"right-tools\" >\r\n                    <span dojoType=\"Sage.UI.ImageButton\" icon=\"{%= $._btnPlusIconPath %}\" title=\"{%= $._nlsResources.btnAddCondition_Caption %}\" dojoAttachEvent=\"onClick:_btnAddCondition_Click\" dojoAttachPoint=\"btnAddCondition\"></span>\r\n                </div>                                  \r\n                \r\n                <div id=\"divGrdCrystalConditions\" style=\"width:100%; height:200px; overflow:auto\" >            \r\n                    <table data-dojo-type=\"dojox.grid.DataGrid\" dojoAttachPoint=\"grdCrystalConditions\" id=\"grdCrystalConditions\" formatterScope=\"Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter\">\r\n                        <thead>\r\n                            <th field=\"conditionType\" width=\"60px\" formatter=\"formatConditionType\" >{%= $._nlsResources.grdCrystalConditions_ConditionType_Caption %}</th>\r\n                            <th field=\"table\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_TableName_Caption %}</th>\r\n                            <th field=\"field\" width=\"80px\">{%= $._nlsResources.grdCrystalConditions_FieldName_Caption %}</th>\r\n                            <th field=\"operator\" formatter=\"formatOperator\" width=\"50px\">{%= $._nlsResources.grdCrystalConditions_Operator_Caption %}</th>\r\n                            <th field=\"_item\" formatter=\"formatConditionValue\" width=\"125px\">{%= $._nlsResources.grdCrystalConditions_Value_Caption %}</th>\r\n                            <th field=\"value\" formatter=\"formatEditCondition\" width=\"40px\">&nbsp;</th>\r\n                            <th field=\"_item\" formatter=\"formatDeleteCondition\" width=\"40px\">&nbsp;</th>\r\n                        </thead>\r\n                    </table>\r\n                </div>               \r\n\r\n            </div>\r\n\r\n            <div align=\"right\" style=\"margin-top:10px\">\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdBack\" dojoAttachEvent=\"onClick:_cmdBack_OnClick\" style=\"display:none\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdNext\" dojoAttachEvent=\"onClick:_cmdNext_OnClick\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("Sage/nls/Sage",["et","en-tt","eu","ar-sy","xh","en-nz","fa","es-uy","es-cl","rm","ro","fr-be","es-co","fi","es-cr","sv-fi","ar-tn","en-bz","ru","es-ve","es-pa","zh-hk","lt","fo","zh-tw","lv","es-pe","en-ca","fr","en-us","es-pr","sk","fr-ca","de-ch","sl","gd","mk","es-py","sq","sr","fr-ch","pt-pt","af","sv","ms","mt","zh-cn","ar","en-jm","zh","es-ec","nb","th","az","tn","he","zu","nl","tr","hi","ts","be","bg","hr","hu","ar-jo","uk","id","ca","ar-dz","ur","is","it","cs","ve","de-li","vi","ja","da","pl","ar-lb","nl-be","de","es-gt","it-ch","es-ar","pt","fr-lu","en-gb","en-za","zh-sg","es-hn","ar-ma","es-bo","en-au","kk","ko","el","de-at","en","pt-br","es"]);});define("Sage/Sage",[],1);