/*
 * 
 */
window.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=Base64._utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};window.parseUri=function parseUri(e){var d=window.parseUri.options,a=d.parser[d.strictMode?"strict":"loose"].exec(e),c={},b=14;while(b--){c[d.key[b]]=a[b]||""}c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(g,f,h){if(f){c[d.q.name][f]=h}});return c};window.parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};window.Sage=(function(){var c=function(f,e,h){if(f&&h){for(var g in h){f[g]=h[g]}}if(f&&e){for(var g in e){f[g]=e[g]}}return f};var d=function(e,g){var h=e.split(".");var j=g||(h[0]!=="Sage"?this:window);for(var f=0;f<h.length;f++){j=(j[h[f]]=j[h[f]]||{__namespace:true})}return j};var b=function(j,e,h){if(a(j)){var f=j.length;for(var g=0;g<f;g++){e.call(h||j[g],g,j[g])}}else{for(var k in j){if(j.hasOwnProperty(k)){e.call(h||j[k],k,j[k])}}}};var a=function(e){return Object.prototype.toString.call(e)=="[object Array]"};return{config:{win:window||{},doc:document},apply:c,namespace:d,each:b,isArray:a,__namespace:true}}());if(window.Sage){(function(b){var c=false,a=/xyz/.test(function(){xyz})?/\bbase\b/:/.*/;b.Class=function(){};b.Class.define=function d(m){var l=this.prototype;c=true;var g=new this();c=false;var j=function(i,n){return function(){var p=this.base;this.base=l[i];var o=n.apply(this,arguments);this.base=p;return o}};var k=["constructor"],h=0,f;for(f in m){g[f]=typeof m[f]==="function"&&typeof l[f]==="function"&&a.test(m[f])?j(f,m[f]):m[f]}while(f=k[h++]){if(m[f]!=l[f]){g[f]=typeof m[f]==="function"&&typeof l[f]==="function"&&a.test(m[f])?j(f,m[f]):m[f]}}function e(){if(!c&&this.constructor){this.constructor.apply(this,arguments)}}e.prototype=g;e.constructor=e;e.define=d;e.extend=e.define;return e}}(window.Sage))}if(window.Sage){(function(a){a.namespace("Utility");a.Utility.Deferred=function(e,b,d){var f=this,h,g=function(){clearInterval(h);h=null;e.apply(d,b||[])};f.delay=function(c){f.cancel();h=setInterval(g,c)};f.cancel=function(){if(h){clearInterval(h);h=null}}}}(window.Sage))}if(window.Sage){(function(c){var e=Array.prototype.slice,b=true,g=false,a=c.config.win,f=function(k,l,j){return function(){if(l.target===arguments[0]){k.apply(j,e.call(arguments,0))}}},d=function(m,n,j,k){j.task=new c.Utility.Deferred();return function(){j.task.delay(n.buffer,m,k,e.call(arguments,0))}},h=function(m,l,k,j){return function(){l.removeListener(k,j);return m.apply(j,arguments)}},i=function(m,n,j,k){return function(){var l=new c.Utility.Deferred();if(!j.tasks){j.tasks=[]}j.tasks.push(l);l.delay(n.delay||10,m,k,e.call(arguments,0))}};c.namespace("Utility");c.Utility.Event=Sage.Class.define({constructor:function(k,j){this.name=j;this.obj=k;this.listeners=[]},addListener:function(n,m,k){var o=this,j;m=m||o.obj;if(!o.isListening(n,m)){j=o.createListener(n,m,k);if(o.firing){o.listeners=o.listeners.slice(0)}o.listeners.push(j)}},createListener:function(n,m,p){p=p||{};m=m||this.obj;var j={fn:n,scope:m,options:p},k=n;if(p.target){k=f(k,p,m)}if(p.delay){k=i(k,p,j,m)}if(p.single){k=h(k,this,n,m)}if(p.buffer){k=d(k,p,j,m)}j.fireFn=k;return j},findListener:function(n,m){var o=this.listeners,k=o.length,j;m=m||this.obj;while(k--){j=o[k];if(j){if(j.fn===n&&j.scope===m){return k}}}return -1},isListening:function(k,j){return this.findListener(k,j)!==-1},removeListener:function(q,p){var r=this,o,m,n,j=g;if((o=r.findListener(q,p))!==-1){if(r.firing){r.listeners=r.listeners.slice(0)}m=r.listeners[o];if(m.task){m.task.cancel();delete m.task}n=m.tasks&&m.tasks.length;if(n){while(n--){m.tasks[n].cancel()}delete m.tasks}r.listeners.splice(o,1);j=b}return j},clearListeners:function(){var m=this,j=m.listeners,k=j.length;while(k--){m.removeListener(j[k].fn,j[k].scope)}},fire:function(){var p=this,o=p.listeners,j=o.length,n=0,k,m;if(j>0){p.firing=b;m=e.call(arguments,0);for(;n<j;n++){k=o[n];if(k&&k.fireFn.apply(k.scope||p.obj||a,m)===g){return(p.firing=g)}}}p.firing=g;return b}})}(window.Sage))}if(window.Sage){(function(d){var f=Array.prototype.slice,c=true,e=false,b=/^(?:scope|delay|buffer|single)$/,a=d.each;d.Evented=d.Class.define({constructor:function(g){var h=this,i=h.events;if(g&&g.listeners){h.addListener(g.listeners)}h.events=i||{}},fireEvent:function(){var k=this,j=f.call(arguments,0),i=j[0].toLowerCase(),h=c,m=this.events[i],g,n,l=k.eventQueue||[];if(k.eventsSuspended===c){l.push(j)}if(typeof m==="object"){if(m.bubble){if(m.fire.apply(m,j.slice(1))===e){return e}g=k.getBubbleTarget&&k.getBubbleTarget();if(g&&g.enableBubble){n=g.events[i];if(!n||typeof n!=="object"||!n.bubble){g.enableBubble(i)}return g.fireEvent.apply(g,j)}}else{j.shift();h=m.fire.apply(m,j)}}return h},addListener:function(g,i,h,m){var j=this,l,n,k;if(typeof g==="object"){m=g;for(l in m){n=m[l];if(!b.test(l)){j.addListener(l,n.fn||n,n.scope||m.scope,n.fn?n:m)}}}else{g=g.toLowerCase();k=j.events[g]||c;if(typeof k==="boolean"){j.events[g]=k=new d.Utility.Event(j,g)}k.addListener(i,h,typeof m==="object"?m:{})}},removeListener:function(g,i,h){var j=this.events[g.toLowerCase()];if(typeof j==="object"){j.removeListener(i,h)}},purgeListeners:function(){var i=this.events,g,h;for(h in i){g=i[h];if(typeof g==="object"){g.clearListeners()}}},addEvents:function(k){var j=this,g,h;j.events=j.events||{};if(typeof k==="string"){g=arguments;h=g.length;while(h--){j.events[g[h]]=j.events[g[h]]||c}}else{Sage.apply(j.events,k)}},hasListener:function(g){var h=this.events[g.toLowerCase()];return typeof h==="object"&&h.listeners.length>0},suspendEvents:function(g){this.eventsSuspended=c;if(g&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var g=this,h=g.eventQueue||[];g.eventsSuspended=e;delete g.eventQueue;a(h,function(i){g.fireEvent.apply(g,i)})}});d.Evented.prototype.on=d.Evented.prototype.addListener;d.Evented.prototype.un=d.Evented.prototype.removeListener}(window.Sage))};