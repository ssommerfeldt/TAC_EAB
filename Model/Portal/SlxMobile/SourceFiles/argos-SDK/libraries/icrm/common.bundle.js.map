{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5ee618db72e7ed983888","webpack:///./src/format/number.js","webpack:///./src/convert/index.js","webpack:///./src/format/html.js","webpack:///./src/format/string.js","webpack:///./src/utility/index.js","webpack:///external \"moment\"","webpack:///./src/index.js","webpack:///./src/format/activity.js","webpack:///./src/format/address.js","webpack:///./src/format/currency.js","webpack:///./src/format/date.js","webpack:///./src/format/index.js","webpack:///./src/format/name.js","webpack:///./src/format/phone.js","webpack:///./src/utility/activity.js","webpack:///./src/utility/data.js","webpack:///./src/utility/file.js","webpack:///./src/utility/function.js","webpack:///./src/utility/http.js","webpack:///./src/utility/math.js","webpack:///./src/utility/string.js","webpack:///./index.js"],"names":["decimalAdjust","fixed","percent","bigNumber","bigNumberAbbrText","billion","million","thousand","type","value","exp","Math","isNaN","NaN","toString","split","val","d","decimals","m","pow","v","floor","parseFloat","places","percentFormatter","number","percentGroupSeparator","percentDecimalSeparator","decimalPlaces","intVal","wp","ceil","replace","numberFormated","dp","toPrecision","pos","indexOf","substr","numParse","absVal","abs","text","results","isDateString","toBoolean","toDateFromString","toIsoStringFromDate","toJsonStringFromDate","trueRE","isoDate","jsonDate","pad","n","test","match","utc","exec","Date","parseInt","UTC","h","add","minutes","toDate","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getTime","Convert","canvasDraw","decode","encode","imageFromVector","link","mail","nl2br","isiOSDesktop","window","navigator","standalone","getVectorMaxSize","w","i","length","j","width","height","vector","canvas","options","context","getContext","fillStyle","fillRect","scale","lineWidth","strokeStyle","penColor","trace","beginPath","moveTo","x","y","lineTo","stroke","html","canvasNode","document","createElement","_vector","String","JSON","parse","e","Array","size","min","img","toDataURL","title","iOSDesktop","allowedStandAloneSchemes","allowStandAlone","some","schemes","filter","scheme","index","substring","bool","collapseSpace","fileSize","isEmpty","trim","yesNo","trueText","falseText","bytesText","parsedSize","round","yesText","noText","ActivityUtility","DataUtility","FileUtility","FunctionUtility","HTTPUtility","MathUtility","StringUtility","Utility","Object","assign","convert","utility","format","userActivityStatus","userActivityFormatText","asUnconfirmed","asAccepted","asDeclned","activityFormatText","resolveAddressCulture","replaceAddressPart","addressItems","address","addressCultureFormats","en","fr","de","it","ru","countryCultures","USA","US","UK","Britain","England","Russia","Россия","Italy","Italia","France","Germany","Deutschland","Country","fmt","o","part","Salutation","toUpperCase","Address1","Address2","Address3","Address4","City","County","State","PostalCode","addr","line","filterSymbols","culture","lines","map","asText","separator","parts","join","encodeURIComponent","currency","fixedLocale","multiCurrency","_val","currencyDecimalSeparator","currencyGroupSeparator","toFixed","f","first","last","_d","numberGroupSeparator","numberDecimalSeparator","p","fVal","num","slice","frac","code","date","relativeDate","timespan","shortDateFormatText","dateValue","subtract","utcOffset","_date","timeless","relDate","isValid","Error","fromNow","hoursText","hourText","minutesText","minuteText","hrs","mins","ActivityFormat","AddressFormat","CurrencyFormat","DateFormat","HTMLFormat","NameFormat","NumberFormat","PhoneFormat","StringFormat","Format","resolveFirstLast","formatUserInitial","formatByUser","nameLF","name","firstLast","names","user","initials","push","LastName","FirstName","alphaToPhoneNumeric","phone","phoneLettersMap","phoneFormat","args","phoneVal","asLink","formatters","clean","formattedMatch","formatter","concat","getRealActivityId","activityId","id","memoize","getValue","setValue","nameToPathCache","nameToPath","path","reverse","fn","keyFn","cache","_keyFn","cached","key","apply","arguments","defaultValue","current","pop","next","base64ArrayBuffer","getFileExtension","arrayBuffer","base64","chunk","a","b","c","encodings","bytes","Uint8Array","byteLength","byteRemainder","mainLength","fileName","lastIndexOf","expand","joinFields","aggregateLookup","calcProfit","widget","data","revenue","cost","call","calcMargin","calcYoYRevenue","pastYear","between","calcYoYProfit","calcYoYMargin","sum","scope","expression","prototype","seperator","fields","item","debounce","wait","handle","debounced","clearTimeout","setTimeout","roundNumberTo","precision","k","sanitizeForJson","stripQueryArgs","trimText","escapeSearchQuery","obj","__visited__","hasOwnProperty","url","idx","wordCount","words","intermediate","endsWith","searchQuery"],"mappings":"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","file":"common.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"moment\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"moment\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ICRMCommonSDK\"] = factory(require(\"moment\"));\n\telse\n\t\troot[\"ICRMCommonSDK\"] = factory(root[\"moment\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5ee618db72e7ed983888","import { roundNumberTo } from '../utility';\n\nconst bigNumberAbbrText = {\n  billion: 'B',\n  million: 'M',\n  thousand: 'K',\n};\n\n/**\n * Decimal adjustment of a number.\n * Taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round\n *\n * @param {string}  type  The type of adjustment.\n * @param {number}  value The number.\n * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n * @returns {number} The adjusted value.\n */\nexport function decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) {\n    return Math[type](value);\n  }\n  value = +value;\n  exp = +exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math[type](+(`${value[0]}e${(value[1] ? (+value[1] - exp) : -exp)}`));\n  // Shift back\n  value = value.toString().split('e');\n  return +(`${value[0]}e${(value[1] ? (+value[1] + exp) : exp)}`);\n}\n\n/**\n * Takes a number and decimal place and floors the number to that place:\n *\n * `fixed(5.555, 0)` => `5`\n * `fixed(5.555, 2)` => `5.55`\n * `fixed(5.555, 5)` => `5.555`\n *\n * @param {number|string} val The value will be `parseFloat` before operating.\n * @param {number} d Number of decimals places to keep, defaults to 2 if not provided.\n * @return {number} Fixed number.\n */\nexport function fixed(val, d) {\n  if (typeof val !== 'number' && typeof val !== 'string') {\n    return val;\n  }\n\n  let decimals = 2;\n  if (typeof d === 'number') {\n    decimals = d;\n  }\n\n  const m = Math.pow(10, decimals);\n  const v = Math.floor(parseFloat(val) * m) / m;\n\n  return v;\n}\n\n/**\n * Takes a decimal number, multiplies by 100 and adds the % sign with the number of palces to the right.\n *\n * `perecent(0.35)` => `'35.00%'`\n * `perecent(0.35, 0)` => `'35%'`\n * `percent(2.9950)` => `'299.50%'`\n * `percent(2.9950,0)` => `'300%'`\n *\n * @param {number|string} val The value will be `parseFloat` before operating.\n * @param {number|string} places If no value is given the default value will be set to 2.\n * @param {string} percentGroupSeparator string representing the separator for percent groups\n * @param {string} percentDecimalSeparator string representing the separator for decimals\n * @param {function: string} percentFormatter Takes the number as an argument and should return the\n *  formatted string with the percent symbol correctly placed, defaults to 'number%'\n * @return {string} Number as a percentage with % sign.\n */\nexport function percent(val, places, percentFormatter = number => `${number}%`, percentGroupSeparator = ',', percentDecimalSeparator = '.') {\n  let decimalPlaces = 2;\n  if (typeof places === 'number') {\n    decimalPlaces = places;\n  }\n\n  decimalPlaces = Math.floor(decimalPlaces);\n  const intVal = 100 * (parseFloat(val) || 0.00);\n  const v = roundNumberTo(intVal, decimalPlaces);\n\n  // get the whole number part\n  const wp = (((intVal >= 0) ? Math.floor(v) : Math.ceil(v))).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, `$1${percentGroupSeparator.replace('\\\\.', '.')}`);\n  let numberFormated;\n  if (decimalPlaces < 1) { // format with out decimal part\n    numberFormated = `${wp}`.replace(/ /g, '\\u00A0'); // keep numbers from breaking\n  } else {\n    let dp = v % 1; // get the decimal part\n    dp = dp.toPrecision(decimalPlaces + 1); // round to significant pecsion\n    dp = dp.toString();\n    const pos = (dp.indexOf('.') > -1 ? dp.indexOf('.') + 1 : 2);\n    dp = dp.substr(pos, decimalPlaces); // get the whole decimal part\n    numberFormated = `${wp}${percentDecimalSeparator}${dp}`.replace(/ /g, '\\u00A0'); // keep numbers from breaking\n  }\n\n  return percentFormatter(numberFormated);\n}\n\nexport function bigNumber(val) {\n  let numParse = typeof val !== 'number' ? parseFloat(val) : val;\n  const absVal = Math.abs(numParse);\n  const text = bigNumberAbbrText;\n\n  if (isNaN(numParse)) {\n    return val;\n  }\n\n  let results = numParse.toString();\n  if (absVal >= 1000000000) {\n    numParse = numParse / 1000000000;\n    numParse = decimalAdjust('round', numParse, -1);\n    results = fixed(numParse, 1) + text.billion;\n  } else if (absVal >= 1000000) {\n    numParse = numParse / 1000000;\n    numParse = decimalAdjust('round', numParse, -1);\n    results = fixed(numParse, 1) + text.million;\n  } else if (absVal >= 1000) {\n    numParse = numParse / 1000;\n    numParse = decimalAdjust('round', numParse, -1);\n    results = fixed(numParse, 1) + text.thousand;\n  } else {\n    results = decimalAdjust('round', numParse, 2).toString();\n  }\n\n  return results;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/number.js","import moment from 'moment';\n\nconst trueRE = /^(true|T)$/i;\nconst isoDate = /(\\d{4})-(\\d{2})-(\\d{2})(?:T(\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d+))?(Z|(-|\\+)(\\d{2}):(\\d{2})))?/;\nconst jsonDate = /\\/Date\\((-?\\d+)(?:(-|\\+)(\\d{2})(\\d{2}))?\\)\\//;\n\nfunction pad(n) {\n  return n < 10 ? `0${n}` : n;\n}\n\n/**\n * Takes a string and checks to see if it is an ISO formatted date or a JSON-string date\n *\n * ISO Date: `'2012-08-28'` or `'2012-05-28T08:30:00Z'`\n * JSON-string: `'/Date(1346189868885)/'`\n *\n * @param {string} value String to be checked to see if it's a date.\n * @return {boolean} True if it matches ISO or JSON formats, false if not a string or doesn't match.\n */\nexport function isDateString(value) {\n  if (typeof value !== 'string') {\n    return false;\n  }\n\n  return isoDate.test(value) || jsonDate.test(value);\n}\n\n/**\n * Takes a string and checks to see if it is `true` or `T`, else returns false\n * @param {string} value String bool value\n * @return {boolean} Returns true if string is `true` or `T`.\n */\nexport function toBoolean(value) {\n  return trueRE.test(value);\n}\n\n/**\n * Takes a string and tests it to see if its an ISO 8601 string or a JSON-string.\n * If a match is found it is parsed into a Date object and returned, else the original value is returned.\n * @param {string} value String in the ISO 8601 format `'2012-08-28T08:30:00Z'` or JSON-string format `'/Date(milliseconds)/'`\n * @return {Date} Date object from string or original object if not convertable.\n */\nexport function toDateFromString(v) {\n  let value = v;\n\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  let match;\n  let utc;\n\n  if ((match = jsonDate.exec(value))) { //eslint-disable-line\n    utc = new Date(parseInt(match[1], 10));\n\n    // todo: may not be needed\n    /*\n    if (match[2])\n    {\n        h = parseInt(match[3]);\n        m = parseInt(match[4]);\n\n        if (match[2] === '-')\n            utc.addMinutes((h * 60) + m);\n        else\n            utc.addMinutes(-1 * ((h * 60) + m));\n    }\n    */\n\n    value = utc;\n  } else if ((match = isoDate.exec(value))) { // eslint-disable-line\n    utc = moment(new Date(Date.UTC(\n      parseInt(match[1], 10),\n      parseInt(match[2], 10) - 1, // zero based\n      parseInt(match[3], 10),\n      parseInt(match[4] || 0, 10),\n      parseInt(match[5] || 0, 10),\n      parseInt(match[6] || 0, 10)\n    )));\n\n    if (match[8] && match[8] !== 'Z') {\n      const h = parseInt(match[10], 10);\n      const m = parseInt(match[11], 10);\n\n      if (match[9] === '-') {\n        utc.add({\n          minutes: ((h * 60) + m),\n        });\n      } else {\n        utc.add({\n          minutes: (-1 * ((h * 60) + m)),\n        });\n      }\n    }\n\n    value = utc.toDate();\n  }\n\n  return value;\n}\n\n/**\n * Takes a Date object and converts it to a ISO 8601 formatted string\n * @param {Date} value Date to be formatted\n * @return {string} ISO 8601 formatted date string\n */\nexport function toIsoStringFromDate(value) {\n  // adapted from: https://developer.mozilla.org/en/JavaScript/Reference/global_objects/date\n  return `${value.getUTCFullYear()}-${pad(value.getUTCMonth() + 1)}-${pad(value.getUTCDate())}T${pad(value.getUTCHours())}:${pad(value.getUTCMinutes())}:${pad(value.getUTCSeconds())}Z`;\n}\n\n/**\n * Takes a Date object and returns it in JSON-string format: `'/Date(milliseconds)/'`\n * @param {Date} value Date to stringify\n * @return {string} JSON string: `'/Date(milliseconds)/'`\n */\nexport function toJsonStringFromDate(value) {\n  return `/Date(${value.getTime()})/`;\n}\n\nconst Convert = {\n  isDateString,\n  toBoolean,\n  toDateFromString,\n  toIsoStringFromDate,\n  toJsonStringFromDate,\n};\n\nexport default Convert;\n\n\n\n// WEBPACK FOOTER //\n// ./src/convert/index.js","export const isiOSDesktop = () => window.navigator.standalone;\n\nexport const getVectorMaxSize = function getVectorMaxSize(v) {\n  let w = 1;\n  let h = 1;\n\n  for (let i = 0; i < v.length; i++) {\n    for (let j = 0; j < v[i].length; j++) {\n      if (w < v[i][j][0]) {\n        w = v[i][j][0];\n      }\n\n      if (h < v[i][j][1]) {\n        h = v[i][j][1];\n      }\n    }\n  }\n  // maybe should return bounding box? (x,y,w,h)\n  return {\n    width: w,\n    height: h,\n  };\n};\n\n/**\n * Takes a 2D array of `[[x,y],[x,y]]` number coordinates and draws them onto the provided canvas\n * The first point marks where the \"pen\" starts, each sequential point is then \"drawn to\" as if holding a\n * pen on paper and moving the pen to the new point.\n * @param {number[][]} vector A series of x,y coordinates in the format of: `[[0,0],[1,5]]`\n * @param {HTMLElement} canvas The `<canvas>` element to be drawn on\n * @param {Object} options Canvas options: scale, lineWidth and penColor.\n */\nexport function canvasDraw(vector, canvas, options) {\n  const context = canvas.getContext('2d');\n\n  // Paint canvas white vs. clearing as on Android imageFromVector alpha pixels blacken\n  // context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n  context.fillStyle = 'rgb(255,255,255)';\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n\n  const scale = options && options.scale ? options.scale : 1;\n  context.lineWidth = options && options.lineWidth ? options.lineWidth : 1;\n  context.strokeStyle = options && options.penColor ? options.penColor : 'black';\n\n  for (const trace in vector) {\n    if (vector[trace].length > 1) {\n      context.beginPath();\n      context.moveTo(vector[trace][0][0] * scale, vector[trace][0][1] * scale);\n      for (let i = 1; i < vector[trace].length; i++) {\n        const x = vector[trace][i][0] * scale;\n        const y = vector[trace][i][1] * scale;\n        context.lineTo(x, y);\n      }\n      context.stroke();\n    }\n  }\n}\n\n/**\n * Takes an encoded string and returns a new string with the decoded string values\n * @param {string} val string to be decoded\n * @return {string} Decoded string\n */\nexport function decode(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  return val\n    .replace(/&amp;/g, '&')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&quot;/g, '\"');\n}\n\n/**\n * Takes a decoded string and returns a new string with the encoded string values\n * @param {string} val string to be encoded\n * @return {string} Encoded string\n */\nexport function encode(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  return val\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;');\n}\n\n/**\n * Returns the image data (or img element) for a series of vectors\n * @param {number[][]} vector A series of x,y coordinates in the format of: `[[0,0],[1,5]]`. These will be drawn sequentially as one line.\n * @param {Object} options Canvas options: scale, lineWidth and penColor.\n * @param {boolean} html Flag for returning image as a data-uri or as a stringified `<img>` element.\n * @return {string} The encoded data of the drawn image, optionally wrapped in `<img>` if html was passed as true\n */\nexport function imageFromVector(vector, options = {}, html) {\n  const canvasNode = document.createElement('canvas');\n  let _vector;\n  if (typeof vector === 'string' || vector instanceof String) {\n    try {\n      _vector = JSON.parse(vector);\n    } catch (e) {}//eslint-disable-line\n  }\n\n  if (!(_vector instanceof Array) || _vector.length === 0) {\n    _vector = [\n      [],\n    ]; // blank image.\n  }\n\n  const size = getVectorMaxSize(_vector);\n\n  canvasNode.width = options.width || size.width;\n  canvasNode.height = options.height || size.height;\n\n  options.scale = Math.min(\n    canvasNode.width / size.width,\n    canvasNode.height / size.height\n  );\n\n  canvasDraw(_vector, canvasNode, options);\n\n  const img = canvasNode.toDataURL('image/png');\n  if (img.indexOf('data:image/png') !== 0) {\n    // TODO: Figure out how to port Canvas2Image library or use it...\n    // img = Canvas2Image.saveAsBMP(canvasNode, true).src;\n  }\n\n  return html ? `<img src=\"${img}\" width=\"${options.width}\" height=\"${options.height}\" alt=\"${options.title || ''}\" />` : img;\n}\n\n/**\n * Takes a url string and wraps it with an `<a>` element with `href=` pointing to the url.\n * @param {string} val Url string to be wrapped\n * @return {string} An `<a>` element as a string.\n */\nexport function link(val, iOSDesktop = false) {\n  // TODO: Figure out how to get iOSDesktop to default to isiOSDesktop without breaking unit tests\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  // Allowed schemes when fullscreen mode\n  const allowedStandAloneSchemes = ['tel:', 'sms:', 'mailto:'];\n  const allowStandAlone = allowedStandAloneSchemes.some(v => val.indexOf(v) > -1);\n\n  // Skip returning the href link if saved to iOS desktop\n  if (!allowStandAlone && iOSDesktop) {\n    return val;\n  }\n\n  // Check if the user specified a URI scheme,\n  // does not include all URI Schemes\n  const schemes = ['://', 'mailto:', 'tel:', 'sms:'];\n  const [scheme] = schemes.filter(v => val.indexOf(v) > -1);\n\n  if (scheme && scheme.length) {\n    const index = val.indexOf(scheme) + scheme.length;\n    return `<a target=\"_blank\" href=\"${val}\">${val.substring(index)}</a>`;\n  }\n\n  // Specify a default URI scheme of http\n  return `<a target=\"_blank\" href=\"http://${val}\">${val}</a>`;\n}\n\n/**\n * Takes an email string and wraps it with an `<a>` element with `href=\"mailto:\"` pointing to the email.\n * @param {string} val Email string to be wrapped\n * @return {string} An `<a>` element as a string.\n */\nexport function mail(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  return `<a href=\"mailto:${val}\">${val}</a>`;\n}\n\n/**\n * Takes a string and converts all new lines `\\n` to HTML `<br>` elements.\n * @param {String} val String with newlines\n * @return {String} String with replaced `\\n` with `<br>`\n */\nexport function nl2br(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n\n  return val.replace(/\\n/g, '<br />');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/html.js","import { fixed } from './number';\n/**\n * Takes a boolean value and returns the string T or F for true or false\n * @param {boolean|string} val If string it tests if the string is `true` for true, else assumes false\n * @return {string} Defaulted to T for true, F for false.\n */\nexport function bool(val, trueText = 'T', falseText = 'F') {\n  let results = val;\n  if (typeof val === 'string') {\n    results = /^true$/i.test(val);\n  }\n\n  return results ? trueText : falseText;\n}\n\n/**\n * Removes spaces from the passed string.\n * @param {string} text string to remove spaces from\n * @return {string} string without spaces\n */\nexport function collapseSpace(text) {\n  return text.replace(/\\s+/g, ' ').trim();\n}\n\n/**\n * Takes a file size and returns the string representation of it\n * @param {number} size file size\n * @return {string} String representation of the file size\n */\nexport function fileSize(size, bytesText = 'bytes') {\n  const parsedSize = parseInt(size, 10);\n  if (parsedSize === 0) {\n    return '0 KB';\n  }\n  if (!parsedSize || parsedSize < 0) {\n    return 'Unknown';\n  }\n  if (parsedSize < 1024) {\n    return `${fixed(Math.round(parsedSize))} ${bytesText}`;\n  } else if ((parsedSize > 1024) && (parsedSize < (1024 * 1000))) {\n    return `${fixed(Math.round(parsedSize / 1024))} KB`;\n  }\n  return `${fixed(Math.round(parsedSize / (1024 * 1000)))} MB`;\n}\n\n/**\n * Checks whether a string isEmpty\n * @param {string} val string to check\n * @return {boolean} Value whether the string is empty or not\n */\nexport function isEmpty(val) {\n  if (typeof val !== 'string') {\n    return !val;\n  }\n\n  return (val.length <= 0);\n}\n\n/**\n * Removes whitespace from from and end of string\n * @param {string} val string to be trimmed\n * @return {string} String without space on either end\n */\nexport function trim(val) {\n  return val.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Takes a boolean value and returns the string Yes or No for true or false\n * @param {boolean|string} val If string it tests if the string is `true` for true, else assumes false\n * @return {string} Yes for true, No for false.\n */\nexport function yesNo(val, yesText = 'Yes', noText = 'No') {\n  let results = val;\n  if (typeof val === 'string') {\n    results = /^true$/i.test(val);\n  }\n\n  return results ? yesText : noText;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/string.js","// export * from './math';\nimport * as ActivityUtility from './activity';\nimport * as DataUtility from './data';\nimport * as FileUtility from './file';\nimport * as FunctionUtility from './function';\nimport * as HTTPUtility from './http';\nimport * as MathUtility from './math';\nimport * as StringUtility from './string';\n\nconst Utility = Object.assign({},\n  ActivityUtility,\n  DataUtility,\n  FileUtility,\n  FunctionUtility,\n  HTTPUtility,\n  MathUtility,\n  StringUtility\n);\n\nexport * from './activity';\nexport * from './data';\nexport * from './file';\nexport * from './function';\nexport * from './http';\nexport * from './math';\nexport * from './string';\n\nexport default Utility;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 5\n// module chunks = 0","/**\n * @module\n * @description\n * Common API\n */\nimport * as convert from './convert';\nimport * as utility from './utility';\nimport * as format from './format';\n\nexport {\n  convert,\n  utility,\n  format,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const userActivityFormatText = {\n  asUnconfirmed: 'Unconfirmed',\n  asAccepted: 'Accepted',\n  asDeclned: 'Declined',\n};\n\n/**\n * Converts the passed type using the passed string format,\n * defaults to English\n * @param {string} val string to conver to human readable value\n * @return {string}\n */\nexport function userActivityStatus(val, activityFormatText) {\n  return (activityFormatText && activityFormatText[val])\n          || userActivityFormatText[val]\n            || '';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/activity.js","import { decode, encode } from './html';\nimport { collapseSpace } from './string';\n/**\n * Address Culture Formats as defined by crm.Format.address\n * http://msdn.microsoft.com/en-us/library/cc195167.aspx\n */\nexport const addressCultureFormats = {\n  en: 'a1|a2|a3|m, R p|C',\n  'en-GB': 'a1|a2|a3|M|P|C',\n  fr: 'a1|a2|a3|p M|C',\n  de: 'a1|a2|a3|p m|C',\n  it: 'a1|a2|a3|p m Z|C',\n  ru: 'a1|a2|a3|p m|C',\n};\n\n/**\n * Country name to culture identification\n * http://msdn.microsoft.com/en-us/goglobal/bb896001.aspx\n */\nexport const countryCultures = {\n  USA: 'en',\n  'United States': 'en',\n  'United States of America': 'en',\n  US: 'en',\n  'United Kingdom': 'en-GB',\n  UK: 'en-GB',\n  Britain: 'en-GB',\n  England: 'en-GB',\n  Russia: 'ru',\n  Россия: 'ru',\n  Italy: 'it',\n  Italia: 'it',\n  France: 'fr',\n  Germany: 'de',\n  Deutschland: 'de',\n};\n\nexport function resolveAddressCulture({ Country }) {\n  return countryCultures[Country] || 'en';\n}\n\nexport function replaceAddressPart(fmt, o) {\n  return fmt.replace(/s|S|a1|a2|a3|a4|m|M|z|Z|r|R|p|P|c|C/g,\n    (part) => {\n      switch (part) {// eslint-disable-line\n        case 's':\n          return o.Salutation || '';\n        case 'S':\n          return (o.Salutation && o.Salutation.toUpperCase()) || '';\n        case 'a1':\n          return o.Address1 || '';\n        case 'a2':\n          return o.Address2 || '';\n        case 'a3':\n          return o.Address3 || '';\n        case 'a4':\n          return o.Address4 || '';\n        case 'm':\n          return o.City || '';\n        case 'M':\n          return (o.City && o.City.toUpperCase()) || '';\n        case 'z':\n          return o.County || '';\n        case 'Z':\n          return (o.County && o.County.toUpperCase()) || '';\n        case 'r':\n          return o.State || '';\n        case 'R':\n          return (o.State && o.State.toUpperCase()) || '';\n        case 'p':\n          return o.PostalCode || '';\n        case 'P':\n          return (o.PostalCode && o.PostalCode.toUpperCase()) || '';\n        case 'c':\n          return o.Country || '';\n        case 'C':\n          return (o.Country && o.Country.toUpperCase()) || '';\n      }\n    }\n  );\n}\n\nexport function addressItems(addr, fmt) {\n  function isEmpty(line) {\n    const filterSymbols = line.replace(/,|\\(|\\)|\\.|>|-|<|;|:|'|\"|\\/|\\?|\\[|]|{|}|_|=|\\+|\\\\|\\||!|@|#|\\$|%|\\^|&|\\*|`|~/g, '').trim();\n    return filterSymbols === '';\n  }\n\n\n  if (!fmt) {\n    const culture = resolveAddressCulture(addr);\n    fmt = addressCultureFormats[culture] || addressCultureFormats.en;\n  }\n\n  const lines = (fmt.indexOf('|') === -1) ? [fmt] : fmt.split('|');\n  return lines.map(line => replaceAddressPart(line, addr))\n    .filter(line => !isEmpty(line))\n    .map(line => encode(collapseSpace(line)));\n}\n\n/**\nConverts the given value using the provided format, joining with the separator character\nIf no format given, will use predefined format for the addresses Country (or en-US as final fallback)\n<pre>\nFormat    Description                                    Example\n------    -----------------------------------------    -----------------------\n  s         Salutation (Attention, Name)                ATTN: Mr. Bob\n  S         Salutation Uppercase                        ATTN: MR. BOB\n  a1        Address Line 1                              555 Oak Ave\n  a2        Address Line 2                                #2038\n  a3        Address Line 3\n  m        Municipality (City, town, hamlet)            Phoenix\n  M        Municipality Uppercase                        PHOENIX\n  z        County (parish, providence)                    Maricopa\n  Z         County Uppercase                            MARICOPA\n  r        Region (State, area)                        AZ\n  R        Region Uppercase                            AZ\n  p         Postal Code (ZIP code)                        85021\n  P         Postal Code Uppercase                        85021\n  c         Country                                     France\n  C         Country Uppercase                            FRANCE\n\n  |        separator                                    as defined by separator variable\n  </pre>\n  @param {Object} addr Address Entity containing all the SData properties\n  @param {boolean} asText If set to true returns text only, if false returns anchor link to google maps\n  @param {string|boolean} separator If false - separates with html <br>,\n                      if true - separates with line return,\n                      if defined as string - uses string to separate\n  @param {string} fmt Address format to use, may also pass a culture string to use predefined format\n  @return {string} Formatted address\n*/\nexport function address(addr, asText, separator, fmt) {\n  if (!addr) {\n    return '';\n  }\n\n  const parts = addressItems(addr, fmt);\n  if (asText) {\n    if (separator === true) {\n      separator = '\\n';\n    }\n    return parts.join(separator || '<br />');\n  }\n\n  return `<a href=\"javascript:App.showMapForAddress('${encodeURIComponent(decode(parts.join(' ')))}');\">${parts.join('<br />')}</a>`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/address.js","export function currency(_val, currencyDecimalSeparator = '.', currencyGroupSeparator = ',') {\n  let val = _val;\n  if (isNaN(val) || val === null) {\n    return val;\n  }\n\n  if (typeof val === 'string') {\n    val = parseFloat(val);\n  }\n\n  const v = val.toFixed(2); // only 2 decimal places\n  const f = Math.floor(parseFloat((100 * (v - Math.floor(v))).toPrecision(2))); // for fractional part, only need 2 significant digits\n\n  const first = (Math.floor(v)).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, `$1${currencyGroupSeparator.replace('\\\\.', '.')}`);\n  const last = (f.toString().length < 2) ? `0${f.toString()}` : f.toString();\n\n  return `${first}${currencyDecimalSeparator}${last}`.replace(/ /g, '\\u00A0'); // keep numbers from breaking\n}\n\nexport function fixedLocale(_val, _d, numberGroupSeparator = ',', numberDecimalSeparator = '.') {\n  let val = _val;\n  let d = _d;\n  let p;\n  let v;\n  let f;\n  let fVal;\n  let num;\n\n  if (isNaN(val) || val === null) {\n    return val;\n  }\n  if (typeof val === 'string') {\n    val = parseFloat(val);\n  }\n  if (typeof d !== 'number') {\n    d = 2;\n  }\n  if (d > 0) {\n    p = Math.pow(10, d);\n    v = val.toFixed(d); // only d decimal places\n    f = Math.floor(parseFloat((p * (v - Math.floor(v))).toPrecision(d))); // for fractional part, only need d significant digits\n    if (f === 0) {\n      f = (String(p)).slice(1);\n    }\n  } else { // zero decimal palces\n    p = Math.pow(10, 0);\n    v = (Math.round(val * p) / p);\n    f = 0;\n  }\n  num = Math.floor(v).toString();\n  num = num.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, `$1${numberGroupSeparator.replace('\\\\.', '.')}`);\n  if (d > 0) {\n    const frac = (f.toString().length < d) ? '' : f.toString();\n    fVal = `${num}${numberDecimalSeparator}${frac}`;\n  } else {\n    fVal = num;\n  }\n  return fVal.replace(/ /g, '\\u00A0'); // keep numbers from breaking\n}\n\nexport function multiCurrency(val, code) {\n  return `${currency(val)} ${code}`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/currency.js","import moment from 'moment';\n\nimport { isDateString, toDateFromString } from '../convert';\nimport { fixed } from './number';\n\n/**\n * Takes a date and format string and returns the formatted date as a string.\n * @param {Date|string} val Date to be converted. If string is passed it is converted to a date using {@link convert#toDateFromString Converts toDateFromString}.\n * @param {string} fmt Format string following [datejs formatting](http://code.google.com/p/datejs/wiki/FormatSpecifiers).\n * @param {boolean} utc If a date should be in UTC time set this flag to true to counter-act javascripts built-in timezone applier.\n * @return {string} Date formatted as a string.\n */\nexport function date(val, fmt = 'M/D/YYYY', utc, shortDateFormatText = 'M/D/YYYY') {\n  let dateValue;\n  if (val instanceof Date) {\n    dateValue = val;\n  } else if (isDateString(val)) {\n    dateValue = toDateFromString(val);\n  } else {\n    dateValue = null;\n  }\n\n  if (dateValue) {\n    dateValue = moment(dateValue);\n    if (utc) {\n      dateValue = dateValue.subtract({\n        minutes: dateValue.utcOffset(),\n      });\n    }\n\n    return dateValue.format(fmt || shortDateFormatText);\n  }\n\n  return val;\n}\n\nexport function relativeDate(_date, timeless) {\n  let relDate = moment(_date);\n  if (!relDate || !relDate.isValid()) {\n    throw new Error('Invalid date passed into Format.relativeDate');\n  }\n\n  if (timeless) {\n    // utc\n    relDate = relDate.subtract({\n      minutes: relDate.utcOffset(),\n    });\n  }\n\n  return relDate.fromNow();\n}\n\n/**\n * Takes a number of minutes and turns it into the string: `'n hours m minutes'`\n * @param {number|string} val Number of minutes, will be `parseFloat` before operations and fixed to 2 decimal places\n * @param {string} hoursText string to display next to an hour value greater than one, defaults to 'hours'\n * @param {string} hourText string to display next to an hour value equal to one, defaults to 'hour'\n * @param {string} minutesText string to display next to a minute value greater than one, defaults to 'minutes'\n * @param {string} minuteText string to display next to a minute value of one, defualts to 'minute'\n * @return {string} A string representation of the minutes as `'n hours m minutes'`\n */\nexport function timespan(val, hoursText = 'hours', hourText = 'hour', minutesText = 'minutes', minuteText = 'minute') {\n  const v = fixed(val);\n  if (isNaN(v) || !v) {\n    return '';\n  }\n\n  let hrs = Math.floor(v / 60);\n  let mins = v % 60;\n\n  if (hrs) {\n    hrs = hrs > 1 ? `${hrs} ${hoursText}` : `${hrs} ${hourText}`;\n  }\n\n  if (mins) {\n    mins = mins > 1 ? `${mins} ${minutesText}` : `${mins} ${minuteText}`;\n  }\n\n  if (hrs && mins) {\n    return `${hrs} ${mins}`;\n  } else if (hrs === 0) {\n    return mins;\n  }\n\n  return hrs;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/date.js","import * as ActivityFormat from './activity';\nimport * as AddressFormat from './address';\nimport * as CurrencyFormat from './currency';\nimport * as DateFormat from './date';\nimport * as HTMLFormat from './html';\nimport * as NameFormat from './name';\nimport * as NumberFormat from './number';\nimport * as PhoneFormat from './phone';\nimport * as StringFormat from './string';\n\nconst Format = Object.assign({},\n  ActivityFormat,\n  AddressFormat,\n  CurrencyFormat,\n  DateFormat,\n  HTMLFormat,\n  NameFormat,\n  NumberFormat,\n  PhoneFormat,\n  StringFormat,\n);\n\n// if (window) {\n//   window['Jupiter'] = Object.assign({}, window['Jupiter'], { Format });\n// }\n\nexport * from './activity';\nexport * from './address';\nexport * from './currency';\nexport * from './date';\nexport * from './html';\nexport * from './name';\nexport * from './number';\nexport * from './phone';\nexport * from './string';\n\nexport default Format;\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/index.js","/**\n * Takes a string input and the user name to First amd Last name\n * `Hogan, Lee` -> `Lee Hogan`\n * @param {string} val\n * @returns {string}\n */\nexport function resolveFirstLast(name) {\n  let firstLast = [];\n  if (name.indexOf(' ') !== -1) {\n    const names = name.split(' ');\n    if (names[0].indexOf(',') !== -1) {\n      firstLast = [names[1], names[0].slice(0, -1)];\n    } else {\n      firstLast = [names[0], names[1]];\n    }\n  } else {\n    firstLast = [name];\n  }\n  return firstLast;\n}\n\n/**\n * Takes a string input and converts name to First amd Last initials\n * `Lee Hogan` -> `LH`\n * @param {string} val\n * @returns {string}\n */\nexport function formatUserInitial(user) {\n  const firstLast = resolveFirstLast(user);\n  const initials = [firstLast[0].substr(0, 1)];\n\n  if (firstLast[1]) {\n    initials.push(firstLast[1].substr(0, 1));\n  }\n\n  return initials.join('').toUpperCase();\n}\n\n/**\n * Takes a string input and the user name to First amd Last name\n * `Hogan, Lee` -> `Lee Hogan`\n * @param {string} val\n * @returns {string}\n */\nexport function formatByUser(user) {\n  const name = resolveFirstLast(user);\n  return name.join(' ');\n}\n\n/**\n * Attempts to convert the passed Object to the nameLF format\n * will return the last name or first name if both do not exist\n * @param {Object} val object containing the LastName and\n *  FirstName properties\n * @returns {string}\n */\nexport function nameLF(val) {\n  if (!val) {\n    return '';\n  }\n\n  if (val.LastName && val.FirstName) {\n    return `${val.LastName}, ${val.FirstName}`;\n  }\n  return val.LastName ? val.LastName : val.FirstName;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/name.js","const phoneLettersMap = [{\n  test: /[ABC]/gi,\n  val: '2',\n}, {\n  test: /[DEF]/gi,\n  val: '3',\n}, {\n  test: /[GHI]/gi,\n  val: '4',\n}, {\n  test: /[JKL]/gi,\n  val: '5',\n}, {\n  test: /[MNO]/gi,\n  val: '6',\n}, {\n  test: /[PQRS]/gi,\n  val: '7',\n}, {\n  test: /[TUV]/gi,\n  val: '8',\n}, {\n  test: /[WXYZwyz]/g, // Note lowercase 'x' should stay for extensions\n  val: '9',\n}];\n\n/**\n * @property {Object[]}\n * Array of objects that have the keys `test` and `format` where `test` is a RegExp that\n * matches the phone grouping and `format` is the string format to be replaced.\n *\n * The RegExp may have capture groups but when you are defining the format strings use:\n *\n * * `${0}` - original value\n * * `${1}` - cleaned value\n * * `${2}` - entire match (against clean value)\n * * `${3..n}` - match groups (against clean value)\n *\n * The `clean value` is taking the inputted numbers/text and removing any non-number\n * and non-\"x\" and it replaces A-Z to their respective phone number character.\n *\n * The three default formatters are:\n * * `nnn-nnnn`\n * * `(nnn)-nnn-nnnn`\n * * `(nnn)-nnn-nnnxnnnn`\n *\n * If you plan to override this value make sure you include the default ones provided.\n *\n */\nexport const phoneFormat = [{\n  test: /^\\+.*/,\n  format: args => args[0],\n}, {\n  test: /^(\\d{3})(\\d{3,4})$/,\n  format: args => `${args[3]}-${args[4]}`,\n}, {\n  test: /^(\\d{3})(\\d{3})(\\d{2,4})$/, // 555 555 5555\n  format: args => `(${args[3]})-${args[4]}-${args[5]}`,\n}, {\n  test: /^(\\d{3})(\\d{3})(\\d{2,4})([^0-9]{1,}.*)$/, // 555 555 5555x\n  format: args => `(${args[3]})-${args[4]}-${args[5]}${args[6]}`,\n}, {\n  test: /^(\\d{11,})(.*)$/,\n  format: args => args[1],\n}];\n\n/**\n * Takes a string input and converts A-Z to their respective phone number character\n * `1800CALLME` -> `1800225563`\n * @param val\n * @returns {string}\n */\nexport function alphaToPhoneNumeric(val = \"\") {\n  let phoneVal = val || '';\n  for (let i = 0; i < phoneLettersMap.length; i++) {\n    phoneVal = phoneVal.replace(phoneLettersMap[i].test, phoneLettersMap[i].val);\n  }\n  return phoneVal;\n}\n\n/**\n * Takes a string phone input and attempts to match it against the predefined\n * phone formats - if a match is found it is returned formatted if not it is returned\n * as is.\n * @param val {string} String inputted phone number to format\n * @param asLink {boolean} True to put the phone in an anchor element pointing to a tel: uri\n * @returns {string}\n */\nexport function phone(val = '', asLink = false) {\n  const phoneVal = alphaToPhoneNumeric(val);\n  const formatters = phoneFormat;\n  const clean = /^\\+/.test(phoneVal) ? phoneVal : phoneVal.replace(/[^0-9x]/ig, '');\n  let formattedMatch;\n\n  for (let i = 0; i < formatters.length; i++) {\n    const formatter = formatters[i];\n    let match;\n    if (match = formatter.test.exec(clean)) {\n      formattedMatch = formatter.format([phoneVal, clean].concat(match));\n    }\n  }\n\n  if (formattedMatch) {\n    return asLink ? `<a href=\"tel:${clean}\">${formattedMatch}</a>` : formattedMatch;\n  }\n\n  return phoneVal;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/format/phone.js","/** Parses the activity ID\n * @param {string} activityId\n * A string with the activity id seperated by a semi-colon\n * @returns {string}\n */\nexport function getRealActivityId(activityId) {\n  let id = activityId;\n  if (activityId) {\n    if (activityId.indexOf(';') > 0) {\n      id = activityId.substring(0, 12);\n    } else {\n      id = activityId;\n    }\n  }\n  return id;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/activity.js","const nameToPathCache = {};\nconst nameToPath = function nameToPath(name) {\n  if (typeof name !== 'string' || name === '.' || name === '') {\n    return []; // '', for compatibility\n  }\n\n  if (nameToPathCache[name]) {\n    return nameToPathCache[name];\n  }\n\n  const parts = name.split('.');\n  const path = [];\n\n  for (let i = 0; i < parts.length; i++) {\n    const match = parts[i].match(/([a-zA-Z0-9_$]+)\\[([^\\]]+)]/);\n    if (match) {\n      path.push(match[1]);\n      if (/^\\d+$/.test(match[2])) {\n        path.push(parseInt(match[2], 10));\n      } else {\n        path.push(match[2]);\n      }\n    } else {\n      path.push(parts[i]);\n    }\n  }\n\n  nameToPathCache[name] = path.reverse();\n  return nameToPathCache[name];\n};\n\nexport function memoize(fn, keyFn) {\n  const cache = {};\n  const _keyFn = keyFn || ((value) => {\n    return value;\n  });\n\n  return function cached() {\n    const key = _keyFn.apply(this, arguments);\n    if (cache[key]) {\n      return cache[key];\n    }\n\n    cache[key] = fn.apply(this, arguments);\n    return cache[key];\n  };\n}\n\nexport function getValue(o, name, defaultValue) {\n  const path = nameToPath(name).slice(0);\n  let current = o;\n  while (current && path.length > 0) {\n    const key = path.pop();\n    if (typeof current[key] !== 'undefined') {\n      current = current[key];\n    } else {\n      return typeof defaultValue !== 'undefined' ? defaultValue : null;\n    }\n  }\n  return current;\n}\n\nexport function setValue(o, name, val) {\n  let current = o;\n  const path = nameToPath(name).slice(0);\n  while ((typeof current !== 'undefined') && path.length > 1) {\n    const key = path.pop();\n    const next = path[path.length - 1];\n    if (typeof current[key] !== 'undefined') {\n      current = current[key] = current[key];\n    } else if (typeof next === 'number') {\n      current = current[key] = [];\n    } else {\n      current = current[key] = {};\n    }\n  }\n\n  if (typeof path[0] !== 'undefined') {\n    current[path[0]] = val;\n  }\n\n  return o;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/data.js","export function base64ArrayBuffer(arrayBuffer) {\n  let base64 = '';\n  let chunk;\n  let a;\n  let b;\n  let c;\n  let d;\n  const encodings = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  const bytes = new Uint8Array(arrayBuffer);\n  const byteLength = bytes.byteLength;\n  const byteRemainder = byteLength % 3;\n  const mainLength = byteLength - byteRemainder;\n\n  // Main loop deals with bytes in chunks of 3\n  for (let i = 0; i < mainLength; i = i + 3) {\n    // Combine the three bytes into a single integer\n    chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n\n    // Use bitmasks to extract 6-bit segments from the triplet\n    a = (chunk & 16515072) >> 18; // 16515072 = (2^6 - 1) << 18\n    b = (chunk & 258048) >> 12; // 258048   = (2^6 - 1) << 12\n    c = (chunk & 4032) >> 6; // 4032     = (2^6 - 1) << 6\n    d = chunk & 63; // 63       = 2^6 - 1\n\n    // Convert the raw binary segments to the appropriate ASCII encoding\n    base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d];\n  }\n\n  // Deal with the remaining bytes and padding\n  if (byteRemainder === 1) {\n    chunk = bytes[mainLength];\n\n    a = (chunk & 252) >> 2; // 252 = (2^6 - 1) << 2\n\n    // Set the 4 least significant bits to zero\n    b = (chunk & 3) << 4; // 3   = 2^2 - 1\n\n    base64 += `${encodings[a] + encodings[b]}==`;\n  } else if (byteRemainder === 2) {\n    chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1];\n\n    a = (chunk & 64512) >> 10; // 64512 = (2^6 - 1) << 10\n    b = (chunk & 1008) >> 4; // 1008  = (2^6 - 1) << 4\n\n    // Set the 2 least significant bits to zero\n    c = (chunk & 15) << 2; // 15    = 2^4 - 1\n\n    base64 += `${encodings[a] + encodings[b] + encodings[c]}=`;\n  }\n\n  return base64;\n}\n\n/** Gets the extension for a file.\n * @param {String} fileName\n * The file name including the extension\n * @returns {String}\n * Returns the file extension, if fileName is null or undefined, returns the string '.'\n */\nexport function getFileExtension(fileName) {\n  if (!fileName) {\n    return '.';\n  }\n  return fileName.substr(fileName.lastIndexOf('.'));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/file.js","/**\n * Lookup table for the aggregate functions used by DashboardWidget\n */\nexport const aggregateLookup = {\n  calcProfit: function calcProfit(fn, widget, data) {\n    const revenue = data[0];\n    const cost = data[1];\n\n    return fn.call(widget, revenue, cost);\n  },\n  calcMargin: function calcMargin(fn, widget, data) {\n    const revenue = data[0];\n    const cost = data[1];\n\n    return fn.call(widget, revenue, cost);\n  },\n  calcYoYRevenue: function calcYoYRevenue(fn, widget, data) {\n    const pastYear = data[0];\n    const between = data[1];\n\n    return fn.call(widget, pastYear, between);\n  },\n  calcYoYProfit: function calcYoYProfit(fn, widget, data) {\n    return fn.call(widget, data[0], data[2], data[1], data[3]);\n  },\n  calcYoYMargin: function calcYoYMargin(fn, widget, data) {\n    return fn.call(widget, data[0], data[2], data[1], data[3]);\n  },\n  sum: function sum(fn, widget, data) {\n    return fn.call(widget, data);\n  },\n};\n\nexport function expand(scope, expression) {\n  if (typeof expression === 'function') {\n    return expression.apply(scope, Array.prototype.slice.call(arguments, 2));\n  }\n\n  return expression;\n}\n\n/**\n * @function\n * Utility function to join fields within a Simplate template.\n */\nexport function joinFields(seperator, fields) {\n  const results = fields.filter(item => item !== null && typeof item !== 'undefined' && item !== '');\n\n  return results.join(seperator);\n}\n\n/**\n * @params\n * mappedLookups: Array of lookup names that must match the model names\n * mappedProperties: Array of the properties on the entry with the searched id\n * fields: Array of field names from the edit view\n * scope: 'this' of the edit view\n * @return\n * Returns a promise that is resolved once all entries are returned\n */\n// TODO: Implement once models are functioning\n// export function setFieldsFromIds(mappedLookups = [], mappedProperties = [], fields = [], scope, entry = {}) {\n//   const promises = [];\n//   fields.forEach((f, index) => {\n//     const temp = scope.options.entry ? scope.options.entry[f] : null;\n//     const value = entry[f] || scope.entry[f] || temp;\n//     if (!value) {\n//       return;\n//     }\n//     const model = Adapter.getModel(MODEL_NAMES[mappedLookups[index].toUpperCase()]);\n//     if (!model) {\n//       console.warn('Unable to locate model for ' + f);\n//       return;\n//     }\n//     model.init();\n//     const options = {\n//       async: false,\n//       queryModelName: 'detail',\n//       query: `${mappedProperties[index]} eq \"${value}\"`,\n//     };\n//     const promise = model.getEntries(null, options);\n//     promises.push(promise);\n//     promise.then((entries) => {\n//       const returned = entries[0];\n//       if (returned) {\n//         scope.fields[mappedLookups[index]].setSelection(returned);\n//         scope.fields[mappedLookups[index]].onChange(scope.fields[mappedLookups[index]].currentSelection, scope.fields[mappedLookups[index]]);\n//       }\n//     });\n//   });\n//   return Promise.all(promises);\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/function.js","export function debounce(fn, wait) {\n  let handle = null;\n  return function debounced() {\n    window.clearTimeout(handle);\n    const context = this;\n    const args = arguments;\n    handle = window.setTimeout(() => {\n      fn.apply(context, args);\n    }, wait);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/http.js","export function roundNumberTo(number, precision) {\n  const k = Math.pow(10, precision);\n  return Math.round(number * k) / k;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/math.js","/**\n * Sanitizes an Object so that JSON.stringify will work without errors by discarding non-stringable keys.\n * @param {Object} obj Object to be cleansed of non-stringify friendly keys/values.\n * @return {Object} Object ready to be JSON.stringified.\n */\nexport function sanitizeForJson(obj) {\n  let type;\n\n  obj.__visited__ = true;\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      try {\n        type = typeof obj[key];\n      } catch (e) {\n        delete obj[key];\n        continue;\n      }\n\n      switch (type) {//eslint-disable-line\n        case 'undefined':\n          obj[key] = 'undefined';\n          break;\n\n        case 'function':\n          delete obj[key];\n          break;\n\n        case 'object':\n          if (obj[key] === null) {\n            obj[key] = 'null';\n            break;\n          }\n          if (key === 'scope') {\n            obj[key] = 'null';\n            break;\n          }\n          // break circular references\n          if (obj[key].__visited__) {\n            obj[key] = 'null';\n            break;\n          }\n          obj[key] = sanitizeForJson(obj[key]);\n          break;\n        case 'string':\n          try {\n            obj[key] = JSON.parse(obj[key]);\n\n            if (typeof obj[key] === 'object') {\n              obj[key] = sanitizeForJson(obj[key]);\n            }\n          } catch (e) {}//eslint-disable-line\n          break;\n      }\n    }\n  }\n\n  delete obj.__visited__;\n  return obj;\n}\n\nexport function stripQueryArgs(url = '') {\n  const idx = url.indexOf('?');\n  if (idx > -1) {\n    return url.substr(0, idx);\n  }\n\n  return url;\n}\n\nexport function trimText(text = '', wordCount = 0) {\n  const words = text.split(' ');\n  if (words.length > wordCount) {\n    const intermediate = words.slice(0, wordCount);\n    if (intermediate[wordCount - 1].endsWith('.')) {\n      intermediate[wordCount - 1] = intermediate[wordCount - 1].slice(0, -1);\n    }\n    const value = `${intermediate.join(' ')} ...`;\n    return value;\n  }\n  return text;\n}\n\nexport function escapeSearchQuery(searchQuery) {\n  return (searchQuery || '').replace(/\"/g, '\"\"');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utility/string.js","/**\n * @module\n * @description\n * Common API\n */\nexport * from './src/index';\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}